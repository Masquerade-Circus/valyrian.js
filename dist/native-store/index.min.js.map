//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbmRleF9leHBvcnRzIiwiX19leHBvcnQiLCJTdG9yYWdlVHlwZSIsImNyZWF0ZU5hdGl2ZVN0b3JlIiwiX19FWFBPUlRTX18iLCJpbXBvcnRfdmFseXJpYW4iLCJyZXF1aXJlIiwiaW1wb3J0X2NvbnRleHQiLCJzdG9yZXMiLCJNYXAiLCJuYXRpdmVTdG9yZVJlZ2lzdHJ5U2NvcGUiLCJjcmVhdGVDb250ZXh0U2NvcGUiLCJpZCIsImRlZmluaXRpb24iLCJzdG9yYWdlVHlwZSIsInJldXNlSWZFeGlzdCIsIm5hdGl2ZVN0b3JlIiwiaXNOb2RlSnMiLCJsb2NhbFN0b3JhZ2UiLCJFcnJvciIsInNlc3Npb25TdG9yYWdlIiwiZ2V0U3RvcmFnZSIsInN0b3JlUmVnaXN0cnkiLCJpc1NlcnZlckNvbnRleHRBY3RpdmUiLCJzY29wZWRTdG9yZXMiLCJnZXRDb250ZXh0Iiwic2V0Q29udGV4dCIsImdldFN0b3JlUmVnaXN0cnkiLCJoYXMiLCJjb25zb2xlIiwid2FybiIsImdldCIsIlN0b3JlIiwic3RhdGUiLCJzZXQiLCJrZXkiLCJ2YWx1ZSIsInRoaXMiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImUiLCJlcnJvciIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJsb2FkIiwiUmVmbGVjdCIsImRlbGV0ZVByb3BlcnR5IiwiZ2V0SXRlbSIsInBhcnNlIiwiY2xlYXIiLCJyZW1vdmVJdGVtIiwic3RvcmFnZUxpc3RlbmVyIiwibmV3VmFsdWUiLCJlcnIiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIl0sInNvdXJjZXMiOlsiLi4vLi4vbGliL25hdGl2ZS1zdG9yZS9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05vZGVKcyB9IGZyb20gXCJ2YWx5cmlhbi5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dFNjb3BlLCBnZXRDb250ZXh0LCBpc1NlcnZlckNvbnRleHRBY3RpdmUsIHNldENvbnRleHQgfSBmcm9tIFwidmFseXJpYW4uanMvY29udGV4dFwiO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5leHBvcnQgZW51bSBTdG9yYWdlVHlwZSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICBTZXNzaW9uID0gXCJzZXNzaW9uXCIsXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICBMb2NhbCA9IFwibG9jYWxcIlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5hdGl2ZVN0b3JhZ2VJbnRlcmZhY2Uge1xuICBzdGF0ZTogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gIHNldChrZXk6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQ7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICBnZXQoa2V5OiBzdHJpbmcpOiBhbnk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICBkZWxldGUoa2V5OiBzdHJpbmcpOiB2b2lkO1xuICBsb2FkKCk6IHZvaWQ7XG4gIGNsZWFyKCk6IHZvaWQ7XG59XG5cbmNvbnN0IHN0b3JlcyA9IG5ldyBNYXA8c3RyaW5nLCBOYXRpdmVTdG9yYWdlSW50ZXJmYWNlPigpO1xuY29uc3QgbmF0aXZlU3RvcmVSZWdpc3RyeVNjb3BlID0gY3JlYXRlQ29udGV4dFNjb3BlPE1hcDxzdHJpbmcsIE5hdGl2ZVN0b3JhZ2VJbnRlcmZhY2U+PihcIm5hdGl2ZS1zdG9yZS5yZWdpc3RyeVwiKTtcblxuZnVuY3Rpb24gZ2V0U3RvcmVSZWdpc3RyeSgpIHtcbiAgaWYgKCFpc05vZGVKcyB8fCAhaXNTZXJ2ZXJDb250ZXh0QWN0aXZlKCkpIHtcbiAgICByZXR1cm4gc3RvcmVzO1xuICB9XG5cbiAgbGV0IHNjb3BlZFN0b3JlcyA9IGdldENvbnRleHQobmF0aXZlU3RvcmVSZWdpc3RyeVNjb3BlKTtcbiAgaWYgKCFzY29wZWRTdG9yZXMpIHtcbiAgICBzY29wZWRTdG9yZXMgPSBuZXcgTWFwPHN0cmluZywgTmF0aXZlU3RvcmFnZUludGVyZmFjZT4oKTtcbiAgICBzZXRDb250ZXh0KG5hdGl2ZVN0b3JlUmVnaXN0cnlTY29wZSwgc2NvcGVkU3RvcmVzKTtcbiAgfVxuXG4gIHJldHVybiBzY29wZWRTdG9yZXM7XG59XG5cbmZ1bmN0aW9uIGdldFN0b3JhZ2Uoc3RvcmFnZVR5cGU6IFN0b3JhZ2VUeXBlKSB7XG4gIGlmIChpc05vZGVKcyAmJiB0eXBlb2YgbG9jYWxTdG9yYWdlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYGxvY2FsU3RvcmFnZSBhbmQgc2Vzc2lvblN0b3JhZ2UgYXJlIG5vdCBhdmFpbGFibGUgaW4gTm9kZS5qcywgdG8gdXNlIGl0IGluIHlvdXIgcHJvamVjdCwgeW91IG5lZWQgdG8gXCJpbXBvcnQgXCJ2YWx5cmlhbi5qcy9ub2RlXCJgXG4gICAgKTtcbiAgfVxuICByZXR1cm4gc3RvcmFnZVR5cGUgPT09IFN0b3JhZ2VUeXBlLlNlc3Npb24gPyBzZXNzaW9uU3RvcmFnZSA6IGxvY2FsU3RvcmFnZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5hdGl2ZVN0b3JlPFQ+KFxuICBpZDogc3RyaW5nLFxuICBkZWZpbml0aW9uOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge30sXG4gIHN0b3JhZ2VUeXBlOiBTdG9yYWdlVHlwZSA9IFN0b3JhZ2VUeXBlLkxvY2FsLFxuICByZXVzZUlmRXhpc3QgPSBmYWxzZVxuKTogTmF0aXZlU3RvcmFnZUludGVyZmFjZSAmIFQge1xuICBjb25zdCBuYXRpdmVTdG9yZSA9IGdldFN0b3JhZ2Uoc3RvcmFnZVR5cGUpO1xuICBjb25zdCBzdG9yZVJlZ2lzdHJ5ID0gZ2V0U3RvcmVSZWdpc3RyeSgpO1xuXG4gIGlmIChzdG9yZVJlZ2lzdHJ5LmhhcyhpZCkpIHtcbiAgICBpZiAocmV1c2VJZkV4aXN0KSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKGBTdG9yZSB3aXRoIGtleSAke2lkfSBhbHJlYWR5IGV4aXN0cyBhbmQgd2lsbCBiZSByZXVzZWRgKTtcbiAgICAgIHJldHVybiBzdG9yZVJlZ2lzdHJ5LmdldChpZCkgYXMgTmF0aXZlU3RvcmFnZUludGVyZmFjZSAmIFQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgU3RvcmUgd2l0aCBrZXkgJHtpZH0gYWxyZWFkeSBleGlzdHNgKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBTdG9yZTogTmF0aXZlU3RvcmFnZUludGVyZmFjZSA9IHtcbiAgICBzdGF0ZToge30sXG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuc3RhdGVba2V5XSA9IHZhbHVlO1xuICAgICAgICBuYXRpdmVTdG9yZS5zZXRJdGVtKGlkLCBKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRlKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzZXR0aW5nIGl0ZW0gaW4gc3RvcmFnZTpcIiwgZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXQoa2V5KSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5zdGF0ZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RhdGVba2V5XTtcbiAgICB9LFxuICAgIGRlbGV0ZShrZXkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGhpcy5zdGF0ZSwga2V5KTtcbiAgICAgICAgbmF0aXZlU3RvcmUuc2V0SXRlbShpZCwgSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaXRlbSBpbiBzdG9yYWdlOlwiLCBlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGxvYWQoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IG5hdGl2ZVN0b3JlLmdldEl0ZW0oaWQpO1xuICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgICAgIG5hdGl2ZVN0b3JlLnNldEl0ZW0oaWQsIEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IEpTT04ucGFyc2Uoc3RhdGUpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBzdGF0ZSBmcm9tIHN0b3JhZ2U6XCIsIGUpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge307XG4gICAgICB9XG4gICAgfSxcbiAgICBjbGVhcigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICAgICAgbmF0aXZlU3RvcmUucmVtb3ZlSXRlbShpZCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjbGVhcmluZyBzdG9yYWdlOlwiLCBlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC4uLmRlZmluaXRpb25cbiAgfTtcblxuICBpZiAoIWlzTm9kZUpzICYmIHN0b3JhZ2VUeXBlID09PSBTdG9yYWdlVHlwZS5Mb2NhbCkge1xuICAgIGZ1bmN0aW9uIHN0b3JhZ2VMaXN0ZW5lcihlOiBTdG9yYWdlRXZlbnQpIHtcbiAgICAgIGlmIChlLmtleSA9PT0gaWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBTdG9yZS5zdGF0ZSA9IGUubmV3VmFsdWUgPT09IG51bGwgPyB7fSA6IEpTT04ucGFyc2UoZS5uZXdWYWx1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHN5bmNpbmcgc3RvcmUgJHtpZH0gZnJvbSBzdG9yYWdlIGV2ZW50YCwgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic3RvcmFnZVwiLCBzdG9yYWdlTGlzdGVuZXIpO1xuICB9XG5cbiAgU3RvcmUubG9hZCgpO1xuXG4gIHN0b3JlUmVnaXN0cnkuc2V0KGlkLCBTdG9yZSk7XG5cbiAgcmV0dXJuIFN0b3JlIGFzIE5hdGl2ZVN0b3JhZ2VJbnRlcmZhY2UgJiBUO1xufVxuIl0sIm1hcHBpbmdzIjoiZ0pBQUFBLEVBQUEsRyx5REFBQUMsQ0FBQUQsRUFBQSxDQUFBRSxZQUFBLElBQUFBLEVBQUFDLGtCQUFBLElBQUFBLElBQUEsSSxFQUFBQyxHLEVBQUFKLEUsME1BQUFLLEVBQXlCQyxRQUFBLGVBQ3pCQyxFQUFrRkQsUUFBQSx1QkFHdEVKLEVBQUwsQ0FBS0EsSUFFVkEsRUFBQSxRQUFVLFVBRVZBLEVBQUEsTUFBUSxRQUpFQSxHQUFMLENBQUtBLEdBQUEsSUFtQk5NLEVBQVMsSUFBSUMsSUFDYkMsR0FBQSxFQUEyQkgsRUFBQUksb0JBQXdELHlCQXlCbEYsU0FBU1IsRUFDZFMsRUFDQUMsRUFBa0MsQ0FBQyxFQUNuQ0MsRUFBMkIsUUFDM0JDLEdBQWUsR0FFZixNQUFNQyxFQWZSLFNBQW9CRixHQUNsQixHQUFJVCxFQUFBWSxVQUFvQyxvQkFBakJDLGFBQ3JCLE1BQU0sSUFBSUMsTUFDUixtSUFHSixNQUF1QixZQUFoQkwsRUFBc0NNLGVBQWlCRixZQUNoRSxDQVFzQkcsQ0FBV1AsR0FDekJRLEVBOUJSLFdBQ0UsSUFBS2pCLEVBQUFZLFlBQVksRUFBQ1YsRUFBQWdCLHlCQUNoQixPQUFPZixFQUdULElBQUlnQixHQUFBLEVBQWVqQixFQUFBa0IsWUFBV2YsR0FNOUIsT0FMS2MsSUFDSEEsRUFBZSxJQUFJZixLQUNuQixFQUFBRixFQUFBbUIsWUFBV2hCLEVBQTBCYyxJQUdoQ0EsQ0FDVCxDQWtCd0JHLEdBRXRCLEdBQUlMLEVBQWNNLElBQUloQixHQUFLLENBQ3pCLEdBQUlHLEVBR0YsT0FEQWMsUUFBUUMsS0FBSyxrQkFBa0JsQix1Q0FDeEJVLEVBQWNTLElBQUluQixHQUV6QixNQUFNLElBQUlPLE1BQU0sa0JBQWtCUCxtQkFFdEMsQ0FFQSxNQUFNb0IsRUFBZ0MsQ0FDcENDLE1BQU8sQ0FBQyxFQUNSLEdBQUFDLENBQUlDLEVBQUtDLEdBQ1AsSUFDRUMsS0FBS0osTUFBTUUsR0FBT0MsRUFDbEJwQixFQUFZc0IsUUFBUTFCLEVBQUkyQixLQUFLQyxVQUFVSCxLQUFLSixPQUM5QyxPQUFTUSxHQUNQWixRQUFRYSxNQUFNLGlDQUFrQ0QsRUFDbEQsQ0FDRixFQUNBLEdBQUFWLENBQUlJLEdBSUYsT0FIdUMsSUFBbkNRLE9BQU9DLEtBQUtQLEtBQUtKLE9BQU9ZLFFBQzFCUixLQUFLUyxPQUVBVCxLQUFLSixNQUFNRSxFQUNwQixFQUNBLE9BQU9BLEdBQ0wsSUFDRVksUUFBUUMsZUFBZVgsS0FBS0osTUFBT0UsR0FDbkNuQixFQUFZc0IsUUFBUTFCLEVBQUkyQixLQUFLQyxVQUFVSCxLQUFLSixPQUM5QyxPQUFTUSxHQUNQWixRQUFRYSxNQUFNLGtDQUFtQ0QsRUFDbkQsQ0FDRixFQUNBLElBQUFLLEdBQ0UsSUFDRSxNQUFNYixFQUFRakIsRUFBWWlDLFFBQVFyQyxHQUNsQyxJQUFLcUIsRUFHSCxPQUZBSSxLQUFLSixNQUFRLENBQUMsT0FDZGpCLEVBQVlzQixRQUFRMUIsRUFBSTJCLEtBQUtDLFVBQVVILEtBQUtKLFFBRzlDSSxLQUFLSixNQUFRTSxLQUFLVyxNQUFNakIsRUFDMUIsT0FBU1EsR0FDUFosUUFBUWEsTUFBTSxvQ0FBcUNELEdBQ25ESixLQUFLSixNQUFRLENBQUMsQ0FDaEIsQ0FDRixFQUNBLEtBQUFrQixHQUNFLElBQ0VkLEtBQUtKLE1BQVEsQ0FBQyxFQUNkakIsRUFBWW9DLFdBQVd4QyxFQUN6QixPQUFTNkIsR0FDUFosUUFBUWEsTUFBTSwwQkFBMkJELEVBQzNDLENBQ0YsS0FDRzVCLEdBR0wsSUFBS1IsRUFBQVksVUFBNEIsVUFBaEJILEVBQW1DLENBQ2xELElBQVN1QyxFQUFULFNBQXlCWixHQUN2QixHQUFJQSxFQUFFTixNQUFRdkIsRUFDWixJQUNFb0IsRUFBTUMsTUFBdUIsT0FBZlEsRUFBRWEsU0FBb0IsQ0FBQyxFQUFJZixLQUFLVyxNQUFNVCxFQUFFYSxTQUN4RCxPQUFTQyxHQUNQMUIsUUFBUWEsTUFBTSx1QkFBdUI5Qix1QkFBeUIyQyxFQUNoRSxDQUVKLEVBRUFDLE9BQU9DLGlCQUFpQixVQUFXSixFQUNyQyxDQU1BLE9BSkFyQixFQUFNYyxPQUVOeEIsRUFBY1ksSUFBSXRCLEVBQUlvQixHQUVmQSxDQUNULEMifQ==