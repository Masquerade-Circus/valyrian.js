//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbmRleF9leHBvcnRzIiwiX19leHBvcnQiLCJTdG9yYWdlVHlwZSIsImNyZWF0ZU5hdGl2ZVN0b3JlIiwiX19FWFBPUlRTX18iLCJpbXBvcnRfdmFseXJpYW4iLCJyZXF1aXJlIiwiaW1wb3J0X2NvbnRleHQiLCJzdG9yZXMiLCJNYXAiLCJuYXRpdmVTdG9yZVJlZ2lzdHJ5U2NvcGUiLCJjcmVhdGVDb250ZXh0U2NvcGUiLCJpZCIsImRlZmluaXRpb24iLCJzdG9yYWdlVHlwZSIsInJldXNlSWZFeGlzdCIsIm5hdGl2ZVN0b3JlIiwiaXNOb2RlSnMiLCJsb2NhbFN0b3JhZ2UiLCJFcnJvciIsInNlc3Npb25TdG9yYWdlIiwiZ2V0U3RvcmFnZSIsInN0b3JlUmVnaXN0cnkiLCJpc1NlcnZlckNvbnRleHRBY3RpdmUiLCJzY29wZWRTdG9yZXMiLCJnZXRDb250ZXh0Iiwic2V0Q29udGV4dCIsImdldFN0b3JlUmVnaXN0cnkiLCJoYXMiLCJjb25zb2xlIiwid2FybiIsImdldCIsIlN0b3JlIiwic3RhdGUiLCJzZXQiLCJrZXkiLCJ2YWx1ZSIsInRoaXMiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImUiLCJlcnJvciIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJsb2FkIiwiUmVmbGVjdCIsImRlbGV0ZVByb3BlcnR5IiwiZ2V0SXRlbSIsInBhcnNlIiwiY2xlYXIiLCJyZW1vdmVJdGVtIiwiY2xlYW51cCIsInN0b3JhZ2VMaXN0ZW5lciIsIm5ld1ZhbHVlIiwiZXJyIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZWxldGUiXSwic291cmNlcyI6WyIuLi8uLi9saWIvbmF0aXZlLXN0b3JlL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTm9kZUpzIH0gZnJvbSBcInZhbHlyaWFuLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0U2NvcGUsIGdldENvbnRleHQsIGlzU2VydmVyQ29udGV4dEFjdGl2ZSwgc2V0Q29udGV4dCB9IGZyb20gXCJ2YWx5cmlhbi5qcy9jb250ZXh0XCI7XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbmV4cG9ydCBlbnVtIFN0b3JhZ2VUeXBlIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gIFNlc3Npb24gPSBcInNlc3Npb25cIixcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gIExvY2FsID0gXCJsb2NhbFwiXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTmF0aXZlU3RvcmFnZUludGVyZmFjZSB7XG4gIHN0YXRlOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgc2V0KGtleTogc3RyaW5nLCB2YWx1ZTogYW55KTogdm9pZDtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gIGdldChrZXk6IHN0cmluZyk6IGFueTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gIGRlbGV0ZShrZXk6IHN0cmluZyk6IHZvaWQ7XG4gIGxvYWQoKTogdm9pZDtcbiAgY2xlYXIoKTogdm9pZDtcbiAgY2xlYW51cCgpOiB2b2lkO1xufVxuXG5jb25zdCBzdG9yZXMgPSBuZXcgTWFwPHN0cmluZywgTmF0aXZlU3RvcmFnZUludGVyZmFjZT4oKTtcbmNvbnN0IG5hdGl2ZVN0b3JlUmVnaXN0cnlTY29wZSA9IGNyZWF0ZUNvbnRleHRTY29wZTxNYXA8c3RyaW5nLCBOYXRpdmVTdG9yYWdlSW50ZXJmYWNlPj4oXCJuYXRpdmUtc3RvcmUucmVnaXN0cnlcIik7XG5cbmZ1bmN0aW9uIGdldFN0b3JlUmVnaXN0cnkoKSB7XG4gIGlmICghaXNOb2RlSnMgfHwgIWlzU2VydmVyQ29udGV4dEFjdGl2ZSgpKSB7XG4gICAgcmV0dXJuIHN0b3JlcztcbiAgfVxuXG4gIGxldCBzY29wZWRTdG9yZXMgPSBnZXRDb250ZXh0KG5hdGl2ZVN0b3JlUmVnaXN0cnlTY29wZSk7XG4gIGlmICghc2NvcGVkU3RvcmVzKSB7XG4gICAgc2NvcGVkU3RvcmVzID0gbmV3IE1hcDxzdHJpbmcsIE5hdGl2ZVN0b3JhZ2VJbnRlcmZhY2U+KCk7XG4gICAgc2V0Q29udGV4dChuYXRpdmVTdG9yZVJlZ2lzdHJ5U2NvcGUsIHNjb3BlZFN0b3Jlcyk7XG4gIH1cblxuICByZXR1cm4gc2NvcGVkU3RvcmVzO1xufVxuXG5mdW5jdGlvbiBnZXRTdG9yYWdlKHN0b3JhZ2VUeXBlOiBTdG9yYWdlVHlwZSkge1xuICBpZiAoaXNOb2RlSnMgJiYgdHlwZW9mIGxvY2FsU3RvcmFnZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBsb2NhbFN0b3JhZ2UgYW5kIHNlc3Npb25TdG9yYWdlIGFyZSBub3QgYXZhaWxhYmxlIGluIE5vZGUuanMsIHRvIHVzZSBpdCBpbiB5b3VyIHByb2plY3QsIHlvdSBuZWVkIHRvIFwiaW1wb3J0IFwidmFseXJpYW4uanMvbm9kZVwiYFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHN0b3JhZ2VUeXBlID09PSBTdG9yYWdlVHlwZS5TZXNzaW9uID8gc2Vzc2lvblN0b3JhZ2UgOiBsb2NhbFN0b3JhZ2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOYXRpdmVTdG9yZTxUPihcbiAgaWQ6IHN0cmluZyxcbiAgZGVmaW5pdGlvbjogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9LFxuICBzdG9yYWdlVHlwZTogU3RvcmFnZVR5cGUgPSBTdG9yYWdlVHlwZS5Mb2NhbCxcbiAgcmV1c2VJZkV4aXN0ID0gZmFsc2Vcbik6IE5hdGl2ZVN0b3JhZ2VJbnRlcmZhY2UgJiBUIHtcbiAgY29uc3QgbmF0aXZlU3RvcmUgPSBnZXRTdG9yYWdlKHN0b3JhZ2VUeXBlKTtcbiAgY29uc3Qgc3RvcmVSZWdpc3RyeSA9IGdldFN0b3JlUmVnaXN0cnkoKTtcblxuICBpZiAoc3RvcmVSZWdpc3RyeS5oYXMoaWQpKSB7XG4gICAgaWYgKHJldXNlSWZFeGlzdCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUud2FybihgU3RvcmUgd2l0aCBrZXkgJHtpZH0gYWxyZWFkeSBleGlzdHMgYW5kIHdpbGwgYmUgcmV1c2VkYCk7XG4gICAgICByZXR1cm4gc3RvcmVSZWdpc3RyeS5nZXQoaWQpIGFzIE5hdGl2ZVN0b3JhZ2VJbnRlcmZhY2UgJiBUO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0b3JlIHdpdGgga2V5ICR7aWR9IGFscmVhZHkgZXhpc3RzYCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgU3RvcmU6IE5hdGl2ZVN0b3JhZ2VJbnRlcmZhY2UgPSB7XG4gICAgc3RhdGU6IHt9LFxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnN0YXRlW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgbmF0aXZlU3RvcmUuc2V0SXRlbShpZCwgSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc2V0dGluZyBpdGVtIGluIHN0b3JhZ2U6XCIsIGUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0KGtleSkge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuc3RhdGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnN0YXRlW2tleV07XG4gICAgfSxcbiAgICBkZWxldGUoa2V5KSB7XG4gICAgICB0cnkge1xuICAgICAgICBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHRoaXMuc3RhdGUsIGtleSk7XG4gICAgICAgIG5hdGl2ZVN0b3JlLnNldEl0ZW0oaWQsIEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGl0ZW0gaW4gc3RvcmFnZTpcIiwgZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBsb2FkKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBuYXRpdmVTdG9yZS5nZXRJdGVtKGlkKTtcbiAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICAgICAgICBuYXRpdmVTdG9yZS5zZXRJdGVtKGlkLCBKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRlKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUgPSBKU09OLnBhcnNlKHN0YXRlKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgc3RhdGUgZnJvbSBzdG9yYWdlOlwiLCBlKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgfVxuICAgIH0sXG4gICAgY2xlYXIoKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLnN0YXRlID0ge307XG4gICAgICAgIG5hdGl2ZVN0b3JlLnJlbW92ZUl0ZW0oaWQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2xlYXJpbmcgc3RvcmFnZTpcIiwgZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjbGVhbnVwKCkge30sXG4gICAgLi4uZGVmaW5pdGlvblxuICB9O1xuXG4gIGxldCBzdG9yYWdlTGlzdGVuZXI6ICgoZTogU3RvcmFnZUV2ZW50KSA9PiB2b2lkKSB8IG51bGwgPSBudWxsO1xuXG4gIGlmICghaXNOb2RlSnMgJiYgc3RvcmFnZVR5cGUgPT09IFN0b3JhZ2VUeXBlLkxvY2FsKSB7XG4gICAgc3RvcmFnZUxpc3RlbmVyID0gKGU6IFN0b3JhZ2VFdmVudCkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSBpZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIFN0b3JlLnN0YXRlID0gZS5uZXdWYWx1ZSA9PT0gbnVsbCA/IHt9IDogSlNPTi5wYXJzZShlLm5ld1ZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igc3luY2luZyBzdG9yZSAke2lkfSBmcm9tIHN0b3JhZ2UgZXZlbnRgLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic3RvcmFnZVwiLCBzdG9yYWdlTGlzdGVuZXIpO1xuICB9XG5cbiAgU3RvcmUubG9hZCgpO1xuXG4gIHN0b3JlUmVnaXN0cnkuc2V0KGlkLCBTdG9yZSk7XG5cbiAgU3RvcmUuY2xlYW51cCA9ICgpID0+IHtcbiAgICBpZiAoc3RvcmFnZUxpc3RlbmVyKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN0b3JhZ2VcIiwgc3RvcmFnZUxpc3RlbmVyKTtcbiAgICAgIHN0b3JhZ2VMaXN0ZW5lciA9IG51bGw7XG4gICAgfVxuICAgIHN0b3JlUmVnaXN0cnkuZGVsZXRlKGlkKTtcbiAgfTtcblxuICByZXR1cm4gU3RvcmUgYXMgTmF0aXZlU3RvcmFnZUludGVyZmFjZSAmIFQ7XG59XG4iXSwibWFwcGluZ3MiOiJnSkFBQUEsRUFBQSxHLHlEQUFBQyxDQUFBRCxFQUFBLENBQUFFLFlBQUEsSUFBQUEsRUFBQUMsa0JBQUEsSUFBQUEsSUFBQSxJLEVBQUFDLEcsRUFBQUosRSwwTUFBQUssRUFBeUJDLFFBQUEsZUFDekJDLEVBQWtGRCxRQUFBLHVCQUd0RUosRUFBTCxDQUFLQSxJQUVWQSxFQUFBLFFBQVUsVUFFVkEsRUFBQSxNQUFRLFFBSkVBLEdBQUwsQ0FBS0EsR0FBQSxJQW9CTk0sRUFBUyxJQUFJQyxJQUNiQyxHQUFBLEVB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