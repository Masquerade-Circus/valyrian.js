(()=>{var e="nodeValue",o="#text",n=Boolean("undefined"!=typeof process&&process.versions&&process.versions.node),t={svg:{},notSvg:{}};function r(e,o=!1){return o?(t.svg[e]||(t.svg[e]=document.createElementNS("http://www.w3.org/2000/svg",e)),t.svg[e].cloneNode(!1)):(t.notSvg[e]||(t.notSvg[e]=document.createElement(e)),t.notSvg[e].cloneNode(!1))}var i=function(e,o,n){this.props=o,this.children=n,this.tag=e};function d(e){if(3===e.nodeType){let n=new i(o,{},[]);return n.dom=e,n.nodeValue=e.nodeValue,n}if(1===e.nodeType){let o=[];for(let n=0;n<e.childNodes.length;n++){let t=d(e.childNodes[n]);t&&o.push(t)}let n={};[].forEach.call(e.attributes,e=>n[e.nodeName]=e.nodeValue);let t=new i(e.tagName.toLowerCase(),n,o);return t.dom=e,t}}var l=e=>{let o=r("div");return o.innerHTML=e.trim(),[].map.call(o.childNodes,e=>d(e))},p=function(e,o,...n){if("string"==typeof e)return new i(e,o||{},n);let t=new i("#component",o||{},n);return t.view=e,t};p.fragment=function(e,...o){return o},p.isVnode=function(e){return Boolean(e&&"object"==typeof e&&"tag"in e)},p.isComponent=function(e){return Boolean(e&&"function"==typeof e||p.isValyrianComponent(e))},p.isValyrianComponent=function(e){return Boolean(e&&"object"==typeof e&&"view"in e)};var s={key:!0,state:!0,oncreate:!0,onupdate:!0,onremove:!0,shouldupdate:!0,"v-once":!0,"v-if":!0,"v-unless":!0,"v-for":!0,"v-show":!0,"v-class":!0,"v-html":!0,"v-model":!0},a={};function u(e){let o=e.target,n=`v-on${e.type}`;for(;o;){if(o[n])return o[n](e,o),void(e.defaultPrevented||p.update());o=o.parentNode}}var c=[],m=[],f=[],h=[];function v(e){for(let o=0;o<e.length;o++)e[o]();e.length=0}function g(e,o,n){if(s[e])return C[e]?C[e](o.props[e],o,n):void 0;let t=o.props[e];if("function"==typeof t)return e in a==!1&&(a[e]=!0,p.container.addEventListener(e.slice(2),u)),void(o.dom[`v-${e}`]=t);e in o.dom&&!1===o.isSVG?o.dom[e]!=t&&(o.dom[e]=t):n&&n.props[e]===t||(!1===t?o.dom.removeAttribute(e):o.dom.setAttribute(e,t))}function y(e,o,n,t){n.props[e]=o,g(e,n,t)}function V(e,o){for(let n in e.props)if(!1===g(n,e,o))break;if(o)for(let n in o.props)n in e.props==!1&&n in s==!1&&"function"!=typeof o.props[n]&&(n in e.dom&&!1===e.isSVG?e.dom[n]=null:e.dom.removeAttribute(n))}function w(o){for(let n=0,t=o.children.length;n<t;n++)e in o.children[n]==!1&&w(o.children[n]);o.props.onremove&&o.props.onremove(o)}function N(n,t){p.current.vnode=n,p.current.oldVnode=t;let d=n.children,l=t?.children||[];for(let e=0;e<d.length;e++){let t=d[e];if(t instanceof i){if("view"in t){p.current.component=t.view,d.splice(e--,1,t.view(t.props,...t.children));continue}t.isSVG=n.isSVG||"svg"===t.tag}else Array.isArray(t)?d.splice(e--,1,...t):null!=t?(d[e]=new i(o,{},[]),d[e].nodeValue=t):d.splice(e--,1)}let s=l.length,a=d.length;if(0!==a)if(s&&"key"in d[0].props&&"key"in l[0].props){let e={};for(let o=0;o<s;o++)e[l[o].props.key]=o;let o={};for(let e=0;e<a;e++)o[d[e].props.key]=e;for(let t=0;t<a;t++){let i=d[t],s=l[e[i.props.key]],a=!0;s?(i.dom=s.dom,"v-once"in i.props||i.props.shouldupdate&&!1===i.props.shouldupdate(i,s)?(i.children=s.children,a=!1):(V(i,s),p.isMounted?i.props.onupdate&&i.props.onupdate(i,s):i.props.oncreate&&i.props.oncreate(i))):(i.dom=r(i.tag,i.isSVG),V(i),i.props.oncreate&&i.props.oncreate(i)),n.dom.childNodes[t]?n.dom.childNodes[t]!==i.dom&&(l[t]&&!o[l[t].props.key]&&w(l[t]),n.dom.replaceChild(i.dom,n.dom.childNodes[t])):n.dom.appendChild(i.dom),a&&N(i,s)}for(let e=a;e<s;e++)if(!o[l[e].props.key]){let o=l[e];w(o),o.dom.parentNode&&o.dom.parentNode.removeChild(o.dom)}}else{for(let o=0;o<a;o++){let t=d[o],i=l[o];if(i)if(e in t){if(e in i){t.dom=i.dom,t.dom.nodeValue!=t.nodeValue&&(t.dom.nodeValue=t.nodeValue);continue}t.dom=document.createTextNode(t.nodeValue),e in i==!1&&w(i),n.dom.replaceChild(t.dom,i.dom)}else i.tag===t.tag?(t.dom=i.dom,"v-once"in t.props||"shouldupdate"in t.props&&!1===t.props.shouldupdate(i,t)?t.children=i.children:(V(t,i),p.isMounted?t.props.onupdate&&t.props.onupdate(t,i):t.props.oncreate&&t.props.oncreate(t),N(t,i))):(t.dom=r(t.tag),e in i==!1&&w(i),V(t),n.dom.replaceChild(t.dom,i.dom),t.props.oncreate&&t.props.oncreate(t),N(t,i));else e in t?t.dom=document.createTextNode(t.nodeValue):(t.dom=r(t.tag,t.isSVG),V(t),t.props.oncreate&&t.props.oncreate(t),N(t)),n.dom.appendChild(t.dom)}for(let o=a;o<s;o++){let n=l[o];e in n==!1&&w(n),n.dom.parentNode&&n.dom.parentNode.removeChild(n.dom)}}else for(let o=s-1;o>=0;o--){let t=l[o];e in t==!1&&w(t),n.dom.textContent=""}}function x(){if(p.component&&p.mainVnode){c.length&&v(c);let e=p.mainVnode;if((p.mainVnode=new i(e.tag,e.props,[p.component])).dom=e.dom,N(p.mainVnode,e),e=null,!1===p.isMounted?(m.length&&v(m),p.isMounted=!0):f.length&&v(f),n)return p.mainVnode.dom.innerHTML}}var k=new Map;function b(n){return(t,r,i)=>{if(n?t:!t){let n=document.createTextNode("");return i&&i.dom&&i.dom.parentNode&&(e in i==!1&&w(i),i.dom.parentNode.replaceChild(n,i.dom)),r.tag=o,r.children=[],r.props={},r.dom=n,!1}}}var C={"v-if":b(!1),"v-unless":b(!0),"v-for":(e,o)=>{o.children=e.map(o.children[0])},"v-show":(e,o)=>{o.dom.style.display=e?"":"none"},"v-class":(e,o)=>{for(let n in e)o.dom.classList.toggle(n,e[n])},"v-html":(e,o)=>{o.children=[l(e)]},"v-model":([e,o,n],t,r)=>{let i,d;if("input"===t.tag)switch(n=n||"oninput",t.props.type){case"checkbox":Array.isArray(e[o])?(d=n=>{let t=n.target.value,r=e[o].indexOf(t);-1===r?e[o].push(t):e[o].splice(r,1)},i=-1!==e[o].indexOf(t.dom.value)):"value"in t.props?(d=()=>{e[o]===t.props.value?e[o]=null:e[o]=t.props.value},i=e[o]===t.props.value):(d=()=>e[o]=!e[o],i=e[o]),y("checked",i,t,r);break;case"radio":y("checked",e[o]===t.dom.value,t,r);break;default:y("value",e[o],t,r)}else"select"===t.tag?(n=n||"onclick",t.props.multiple?(d=n=>{let t=n.target.value;if(n.ctrlKey){let n=e[o].indexOf(t);-1===n?e[o].push(t):e[o].splice(n,1)}else e[o].splice(0,e[o].length),e[o].push(t)},t.children.forEach(n=>{if("option"===n.tag){let t="value"in n.props?n.props.value:n.children.join("").trim();n.props.selected=-1!==e[o].indexOf(t)}})):t.children.forEach(n=>{if("option"===n.tag){let t="value"in n.props?n.props.value:n.children.join("").trim();n.props.selected=t===e[o]}})):"textarea"===t.tag&&(n=n||"oninput",t.children=[e[o]]);t.props[n]||(d||(d=n=>e[o]=n.target.value),y(n,d,t,r))}};p.isNodeJs=n,p.isMounted=!1,p.directives=C,p.directive=function(e,o){let n=`v-${e}`;C[n]=o,s[n]=!0},p.reservedProps=s,p.mount=function(e,o){return p.isMounted&&p.unmount(),p.container=n?"string"==typeof e?r("svg"===e?"svg":"div","svg"===e):e:"string"==typeof e?document.querySelectorAll(e)[0]:e,p.component=o&&"object"==typeof o&&o.view?p(o.view.bind(o),o.props||{},..."children"in o?Array.isArray(o.children)?o.children:[o.children]:[]):p(o.bind(o),o.props||{},"children"in o?Array.isArray(o.children)?o.children:[o.children]:[]),(p.mainVnode=d(p.container)).isSVG="svg"===p.mainVnode.tag,x()},p.unmount=function(){if(p.component&&p.mainVnode){c.length&&v(c),h.length&&v(h);let e=p.mainVnode;(p.mainVnode=new i(e.tag,e.props,[])).dom=e.dom,N(p.mainVnode,e);let o=p.mainVnode.dom;if(p.container=null,p.component=null,p.isMounted=!1,p.mainVnode=void 0,n)return o.innerHTML}},p.update=x,p.use=function(e,o){if(k.has(e))return k.get(e);let n=e(p,o);return k.set(e,n),n},p.trust=l,p.setAttribute=y,p.current={},p.onCleanup=function(e){-1===c.indexOf(e)&&c.push(e)},p.onUnmount=function(e){-1===h.indexOf(e)&&h.push(e)},p.onMount=function(e){-1===m.indexOf(e)&&m.push(e)},p.onUpdate=function(e){-1===f.indexOf(e)&&f.push(e)};var A=p;"undefined"!=typeof module?module.exports=A:self.Valyrian=A})();