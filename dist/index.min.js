(()=>{var e=Boolean("undefined"!=typeof process&&process.versions&&process.versions.node),t=class{constructor(e,t,o,n,s){this.tag=e,this.props=t,this.children=o,this.dom=n,this.isSVG=s}},o=e=>Boolean(e&&"object"==typeof e&&"view"in e),n=e=>Boolean("function"==typeof e||o(e)),s=e=>e instanceof t,r=e=>s(e)&&n(e.tag);function i(e,o,...n){return new t(e,o,n)}function p(e){if(3===e.nodeType)return e.nodeValue;if(1===e.nodeType){const o=e.nodeName.toLowerCase(),n={},s=[];for(let t=0,o=e.childNodes.length;t<o;t++){const o=e.childNodes[t];if(3===o.nodeType)s.push(o.nodeValue);else if(1===o.nodeType){const e=p(o);s.push(e)}}const r=e.attributes;for(let e=0,t=r.length;e<t;e++){const t=r[e];n[t.nodeName]=t.nodeValue}const i=new t(o,n,s);return i.dom=e,i.isSVG="svg"===o,i}}function l(e){const t=document.createElement("div");return t.innerHTML=e.trim(),Array.from(t.childNodes).map(p)}i.fragment=(e,...t)=>t;var c=null,d=null,a=!1,u={vnode:null,component:null,event:null},f=new Set(["key","state","v-keep","v-text","v-if","v-for","v-show","v-class","v-html","v-model","v-create","v-update","v-cleanup"]),m=new Set,v=new Set,h=new Set,g=new Set,y=e=>m.add(e),x=e=>{for(const t of e)t();e.clear()},N={"v-if":(e,t)=>{if(!Boolean(e)){const e=t.dom?.parentNode;return e&&e.replaceChild(document.createTextNode(""),t.dom),!1}},"v-show":(e,t)=>{const o=Boolean(e);t.dom.style.display=o?"":"none"},"v-html":(e,t)=>{t.children=l(e)},"v-model":(e,t)=>{if("name"in t.props==!1)return;let o;const n=t.props.name;let s="oninput",r=t=>e[n]=t.target.value;if("input"===t.tag)switch(t.props.type){case"checkbox":Array.isArray(e[n])?(r=t=>{const o=t.target.value,s=e[n].indexOf(o);-1===s?e[n].push(o):e[n].splice(s,1)},o=-1!==e[n].indexOf(t.dom.value)):"value"in t.props?(r=()=>{e[n]===t.props.value?e[n]=null:e[n]=t.props.value},o=e[n]===t.props.value):(r=()=>e[n]=!e[n],o=e[n]),S("checked",o,t);break;case"radio":S("checked",e[n]===t.dom.value,t);break;default:S("value",e[n],t)}else"select"===t.tag?(s="onclick",t.props.multiple?(r=t=>{const o=t.target.value;if(t.ctrlKey){const t=e[n].indexOf(o);-1===t?e[n].push(o):e[n].splice(t,1)}else e[n].splice(0,e[n].length),e[n].push(o)},t.children.forEach(t=>{if("option"===t.tag){const o="value"in t.props?t.props.value:t.children.join("").trim();t.props.selected=-1!==e[n].indexOf(o)}})):t.children.forEach(t=>{if("option"===t.tag){const o="value"in t.props?t.props.value:t.children.join("").trim();t.props.selected=o===e[n]}})):"textarea"===t.tag&&(t.children=[e[n]]);const i=t.props[s];S(s,e=>{r(e),i&&i(e)},t)},"v-create":(e,t,o)=>{if(!o){const o=e(t);"function"==typeof o&&y(o)}},"v-update":(e,t,o)=>{if(o){const n=e(t,o);"function"==typeof n&&y(n)}},"v-cleanup":(e,t)=>{y(()=>e(t))},"v-class":(e,t)=>{if("string"==typeof e)t.dom.className=e;else if(Array.isArray(e))t.dom.className=e.join(" ");else if("object"==typeof e){const o=t.dom.classList;for(const t in e){const n="function"==typeof e[t]?e[t]():e[t];o.toggle(t,n)}}},class(e,t){if(t.dom.className!==e){if(t.isSVG)return void t.dom.setAttribute("class",e);t.dom.className=e}},className(e,t){N.class(e,t,null)},id:(e,t)=>{if(t.dom.id!==e){if(t.isSVG)return void t.dom.setAttribute("id",e);t.dom.id=e}},style:(e,t)=>{if("string"==typeof e){if(t.isSVG)return void t.dom.setAttribute("style",e);t.dom.style=e}else if("object"==typeof e){t.isSVG?t.dom.setAttribute("style",""):t.dom.style="";const o=t.dom.style;for(const t in e)o[t]=e[t]}}};var V,C=new Set;function k(e){u.event=e;let t=e.target;const o=`on${e.type}`;for(;t;){const n=t.props;if(n&&n[o])return n[o](e,t),void(e.defaultPrevented||L());t=t.parentNode}u.event=null}function S(e,t,o){const n=o.dom;"function"!=typeof t?o.isSVG||!(e in n)?!1===t?n.removeAttribute(e):n.setAttribute(e,t):n[e]=t:C.has(e)||(d.dom.addEventListener(e.slice(2),k),C.add(e))}function w(e,t){const o=e.dom,n=e.props;if(t)for(const s in t)s in n!=!1||C.has(s)||f.has(s)||(!e.isSVG&&s in o?o[s]=null:o.removeAttribute(s));for(const o in n)if(N[o]){if(!1===N[o](n[o],e,t))break}else f.has(o)||S(o,n[o],e)}function b(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function A(e){if(u.vnode=e,"v-for"in e.props){const o=[],n=e.props["v-for"],s=n.length,r=e.children[0];for(let i=0;i<s;i++){const s=r(n[i],i);s instanceof t&&(s.props=s.props||{},s.isSVG=e.isSVG||"svg"===s.tag),o[i]=s}return o}let n=0;const s=e.children;let r=s;for(;n<r.length;){const i=r[n];if(null!=i)if(Array.isArray(i))r===s&&(r=[...s]),r.splice(n,1,...i);else if(i instanceof t&&(i.props=i.props||{},i.isSVG=e.isSVG||"svg"===i.tag,"string"!=typeof i.tag)){r===s&&(r=[...s]);const e=u.component=i.tag;r[n]=(o(e)?e.view:e).bind(e)(i.props,i.children)}else n++;else r===s&&(r=[...s]),r.splice(n,1)}return r}function T(e,o,n){const s=b(e.tag,e.isSVG);if(n?o.dom.replaceChild(s,n):o.dom.appendChild(s),e.dom=s,w(e,null),e.dom.props=e.props,"v-text"in e.props)return void(e.dom.textContent=e.props["v-text"]);const r=A(e);if(0!==r.length)for(let o=0,n=r.length;o<n;o++)r[o]instanceof t!=!1?T(r[o],e,null):e.dom.appendChild(document.createTextNode(r[o]));else e.dom.textContent=""}function G(e){const o=A(e),n=e.dom;if(0===o.length)return void(n.childNodes.length&&(n.textContent=""));const s=n.childNodes,r=s.length;if(r>0){const n=s[0].props,r=o[0];if(n&&r instanceof t&&"key"in r.props&&"key"in n)return void function(e,o){const n=[...Array.from(e.dom.childNodes)],s=e.dom.childNodes,r={},i={};for(let e=0,s=n.length;e<s;e++){const s=n[e].props;s&&(r[s.key]=e),e<o.length&&o[e]instanceof t&&(i[o[e].props.key]=e)}for(let t=0,i=o.length;t<i;t++){const i=o[t],p=n[r[i.props.key]];if(!p){T(i,e,s[t]);continue}i.dom=p;const l=s[t];if(l?l!==p&&e.dom.replaceChild(p,l):e.dom.appendChild(p),"v-keep"in i.props==0||p.props["v-keep"]!==i.props["v-keep"]){if(w(i,p.props),p.props=i.props,"v-text"in i.props){p.textContent!=i.props["v-text"]&&(p.textContent=i.props["v-text"]);continue}G(i)}}for(let e=o.length,t=s.length;e<t;e++)s[e]?.remove()}(e,o)}const i=o.length;if(0!==r){for(let n=0;n<i;n++){const r=o[n],i=r instanceof t==!1,p=s[n];if(p)if(i){if(3!==p.nodeType){e.dom.replaceChild(document.createTextNode(r),p);continue}p.nodeValue!=r&&(p.nodeValue=r)}else{if("v-keep"in r.props){if(p.props&&p.props["v-keep"]===r.props["v-keep"])continue;const e=s[n+1];if(e&&e.props&&e.props["v-keep"]===r.props["v-keep"]){p.remove();continue}}r.tag===p.nodeName.toLowerCase()?(r.dom=p,w(r,p.props||null),p.props=r.props,"v-text"in r.props?r.dom.textContent!=r.props["v-text"]&&(r.dom.textContent=r.props["v-text"]):G(r)):T(r,e,p)}else{if(i){e.dom.appendChild(document.createTextNode(r));continue}T(r,e,null)}}for(let e=i,t=s.length;e<t;e++)s[e]?.remove()}else for(let s=0;s<i;s++)o[s]instanceof t!=!1?T(o[s],e,null):n.appendChild(document.createTextNode(o[s]))}function E(e){x(m),e.props=e.props||{},G(e),x(a?h:v),a=!0,u.vnode=null,u.component=null}function L(){return d&&(d.children=[c],E(d),e)?d.dom.innerHTML:""}var j=e?clearTimeout:cancelAnimationFrame,O=e?()=>setTimeout(L,5):()=>requestAnimationFrame(L);var B={Vnode:t,createElement:b,current:u,debouncedUpdate:function(){j(V),V=O()},directive:function(e,t){const o=`v-${e}`;N[o]=t,f.add(o)},directives:N,hidrateDomToVnode:p,isComponent:n,isNodeJs:e,isPOJOComponent:o,isVnode:s,isVnodeComponent:r,mount:function(t,o){const s="string"==typeof t?e?b(t,"svg"===t):document.querySelector(t):t;return c=n(o)?i(o,{},[]):r(o)?o:i(()=>o,{},[]),d=p(s),L()},onCleanup:y,onMount:e=>!a&&v.add(e),onUnmount:e=>!a&&g.add(e),onUpdate:e=>h.add(e),reservedProps:f,setAttribute:function(e,t,o){f.has(e)||(o.props[e]=t,S(e,t,o))},setPropNameReserved:function(e){f.add(e)},trust:l,unmount:function(){if(d){c=i(()=>null,{});const e=L();x(g);for(const e in C)d.dom.removeEventListener(e.slice(2).toLowerCase(),k),Reflect.deleteProperty(C,e);return c=null,d=null,a=!1,u.vnode=null,u.component=null,u.event=null,e}return""},update:L,updateAttributes:w,updateVnode:E,v:i};"undefined"!=typeof module?module.exports=B:self.Valyrian=B})();//# sourceMappingURL=index.min.js.map