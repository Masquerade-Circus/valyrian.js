(()=>{var e=function(e,n,o){this.props=n,this.children=o,this.tag=e};function n(n){return n instanceof e}function o(e){return"function"==typeof e||"object"==typeof e&&null!==e&&"view"in e}function t(n){return n instanceof e&&"__component__"===n.tag}var r=Boolean("undefined"!=typeof process&&process.versions&&process.versions.node);function i(e,n=!1){return n?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function p(n){let o=k(n.tagName.toLowerCase(),{},...Array.from(n.childNodes).filter(e=>1===e.nodeType||3===e.nodeType).map(n=>{if(1===n.nodeType)return p(n);let o=new e("#text",{},[]);return o.nodeValue=String(n.nodeValue),o.dom=n,o}));return[].forEach.call(n.attributes,e=>o.props[e.nodeName]=e.nodeValue),o.dom=n,o}var d=e=>{let n=i("div");return n.innerHTML=e.trim(),[].map.call(n.childNodes,e=>p(e))},l=Symbol("Valyrian");function a(e){-1===k.current.app?.onCleanup.indexOf(e)&&k.current.app?.onCleanup.push(e)}function s(e){-1===k.current.app?.onUnmount.indexOf(e)&&k.current.app?.onUnmount.push(e)}function u(e){-1===k.current.app?.onMount.indexOf(e)&&k.current.app?.onMount.push(e)}function c(e){-1===k.current.app?.onUpdate.indexOf(e)&&k.current.app?.onUpdate.push(e)}function m(e,n){let d,a=null;if(a=r?"string"==typeof e?i("svg"===e?"svg":"div","svg"===e):e:"string"==typeof e?document.querySelectorAll(e)[0]:e,!a)throw new Error("Container not found");if(t(n))d=n;else{if(!o(n))throw new Error("Component must be a Valyrian Component or a Vnode component");d=k(n,{})}if(n[l])h(n);else{let e=function(e){let o=e.target,t=`v-on${e.type}`;for(;o;){if(o[t])return o[t](e,o),void(e.defaultPrevented||v(n));o=o.parentNode}};n[l]={isMounted:!1,eventListenerNames:{},onCleanup:[],onMount:[],onUpdate:[],onUnmount:[]},n[l].eventListener=e}return n[l].component=d,n[l].container=a,n[l].mainVnode=p(a),n[l].mainVnode.isSVG="svg"===n[l].tag,v(n)}function f(e){for(let n=0;n<e.onCleanup.length;n++)e.onCleanup[n]();e.onCleanup=[]}function v(n){if(n&&n[l]){let o=n[l];k.current.app=o,o.onCleanup.length&&f(o);let t=o.mainVnode;if(o.mainVnode=new e(o.mainVnode.tag,o.mainVnode.props,[o.component]),o.mainVnode.dom=t.dom,o.mainVnode.isSVG=t.isSVG,w(o.mainVnode,t,o),t=null,!1===o.isMounted?(o.onMount.length&&function(e){for(let n=0;n<e.onMount.length;n++)e.onMount[n]();e.onMount=[]}(o),o.isMounted=!0):o.onUpdate.length&&function(e){for(let n=0;n<e.onUpdate.length;n++)e.onUpdate[n]();e.onUpdate=[]}(o),r)return o.mainVnode.dom.innerHTML}}function h(n){if(!n||!n[l])return;let o=n[l];if(o.isMounted){o.onCleanup.length&&f(o),o.onUnmount.length&&function(e){for(let n=0;n<e.onUnmount.length;n++)e.onUnmount[n]();e.onUnmount=[]}(o);let t=o.mainVnode;if(o.mainVnode=new e(o.mainVnode.tag,o.mainVnode.props,[]),o.mainVnode.dom=t.dom,o.mainVnode.isSVG=t.isSVG,w(o.mainVnode,t,o),t=null,r)return o.mainVnode.dom.innerHTML;o=null,Reflect.deleteProperty(n,l)}}var g=new e("__empty__",{},[]);function V(e){for(let n=0;n<e.children.length;n++)"#text"!==e.children[n].tag&&V(e.children[n]);e.props.onremove&&e.props.onremove(e)}function y(e,n,o,t){if(k.reservedProps[e])k.directives[e]&&k.directives[e](o.props[e],o,t);else{if("function"==typeof n){let t=k.current.app;return e in t.eventListenerNames==!1&&(t.eventListenerNames[e]=!0,t.container.addEventListener(e.slice(2),t.eventListener)),void(o.dom[`v-${e}`]=n)}e in o.dom&&!1===o.isSVG?o.dom[e]!=n&&(o.dom[e]=n):t&&t.props[e]===n||(!1===n?o.dom.removeAttribute(e):o.dom.setAttribute(e,n))}}function C(e,n,o,t){e in o.props==!1&&(o.props[e]=n),y(e,n,o,t)}function x(e,n){for(let o in e.props){if(o in e.props==!1)return;y(o,e.props[o],e,n)}if(n)for(let o in n.props)o in e.props==!1&&"function"!=typeof n.props[o]&&o in k.reservedProps==!1&&(o in n.dom&&!1===e.isSVG?n.dom[o]=null:n.dom.removeAttribute(o))}function w(n,o=g,t){k.current.vnode=n,k.current.oldVnode=o,function(n){let o=n.children;for(let t=0;t<o.length;t++){let r=o[t];if(r instanceof e){if("#text"!==r.tag){if("__component__"===r.tag){let e=r.component;k.current.component=e;let n=("view"in e?e.view:e).call(e,r.props,...r.children);o.splice(t--,1,n);continue}r.isSVG=n.isSVG||"svg"===r.tag}}else null==r?o.splice(t--,1):Array.isArray(r)?o.splice(t--,1,...r):t>0&&"#text"===o[t-1].tag?(o[t-1].nodeValue+=r,o.splice(t--,1)):(o[t]=new e("#text",{},[]),o[t].nodeValue=String(r))}}(n);let r=n.children,p=o.children,d=p.length,l=r.length;if(0!==l)d&&"key"in r[0].props&&"key"in p[0].props?function(e,n,o,t,r,p){let d=o.reduce((e,n,o)=>(e[n.props.key]=o,e),{}),l=n.reduce((e,n,o)=>(e[n.props.key]=o,e),{});for(let r=0;r<t;r++){let t=n[r],a=o[d[t.props.key]],s=!0;a?(t.dom=a.dom,"v-once"in t.props||t.props.shouldupdate&&!1===t.props.shouldupdate(t,a)?(t.children=a.children,s=!1):(x(t,a),p.isMounted?t.props.onupdate&&t.props.onupdate(t,a):t.props.oncreate&&t.props.oncreate(t))):(t.dom=i(t.tag,t.isSVG),x(t),t.props.oncreate&&t.props.oncreate(t)),void 0===e.dom.childNodes[r]?e.dom.appendChild(t.dom):e.dom.childNodes[r]!==t.dom&&(o[r]&&void 0===l[o[r].props.key]&&V(o[r]),e.dom.replaceChild(t.dom,e.dom.childNodes[r])),s&&w(t,a,p)}for(let e=t;e<r;e++)if(void 0===l[o[e].props.key]){let n=o[e];V(n),n.dom.parentNode&&n.dom.parentNode.removeChild(n.dom)}}(n,r,p,l,d,t):function(e,n,o,t,r,p){for(let r=0;r<t;r++){let t=o[r],d=n[r];if(t)if("#text"!==d.tag)if(t.tag!==d.tag)d.dom=i(d.tag,d.isSVG),x(d),"#text"!==t.tag&&V(t),d.props.oncreate&&d.props.oncreate(d),e.dom.replaceChild(d.dom,t.dom),w(d,void 0,p);else{if(d.dom=t.dom,d.props["v-once"]||d.props.shouldupdate&&!1===d.props.shouldupdate(d,t)){d.children=t.children;continue}x(d,t),p&&p.isMounted?d.props.onupdate&&d.props.onupdate(d,t):d.props.oncreate&&d.props.oncreate(d),w(d,t,p)}else{if("#text"===t.tag){d.dom=t.dom,d.dom.nodeValue!=d.nodeValue&&(d.dom.nodeValue=d.nodeValue);continue}d.dom=document.createTextNode(d.nodeValue),V(t),e.dom.replaceChild(d.dom,t.dom)}else{if("#text"===d.tag){d.dom=document.createTextNode(d.nodeValue),e.dom.appendChild(d.dom);continue}d.dom=i(d.tag,d.isSVG),x(d),e.dom.appendChild(d.dom),d.props.oncreate&&d.props.oncreate(d),w(d,void 0,p)}}for(let e=t;e<r;e++){let n=o[e];"#text"!==n.tag&&V(n),n.dom.parentNode&&n.dom.parentNode.removeChild(n.dom)}}(n,r,p,l,d,t);else{for(let e=0;e<d;e++)V(p[e]);n.dom.textContent=""}}function N(e,n){let o=`v-${e}`;k.directives[o]=n,k.reservedProps[o]=!0}function M(e){return(n,o,t)=>{if(e?n:!n){let e=document.createTextNode("");t&&t.dom&&t.dom.parentNode&&("#text"!==t.tag&&V(t),t.dom.parentNode.replaceChild(e,t.dom)),o.tag="#text",o.children=[],o.props={},o.dom=e}}}var U={"v-if":M(!1),"v-unless":M(!0),"v-for":(e,n)=>{n.children=e.map(n.children[0])},"v-show":(e,n)=>{n.dom.style.display=e?"":"none"},"v-class":(e,n)=>{for(let o in e)n.dom.classList.toggle(o,e[o])},"v-html":(e,n)=>{n.children=[d(e)]},"v-model":([e,n,o],t,r)=>{let i,p;if("input"===t.name)switch(o=o||"oninput",t.props.type){case"checkbox":Array.isArray(e[n])?(p=o=>{let t=o.target.value,r=e[n].indexOf(t);-1===r?e[n].push(t):e[n].splice(r,1)},i=-1!==e[n].indexOf(t.dom.value)):"value"in t.props?(p=()=>{e[n]===t.props.value?e[n]=null:e[n]=t.props.value},i=e[n]===t.props.value):(p=()=>e[n]=!e[n],i=e[n]),C("checked",i,t,r);break;case"radio":C("checked",e[n]===t.dom.value,t,r);break;default:C("value",e[n],t,r)}else"select"===t.name?(o=o||"onclick",t.props.multiple?(p=o=>{let t=o.target.value;if(o.ctrlKey){let o=e[n].indexOf(t);-1===o?e[n].push(t):e[n].splice(o,1)}else e[n].splice(0,e[n].length),e[n].push(t)},t.children.forEach(o=>{if("option"===o.name){let t="value"in o.props?o.props.value:o.children.join("").trim();o.props.selected=-1!==e[n].indexOf(t)}})):t.children.forEach(o=>{if("option"===o.name){let t="value"in o.props?o.props.value:o.children.join("").trim();o.props.selected=t===e[n]}})):"textarea"===t.name&&(o=o||"oninput",t.children=[e[n]]);t.props[o]||(p||(p=o=>e[n]=o.target.value),C(o,p,t,r))}},S=new Map;function _(e,n){if(S.has(e))return S.get(e);let o=e(k,n);return S.set(e,o),o}var k=function(n,o,...t){if("string"==typeof n)return new e(n,o||{},t);const r=new e("__component__",o||{},t);return r.component=n,r};k.fragment=(e,...n)=>n,k.current={},k.directives={...U},k.reservedProps={key:!0,state:!0,oncreate:!0,onupdate:!0,onremove:!0,shouldupdate:!0,"v-cleanup":!0,"v-once":!0,"v-if":!0,"v-unless":!0,"v-for":!0,"v-show":!0,"v-class":!0,"v-html":!0},k.isVnode=n,k.isComponent=o,k.isVnodeComponent=t,k.isNodeJs=r,k.trust=d,k.onCleanup=a,k.onUnmount=s,k.onMount=u,k.onUpdate=c,k.mount=m,k.unmount=h,k.update=v,k.setAttribute=C,k.directive=N,k.use=_;var b={Vnode:e,directive:N,isComponent:o,isNodeJs:r,isVnode:n,isVnodeComponent:t,mount:m,onCleanup:a,onMount:u,onUnmount:s,onUpdate:c,setAttribute:C,trust:d,unmount:h,update:v,use:_,v:k};"undefined"!=typeof module?module.exports=b:self.Valyrian=b})();