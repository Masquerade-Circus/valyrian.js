(()=>{var e=function(e,o,n){this.props=o,this.children=n,this.tag=e};function o(e){return"function"==typeof e||"object"==typeof e&&null!==e&&"view"in e}function n(o){return o instanceof e&&"__component__"===o.tag}var t=Boolean("undefined"!=typeof process&&process.versions&&process.versions.node);function r(e,o=!1){return o?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function i(o){let n=v(o.tagName.toLowerCase(),{},...Array.from(o.childNodes).filter(e=>1===e.nodeType||3===e.nodeType).map(o=>{if(1===o.nodeType)return i(o);let n=new e("#text",{},[]);return n.nodeValue=String(o.nodeValue),n.dom=o,n}));return[].forEach.call(o.attributes,e=>n.props[e.nodeName]=e.nodeValue),n.dom=o,n}var d=e=>{let o=r("div");return o.innerHTML=e.trim(),[].map.call(o.childNodes,e=>i(e))},p=Symbol("Valyrian");function l(e){for(let o=0;o<e.cleanup.length;o++)e.cleanup[o]();e.cleanup=[]}function s(o){if(o&&o[p]){let n=o[p];v.current.app=n,l(n);let r=n.mainVnode;if(n.mainVnode=new e(n.mainVnode.tag,n.mainVnode.props,[n.component]),n.mainVnode.dom=r.dom,n.mainVnode.isSVG=r.isSVG,g(n.mainVnode,r,n),r=null,n.isMounted=!0,t)return n.mainVnode.dom.innerHTML}}function a(o){if(!o||!o[p])return;let n=o[p];if(n.isMounted){l(n);let o=n.mainVnode;if(n.mainVnode=new e(n.mainVnode.tag,n.mainVnode.props,[]),n.mainVnode.dom=o.dom,n.mainVnode.isSVG=o.isSVG,g(n.mainVnode,o,n),o=null,n.isMounted=!1,t)return n.mainVnode.dom.innerHTML}}var c=new e("__empty__",{},[]);function u(e){for(let o=0;o<e.children.length;o++)"#text"!==e.children[o].tag&&u(e.children[o]);e.props.onremove&&e.props.onremove(e)}function m(e,o,n,t){if(v.reservedProps[e])v.directives[e]&&v.directives[e](n.props[e],n,t);else{if("function"==typeof o){let t=v.current.app;return e in t.eventListenerNames==!1&&(t.eventListenerNames[e]=!0,t.container.addEventListener(e.slice(2),t.eventListener)),void(n.dom[`v-${e}`]=o)}e in n.dom&&!1===n.isSVG?n.dom[e]!=o&&(n.dom[e]=o):t&&t.props[e]===o||(!1===o?n.dom.removeAttribute(e):n.dom.setAttribute(e,o))}}function f(e,o,n,t){e in n.props==!1&&(n.props[e]=o),m(e,o,n,t)}function h(e,o){for(let n in e.props){if(n in e.props==!1)return;m(n,e.props[n],e,o)}if(o)for(let n in o.props)n in e.props==!1&&"function"!=typeof o.props[n]&&n in v.reservedProps==!1&&(n in o.dom&&!1===e.isSVG?o.dom[n]=null:o.dom.removeAttribute(n))}function g(o,n=c,t){v.current.vnode=o,v.current.oldVnode=n,function(o){let n=o.children;for(let t=0;t<n.length;t++){let r=n[t];if(r instanceof e){if("#text"!==r.tag){if("__component__"===r.tag){let e=r.component;v.current.component=e;let o=("view"in e?e.view:e).call(e,r.props,...r.children);n.splice(t--,1,o);continue}r.isSVG=o.isSVG||"svg"===r.tag}}else null==r?n.splice(t--,1):Array.isArray(r)?n.splice(t--,1,...r):t>0&&"#text"===n[t-1].tag?(n[t-1].nodeValue+=r,n.splice(t--,1)):(n[t]=new e("#text",{},[]),n[t].nodeValue=String(r))}}(o);let i=o.children,d=n.children,p=d.length,l=i.length;if(0!==l)p&&"key"in i[0].props&&"key"in d[0].props?function(e,o,n,t,i,d){let p=n.reduce((e,o,n)=>(e[o.props.key]=n,e),{}),l=o.reduce((e,o,n)=>(e[o.props.key]=n,e),{});for(let i=0;i<t;i++){let t=o[i],s=n[p[t.props.key]],a=!0;s?(t.dom=s.dom,"v-once"in t.props||t.props.shouldupdate&&!1===t.props.shouldupdate(t,s)?(t.children=s.children,a=!1):(h(t,s),d.isMounted?t.props.onupdate&&t.props.onupdate(t,s):t.props.oncreate&&t.props.oncreate(t))):(t.dom=r(t.tag,t.isSVG),h(t),t.props.oncreate&&t.props.oncreate(t)),void 0===e.dom.childNodes[i]?e.dom.appendChild(t.dom):e.dom.childNodes[i]!==t.dom&&(n[i]&&void 0===l[n[i].props.key]&&u(n[i]),e.dom.replaceChild(t.dom,e.dom.childNodes[i])),a&&g(t,s,d)}for(let e=t;e<i;e++)if(void 0===l[n[e].props.key]){let o=n[e];u(o),o.dom.parentNode&&o.dom.parentNode.removeChild(o.dom)}}(o,i,d,l,p,t):function(e,o,n,t,i,d){for(let i=0;i<t;i++){let t=n[i],p=o[i];if(t)if("#text"!==p.tag)if(t.tag!==p.tag)p.dom=r(p.tag,p.isSVG),h(p),"#text"!==t.tag&&u(t),p.props.oncreate&&p.props.oncreate(p),e.dom.replaceChild(p.dom,t.dom),g(p,void 0,d);else{if(p.dom=t.dom,p.props["v-once"]||p.props.shouldupdate&&!1===p.props.shouldupdate(p,t)){p.children=t.children;continue}h(p,t),d&&d.isMounted?p.props.onupdate&&p.props.onupdate(p,t):p.props.oncreate&&p.props.oncreate(p),g(p,t,d)}else{if("#text"===t.tag){p.dom=t.dom,p.dom.nodeValue!=p.nodeValue&&(p.dom.nodeValue=p.nodeValue);continue}p.dom=document.createTextNode(p.nodeValue),u(t),e.dom.replaceChild(p.dom,t.dom)}else{if("#text"===p.tag){p.dom=document.createTextNode(p.nodeValue),e.dom.appendChild(p.dom);continue}p.dom=r(p.tag,p.isSVG),h(p),e.dom.appendChild(p.dom),p.props.oncreate&&p.props.oncreate(p),g(p,void 0,d)}}for(let e=t;e<i;e++){let o=n[e];"#text"!==o.tag&&u(o),o.dom.parentNode&&o.dom.parentNode.removeChild(o.dom)}}(o,i,d,l,p,t);else{for(let e=0;e<p;e++)u(d[e]);o.dom.textContent=""}}function V(e){return(o,n,t)=>{if(e?o:!o){let e=document.createTextNode("");t&&t.dom&&t.dom.parentNode&&("#text"!==t.tag&&u(t),t.dom.parentNode.replaceChild(e,t.dom)),n.tag="#text",n.children=[],n.props={},n.dom=e}}}var y={"v-if":V(!1),"v-unless":V(!0),"v-for":(e,o)=>{o.children=e.map(o.children[0])},"v-show":(e,o)=>{o.dom.style.display=e?"":"none"},"v-class":(e,o)=>{for(let n in e)o.dom.classList.toggle(n,e[n])},"v-html":(e,o)=>{o.children=[d(e)]},"v-model":([e,o,n],t,r)=>{let i,d;if("input"===t.name)switch(n=n||"oninput",t.props.type){case"checkbox":Array.isArray(e[o])?(d=n=>{let t=n.target.value,r=e[o].indexOf(t);-1===r?e[o].push(t):e[o].splice(r,1)},i=-1!==e[o].indexOf(t.dom.value)):"value"in t.props?(d=()=>{e[o]===t.props.value?e[o]=null:e[o]=t.props.value},i=e[o]===t.props.value):(d=()=>e[o]=!e[o],i=e[o]),f("checked",i,t,r);break;case"radio":f("checked",e[o]===t.dom.value,t,r);break;default:f("value",e[o],t,r)}else"select"===t.name?(n=n||"onclick",t.props.multiple?(d=n=>{let t=n.target.value;if(n.ctrlKey){let n=e[o].indexOf(t);-1===n?e[o].push(t):e[o].splice(n,1)}else e[o].splice(0,e[o].length),e[o].push(t)},t.children.forEach(n=>{if("option"===n.name){let t="value"in n.props?n.props.value:n.children.join("").trim();n.props.selected=-1!==e[o].indexOf(t)}})):t.children.forEach(n=>{if("option"===n.name){let t="value"in n.props?n.props.value:n.children.join("").trim();n.props.selected=t===e[o]}})):"textarea"===t.name&&(n=n||"oninput",t.children=[e[o]]);t.props[n]||(d||(d=n=>e[o]=n.target.value),f(n,d,t,r))}},w=function(o,n,...t){if("string"==typeof o)return new e(o,n||{},t);const r=new e("__component__",n||{},t);return r.component=o,r};w.fragment=(e,...o)=>o,w.current={},w.directives={...y},w.reservedProps={key:!0,state:!0,oncreate:!0,onupdate:!0,onremove:!0,shouldupdate:!0,"v-cleanup":!0,"v-once":!0,"v-if":!0,"v-unless":!0,"v-for":!0,"v-show":!0,"v-class":!0,"v-html":!0},(t?global:window).v=w;var x={Vnode:e,cleanup:function(e){-1===v.current.app?.cleanup.indexOf(e)&&v.current.app?.cleanup.push(e)},directive:function(e,o){let n=`v-${e}`;v.directives[n]=o,v.reservedProps[n]=!0},isComponent:o,isNodeJs:t,isVnode:function(o){return o instanceof e},isVnodeComponent:n,mount:function(e,d){let l,c=null;if(c=t?"string"==typeof e?r("svg"===e?"svg":"div","svg"===e):e:"string"==typeof e?document.querySelectorAll(e)[0]:e,!c)throw new Error("Container not found");if(n(d))l=d;else{if(!o(d))throw new Error("Component must be a Valyrian Component or a Vnode component");l=v(d,{})}if(d[p])a(d);else{let e=function(e){let o=e.target,n=`v-on${e.type}`;for(;o;){if(o[n])return o[n](e,o),void(e.defaultPrevented||s(d));o=o.parentNode}};d[p]={isMounted:!1,eventListenerNames:{},isNodeJs:t,cleanup:[]},d[p].eventListener=e}return d[p].component=l,d[p].container=c,d[p].mainVnode=i(c),s(d)},onremove:u,trust:d,unmount:a,update:s,updateProperty:f,valyrian:w};"undefined"!=typeof module?module.exports=x:self.Valyrian=x})();