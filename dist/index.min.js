(()=>{var e="#text",t=Boolean("undefined"!=typeof process&&process.versions&&process.versions.node);function n(e,t=!1){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}var o=function(e,t,n){this.tag=e,this.props=t,this.children=n};function l(e){return e&&("function"==typeof e||"object"==typeof e&&"view"in e)}var d=e=>e instanceof o,i=e=>d(e)&&l(e.tag);function r(t){if(3===t.nodeType){let n=new o(e,{},[t.nodeValue]);return n.dom=t,n}let n=[];for(let e=0,o=t.childNodes.length;e<o;e++){let o=t.childNodes[e];1!==o.nodeType&&3!==o.nodeType||n.push(r(o))}let l={};for(let e=0,n=t.attributes.length;e<n;e++){let n=t.attributes[e];l[n.nodeName]=n.nodeValue}let d=new o(t.tagName.toLowerCase(),l,n);return d.dom=t,d}function p(e){let t=n("div");return t.innerHTML=e.trim(),[].map.call(t.childNodes,e=>r(e))}var s=null,a=null,c=!1,u={vnode:null,oldVnode:null,component:null,event:null},m={key:!0,state:!0,"v-keep":!0,"v-if":!0,"v-unless":!0,"v-for":!0,"v-show":!0,"v-class":!0,"v-html":!0,"v-model":!0,"v-create":!0,"v-update":!0,"v-cleanup":!0},f=new Set,v=new Set,h=new Set,g=new Set;function y(e){f.add(e)}function w(e){for(let t of e)t();e.clear()}var V={};function k(e){u.event=e;let t=e.target,n=`v-on${e.type}`;for(;t;){if(t[n])return t[n](e,t),void(e.defaultPrevented||G());t=t.parentNode}u.event=null}var C=e=>(t,n,o)=>{if(e?t:!t){let e=document.createTextNode("");return o&&o.dom&&o.dom.parentNode&&o.dom.parentNode.replaceChild(e,o.dom),n.tag="#text",n.children=[],n.props={},n.dom=e,!1}},N={"v-if":C(!1),"v-unless":C(!0),"v-for":(e,t)=>{let n=[],o=t.children[0];for(let t=0,l=e.length;t<l;t++)n.push(o(e[t],t));t.children=n},"v-show":(e,t)=>{t.dom.style.display=e?"":"none"},"v-class":(e,t)=>{for(let n in e)t.dom.classList.toggle(n,e[n])},"v-html":(e,t)=>{t.children=[p(e)]},"v-model":([e,t,n],o,l)=>{let d,i=n=>e[t]=n.target.value;if("input"===o.tag)switch(n=n||"oninput",o.props.type){case"checkbox":Array.isArray(e[t])?(i=n=>{let o=n.target.value,l=e[t].indexOf(o);-1===l?e[t].push(o):e[t].splice(l,1)},d=-1!==e[t].indexOf(o.dom.value)):"value"in o.props?(i=()=>{e[t]===o.props.value?e[t]=null:e[t]=o.props.value},d=e[t]===o.props.value):(i=()=>e[t]=!e[t],d=e[t]),S("checked",d,o);break;case"radio":S("checked",e[t]===o.dom.value,o);break;default:S("value",e[t],o)}else"select"===o.tag?(n=n||"onclick",o.props.multiple?(i=n=>{let o=n.target.value;if(n.ctrlKey){let n=e[t].indexOf(o);-1===n?e[t].push(o):e[t].splice(n,1)}else e[t].splice(0,e[t].length),e[t].push(o)},o.children.forEach(n=>{if("option"===n.tag){let o="value"in n.props?n.props.value:n.children.join("").trim();n.props.selected=-1!==e[t].indexOf(o)}})):o.children.forEach(n=>{if("option"===n.tag){let o="value"in n.props?n.props.value:n.children.join("").trim();n.props.selected=o===e[t]}})):"textarea"===o.tag&&(n=n||"oninput",o.children=[e[t]]);let r=o.props[n];S(n,e=>{i(e),r&&r(e)},o,l)},"v-create":(e,t,n)=>{if(!n){let n=e(t);"function"==typeof n&&y(n)}},"v-update":(e,t,n)=>{if(n){let o=e(t,n);"function"==typeof o&&y(o)}},"v-cleanup":(e,t,n)=>{y(()=>e(t,n))}};function S(e,t,n,o){if("function"==typeof t)return e in V==!1&&(a.dom.addEventListener(e.slice(2),k),V[e]=!0),void(n.dom[`v-${e}`]=t);e in n.dom&&!1===n.isSVG?n.dom[e]!=t&&(n.dom[e]=t):o&&t===o.props[e]||(!1===t?n.dom.removeAttribute(e):n.dom.setAttribute(e,t))}function x(e,t){if(t)for(let n in t.props)n in e.props==!1&&n in V==!1&&n in m==!1&&(n in e.dom&&!1===e.isSVG?e.dom[n]=null:e.dom.removeAttribute(n));for(let n in e.props)if(n in m){if(n in N&&!1===N[n](e.props[n],e,t))break}else S(n,e.props[n],e,t)}function b(t,l){if(0===t.children.length)return void(t.dom.textContent="");let d=t.children,i=l?.children||[],r=i.length;if(r&&d[0]instanceof o&&"key"in d[0].props&&"key"in i[0].props){let e=d.length,o={};for(let e=0;e<r;e++)o[i[e].props.key]=e;let l={};for(let t=0;t<e;t++)l[d[t].props.key]=t;for(let l=0;l<e;l++){let e=d[l],r=i[o[e.props.key]],p=!0;r?(e.dom=r.dom,"v-keep"in e.props&&e.props["v-keep"]===r.props["v-keep"]?(e.children=r.children,p=!1):x(e,r)):(e.dom=n(e.tag,e.isSVG),x(e)),t.dom.childNodes[l]?t.dom.childNodes[l]!==e.dom&&t.dom.replaceChild(e.dom,t.dom.childNodes[l]):t.dom.appendChild(e.dom),p&&b(e,r)}for(let t=e;t<r;t++)l[i[t].props.key]||i[t].dom.parentNode&&i[t].dom.parentNode.removeChild(i[t].dom)}else if(0!==d.length){u.vnode=t,u.oldVnode=l;for(let t=0;t<d.length;t++){let n=d[t];n instanceof o?"string"!=typeof n.tag&&(u.component=n.tag,d.splice(t--,1,("view"in n.tag?n.tag.view.bind(n.tag):n.tag.bind(n.tag))(n.props,...n.children))):Array.isArray(n)?d.splice(t--,1,...n):null!=n?d[t]=new o(e,{},[n]):d.splice(t--,1)}for(let o=0;o<d.length;o++){let l=d[o];if(l.tag===e){if(o>=r){l.dom=document.createTextNode(l.children[0]),t.dom.appendChild(l.dom);continue}let n=i[o];if(n.tag!==e){l.dom=document.createTextNode(l.children[0]),t.dom.replaceChild(l.dom,n.dom);continue}l.dom=n.dom,l.children[0]!=n.dom.textContent&&(n.dom.textContent=l.children[0]);continue}if(l.isSVG=t.isSVG||"svg"===l.tag,o>=r){l.dom=n(l.tag,l.isSVG),x(l),t.dom.appendChild(l.dom),b(l);continue}let p=i[o];l.tag===p.tag?(l.dom=p.dom,"v-keep"in l.props&&l.props["v-keep"]===p.props["v-keep"]?l.children=p.children:(x(l,p),b(l,p))):(l.dom=n(l.tag,l.isSVG),x(l),t.dom.replaceChild(l.dom,p.dom),b(l))}for(let e=d.length;e<r;e++)t.dom.removeChild(i[e].dom)}else t.dom.textContent=""}function G(){if(a){w(f);let e=a;if((a=new o(e.tag,e.props,[s])).dom=e.dom,a.isSVG=e.isSVG,b(a,e),w(c?h:v),c=!0,u.vnode=null,u.oldVnode=null,u.component=null,t)return a.dom.innerHTML}}function A(){if(a){s=new o(()=>null,{},[]);let e=G();w(g);for(let e in V)a.dom.removeEventListener(e.slice(2).toLowerCase(),k),Reflect.deleteProperty(V,e);return s=null,a=null,c=!1,u.vnode=null,u.oldVnode=null,u.component=null,e}}var T=(e,t={},...n)=>new o(e,t||{},n);T.fragment=(e,...t)=>t;var L={Vnode:o,createDomElement:n,current:u,directive:function(e,t){let n=`v-${e}`;N[n]=t,m[n]=!0},directives:N,domToVnode:r,isComponent:l,isNodeJs:t,isVnode:d,isVnodeComponent:i,mount:function(e,d){let p="string"==typeof e?t?n(e,"svg"===e):document.querySelectorAll(e)[0]:e,c=i(d)?d:l(d)?new o(d,{},[]):new o(()=>d,{},[]);return s&&s.tag!==c.tag&&A(),s=c,a=r(p),G()},onCleanup:y,onMount:function(e){c||v.add(e)},onUnmount:function(e){c||g.add(e)},onUpdate:function(e){h.add(e)},patch:b,reservedProps:m,setAttribute:function(e,t,n,o){e in m||(n.props[e]=t,S(e,t,n,o))},trust:p,unmount:A,update:G,updateAttributes:x,updateVnode:function(e,n){if(w(f),b(e,n),n.tag=e.tag,n.props={...e.props},n.children=[...e.children],n.dom=e.dom,n.isSVG=e.isSVG,w(c?h:v),c=!0,u.vnode=null,u.oldVnode=null,u.component=null,t)return e.dom.innerHTML},v:T};"undefined"!=typeof module?module.exports=L:self.Valyrian=L})();//# sourceMappingURL=index.min.js.map