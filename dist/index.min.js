(()=>{var e=Boolean("undefined"!=typeof process&&process.versions&&process.versions.node),t=class{constructor(e,t,o,n,s){this.tag=e,this.props=t,this.children=o,this.dom=n,this.isSVG=s}},o=e=>Boolean(e&&"object"==typeof e&&"view"in e),n=e=>Boolean("function"==typeof e||o(e)),s=e=>e instanceof t,r=e=>s(e)&&n(e.tag);function i(e,o,...n){return new t(e,o,n)}function l(e){if(3===e.nodeType)return e.nodeValue;if(1===e.nodeType){const o=e.nodeName.toLowerCase(),n={},s=[];for(let t=0,o=e.childNodes.length;t<o;t++){const o=e.childNodes[t];if(3===o.nodeType)s.push(o.nodeValue);else if(1===o.nodeType){const e=l(o);s.push(e)}}const r=e.attributes;for(let e=0,t=r.length;e<t;e++){const t=r[e];n[t.nodeName]=t.nodeValue}const i=new t(o,n,s);return i.dom=e,e.vnode=i,i.isSVG="svg"===o,i}}function d(e){const t=document.createElement("div");return t.innerHTML=e.trim(),Array.from(t.childNodes).map(l)}i.fragment=(e,...t)=>t;var c=null,p=null,a=!1,u={vnode:null,component:null,event:null},f=new Set(["key","state","v-keep","v-text","v-if","v-for","v-show","v-class","v-html","v-model","v-create","v-update","v-cleanup"]),v=new Set,m=new Set,h=new Set,y=new Set,g=e=>v.add(e),x=e=>{for(const t of e)t();e.clear()},N={"v-if":(e,t)=>{if(!Boolean(e)){const e=t.dom?.parentNode;return e&&e.replaceChild(document.createTextNode(""),t.dom),!1}},"v-show":(e,t)=>{const o=Boolean(e);t.dom.style.display=o?"":"none"},"v-html":(e,t)=>{t.children=d(e)},"v-model":(e,t)=>{if("name"in t.props==!1)return;let o;const n=t.props.name;let s="oninput",r=t=>e[n]=t.target.value;if("input"===t.tag)switch(t.props.type){case"checkbox":Array.isArray(e[n])?(r=t=>{const o=t.target.value,s=e[n].indexOf(o);-1===s?e[n].push(o):e[n].splice(s,1)},o=-1!==e[n].indexOf(t.dom.value)):"value"in t.props?(r=()=>{e[n]===t.props.value?e[n]=null:e[n]=t.props.value},o=e[n]===t.props.value):(r=()=>e[n]=!e[n],o=e[n]),b("checked",o,t);break;case"radio":b("checked",e[n]===t.dom.value,t);break;default:b("value",e[n],t)}else"select"===t.tag?(s="onclick",t.props.multiple?(r=t=>{const o=t.target.value;if(t.ctrlKey){const t=e[n].indexOf(o);-1===t?e[n].push(o):e[n].splice(t,1)}else e[n].splice(0,e[n].length),e[n].push(o)},t.children.forEach(t=>{if("option"===t.tag){const o="value"in t.props?t.props.value:t.children.join("").trim();t.props.selected=-1!==e[n].indexOf(o)}})):t.children.forEach(t=>{if("option"===t.tag){const o="value"in t.props?t.props.value:t.children.join("").trim();t.props.selected=o===e[n]}})):"textarea"===t.tag&&(t.children=[e[n]]);const i=t.props[s];b(s,e=>{r(e),i&&i(e)},t)},"v-create":(e,t,o)=>{if(!o){const o=e(t);"function"==typeof o&&g(o)}},"v-update":(e,t,o)=>{if(o){const n=e(t,o);"function"==typeof n&&g(n)}},"v-cleanup":(e,t)=>{g(()=>e(t))},"v-class":(e,t)=>{if("string"==typeof e)t.dom.className=e;else if(Array.isArray(e))t.dom.className=e.join(" ");else if("object"==typeof e){const o=t.dom.classList;for(const t in e){const n="function"==typeof e[t]?e[t]():e[t];o.toggle(t,n)}}},class(e,t){if(t.dom.className!==e){if(t.isSVG)return void t.dom.setAttribute("class",e);t.dom.className=e}},className(e,t){N.class(e,t,null)},id:(e,t)=>{if(t.dom.id!==e){if(t.isSVG)return void t.dom.setAttribute("id",e);t.dom.id=e}},style:(e,t)=>{if("string"==typeof e){if(t.isSVG)return void t.dom.setAttribute("style",e);t.dom.style=e}else if("object"==typeof e){t.isSVG?t.dom.setAttribute("style",""):t.dom.style="";const o=t.dom.style;for(const t in e)o[t]=e[t]}}};var k,C=new Set;function V(e){u.event=e;let t=e.target;const o=`on${e.type}`;for(;t;){const n=t.vnode;if(n&&n.props[o])return n.props[o](e,n),void(e.defaultPrevented||L());t=t.parentNode}u.event=null}function b(e,t,o){const n=o.dom;"function"!=typeof t?o.isSVG||!(e in n)?!1===t?n.removeAttribute(e):n.setAttribute(e,t):n[e]=t:C.has(e)||(p.dom.addEventListener(e.slice(2),V),C.add(e))}function w(e,t){const o=e.dom,n=e.props;if(o.vnode=e,t)for(const s in t)s in n!=!1||C.has(s)||f.has(s)||(!e.isSVG&&s in o?o[s]=null:o.removeAttribute(s));for(const o in n)if(N[o]){if(!1===N[o](n[o],e,t))break}else f.has(o)||b(o,n[o],e)}function S(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function A(e){u.vnode=e;let n=0;const s=e.children;let r=s;if("v-for"in e.props){r=[];const t=e.props["v-for"],o=t.length,n=e.children[0];if("function"!=typeof n)return console.warn("v-for directive must have a callback function as children"),r;for(let e=0;e<o;e++)r[e]=n(t[e],e)}for(;n<r.length;){const i=r[n];if(null!=i)if(Array.isArray(i))r===s&&(r=[...s]),r.splice(n,1,...i);else if(i instanceof t&&(i.props=i.props||{},i.isSVG=e.isSVG||"svg"===i.tag,"string"!=typeof i.tag)){r===s&&(r=[...s]);const e=u.component=i.tag;r[n]=(o(e)?e.view:e).bind(e)(i.props,i.children)}else n++;else r===s&&(r=[...s]),r.splice(n,1)}return r}function T(e,o,n){const s=S(e.tag,e.isSVG);if(n?o.dom.replaceChild(s,n):o.dom.appendChild(s),e.dom=s,w(e,null),"v-text"in e.props)return void(e.dom.textContent=e.props["v-text"]);const r=A(e);if(0!==r.length)for(let o=0,n=r.length;o<n;o++)r[o]instanceof t!=!1?T(r[o],e,null):e.dom.appendChild(document.createTextNode(r[o]));else e.dom.textContent=""}function G(e){const o=A(e),n=e.dom;if(0===o.length)return void(n.childNodes.length&&(n.textContent=""));const s=n.childNodes,r=s.length,i=o.length;if(0===r){for(let s=0;s<i;s++)o[s]instanceof t!=!1?T(o[s],e,null):n.appendChild(document.createTextNode(o[s]));return}let l=!0;for(let e=0;e<i;e++)if(o[e]instanceof t==!1||!("key"in o[e].props)){l=!1;break}if(l)!function(e,t){const o=[...Array.from(e.dom.childNodes)],n=e.dom.childNodes,s={};for(let e=0,t=o.length;e<t;e++){const t=o[e].vnode;t&&"key"in t.props!=0&&(s[t.props.key]=e)}for(let r=0,i=t.length;r<i;r++){const i=t[r],l=o[s[i.props.key]];if(!l){T(i,e,n[r]);continue}i.dom=l;const d=n[r];if(d?d!==l&&e.dom.replaceChild(l,d):e.dom.appendChild(l),"v-keep"in i.props==0||!l.vnode||l.props["v-keep"]!==i.props["v-keep"]){if(w(i,l.vnode.props),"v-text"in i.props){l.textContent!=i.props["v-text"]&&(l.textContent=i.props["v-text"]);continue}G(i)}}for(let e=t.length,o=n.length;e<o;e++)n[n.length-1]?.remove()}(e,o);else{for(let n=0;n<i;n++){const r=o[n],i=r instanceof t==!1,l=s[n];if(l)if(i){if(3!==l.nodeType){e.dom.replaceChild(document.createTextNode(r),l);continue}l.nodeValue!=r&&(l.nodeValue=r)}else{if("v-keep"in r.props){if(l.vnode&&l.vnode.props["v-keep"]===r.props["v-keep"])continue;const e=s[n+1];if(e&&e.vnode&&e.vnode.props["v-keep"]===r.props["v-keep"]){l.remove();continue}}r.tag===l.nodeName.toLowerCase()?(r.dom=l,w(r,l.vnode?l.vnode.props:null),"v-text"in r.props?r.dom.textContent!=r.props["v-text"]&&(r.dom.textContent=r.props["v-text"]):G(r)):T(r,e,l)}else{if(i){e.dom.appendChild(document.createTextNode(r));continue}T(r,e,null)}}for(let e=i,t=s.length;e<t;e++)s[e]?.remove()}}function E(e){x(v),e.props=e.props||{},G(e),x(a?h:m),a=!0,u.vnode=null,u.component=null}function L(){return p&&(p.children=[c],E(p),e)?p.dom.innerHTML:""}var j=e?L:()=>requestAnimationFrame(L);var O={Vnode:t,createElement:S,current:u,debouncedUpdate:function(e=42){u.event&&u.event.preventDefault(),clearTimeout(k),k=setTimeout(j,e)},directive:function(e,t){const o=`v-${e}`;N[o]=t,f.add(o)},directives:N,hidrateDomToVnode:l,isComponent:n,isNodeJs:e,isPOJOComponent:o,isVnode:s,isVnodeComponent:r,mount:function(t,o){const s="string"==typeof t?e?S(t,"svg"===t):document.querySelector(t):t;return c=n(o)?i(o,{},[]):r(o)?o:i(()=>o,{},[]),p=l(s),L()},onCleanup:g,onMount:e=>!a&&m.add(e),onUnmount:e=>!a&&y.add(e),onUpdate:e=>h.add(e),reservedProps:f,setAttribute:function(e,t,o){f.has(e)||(o.props[e]=t,b(e,t,o))},setPropNameReserved:function(e){f.add(e)},trust:d,unmount:function(){if(p){c=i(()=>null,{});const e=L();x(y);for(const e in C)p.dom.removeEventListener(e.slice(2).toLowerCase(),V),Reflect.deleteProperty(C,e);return c=null,p=null,a=!1,u.vnode=null,u.component=null,u.event=null,e}return""},update:L,updateAttributes:w,updateVnode:E,v:i};"undefined"!=typeof module?module.exports=O:self.Valyrian=O})();//# sourceMappingURL=index.min.js.map