(()=>{var e=Boolean("undefined"!=typeof process&&process.versions&&process.versions.node),n=class{constructor(e,n,o,t,s,i,r,l,d,c,p,a){this.tag=e,this.props=n,this.children=o,this.dom=t,this.isSVG=s,this.oldChildComponents=i,this.childComponents=r,this.hasKeys=l,this.oncreate=d,this.oncleanup=c,this.onupdate=p,this.onremove=a}},o=e=>Boolean(e&&"object"==typeof e&&"view"in e),t=e=>Boolean("function"==typeof e||o(e)),s=e=>e instanceof n,i=e=>s(e)&&t(e.tag);function r(e,o,...t){return new n(e,o,t)}function l(e){if(3===e.nodeType)return e.nodeValue;if(1===e.nodeType){const o=e.nodeName.toLowerCase(),t={},s=[];for(let n=0,o=e.childNodes.length;n<o;n++){const o=e.childNodes[n];if(3===o.nodeType)s.push(o.nodeValue);else if(1===o.nodeType){const e=l(o);s.push(e)}}const i=e.attributes;for(let e=0,n=i.length;e<n;e++){const n=i[e];t[n.nodeName]=n.nodeValue}const r=new n(o,t,s);return r.dom=e,e.vnode=r,r.isSVG="svg"===o,r}}function d(e){const n=document.createElement("div");return n.innerHTML=e.trim(),Array.from(n.childNodes).map(l)}r.fragment=(e,...n)=>n;var c=null,p=null,a=!1,u={oldVnode:null,vnode:null,component:null,event:null},f=new Set(["key","state","v-keep","v-text","v-if","v-for","v-show","v-class","v-html","v-model","v-create","v-update","v-cleanup"]);function m(e,n,o){o[n]=o[n]||new Set,o[n].add(()=>{const n=e();"function"==typeof n&&(o.oncleanup=o.oncleanup||new Set,o.oncleanup.add(n))})}function v(){if(!u.vnode)throw new Error("This function must be called inside a component")}var h=e=>{if(e){for(const n of e)n();e.clear()}},y={"v-create":(e,n,o)=>{o||m(()=>e(n),"oncreate",u.vnode)},"v-update":(e,n,o)=>{o&&m(()=>e(n,o),"onupdate",u.vnode)},"v-remove":(e,n)=>{let o=u.vnode,t=n;for(;o&&(o.onremove=o.onremove||new Set,m(()=>{n.dom.vnode&&!t.dom.parentNode&&(e(n),n.dom.vnode=null)},"onremove",o),o.dom.parentElement);)t=o,o=o.dom.parentElement.vnode},"v-cleanup":(e,n)=>{m(()=>e(n),"oncleanup",u.vnode)},"v-if":(e,n)=>{if(!Boolean(e)){const e=n.dom?.parentNode;return e&&e.replaceChild(document.createTextNode(""),n.dom),!1}},"v-show":(e,n)=>{const o=Boolean(e);n.dom.style.display=o?"":"none"},"v-html":(e,n)=>{n.children=d(e)},"v-model":(e,n)=>{if("name"in n.props==!1)return;let o;const t=n.props.name;let s="oninput",i=n=>e[t]=n.target.value;if("input"===n.tag)switch(n.props.type){case"checkbox":Array.isArray(e[t])?(i=n=>{const o=n.target.value,s=e[t].indexOf(o);-1===s?e[t].push(o):e[t].splice(s,1)},o=-1!==e[t].indexOf(n.dom.value)):"value"in n.props?(i=()=>{e[t]===n.props.value?e[t]=null:e[t]=n.props.value},o=e[t]===n.props.value):(i=()=>e[t]=!e[t],o=e[t]),N("checked",o,n);break;case"radio":N("checked",e[t]===n.dom.value,n);break;default:N("value",e[t],n)}else"select"===n.tag?(s="onclick",n.props.multiple?(i=n=>{const o=n.target.value;if(n.ctrlKey){const n=e[t].indexOf(o);-1===n?e[t].push(o):e[t].splice(n,1)}else e[t].splice(0,e[t].length),e[t].push(o)},n.children.forEach(n=>{if("option"===n.tag){const o="value"in n.props?n.props.value:n.children.join("").trim();n.props.selected=-1!==e[t].indexOf(o)}})):n.children.forEach(n=>{if("option"===n.tag){const o="value"in n.props?n.props.value:n.children.join("").trim();n.props.selected=o===e[t]}})):"textarea"===n.tag&&(n.children=[e[t]]);const r=n.props[s];N(s,e=>{i(e),r&&r(e)},n)},"v-class":(e,n)=>{if("string"==typeof e)n.dom.className=e;else if(Array.isArray(e))n.dom.className=e.join(" ");else if("object"==typeof e){const o=n.dom.classList;for(const n in e){const t="function"==typeof e[n]?e[n]():e[n];o.toggle(n,t)}}},class(e,n){if(n.dom.className!==e){if(n.isSVG)return void n.dom.setAttribute("class",e);n.dom.className=e}},className(e,n){y.class(e,n)},id:(e,n)=>{if(n.dom.id!==e){if(n.isSVG)return void n.dom.setAttribute("id",e);n.dom.id=e}},style:(e,n)=>{if("string"==typeof e){if(n.isSVG)return void n.dom.setAttribute("style",e);n.dom.style=e}else if("object"==typeof e){n.isSVG?n.dom.setAttribute("style",""):n.dom.style="";const o=n.dom.style;for(const n in e)o[n]=e[n]}}};var g,C=new Set;function V(e){u.event=e;let n=e.target;const o=`on${e.type}`;for(;n;){const t=n.vnode;if(t&&t.props[o])return t.props[o](e,t),void(e.defaultPrevented||G());n=n.parentNode}u.event=null}function w(e,n,o){const t=o.dom;"function"!=typeof n?o.isSVG||!(e in t)?!1===n?t.removeAttribute(e):t.setAttribute(e,n):t[e]=n:C.has(e)||(p.dom.addEventListener(e.slice(2),V),C.add(e))}function N(e,n,o){f.has(e)||(o.props[e]=n,w(e,n,o))}function x(e,n){const o=e.dom,t=e.props;if(o.vnode=e,n)for(const s in n.props)s in t!=!1||C.has(s)||f.has(s)||(!e.isSVG&&s in o?o[s]=null:o.removeAttribute(s));for(const o in t)if(y[o]){if(!1===y[o](t[o],e,n?.props))break}else f.has(o)||w(o,t[o],e)}function S(e,n){return n?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function b(e){let t,s=0;if("v-for"in e.props==!1)t=[...e.children];else{t=[];const n=e.props["v-for"],o=n.length,s=e.children[0];if("function"!=typeof s)return console.warn("v-for directive must have a callback function as children"),t;for(let e=0;e<o;e++)t[e]=s(n[e],e)}for(e.oldChildComponents=e.childComponents,e.childComponents&&(e.childComponents=new Set);s<t.length;){const i=t[s];if(null!=i)if(Array.isArray(i))t.splice(s,1,...i);else{if(i instanceof n){if(i.props=i.props||{},i.isSVG=e.isSVG||"svg"===i.tag,"string"!=typeof i.tag){const n=u.component=i.tag;e.childComponents=e.childComponents||new Set,e.childComponents.add(n),t[s]=(o(n)?n.view:n).bind(n)(i.props,i.children);continue}e.hasKeys=e.hasKeys||"key"in i.props}s++}else t.splice(s,1)}return t}function k(e,o,t){if(t?(e.dom=S(e.tag,e.isSVG),o.dom.replaceChild(e.dom,t)):e.dom=o.dom.appendChild(S(e.tag,e.isSVG)),x(e),"v-text"in e.props)return void(e.dom.textContent=e.props["v-text"]);u.oldVnode=null,u.vnode=e;const s=b(e);if(0!==s.length)for(let o=0,t=s.length;o<t;o++)s[o]instanceof n!=!1?k(s[o],e):e.dom.appendChild(document.createTextNode(s[o]));else e.dom.textContent=""}function A(e,o){u.oldVnode=o,u.vnode=e;const t=b(e),s=e.dom;if(0===t.length)return void(s.childNodes.length&&(s.textContent=""));const i=s.childNodes,r=i.length,l=t.length;if(0===r){for(let o=0;o<l;o++){const i=t[o];i instanceof n!=!1?k(i,e):s.appendChild(document.createTextNode(i))}return void(e.oncreate&&h(e.oncreate))}let d=i;const c={};if(e.hasKeys){const e=[];for(let n=0,o=d.length;n<o;n++){e[n]=d[n];const o=d[n].vnode;c[o&&"key"in o.props!=!1?o.props.key:n]=n}d=e}for(let o=0,r=t.length;o<r;o++){const r=t[o];if(r instanceof n==!1){const e=d[o];if(!e){s.appendChild(document.createTextNode(r));continue}if(3!==e.nodeType){s.replaceChild(document.createTextNode(r),e);continue}e.nodeValue!=r&&(e.nodeValue=r);continue}const l=d[e.hasKeys?c[r.props.key||o]:o];if(!l||r.tag!==l.nodeName.toLowerCase()){k(r,e,i[o]);continue}r.dom=l;const p=i[o],a=l.vnode;if(p?p!==l&&s.replaceChild(l,p):s.appendChild(l),"v-keep"in r.props&&a){if(a.props["v-keep"]===r.props["v-keep"])continue;const e=i[o+1]?.vnode?.props;if(e&&"key"in e==!1&&e["v-keep"]===r.props["v-keep"]){l.remove(),d.splice(o,1);continue}}x(r,a),"v-text"in r.props?l.textContent!=r.props["v-text"]&&(l.textContent=r.props["v-text"]):(h(a?.oncleanup),A(r,a||null),h(a?.onremove))}for(let e=i.length,n=t.length;e>n;e--)i[e-1].remove();h(e.oncreate),h(e.onupdate)}function T(e,n=!0){e.props=e.props||{},n&&h(e.oncleanup);const o=e.onremove?new Set(e.onremove):null;u.vnode=e,A(e,n?e:null),h(o),a=!0,u.oldVnode=null,u.vnode=null,u.component=null}function G(){return p&&(p.children=[c],T(p,a),e)?p.dom.innerHTML:""}var E=e?G:()=>requestAnimationFrame(G);var L={Vnode:n,createElement:S,current:u,debouncedUpdate:function(e=42){u.event&&u.event.preventDefault(),clearTimeout(g),g=setTimeout(E,e)},directive:function(e,n){const o=`v-${e}`;y[o]=n,f.add(o)},directives:y,hidrateDomToVnode:l,isComponent:t,isNodeJs:e,isPOJOComponent:o,isVnode:s,isVnodeComponent:i,mount:function(n,o){const s="string"==typeof n?e?S(n,"svg"===n):document.querySelector(n):n;return c=t(o)?r(o,{},[]):i(o)?o:r(()=>o,{},[]),p=l(s),G()},onCleanup:e=>{v(),m(e,"oncleanup",u.vnode)},onCreate:e=>{v();const n=u.vnode,o=u.component;n.oldChildComponents&&n.oldChildComponents.has(o)||m(e,"oncreate",n)},onRemove:e=>{v();const n=u.vnode,o=u.component;let t=!1;m(function(){n.childComponents&&n.childComponents.has(o)||t||(t=!0,e())},"onremove",u.vnode)},onUpdate:e=>{v();const n=u.vnode,o=u.component;n.childComponents&&n.childComponents.has(o)&&m(e,"onupdate",u.vnode)},reservedProps:f,setAttribute:N,setPropNameReserved:function(e){f.add(e)},trust:d,unmount:function(){if(p){c=r(()=>null,{});const e=G();for(const e in C)p.dom.removeEventListener(e.slice(2).toLowerCase(),V),Reflect.deleteProperty(C,e);return h(p.onremove),c=null,p=null,a=!1,u.vnode=null,u.component=null,u.event=null,e}return""},update:G,updateAttributes:x,updateVnode:T,v:r};"undefined"!=typeof module?module.exports=L:self.Valyrian=L})();//# sourceMappingURL=index.min.js.map