(()=>{var e=Boolean("undefined"!=typeof process&&process.versions&&process.versions.node),t={},n=/^([^.#]*)?#?([^.]*)?(.*)?$/;function o(e){if(!t[e]){const o=n.exec(e),s=o[1],i=o[2],d=o[3]?o[3].split(".").splice(1):null;let l=e=>e instanceof r;if(s){const e=l;l=t=>e(t)&&t.tag===s}if(i){const e=l;l=t=>e(t)&&t.dom.id===i}if(d){const e=l;l=t=>{if(!e(t))return!1;for(const e of d)if(!t.dom.classList.contains(e))return!1;return!0}}t[e]=l}return t[e]}var r=class e{constructor(e,t,n,o,r,s,i){this.tag=e,this.props=t,this.children=n,this.dom=o,this.processed=r,this.isSVG=s,this._parent=i}parent(e){if(!e)return this._parent;const t="string"==typeof e?o(e):e;let n=this._parent;for(;n;){if(t(n))return n;n=n._parent}}findChild(t){const n="string"==typeof t?o(t):n=>n instanceof e&&t(n);for(let e=0,t=this.children.length;e<t;e++){const t=this.children[e];if(n(t))return t}for(let t=0,o=this.children.length;t<o;t++){const o=this.children[t];if(o instanceof e){const e=o.findChild(n);if(e)return e}}}filterChildren(t){const n="string"==typeof t?o(t):(n,o)=>n instanceof e&&t(n,o),r=[];for(let e=0,t=this.children.length;e<t;e++){const t=this.children[e];n(t,e)&&r.push(t)}return r}get(e){return this.children[e]}remove(){this.dom.remove(),A(this),T.delete(this.dom),this._parent.children.splice(this._parent.children.indexOf(this),1)}replace(e){this._parent.children.splice(this._parent.children.indexOf(this),1,e),G(this._parent,e,this.dom),A(this),T.delete(this.dom)}},s=e=>"function"==typeof e,i=e=>e instanceof r,d=e=>i(e)&&s(e.tag);function l(e){if(3===e.nodeType)return e.nodeValue;const t=new r(e.nodeName.toLowerCase(),{},[]);t.dom=e,T.set(e,t);for(let n=0,o=e.childNodes.length;n<o;n++){const o=e.childNodes[n];if(3===o.nodeType)t.children.push(o.nodeValue);else if(1===o.nodeType){l(o)._parent=t,t.children.push()}}for(let n=0,o=e.attributes.length;n<o;n++){const o=e.attributes[n];t.props[o.nodeName]=o.nodeValue}return t}function c(e){const t=document.createElement("div");return t.innerHTML=e.trim(),Array.from(t.childNodes).map(l)}var p=null,f=null,a=!1,u={vnode:null,component:null,event:null},h={key:!0,state:!0,"v-keep":!0,"v-text":!0,"v-if":!0,"v-for":!0,"v-show":!0,"v-class":!0,"v-html":!0,"v-model":!0,"v-create":!0,"v-update":!0,"v-cleanup":!0},m=new Set,v=new Set,g=new Set,y=new Set,x=e=>m.add(e),C=e=>{for(const t of e)t();e.clear()},w={"v-if":e=>{if(Boolean(e.props["v-if"])){const t=e.dom?.parentNode;if(t){const n=document.createTextNode("");t.replaceChild(n,e.dom)}return!1}},"v-for":e=>{const[t,n]=e.props["v-for"];for(let o=0,r=t.length;o<r;o++)e.children.push(n(t[o],o))},"v-show":e=>{const t=Boolean(e.props["v-show"]);e.dom.style.display=t?"":"none"},"v-class":e=>{const t=e.props["v-class"],n=e.dom.classList;for(const e in t){const o="function"==typeof t[e]?t[e]():t[e];n.toggle(e,o)}},"v-html":e=>{e.children=[c(e.props["v-html"])]},"v-create":(e,t)=>{if(!t){const t=(0,e.props["v-create"])(e);"function"==typeof t&&x(t)}},"v-update":(e,t)=>{if(t){const n=(0,e.props["v-update"])(e,t);"function"==typeof n&&x(n)}},"v-cleanup":e=>{const t=e.props["v-cleanup"];x(()=>t(e))}};var N={};function V(e){u.event=e;let t=e.target;const n=`on${e.type}`;for(;t;){const o=T.get(t);if(o&&o.props[n])return o.props[n](e,o),void(e.defaultPrevented||P());t=t.parentNode}u.event=null}function k(e,t,n,o){if("function"!=typeof t)if("style"!==e||"object"!=typeof t)e in n.dom?n.dom[e]!=t&&(n.dom[e]=t):o&&t===o.props[e]||(!1===t?n.dom.removeAttribute(e):n.dom.setAttribute(e,t));else for(const e in t)t.hasOwnProperty(e)&&(n.dom.style[e]=t[e]);else e in N==!1&&(f.dom.addEventListener(e.slice(2),V),N[e]=!0)}function _(e,t){for(const n in e.props)if(h[n]){if(w[n]&&!1===w[n](e,t))break}else k(n,e.props[n],e,t)}function S(e,t){!function(e,t){if(t)for(const n in t.props)e.props[n]||N[n]||h[n]||(n in e.dom?e.dom[n]=null:e.dom.removeAttribute(n))}(e,t),_(e,t)}var T=new WeakMap;function b(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function L(e,t){if(e instanceof r==!1)return document.createTextNode(e);e._parent=t;const n=b(e.tag,e.isSVG);if(e.dom=n,T.set(n,e),_(e,null),"v-text"in e.props)return n.textContent=e.props["v-text"],n;if(M(e),0===e.children.length)return n;for(let t=0,o=e.children.length;t<o;t++){const o=L(e.children[t],e);n.appendChild(o)}return n}function A(e){for(let t=0,n=e.dom.childNodes.length;t<n;t++){const n=e.dom.childNodes[t];if(T.has(n)){A(T.get(n)),T.delete(n)}}}function G(e,t,n){if(t.isSVG=e.isSVG||"svg"===t.tag,!n||t.tag!==n.nodeName.toLowerCase())return t.dom=L(t,e),void(n?e.dom.replaceChild(t.dom,n):e.dom.appendChild(t.dom));t._parent=e;const o=T.get(n);t.dom=n,T.set(n,t),o&&"v-keep"in t.props&&t.props["v-keep"]===o.props["v-keep"]?t.children=o.children:(S(t,o||null),"v-text"in t.props?t.dom.textContent!=t.props["v-text"]&&(t.dom.textContent=t.props["v-text"]):0!==t.children.length?E(t):t.dom.childNodes.length>0&&(t.dom.textContent="",A(t)))}function M(e){u.vnode=e;const{children:t}=e;let n=0;for(;n<t.length;){const e=t[n];if(null!=e)if(Array.isArray(e))t.splice(n,1,...e);else{if(e instanceof r&&"string"!=typeof e.tag){const o=("view"in e.tag?e.tag.view:e.tag).bind(e.tag);u.component=o,t[n]=o(e.props,e.children)}n++}else t.splice(n,1)}}function E(e){M(e);const{dom:t,children:n}=e,o=n.length;if(0===o)return t.textContent="",void A(e);const s=t.childNodes,i=s.length,d=s[0]&&T.get(s[0]);if(d&&n[0]instanceof r&&"key"in n[0].props&&"key"in d.props){const t={},r={},d=e.dom.childNodes;for(let e=0;e<i;e++){const i=T.get(s[e]);t[i?.props.key]=e,e<o&&(r[n[e].props.key]=e)}for(let r=0;r<o;r++){const o=n[r];o._parent=e,o.isSVG=e.isSVG||"svg"===o.tag;const i=s[t[o.props.key]];let l=!0;if(i){o.dom=i;const e=T.get(i);o.dom=i,T.set(i,o),e&&"v-keep"in o.props&&o.props["v-keep"]===e.props["v-keep"]?(o.children=e.children,l=!1):(S(o,e),"v-text"in o.props?(o.dom.textContent!=o.props["v-text"]&&(o.dom.textContent=o.props["v-text"]),l=!1):0===o.children.length&&(o.dom.childNodes.length>0&&(o.dom.textContent="",A(o)),l=!1))}else o.dom=L(o,e),l=!1;const c=d[r];c?c!==o.dom&&e.dom.replaceChild(o.dom,c):e.dom.appendChild(o.dom),l&&E(o)}for(let e=o;e<i;e++){const t=T.get(s[e]);if(t&&!r[t.props.key]){const n=s[e];n.parentNode&&n.remove(),A(t)}}return}const l=Math.max(o,i);for(let t=0;t<l;t++){const o=n[t],i=s[t],d=T.get(i);if(o!==d)if(i)if(o)if(o instanceof r!=!1)G(e,o,i);else if(3!==i.nodeType){const t=document.createTextNode(o);e.dom.replaceChild(t,i),T.has(i)&&(d&&A(d),T.delete(i))}else i.nodeValue!=o&&(i.nodeValue=o);else i.remove(),d&&A(d);else e.dom.appendChild(L(o,e))}}function P(){if(f&&(C(m),f.children=[p],E(f),C(a?g:v),a=!0,u.vnode=null,u.component=null,e))return f.dom.innerHTML}function B(){if(f){p=new r(()=>null,{},[]);const e=P();C(y);for(const e in N)f.dom.removeEventListener(e.slice(2).toLowerCase(),V),Reflect.deleteProperty(N,e);return p=null,f=null,a=!1,u.vnode=null,u.component=null,e}}function H(e,t,...n){return new r(e,t||{},n)}H.fragment=(e,...t)=>t;var O={Vnode:r,current:u,directive:function(e,t){const n=`v-${e}`;w[n]=t,h[n]=!0},directives:w,domToVnode:l,isComponent:s,isNodeJs:e,isVnode:i,isVnodeComponent:d,mount:function(t,n){const o="string"==typeof t?e?b(t,"svg"===t):document.querySelector(t):t,i=d(n)?n:s(n)?new r(n,{},[]):new r(()=>n,{},[]);return p&&p.tag!==i.tag&&B(),p=i,f=l(o),P()},onCleanup:x,onMount:e=>!a&&v.add(e),onUnmount:e=>!a&&y.add(e),onUpdate:e=>g.add(e),patch:E,reservedProps:h,setAttribute:function(e,t,n,o){h[e]||(n.props[e]=t,k(e,t,n,o))},trust:c,unmount:B,update:P,updateAttributes:S,updateVnode:function(t){if(C(m),E(t),C(a?g:v),a=!0,u.vnode=null,u.component=null,e)return t.dom.innerHTML},v:H};"undefined"!=typeof module?module.exports=O:self.Valyrian=O})();//# sourceMappingURL=index.min.js.map