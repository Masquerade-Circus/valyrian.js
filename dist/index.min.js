(()=>{var e=Boolean("undefined"!=typeof process&&process.versions&&process.versions.node),n=class{constructor(e,n,o,t,s,r,i,d,l,c,p){this.tag=e,this.props=n,this.children=o,this.dom=t,this.isSVG=s,this.directComponents=r,this.hasKeys=i,this.oncreate=d,this.oncleanup=l,this.onupdate=c,this.onremove=p}},o=e=>Boolean(e&&"object"==typeof e&&"view"in e),t=e=>Boolean("function"==typeof e||o(e)),s=e=>e instanceof n,r=e=>s(e)&&t(e.tag);function i(e,o,...t){return new n(e,o,t)}function d(e){if(3===e.nodeType)return e.nodeValue;if(1===e.nodeType){const o=e.nodeName.toLowerCase(),t={},s=[];for(let n=0,o=e.childNodes.length;n<o;n++){const o=e.childNodes[n];if(3===o.nodeType)s.push(o.nodeValue);else if(1===o.nodeType){const e=d(o);s.push(e)}}const r=e.attributes;for(let e=0,n=r.length;e<n;e++){const n=r[e];t[n.nodeName]=n.nodeValue}const i=new n(o,t,s);return i.dom=e,e.vnode=i,i.isSVG="svg"===o,i}}function l(e){const n=document.createElement("div");return n.innerHTML=e.trim(),Array.from(n.childNodes).map(d)}i.fragment=(e,...n)=>n;var c=null,p=null,a=!1,u={oldVnode:null,vnode:null,component:null,event:null},f=new Set(["key","state","v-keep","v-text","v-if","v-for","v-show","v-class","v-html","v-model","v-create","v-update","v-cleanup"]);function v(e,n,o){o[n]=o[n]||new Set,o[n].add(()=>{const n=e();"function"==typeof n&&(o.oncleanup=o.oncleanup||new Set,o.oncleanup.add(n))})}function m(){if(!u.vnode)throw new Error("This function must be called inside a component")}var h=e=>{if(e){for(const n of e)n();e.clear()}},y={"v-create":(e,n,o)=>{o||v(()=>e(n),"oncreate",u.vnode)},"v-update":(e,n,o)=>{o&&v(()=>e(n,o),"onupdate",u.vnode)},"v-remove":(e,n)=>{let o=u.vnode,t=n;for(;o&&(o.onremove=o.onremove||new Set,v(()=>{n.dom.vnode&&!t.dom.parentNode&&(e(n),n.dom.vnode=null)},"onremove",o),o.dom.parentElement);)t=o,o=o.dom.parentElement.vnode},"v-cleanup":(e,n)=>{v(()=>e(n),"oncleanup",u.vnode)},"v-if":(e,n)=>{if(!Boolean(e)){const e=n.dom?.parentNode;return e&&e.replaceChild(document.createTextNode(""),n.dom),!1}},"v-show":(e,n)=>{const o=Boolean(e);n.dom.style.display=o?"":"none"},"v-html":(e,n)=>{n.children=l(e)},"v-model":(e,n)=>{if("name"in n.props==!1)return;let o;const t=n.props.name;let s="oninput",r=n=>e[t]=n.target.value;if("input"===n.tag)switch(n.props.type){case"checkbox":Array.isArray(e[t])?(r=n=>{const o=n.target.value,s=e[t].indexOf(o);-1===s?e[t].push(o):e[t].splice(s,1)},o=-1!==e[t].indexOf(n.dom.value)):"value"in n.props?(r=()=>{e[t]===n.props.value?e[t]=null:e[t]=n.props.value},o=e[t]===n.props.value):(r=()=>e[t]=!e[t],o=e[t]),N("checked",o,n);break;case"radio":N("checked",e[t]===n.dom.value,n);break;default:N("value",e[t],n)}else"select"===n.tag?(s="onclick",n.props.multiple?(r=n=>{const o=n.target.value;if(n.ctrlKey){const n=e[t].indexOf(o);-1===n?e[t].push(o):e[t].splice(n,1)}else e[t].splice(0,e[t].length),e[t].push(o)},n.children.forEach(n=>{if("option"===n.tag){const o="value"in n.props?n.props.value:n.children.join("").trim();n.props.selected=-1!==e[t].indexOf(o)}})):n.children.forEach(n=>{if("option"===n.tag){const o="value"in n.props?n.props.value:n.children.join("").trim();n.props.selected=o===e[t]}})):"textarea"===n.tag&&(n.children=[e[t]]);const i=n.props[s];N(s,e=>{r(e),i&&i(e)},n)},"v-class":(e,n)=>{if("string"==typeof e)n.dom.className=e;else if(Array.isArray(e))n.dom.className=e.join(" ");else if("object"==typeof e){const o=n.dom.classList;for(const n in e){const t="function"==typeof e[n]?e[n]():e[n];o.toggle(n,t)}}},class(e,n){if(n.dom.className!==e){if(n.isSVG)return void n.dom.setAttribute("class",e);n.dom.className=e}},className(e,n){y.class(e,n)},id:(e,n)=>{if(n.dom.id!==e){if(n.isSVG)return void n.dom.setAttribute("id",e);n.dom.id=e}},style:(e,n)=>{if("string"==typeof e){if(n.isSVG)return void n.dom.setAttribute("style",e);n.dom.style=e}else if("object"==typeof e){n.isSVG?n.dom.setAttribute("style",""):n.dom.style="";const o=n.dom.style;for(const n in e)o[n]=e[n]}}};var g,C=new Set;function V(e){u.event=e;let n=e.target;const o=`on${e.type}`;for(;n;){const t=n.vnode;if(t&&t.props[o])return t.props[o](e,t),void(e.defaultPrevented||G());n=n.parentNode}u.event=null}function w(e,n,o){const t=o.dom;"function"!=typeof n?o.isSVG||!(e in t)?!1===n?t.removeAttribute(e):t.setAttribute(e,n):t[e]=n:C.has(e)||(p.dom.addEventListener(e.slice(2),V),C.add(e))}function N(e,n,o){f.has(e)||(o.props[e]=n,w(e,n,o))}function x(e,n){const o=e.dom,t=e.props;if(o.vnode=e,n)for(const s in n.props)s in t!=!1||C.has(s)||f.has(s)||(!e.isSVG&&s in o?o[s]=null:o.removeAttribute(s));for(const o in t)if(y[o]){if(!1===y[o](t[o],e,n?.props))break}else f.has(o)||w(o,t[o],e)}function b(e,n){return n?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function S(e){let t,s=0;if("v-for"in e.props==!1)t=[...e.children];else{t=[];const n=e.props["v-for"],o=n.length,s=e.children[0];if("function"!=typeof s)return console.warn("v-for directive must have a callback function as children"),t;for(let e=0;e<o;e++)t[e]=s(n[e],e)}for(e.directComponents&&e.directComponents.clear();s<t.length;){const r=t[s];if(null!=r)if(Array.isArray(r))t.splice(s,1,...r);else{if(r instanceof n){if(r.props=r.props||{},r.isSVG=e.isSVG||"svg"===r.tag,"string"!=typeof r.tag){const n=u.component=r.tag;e.directComponents=e.directComponents||new Set,e.directComponents.add(n),t[s]=(o(n)?n.view:n).bind(n)(r.props,r.children);continue}e.hasKeys=e.hasKeys||"key"in r.props}s++}else t.splice(s,1)}return t}function k(e,o,t){if(t?(e.dom=b(e.tag,e.isSVG),o.dom.replaceChild(e.dom,t)):e.dom=o.dom.appendChild(b(e.tag,e.isSVG)),x(e),"v-text"in e.props)return void(e.dom.textContent=e.props["v-text"]);u.oldVnode=null,u.vnode=e;const s=S(e);if(0!==s.length)for(let o=0,t=s.length;o<t;o++)s[o]instanceof n!=!1?k(s[o],e):e.dom.appendChild(document.createTextNode(s[o]));else e.dom.textContent=""}function A(e,o){u.oldVnode=o,u.vnode=e;const t=S(e),s=e.dom;if(0===t.length)return void(s.childNodes.length&&(s.textContent=""));const r=s.childNodes,i=r.length,d=t.length;if(0===i){for(let o=0;o<d;o++){const r=t[o];r instanceof n!=!1?k(r,e):s.appendChild(document.createTextNode(r))}return void(e.oncreate&&h(e.oncreate))}let l=r;const c={};if(e.hasKeys){const e=[];for(let n=0,o=l.length;n<o;n++){e[n]=l[n];const o=l[n].vnode;c[o&&"key"in o.props!=!1?o.props.key:n]=n}l=e}for(let o=0,i=t.length;o<i;o++){const i=t[o];if(i instanceof n==!1){const e=l[o];if(!e){s.appendChild(document.createTextNode(i));continue}if(3!==e.nodeType){s.replaceChild(document.createTextNode(i),e);continue}e.nodeValue!=i&&(e.nodeValue=i);continue}const d=l[e.hasKeys?c[i.props.key||o]:o];if(!d||i.tag!==d.nodeName.toLowerCase()){k(i,e,r[o]);continue}i.dom=d;const p=r[o],a=d.vnode;if(p?p!==d&&s.replaceChild(d,p):s.appendChild(d),"v-keep"in i.props&&a){if(a.props["v-keep"]===i.props["v-keep"])continue;const e=r[o+1]?.vnode?.props;if(e&&"key"in e==!1&&e["v-keep"]===i.props["v-keep"]){d.remove(),l.splice(o,1);continue}}x(i,a),"v-text"in i.props?d.textContent!=i.props["v-text"]&&(d.textContent=i.props["v-text"]):(h(a?.oncleanup),A(i,a||null),h(a?.onremove))}for(let e=r.length,n=t.length;e>n;e--)r[e-1].remove();h(e.oncreate),h(e.onupdate)}function T(e,n=!0){e.props=e.props||{},n&&h(e.oncleanup);const o=e.onremove?new Set(e.onremove):null;u.vnode=e,A(e,n?e:null),h(o),a=!0,u.oldVnode=null,u.vnode=null,u.component=null}function G(){return p&&(p.children=[c],T(p,a),e)?p.dom.innerHTML:""}var E=e?G:()=>requestAnimationFrame(G);var L={Vnode:n,createElement:b,current:u,debouncedUpdate:function(e=42){u.event&&u.event.preventDefault(),clearTimeout(g),g=setTimeout(E,e)},directive:function(e,n){const o=`v-${e}`;y[o]=n,f.add(o)},directives:y,hidrateDomToVnode:d,isComponent:t,isNodeJs:e,isPOJOComponent:o,isVnode:s,isVnodeComponent:r,mount:function(n,o){const s="string"==typeof n?e?b(n,"svg"===n):document.querySelector(n):n;return c=t(o)?i(o,{},[]):r(o)?o:i(()=>o,{},[]),p=d(s),G()},onCleanup:e=>{m(),v(e,"oncleanup",u.vnode)},onCreate:e=>{m(),u.oldVnode||v(e,"oncreate",u.vnode)},onRemove:e=>{m();const n=u.vnode,o=u.component;let t=!1;v(function(){n.directComponents&&n.directComponents.has(o)||t||(t=!0,e())},"onremove",u.vnode)},onUpdate:e=>{m(),u.oldVnode&&v(e,"onupdate",u.vnode)},reservedProps:f,setAttribute:N,setPropNameReserved:function(e){f.add(e)},trust:l,unmount:function(){if(p){c=i(()=>null,{});const e=G();for(const e in C)p.dom.removeEventListener(e.slice(2).toLowerCase(),V),Reflect.deleteProperty(C,e);return h(p.onremove),c=null,p=null,a=!1,u.vnode=null,u.component=null,u.event=null,e}return""},update:G,updateAttributes:x,updateVnode:T,v:i};"undefined"!=typeof module?module.exports=L:self.Valyrian=L})();//# sourceMappingURL=index.min.js.map