(()=>{var e="#text",o=Boolean("undefined"!=typeof process&&process.versions&&process.versions.node);function n(e,o=!1){return o?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}var t=function(e,o,n){this.tag=e,this.props=o,this.children=n};function r(e){return Boolean(e&&("function"==typeof e||"object"==typeof e&&"view"in e))}var d=e=>e instanceof t,i=e=>d(e)&&r(e.tag);function l(o){if(3===o.nodeType){const n=new t(e,{},[o.nodeValue]);return n.dom=o,n}const n=[];for(let e=0,t=o.childNodes.length;e<t;e++){const t=o.childNodes[e];1!==t.nodeType&&3!==t.nodeType||n.push(l(t))}const r={};for(let e=0,n=o.attributes.length;e<n;e++){const n=o.attributes[e];r[n.nodeName]=n.nodeValue}const d=new t(o.tagName.toLowerCase(),r,n);return d.dom=o,d}function s(e){const o=n("div");return o.innerHTML=e.trim(),[].map.call(o.childNodes,e=>l(e))}var p=null,c=null,a=!1,u={vnode:null,oldVnode:null,component:null,event:null},m={key:!0,state:!0,"v-keep":!0,"v-if":!0,"v-unless":!0,"v-for":!0,"v-show":!0,"v-class":!0,"v-html":!0,"v-model":!0,"v-create":!0,"v-update":!0,"v-cleanup":!0},f=new Set,v=new Set,h=new Set,g=new Set;function y(e){f.add(e)}function w(e){for(const o of e)o();e.clear()}var V={};function k(e){u.event=e;let o=e.target;const n=`v-on${e.type}`;for(;o;){if(o[n])return o[n](e,o),void(e.defaultPrevented||A());o=o.parentNode}u.event=null}var C=e=>(o,n,t)=>{if(e?o:!o){const e=document.createTextNode("");return t&&t.dom&&t.dom.parentNode&&t.dom.parentNode.replaceChild(e,t.dom),n.tag="#text",n.children=[],n.props={},n.dom=e,!1}},S={"v-if":C(!1),"v-unless":C(!0),"v-for":(e,o)=>{const n=[],t=o.children[0];for(let o=0,r=e.length;o<r;o++)n.push(t(e[o],o));o.children=n},"v-show":(e,o)=>{o.dom.style.display=e?"":"none"},"v-class":(e,o)=>{for(const n in e)o.dom.classList.toggle(n,e[n])},"v-html":(e,o)=>{o.children=[s(e)]},"v-model":([e,o,n],t,r)=>{let d,i=n=>e[o]=n.target.value;if("input"===t.tag)switch(n=n||"oninput",t.props.type){case"checkbox":Array.isArray(e[o])?(i=n=>{const t=n.target.value,r=e[o].indexOf(t);-1===r?e[o].push(t):e[o].splice(r,1)},d=-1!==e[o].indexOf(t.dom.value)):"value"in t.props?(i=()=>{e[o]===t.props.value?e[o]=null:e[o]=t.props.value},d=e[o]===t.props.value):(i=()=>e[o]=!e[o],d=e[o]),x("checked",d,t);break;case"radio":x("checked",e[o]===t.dom.value,t);break;default:x("value",e[o],t)}else"select"===t.tag?(n=n||"onclick",t.props.multiple?(i=n=>{const t=n.target.value;if(n.ctrlKey){const n=e[o].indexOf(t);-1===n?e[o].push(t):e[o].splice(n,1)}else e[o].splice(0,e[o].length),e[o].push(t)},t.children.forEach(n=>{if("option"===n.tag){const t="value"in n.props?n.props.value:n.children.join("").trim();n.props.selected=-1!==e[o].indexOf(t)}})):t.children.forEach(n=>{if("option"===n.tag){const t="value"in n.props?n.props.value:n.children.join("").trim();n.props.selected=t===e[o]}})):"textarea"===t.tag&&(n=n||"oninput",t.children=[e[o]]);const l=t.props[n];x(n,e=>{i(e),l&&l(e)},t,r)},"v-create":(e,o,n)=>{if(!n){const n=e(o);"function"==typeof n&&y(n)}},"v-update":(e,o,n)=>{if(n){const t=e(o,n);"function"==typeof t&&y(t)}},"v-cleanup":(e,o,n)=>{y(()=>e(o,n))}};function x(e,o,n,t){if("function"==typeof o)return e in V==!1&&(c.dom.addEventListener(e.slice(2),k),V[e]=!0),void(n.dom[`v-${e}`]=o);!1===n.isSVG&&e in n.dom?n.dom[e]!=o&&(n.dom[e]=o):t&&o===t.props[e]||(!1===o?n.dom.removeAttribute(e):n.dom.setAttribute(e,o))}function N(e,o){if(o)for(const n in o.props)e.props[n]||V[n]||m[n]||(!1===e.isSVG&&n in e.dom?e.dom[n]=null:e.dom.removeAttribute(n));for(const n in e.props)if(m[n]){if(S[n]&&!1===S[n](e.props[n],e,o))break}else x(n,e.props[n],e,o)}function b(o,r){if(0===o.children.length)return void(o.dom.textContent="");const d=o.children,i=r?.children||[],l=i.length;let s=d.length;u.vnode=o,u.oldVnode=r;let p=0;for(;p<s;){const o=d[p];if(o instanceof t){if("string"!=typeof o.tag){u.component=o.tag,d.splice(p,1,("view"in o.tag?o.tag.view.bind(o.tag):o.tag.bind(o.tag))(o.props,...o.children)),s=d.length;continue}p++}else Array.isArray(o)?(d.splice(p,1,...o),s=d.length):null==o?(d.splice(p,1),s=d.length):(d[p]=new t(e,{},[o]),p++)}if(0!==s)if(l>0&&d[0]instanceof t&&i[0]instanceof t&&"key"in d[0].props&&"key"in i[0].props){const e={},t={},r=o.dom.childNodes;for(let o=0;o<l;o++)e[i[o].props.key]=o,o<s&&(t[d[o].props.key]=o);for(let t=0;t<s;t++){const l=d[t],s=i[e[l.props.key]];let p=!0;s?(l.dom=s.dom,"v-keep"in l.props&&l.props["v-keep"]===s.props["v-keep"]?(l.children=s.children,p=!1):N(l,s)):(l.dom=n(l.tag,l.isSVG),N(l));const c=r[t];c?c!==l.dom&&o.dom.replaceChild(l.dom,c):o.dom.appendChild(l.dom),p&&b(l,s)}for(let e=s;e<l;e++)if(!t[i[e].props.key]){const o=i[e].dom;o.parentNode&&o.parentNode.removeChild(o)}}else{for(let t=0;t<s;t++){const r=d[t],s=i[t],p=t>=l;r.tag!==e?(r.isSVG=o.isSVG||"svg"===r.tag,p||r.tag!==s.tag?(r.dom=n(r.tag,r.isSVG),N(r),p?o.dom.appendChild(r.dom):o.dom.replaceChild(r.dom,s.dom),b(r)):(r.dom=s.dom,"v-keep"in r.props&&r.props["v-keep"]===s.props["v-keep"]?r.children=s.children:(N(r,s),b(r,s)))):p||s.tag!==e?(r.dom=document.createTextNode(r.children[0]),p?o.dom.appendChild(r.dom):o.dom.replaceChild(r.dom,s.dom)):(r.dom=s.dom,r.children[0]!==s.dom.textContent&&(s.dom.textContent=r.children[0]))}for(;s<l;s++)o.dom.removeChild(i[s].dom)}else o.dom.textContent=""}function A(){if(c){w(f);const e=c;if((c=new t(e.tag,e.props,[p])).dom=e.dom,c.isSVG=e.isSVG,b(c,e),w(a?h:v),a=!0,u.vnode=null,u.oldVnode=null,u.component=null,o)return c.dom.innerHTML}}function G(){if(c){p=new t(()=>null,{},[]);const e=A();w(g);for(const e in V)c.dom.removeEventListener(e.slice(2).toLowerCase(),k),Reflect.deleteProperty(V,e);return p=null,c=null,a=!1,u.vnode=null,u.oldVnode=null,u.component=null,e}}var T=(e,o,...n)=>new t(e,o||{},n);T.fragment=(e,...o)=>o;var L={Vnode:t,createDomElement:n,current:u,directive:function(e,o){const n=`v-${e}`;S[n]=o,m[n]=!0},directives:S,domToVnode:l,isComponent:r,isNodeJs:o,isVnode:d,isVnodeComponent:i,mount:function(e,d){const s="string"==typeof e?o?n(e,"svg"===e):document.querySelectorAll(e)[0]:e,a=i(d)?d:r(d)?new t(d,{},[]):new t(()=>d,{},[]);return p&&p.tag!==a.tag&&G(),p=a,c=l(s),A()},onCleanup:y,onMount:function(e){a||v.add(e)},onUnmount:function(e){a||g.add(e)},onUpdate:function(e){h.add(e)},patch:b,reservedProps:m,setAttribute:function(e,o,n,t){m[e]||(n.props[e]=o,x(e,o,n,t))},trust:s,unmount:G,update:A,updateAttributes:N,updateVnode:function(e,n){if(w(f),b(e,n),n.tag=e.tag,n.props={...e.props},n.children=[...e.children],n.dom=e.dom,n.isSVG=e.isSVG,w(a?h:v),a=!0,u.vnode=null,u.oldVnode=null,u.component=null,o)return e.dom.innerHTML},v:T};"undefined"!=typeof module?module.exports=L:self.Valyrian=L})();//# sourceMappingURL=index.min.js.map