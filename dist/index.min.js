(()=>{var e="#text",t=Boolean("undefined"!=typeof process&&process.versions&&process.versions.node);function o(e,t=!1){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}var n=function(e,t,o){this.tag=e,this.props=t,this.children=o};function l(e){return Boolean(e&&("function"==typeof e||"object"==typeof e&&"view"in e))}var d=e=>e instanceof n,i=e=>d(e)&&l(e.tag);function r(t){if(3===t.nodeType){let o=new n(e,{},[t.nodeValue]);return o.dom=t,o}let o=[];for(let e=0,n=t.childNodes.length;e<n;e++){let n=t.childNodes[e];1!==n.nodeType&&3!==n.nodeType||o.push(r(n))}let l={};for(let e=0,o=t.attributes.length;e<o;e++){let o=t.attributes[e];l[o.nodeName]=o.nodeValue}let d=new n(t.tagName.toLowerCase(),l,o);return d.dom=t,d}function p(e){let t=o("div");return t.innerHTML=e.trim(),[].map.call(t.childNodes,e=>r(e))}var s=null,a=null,c=!1,u={vnode:null,oldVnode:null,component:null,event:null},m={key:!0,state:!0,"v-keep":!0,"v-if":!0,"v-unless":!0,"v-for":!0,"v-show":!0,"v-class":!0,"v-html":!0,"v-model":!0,"v-create":!0,"v-update":!0,"v-cleanup":!0},f=new Set,v=new Set,h=new Set,g=new Set;function y(e){f.add(e)}function w(e){for(let t of e)t();e.clear()}var V={};function k(e){u.event=e;let t=e.target,o=`v-on${e.type}`;for(;t;){if(t[o])return t[o](e,t),void(e.defaultPrevented||G());t=t.parentNode}u.event=null}var C=e=>(t,o,n)=>{if(e?t:!t){let e=document.createTextNode("");return n&&n.dom&&n.dom.parentNode&&n.dom.parentNode.replaceChild(e,n.dom),o.tag="#text",o.children=[],o.props={},o.dom=e,!1}},N={"v-if":C(!1),"v-unless":C(!0),"v-for":(e,t)=>{let o=[],n=t.children[0];for(let t=0,l=e.length;t<l;t++)o.push(n(e[t],t));t.children=o},"v-show":(e,t)=>{t.dom.style.display=e?"":"none"},"v-class":(e,t)=>{for(let o in e)t.dom.classList.toggle(o,e[o])},"v-html":(e,t)=>{t.children=[p(e)]},"v-model":([e,t,o],n,l)=>{let d,i=o=>e[t]=o.target.value;if("input"===n.tag)switch(o=o||"oninput",n.props.type){case"checkbox":Array.isArray(e[t])?(i=o=>{let n=o.target.value,l=e[t].indexOf(n);-1===l?e[t].push(n):e[t].splice(l,1)},d=-1!==e[t].indexOf(n.dom.value)):"value"in n.props?(i=()=>{e[t]===n.props.value?e[t]=null:e[t]=n.props.value},d=e[t]===n.props.value):(i=()=>e[t]=!e[t],d=e[t]),S("checked",d,n);break;case"radio":S("checked",e[t]===n.dom.value,n);break;default:S("value",e[t],n)}else"select"===n.tag?(o=o||"onclick",n.props.multiple?(i=o=>{let n=o.target.value;if(o.ctrlKey){let o=e[t].indexOf(n);-1===o?e[t].push(n):e[t].splice(o,1)}else e[t].splice(0,e[t].length),e[t].push(n)},n.children.forEach(o=>{if("option"===o.tag){let n="value"in o.props?o.props.value:o.children.join("").trim();o.props.selected=-1!==e[t].indexOf(n)}})):n.children.forEach(o=>{if("option"===o.tag){let n="value"in o.props?o.props.value:o.children.join("").trim();o.props.selected=n===e[t]}})):"textarea"===n.tag&&(o=o||"oninput",n.children=[e[t]]);let r=n.props[o];S(o,e=>{i(e),r&&r(e)},n,l)},"v-create":(e,t,o)=>{if(!o){let o=e(t);"function"==typeof o&&y(o)}},"v-update":(e,t,o)=>{if(o){let n=e(t,o);"function"==typeof n&&y(n)}},"v-cleanup":(e,t,o)=>{y(()=>e(t,o))}};function S(e,t,o,n){if("function"==typeof t)return e in V==!1&&(a.dom.addEventListener(e.slice(2),k),V[e]=!0),void(o.dom[`v-${e}`]=t);e in o.dom&&!1===o.isSVG?o.dom[e]!=t&&(o.dom[e]=t):n&&t===n.props[e]||(!1===t?o.dom.removeAttribute(e):o.dom.setAttribute(e,t))}function x(e,t){if(t)for(let o in t.props)o in e.props==!1&&o in V==!1&&o in m==!1&&(o in e.dom&&!1===e.isSVG?e.dom[o]=null:e.dom.removeAttribute(o));for(let o in e.props)if(o in m){if(o in N&&!1===N[o](e.props[o],e,t))break}else S(o,e.props[o],e,t)}function b(t,l){if(0===t.children.length)return void(t.dom.textContent="");let d=t.children,i=l?.children||[],r=i.length;if(r&&d[0]instanceof n&&"key"in d[0].props&&"key"in i[0].props){let e=d.length,n={};for(let e=0;e<r;e++)n[i[e].props.key]=e;let l={};for(let t=0;t<e;t++)l[d[t].props.key]=t;for(let l=0;l<e;l++){let e=d[l],r=i[n[e.props.key]],p=!0;r?(e.dom=r.dom,"v-keep"in e.props&&e.props["v-keep"]===r.props["v-keep"]?(e.children=r.children,p=!1):x(e,r)):(e.dom=o(e.tag,e.isSVG),x(e)),t.dom.childNodes[l]?t.dom.childNodes[l]!==e.dom&&t.dom.replaceChild(e.dom,t.dom.childNodes[l]):t.dom.appendChild(e.dom),p&&b(e,r)}for(let t=e;t<r;t++)l[i[t].props.key]||i[t].dom.parentNode&&i[t].dom.parentNode.removeChild(i[t].dom)}else if(0!==d.length){u.vnode=t,u.oldVnode=l;for(let t=0;t<d.length;t++){let o=d[t];o instanceof n?"string"!=typeof o.tag&&(u.component=o.tag,d.splice(t--,1,("view"in o.tag?o.tag.view.bind(o.tag):o.tag.bind(o.tag))(o.props,...o.children))):Array.isArray(o)?d.splice(t--,1,...o):null!=o?d[t]=new n(e,{},[o]):d.splice(t--,1)}for(let n=0;n<d.length;n++){let l=d[n];if(l.tag===e){if(n>=r){l.dom=document.createTextNode(l.children[0]),t.dom.appendChild(l.dom);continue}let o=i[n];if(o.tag!==e){l.dom=document.createTextNode(l.children[0]),t.dom.replaceChild(l.dom,o.dom);continue}l.dom=o.dom,l.children[0]!=o.dom.textContent&&(o.dom.textContent=l.children[0]);continue}if(l.isSVG=t.isSVG||"svg"===l.tag,n>=r){l.dom=o(l.tag,l.isSVG),x(l),t.dom.appendChild(l.dom),b(l);continue}let p=i[n];l.tag===p.tag?(l.dom=p.dom,"v-keep"in l.props&&l.props["v-keep"]===p.props["v-keep"]?l.children=p.children:(x(l,p),b(l,p))):(l.dom=o(l.tag,l.isSVG),x(l),t.dom.replaceChild(l.dom,p.dom),b(l))}for(let e=d.length;e<r;e++)t.dom.removeChild(i[e].dom)}else t.dom.textContent=""}function G(){if(a){w(f);let e=a;if((a=new n(e.tag,e.props,[s])).dom=e.dom,a.isSVG=e.isSVG,b(a,e),w(c?h:v),c=!0,u.vnode=null,u.oldVnode=null,u.component=null,t)return a.dom.innerHTML}}function A(){if(a){s=new n(()=>null,{},[]);let e=G();w(g);for(let e in V)a.dom.removeEventListener(e.slice(2).toLowerCase(),k),Reflect.deleteProperty(V,e);return s=null,a=null,c=!1,u.vnode=null,u.oldVnode=null,u.component=null,e}}var T=(e,t={},...o)=>new n(e,t||{},o);T.fragment=(e,...t)=>t;var L={Vnode:n,createDomElement:o,current:u,directive:function(e,t){let o=`v-${e}`;N[o]=t,m[o]=!0},directives:N,domToVnode:r,isComponent:l,isNodeJs:t,isVnode:d,isVnodeComponent:i,mount:function(e,d){let p="string"==typeof e?t?o(e,"svg"===e):document.querySelectorAll(e)[0]:e,c=i(d)?d:l(d)?new n(d,{},[]):new n(()=>d,{},[]);return s&&s.tag!==c.tag&&A(),s=c,a=r(p),G()},onCleanup:y,onMount:function(e){c||v.add(e)},onUnmount:function(e){c||g.add(e)},onUpdate:function(e){h.add(e)},patch:b,reservedProps:m,setAttribute:function(e,t,o,n){e in m||(o.props[e]=t,S(e,t,o,n))},trust:p,unmount:A,update:G,updateAttributes:x,updateVnode:function(e,o){if(w(f),b(e,o),o.tag=e.tag,o.props={...e.props},o.children=[...e.children],o.dom=e.dom,o.isSVG=e.isSVG,w(c?h:v),c=!0,u.vnode=null,u.oldVnode=null,u.component=null,t)return e.dom.innerHTML},v:T};"undefined"!=typeof module?module.exports=L:self.Valyrian=L})();//# sourceMappingURL=index.min.js.map