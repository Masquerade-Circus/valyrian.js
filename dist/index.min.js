(()=>{var e=Boolean("undefined"!=typeof process&&process.versions&&process.versions.node),o=class{constructor(e,o,t,n,s){this.tag=e,this.props=o,this.children=t,this.dom=n,this.isSVG=s}},t=e=>Boolean(e&&"object"==typeof e&&"view"in e),n=e=>Boolean("function"==typeof e||t(e)),s=e=>e instanceof o,r=e=>s(e)&&n(e.tag);function i(e,t,...n){return new o(e,t,n)}function p(e){if(3===e.nodeType)return e.nodeValue;if(1===e.nodeType){const t=e.nodeName.toLowerCase(),n={},s=[];for(let o=0,t=e.childNodes.length;o<t;o++){const t=e.childNodes[o];if(3===t.nodeType)s.push(t.nodeValue);else if(1===t.nodeType){const e=p(t);s.push(e)}}const r=e.attributes;for(let e=0,o=r.length;e<o;e++){const o=r[e];n[o.nodeName]=o.nodeValue}const i=new o(t,n,s);return i.dom=e,i.isSVG="svg"===t,i}}function l(e){const o=document.createElement("div");return o.innerHTML=e.trim(),Array.from(o.childNodes).map(p)}i.fragment=(e,...o)=>o;var c=null,d=null,a=!1,u={vnode:null,component:null,event:null},f=new Set(["key","state","v-keep","v-text","v-if","v-for","v-show","v-class","v-html","v-model","v-create","v-update","v-cleanup"]),m=new Set,v=new Set,h=new Set,g=new Set,y=e=>m.add(e),x=e=>{for(const o of e)o();e.clear()},N={"v-if":(e,o)=>{if(!Boolean(e)){const e=o.dom?.parentNode;return e&&e.replaceChild(document.createTextNode(""),o.dom),!1}},"v-show":(e,o)=>{const t=Boolean(e);o.dom.style.display=t?"":"none"},"v-html":(e,o)=>{o.children=l(e)},"v-model":(e,o)=>{if("name"in o.props==!1)return;let t;const n=o.props.name;let s="oninput",r=o=>e[n]=o.target.value;if("input"===o.tag)switch(o.props.type){case"checkbox":Array.isArray(e[n])?(r=o=>{const t=o.target.value,s=e[n].indexOf(t);-1===s?e[n].push(t):e[n].splice(s,1)},t=-1!==e[n].indexOf(o.dom.value)):"value"in o.props?(r=()=>{e[n]===o.props.value?e[n]=null:e[n]=o.props.value},t=e[n]===o.props.value):(r=()=>e[n]=!e[n],t=e[n]),V("checked",t,o);break;case"radio":V("checked",e[n]===o.dom.value,o);break;default:V("value",e[n],o)}else"select"===o.tag?(s="onclick",o.props.multiple?(r=o=>{const t=o.target.value;if(o.ctrlKey){const o=e[n].indexOf(t);-1===o?e[n].push(t):e[n].splice(o,1)}else e[n].splice(0,e[n].length),e[n].push(t)},o.children.forEach(o=>{if("option"===o.tag){const t="value"in o.props?o.props.value:o.children.join("").trim();o.props.selected=-1!==e[n].indexOf(t)}})):o.children.forEach(o=>{if("option"===o.tag){const t="value"in o.props?o.props.value:o.children.join("").trim();o.props.selected=t===e[n]}})):"textarea"===o.tag&&(o.children=[e[n]]);const i=o.props[s];V(s,e=>{r(e),i&&i(e)},o)},"v-create":(e,o,t)=>{if(!t){const t=e(o);"function"==typeof t&&y(t)}},"v-update":(e,o,t)=>{if(t){const n=e(o,t);"function"==typeof n&&y(n)}},"v-cleanup":(e,o)=>{y(()=>e(o))},"v-class":(e,o)=>{if("string"==typeof e)o.dom.className=e;else if(Array.isArray(e))o.dom.className=e.join(" ");else if("object"==typeof e){const t=o.dom.classList;for(const o in e){const n="function"==typeof e[o]?e[o]():e[o];t.toggle(o,n)}}},class(e,o){o.dom.className!==e&&(o.dom.className=e)},className(e,o){N.class(e,o,null)},id:(e,o)=>{o.dom.id=e},style:(e,o)=>{if("string"==typeof e)o.dom.style=e;else if("object"==typeof e){o.dom.style="";const t=o.dom.style;for(const o in e)t[o]=e[o]}}};var C,k=new Set;function w(e){u.event=e;let o=e.target;const t=`on${e.type}`;for(;o;){const n=o.props;if(n&&n[t])return n[t](e,o),void(e.defaultPrevented||G());o=o.parentNode}u.event=null}function V(e,o,t){const n=t.dom;"function"!=typeof o?e in n?n[e]=o:!1===o?n.removeAttribute(e):n.setAttribute(e,o):k.has(e)||(d.dom.addEventListener(e.slice(2),w),k.add(e))}function b(e,o){const t=e.dom,n=e.props;if(o)for(const e in o)e in n!=!1||k.has(e)||f.has(e)||(e in t?t[e]=null:t.removeAttribute(e));for(const t in n)if(N[t]){if(!1===N[t](n[t],e,o))break}else f.has(t)||V(t,n[t],e)}function A(e,o){return o?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function S(e){if(u.vnode=e,"v-for"in e.props){const t=[],n=e.props["v-for"],s=n.length,r=e.children[0];for(let i=0;i<s;i++){const s=r(n[i],i);s instanceof o&&(s.props=s.props||{},s.isSVG=e.isSVG||"svg"===s.tag),t[i]=s}return t}let n=0;const s=e.children;let r=s;for(;n<r.length;){const i=r[n];if(null!=i)if(Array.isArray(i))r===s&&(r=[...s]),r.splice(n,1,...i);else if(i instanceof o&&(i.props=i.props||{},i.isSVG=e.isSVG||"svg"===i.tag,"string"!=typeof i.tag)){r===s&&(r=[...s]);const e=u.component=i.tag;r[n]=(t(e)?e.view:e).bind(e)(i.props,i.children)}else n++;else r===s&&(r=[...s]),r.splice(n,1)}return r}function T(e,t,n){const s=A(e.tag,e.isSVG);if(n?t.dom.replaceChild(s,n):t.dom.appendChild(s),e.dom=s,b(e,null),e.dom.props=e.props,"v-text"in e.props)return void(e.dom.textContent=e.props["v-text"]);const r=S(e);if(0!==r.length)for(let t=0,n=r.length;t<n;t++)r[t]instanceof o!=!1?T(r[t],e,null):e.dom.appendChild(document.createTextNode(r[t]));else e.dom.textContent=""}function E(e){const t=S(e),n=e.dom;if(0===t.length)return void(n.childNodes.length&&(n.textContent=""));const s=n.childNodes,r=s.length;if(r>0){const n=s[0].props,r=t[0];if(n&&r instanceof o&&"key"in r.props&&"key"in n)return void function(e,t){const n=[...Array.from(e.dom.childNodes)],s=e.dom.childNodes,r={},i={};for(let e=0,s=n.length;e<s;e++){const s=n[e].props;s&&(r[s.key]=e),e<t.length&&t[e]instanceof o&&(i[t[e].props.key]=e)}for(let o=0,i=t.length;o<i;o++){const i=t[o],p=n[r[i.props.key]];if(!p){T(i,e,s[o]);continue}i.dom=p;const l=s[o];if(l?l!==p&&e.dom.replaceChild(p,l):e.dom.appendChild(p),"v-keep"in i.props==0||p.props["v-keep"]!==i.props["v-keep"]){if(b(i,p.props),p.props=i.props,"v-text"in i.props){p.textContent!=i.props["v-text"]&&(p.textContent=i.props["v-text"]);continue}E(i)}}for(let e=t.length,o=s.length;e<o;e++)s[e]?.remove()}(e,t)}const i=t.length;if(0!==r){for(let n=0;n<i;n++){const r=t[n],i=s[n];if(i)if(r instanceof o!=!1){if("v-keep"in r.props){if(i.props&&i.props["v-keep"]===r.props["v-keep"])continue;const e=s[n+1];if(e&&e.props&&e.props["v-keep"]===r.props["v-keep"]){i.remove();continue}}r.tag===i.nodeName.toLowerCase()?(r.dom=i,b(r,i.props||null),i.props=r.props,"v-text"in r.props?r.dom.textContent!=r.props["v-text"]&&(r.dom.textContent=r.props["v-text"]):E(r)):T(r,e,i)}else{if(3!==i.nodeType){e.dom.replaceChild(document.createTextNode(r),i);continue}i.nodeValue!=r&&(i.nodeValue=r)}else{if(r instanceof o==!1){e.dom.appendChild(document.createTextNode(r));continue}T(r,e,null)}}for(let e=i,o=s.length;e<o;e++)s[e]?.remove()}else for(let s=0;s<i;s++)t[s]instanceof o!=!1?T(t[s],e,null):n.appendChild(document.createTextNode(t[s]))}function L(e){x(m),e.props=e.props||{},E(e),x(a?h:v),a=!0,u.vnode=null,u.component=null}function G(){if(d&&(d.children=[c],L(d),e))return d.dom.innerHTML}var j=e?clearTimeout:cancelAnimationFrame,O=e?()=>setTimeout(G,5):()=>requestAnimationFrame(G);var B={Vnode:o,createElement:A,current:u,debouncedUpdate:function(){j(C),C=O()},directive:function(e,o){const t=`v-${e}`;N[t]=o,f.add(t)},directives:N,hidrateDomToVnode:p,isComponent:n,isNodeJs:e,isPOJOComponent:t,isVnode:s,isVnodeComponent:r,mount:function(t,s){const i=void 0===s?document.body:"string"==typeof t?e?A(t,"svg"===t):document.querySelector(t):t;let l=void 0===s?t:s;return c=n(l)?new o(l,{},[]):r(l)?l:new o(()=>l,{},[]),d=p(i),G()},onCleanup:y,onMount:e=>!a&&v.add(e),onUnmount:e=>!a&&g.add(e),onUpdate:e=>h.add(e),reservedProps:f,setAttribute:function(e,o,t){f.has(e)||(t.props[e]=o,V(e,o,t))},setPropNameReserved:function(e){f.add(e)},trust:l,unmount:function(){if(d){c=i(()=>null,{});const e=G();x(g);for(const e in k)d.dom.removeEventListener(e.slice(2).toLowerCase(),w),Reflect.deleteProperty(k,e);return c=null,d=null,a=!1,u.vnode=null,u.component=null,u.event=null,e}},update:G,updateAttributes:b,updateVnode:L,v:i};"undefined"!=typeof module?module.exports=B:self.Valyrian=B})();//# sourceMappingURL=index.min.js.map