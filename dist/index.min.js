(()=>{var e=Boolean("undefined"!=typeof process&&process.versions&&process.versions.node),n=class{constructor(e,n,t,o,s){this.tag=e,this.props=n,this.children=t,this.dom=o,this.isSVG=s}},t=e=>Boolean("function"==typeof e||e&&"object"==typeof e&&"view"in e),o=e=>e instanceof n,s=e=>o(e)&&t(e.tag);function r(e,t,...o){return new n(e,t,o)}function i(e){if(3===e.nodeType)return e.nodeValue;if(1===e.nodeType){const t=e.nodeName.toLowerCase(),o={},s=[];for(let n=0,t=e.childNodes.length;n<t;n++){const t=e.childNodes[n];if(3===t.nodeType)s.push(t.nodeValue);else if(1===t.nodeType){const e=i(t);s.push(e)}}const r=e.attributes;for(let e=0,n=r.length;e<n;e++){const n=r[e];o[n.nodeName]=n.nodeValue}const l=new n(t,o,s);return l.dom=e,l.isSVG="svg"===t,l}}function l(e){const n=document.createElement("div");return n.innerHTML=e.trim(),Array.from(n.childNodes).map(i)}r.fragment=(e,...n)=>n;var p=null,c=null,d=!1,a={vnode:null,component:null,event:null},u=new Set(["key","state","v-keep","v-text","v-if","v-for","v-show","v-class","v-html","v-model","v-create","v-update","v-cleanup"]),f=new Set,v=new Set,m=new Set,h=new Set,g=e=>f.add(e),y=e=>{for(const n of e)n();e.clear()},x=e=>(n,t)=>{if(e!==Boolean(n)){const e=t.dom?.parentNode;if(e){const n=document.createTextNode("");e.replaceChild(n,t.dom)}return!1}},N={"v-if":x(!0),"v-unless":x(!1),"v-show":(e,n)=>{const t=Boolean(e);n.dom.style.display=t?"":"none"},"v-html":(e,n)=>{n.children=[l(e)]},"v-model":(e,n)=>{let t,[o,s,r]=e,i=e=>o[s]=e.target.value;if("input"===n.tag)switch(r=r||"oninput",n.props.type){case"checkbox":Array.isArray(o[s])?(i=e=>{const n=e.target.value,t=o[s].indexOf(n);-1===t?o[s].push(n):o[s].splice(t,1)},t=-1!==o[s].indexOf(n.dom.value)):"value"in n.props?(i=()=>{o[s]===n.props.value?o[s]=null:o[s]=n.props.value},t=o[s]===n.props.value):(i=()=>o[s]=!o[s],t=o[s]),C("checked",t,n);break;case"radio":C("checked",o[s]===n.dom.value,n);break;default:C("value",o[s],n)}else"select"===n.tag?(r=r||"onclick",n.props.multiple?(i=e=>{const n=e.target.value;if(e.ctrlKey){const e=o[s].indexOf(n);-1===e?o[s].push(n):o[s].splice(e,1)}else o[s].splice(0,o[s].length),o[s].push(n)},n.children.forEach(e=>{if("option"===e.tag){const n="value"in e.props?e.props.value:e.children.join("").trim();e.props.selected=-1!==o[s].indexOf(n)}})):n.children.forEach(e=>{if("option"===e.tag){const n="value"in e.props?e.props.value:e.children.join("").trim();e.props.selected=n===o[s]}})):"textarea"===n.tag&&(r=r||"oninput",n.children=[o[s]]);const l=n.props[r];C(r,e=>{i(e),l&&l(e)},n)},"v-create":(e,n,t)=>{if(!t){const t=e(n);"function"==typeof t&&g(t)}},"v-update":(e,n,t)=>{if(t){const o=e(n,t);"function"==typeof o&&g(o)}},"v-cleanup":(e,n)=>{g(()=>e(n))},"v-class":(e,n)=>{if("string"==typeof e)n.dom.className=e;else if(Array.isArray(e))n.dom.className=e.join(" ");else if("object"==typeof e){const t=n.dom.classList;for(const n in e){const o="function"==typeof e[n]?e[n]():e[n];t.toggle(n,o)}}},class(e,n){n.dom.className!==e&&(n.dom.className=e)},className(e,n){N.class(e,n,null)},id:(e,n)=>{n.dom.id=e},style:(e,n)=>{if("string"==typeof e)n.dom.style=e;else if("object"==typeof e){n.dom.style="";const t=n.dom.style;for(const n in e)t[n]=e[n]}}};var w=new Set;function k(e){a.event=e;let n=e.target;const t=`on${e.type}`;for(;n;){const o=n.props;if(o&&o[t])return o[t](e,n),void(e.defaultPrevented||G());n=n.parentNode}a.event=null}function C(e,n,t){const o=t.dom;"function"!=typeof n?e in o?o[e]=n:!1===n?o.removeAttribute(e):o.setAttribute(e,n):w.has(e)||(c.dom.addEventListener(e.slice(2),k),w.add(e))}function V(e,n){const t=e.props;for(const o in t)if(N[o]){if(!1===N[o](t[o],e,n))break}else u.has(o)||C(o,t[o],e)}function b(e,n){!function(e,n){if(!n)return;const t=e.dom,o=e.props;for(const e in n)e in o!=0||w.has(e)||u.has(e)||(e in t?t[e]=null:t.removeAttribute(e))}(e,n),V(e,n)}function A(e,n){return n?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function S(e,t){a.vnode=e;let o=0;for(;o<t.length;){const s=t[o];if(null!=s)if(Array.isArray(s))t.splice(o,1,...s);else{if(s instanceof n){if(null===s.props&&(s.props={}),"string"!=typeof s.tag){const e=s.tag;a.component=s.tag,t[o]=("view"in e?e.view:e).bind(e)(s.props,s.children);continue}s.isSVG=e.isSVG||"svg"===s.tag}o++}else t.splice(o,1)}return t}function T(e){if("v-for"in e.props){const n=e.props["v-for"],t=[],o=e.children[0];t.length=n.length;for(let e=0,s=n.length;e<s;e++)t[e]=o(n[e],e);return t}return[...e.children]}function E(e,t,o){const s=A(e.tag,e.isSVG);if(o?t.dom.replaceChild(s,o):t.dom.appendChild(s),e.dom=s,V(e,null),e.dom.props=e.props,"v-text"in e.props)return void(e.dom.textContent=e.props["v-text"]);const r=S(e,T(e));if(0!==r.length)for(let t=0,o=r.length;t<o;t++)r[t]instanceof n!=!1?E(r[t],e,null):e.dom.appendChild(document.createTextNode(r[t]));else e.dom.textContent=""}function L(e){const t=S(e,T(e)),o=e.dom;if(0===t.length)return void(o.childNodes.length&&(o.textContent=""));const s=o.childNodes,r=s.length;if(r>0){const o=s[0].props,r=t[0];if(o&&r instanceof n&&"key"in r.props&&"key"in o)return void function(e,t){const o=[...Array.from(e.dom.childNodes)],s=e.dom.childNodes,r={},i={};for(let e=0,s=o.length;e<s;e++){const s=o[e].props;s&&(r[s.key]=e),e<t.length&&t[e]instanceof n&&(i[t[e].props.key]=e)}for(let n=0,i=t.length;n<i;n++){const i=t[n],l=o[r[i.props.key]];if(!l){E(i,e,s[n]);continue}i.dom=l;const p=s[n];if(p?p!==l&&e.dom.replaceChild(l,p):e.dom.appendChild(l),"v-keep"in i.props==0||l.props["v-keep"]!==i.props["v-keep"]){if(b(i,l.props),l.props=i.props,"v-text"in i.props){l.textContent!=i.props["v-text"]&&(l.textContent=i.props["v-text"]);continue}L(i)}}for(let e=t.length,n=s.length;e<n;e++)s[e]?.remove()}(e,t)}const i=t.length;if(0!==r){for(let o=0;o<i;o++){const r=s[o],i=t[o];if(i instanceof n!=!1)if(r){if("v-keep"in i.props){if(r.props&&r.props["v-keep"]===i.props["v-keep"])continue;const e=s[o+1];if(e&&e.props&&e.props["v-keep"]===i.props["v-keep"]){r.remove();continue}}i.tag===r.nodeName.toLowerCase()?(i.dom=r,b(i,r.props||null),r.props=i.props,"v-text"in i.props?i.dom.textContent!=i.props["v-text"]&&(i.dom.textContent=i.props["v-text"]):L(i)):E(i,e,r)}else E(i,e,null);else{if(!r){e.dom.appendChild(document.createTextNode(i));continue}if(3!==r.nodeType){e.dom.replaceChild(document.createTextNode(i),r);continue}r.nodeValue!=i&&(r.nodeValue=i)}}for(let e=i,n=s.length;e<n;e++)s[e]?.remove()}else for(let s=0;s<i;s++)t[s]instanceof n!=!1?E(t[s],e,null):o.appendChild(document.createTextNode(t[s]))}function j(n){if(y(f),n.props=n.props||{},L(n),y(d?m:v),d=!0,a.vnode=null,a.component=null,e)return n.dom.innerHTML}function G(){if(c)return c.children=[p],j(c)}var B={Vnode:n,createElement:A,current:a,directive:function(e,n){const t=`v-${e}`;N[t]=n,u.add(t)},directives:N,domToVnode:i,isComponent:t,isNodeJs:e,isVnode:o,isVnodeComponent:s,mount:function(o,r){const l="string"==typeof o?e?A(o,"svg"===o):document.querySelector(o):o;return p=t(r)?new n(r,{},[]):s(r)?r:new n(()=>r,{},[]),c=i(l),G()},onCleanup:g,onMount:e=>!d&&v.add(e),onUnmount:e=>!d&&h.add(e),onUpdate:e=>m.add(e),patch:L,reservedProps:u,setAttribute:function(e,n,t){u.has(e)||(t.props[e]=n,C(e,n,t))},trust:l,unmount:function(){if(c){p=r(()=>null,{});const e=G();y(h);for(const e in w)c.dom.removeEventListener(e.slice(2).toLowerCase(),k),Reflect.deleteProperty(w,e);return p=null,c=null,d=!1,a.vnode=null,a.component=null,a.event=null,e}},update:G,updateAttributes:b,updateVnode:j,v:r};"undefined"!=typeof module?module.exports=B:self.Valyrian=B})();//# sourceMappingURL=index.min.js.map