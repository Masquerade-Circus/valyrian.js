(()=>{var e=Boolean("undefined"!=typeof process&&process.versions&&process.versions.node),o=class{constructor(e,o,n,t,s){this.tag=e,this.props=o,this.children=n,this.dom=t,this.isSVG=s}},n=e=>"function"==typeof e,t=e=>e instanceof o,s=e=>t(e)&&n(e.tag);function r(e){if(3===e.nodeType)return e.nodeValue;const n=new o(e.nodeName.toLowerCase(),{},[]);n.dom=e,e.props=n.props;for(let o=0,t=e.childNodes.length;o<t;o++){const t=e.childNodes[o];if(3===t.nodeType)n.children.push(t.nodeValue);else if(1===t.nodeType){const e=r(t);n.children.push(e)}}const t=n.props;for(let o=0,n=e.attributes.length;o<n;o++){const n=e.attributes[o];t[n.nodeName]=n.nodeValue}return n}function i(e){const o=document.createElement("div");return o.innerHTML=e.trim(),Array.from(o.childNodes).map(r)}var l=null,p=null,c=!1,d={vnode:null,component:null,event:null},a=new Set(["key","state","v-keep","v-text","v-if","v-for","v-show","v-class","v-html","v-model","v-create","v-update","v-cleanup"]),u=new Set,f=new Set,v=new Set,m=new Set,h=e=>u.add(e),g=e=>{for(const o of e)o();e.clear()},y={"v-for"(e){const o=e.props["v-for"],n=e.children,t=n[0];n.length=o.length;for(let e=0,s=o.length;e<s;e++)n[e]=t(o[e],e)},"v-if":e=>{if(Boolean(e.props["v-if"])){const o=e.dom?.parentNode;if(o){const n=document.createTextNode("");o.replaceChild(n,e.dom)}return!1}},"v-show":e=>{const o=Boolean(e.props["v-show"]);e.dom.style.display=o?"":"none"},"v-html":e=>{e.children=[i(e.props["v-html"])]},"v-model":e=>{let o,[n,t,s]=e.props["v-model"],r=e=>n[t]=e.target.value;if("input"===e.tag)switch(s=s||"oninput",e.props.type){case"checkbox":Array.isArray(n[t])?(r=e=>{const o=e.target.value,s=n[t].indexOf(o);-1===s?n[t].push(o):n[t].splice(s,1)},o=-1!==n[t].indexOf(e.dom.value)):"value"in e.props?(r=()=>{n[t]===e.props.value?n[t]=null:n[t]=e.props.value},o=n[t]===e.props.value):(r=()=>n[t]=!n[t],o=n[t]),N("checked",o,e);break;case"radio":N("checked",n[t]===e.dom.value,e);break;default:N("value",n[t],e)}else"select"===e.tag?(s=s||"onclick",e.props.multiple?(r=e=>{const o=e.target.value;if(e.ctrlKey){const e=n[t].indexOf(o);-1===e?n[t].push(o):n[t].splice(e,1)}else n[t].splice(0,n[t].length),n[t].push(o)},e.children.forEach(e=>{if("option"===e.tag){const o="value"in e.props?e.props.value:e.children.join("").trim();e.props.selected=-1!==n[t].indexOf(o)}})):e.children.forEach(e=>{if("option"===e.tag){const o="value"in e.props?e.props.value:e.children.join("").trim();e.props.selected=o===n[t]}})):"textarea"===e.tag&&(s=s||"oninput",e.children=[n[t]]);const i=e.props[s];N(s,e=>{r(e),i&&i(e)},e)},"v-create":(e,o)=>{if(!o){const o=(0,e.props["v-create"])(e);"function"==typeof o&&h(o)}},"v-update":(e,o)=>{if(o){const n=(0,e.props["v-update"])(e,o);"function"==typeof n&&h(n)}},"v-cleanup":e=>{const o=e.props["v-cleanup"];h(()=>o(e))},class:e=>{const o=e.props.class;if("string"==typeof o)e.dom.className=o;else if(Array.isArray(o))e.dom.className=o.join(" ");else if("object"==typeof o){const n=e.dom.classList;for(const e in o){const t="function"==typeof o[e]?o[e]():o[e];n.toggle(e,t)}}},id:e=>{e.dom.id=e.props.id},style:e=>{const o=e.props.style;if("string"==typeof o)e.dom.style.cssText=o;else if("object"==typeof o){const n=e.dom.style;n.cssText="";for(const e in o)n[e]=o[e]}}};var w=new Set;function k(e){d.event=e;let o=e.target;const n=`on${e.type}`;for(;o;){const t=o.props;if(t&&t[n])return t[n](e,o),void(e.defaultPrevented||A());o=o.parentNode}d.event=null}function N(e,o,n){const t=n.dom;"function"!=typeof o?e in t?t[e]=o:!1===o?t.removeAttribute(e):t.setAttribute(e,o):w.has(e)||(p.dom.addEventListener(e.slice(2),k),w.add(e))}function x(e,o){const n=e.props;for(const t in n)if(y[t]){if(!1===y[t](e,o))break}else a.has(t)||N(t,n[t],e)}function V(e,o){!function(e,o){if(!o)return;const n=e.dom,t=e.props;for(const e in o)e in t!=0||w.has(e)||a.has(e)||(e in n?n[e]=null:n.removeAttribute(e))}(e,o),x(e,o)}function C(e,o){return o?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function b(e){d.vnode=e;const{children:n}=e;let t=0;for(;t<n.length;){const s=n[t];if(null!=s)if(Array.isArray(s))n.splice(t,1,...s);else{if(s instanceof o){if(null===s.props&&(s.props={}),"string"!=typeof s.tag){const e=("view"in s.tag?s.tag.view:s.tag).bind(s.tag);d.component=e,n[t]=e(s.props,s.children);continue}s.isSVG=e.isSVG||"svg"===s.tag}t++}else n.splice(t,1)}}function S(e,n,t){if(e instanceof o==!1){const o=document.createTextNode(e);return void(t?n.dom.replaceChild(o,t):n.dom.appendChild(o))}const s=C(e.tag,e.isSVG);t?n.dom.replaceChild(s,t):n.dom.appendChild(s),e.dom=s,x(e,null),e.dom.props=e.props,b(e);const r=e.children;if(0!==r.length){for(let o=0,n=r.length;o<n;o++)S(r[o],e,null);r.length=0}else e.dom.textContent=""}function T(e){b(e);const n=e.children;if(0===n.length)return void(e.dom.textContent="");const t=e.dom.childNodes,s=t.length;if(s>0){const s=t[0].props,r=n[0];if(s&&r instanceof o&&"key"in r.props&&"key"in s)return function(e){const n=e.dom.childNodes,t={},s={},r=e.children;for(let e=0,i=n.length;e<i;e++){const i=n[e].props;i&&(t[i.key]=e),e<r.length&&r[e]instanceof o&&(s[r[e].props.key]=e)}for(let o=0,s=r.length;o<s;o++){const s=r[o],i=n[t[s.props.key]];if(!i){S(s,e,null);continue}s.dom=i,e.dom.childNodes[o]!==s.dom&&e.dom.insertBefore(s.dom,e.dom.childNodes[o]);const l=i.props;s.dom=i,i.props=s.props,l&&"v-keep"in s.props&&s.props["v-keep"]===l["v-keep"]||(V(s,l||null),T(s))}for(let e=0,o=n.length;e<o;e++){const o=n[e],t=o.props;t&&!s[t.key]&&o.remove()}}(e),void(n.length=0)}const r=n.length;if(0!==s){for(let s=0;s<r;s++){const r=t[s],i=n[s];if(r)if(i instanceof o!=!1){if("v-keep"in i.props){if(r.props&&r.props["v-keep"]===i.props["v-keep"])continue;const e=t[s+1];if(e&&e.props&&e.props["v-keep"]===i.props["v-keep"]){r.remove();continue}}i.tag===r.nodeName.toLowerCase()?(i.dom=r,V(i,r.props||null),r.props=i.props,T(i)):S(i,e,r)}else{if(3!==r.nodeType){e.dom.replaceChild(document.createTextNode(i),r);continue}r.nodeValue!=i&&(r.nodeValue=i)}else S(i,e,null)}for(let e=r,o=t.length;e<o;e++)t[e]?.remove();n.length=0}else{for(let o=0;o<r;o++)S(n[o],e,null);n.length=0}}function A(){if(p)return p.children=[l],L(p)}function L(o){if(g(u),T(o),g(c?v:f),c=!0,d.vnode=null,d.component=null,e)return o.dom.innerHTML}function E(){if(p){l=new o(()=>null,{},[]);const e=A();g(m);for(const e in w)p.dom.removeEventListener(e.slice(2).toLowerCase(),k),Reflect.deleteProperty(w,e);return l=null,p=null,c=!1,d.vnode=null,d.component=null,e}}function j(e,n,...t){return new o(e,n,t)}j.fragment=(e,...o)=>o;var B={Vnode:o,current:d,directive:function(e,o){const n=`v-${e}`;y[n]=o,a.add(n)},directives:y,domToVnode:r,isComponent:n,isNodeJs:e,isVnode:t,isVnodeComponent:s,mount:function(t,i){const c="string"==typeof t?e?C(t,"svg"===t):document.querySelector(t):t,d=s(i)?i:n(i)?new o(i,{},[]):new o(()=>i,{},[]);return l&&l.tag!==d.tag&&E(),l=d,p=r(c),A()},onCleanup:h,onMount:e=>!c&&f.add(e),onUnmount:e=>!c&&m.add(e),onUpdate:e=>v.add(e),patch:T,reservedProps:a,setAttribute:function(e,o,n){a.has(e)||(n.props[e]=o,N(e,o,n))},trust:i,unmount:E,update:A,updateVnode:L,v:j};"undefined"!=typeof module?module.exports=B:self.Valyrian=B})();//# sourceMappingURL=index.min.js.map