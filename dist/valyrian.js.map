{"version":3,"file":"valyrian.js","sources":["../lib/router.js","../lib/h.js","../lib/request.js","../lib/patch.js","../lib/index.js"],"sourcesContent":["/**\n * Handles the mix of single and array of middlewares\n * @method parseMiddlewares\n * @param  {Function|Array}         middlewares     // Middleware or array of middlewares\n * @param  {Array}                  [array=[]]      // The array to store the final list of middlewares\n * @return {Array}                                  // The final list of middlewares\n */\nlet parseMiddlewares = (middlewares, array = []) => {\n    if (typeof middlewares === 'function') {\n        array.push(middlewares);\n        return array;\n    }\n\n    let i = 0, l = middlewares.length;\n    for (; i < l; i++) {\n        if (Array.isArray(middlewares[i])) {\n            parseMiddlewares(middlewares[i], array);\n        }\n\n        if (!Array.isArray(middlewares[i])) {\n            array.push(middlewares[i]);\n        }\n    }\n    return array;\n};\n\n/**\n * Adds a path to a router\n * @method addPath\n * @param  {Router} router              The router in which to add the path\n * @param  {String} method              The method that will handle this path\n * @param  {Array} args                The mixed params (String|Function|Array)\n */\nlet addPath = (router, method, args) => {\n    let path, middlewares;\n\n    // Get the first argument\n    if (typeof args[0] === 'string') {\n        path = args.shift();\n    }\n\n    // If the seccond argument is a function and has paths\n    // and regexpList properties then\n    // Treat it as a subrouter\n    if (\n        typeof args[0] === 'function' &&\n        args[0].paths !== undefined &&\n        args[0].regexpList !== undefined\n    ) {\n        let subrouter = args.shift(),\n            i = 0,\n            l = subrouter.paths.length;\n\n        // For each path of the subrouter\n        for (; i < l; i++) {\n            let submiddlewares = subrouter.paths[i].middlewares;\n            let submethod = subrouter.paths[i].method;\n            let subpath = subrouter.paths[i].path;\n\n            // If there is a path add it as prefix to the subpath\n            if (path !== undefined) {\n                subpath = path + (subpath || '*');\n            }\n\n            // If there are a subpath set it as the first element\n            // on the submiddlewares array\n            if (subpath !== undefined) {\n                submiddlewares.unshift(subpath);\n            }\n\n            // Add the path to the router\n            router = addPath(router, submethod, submiddlewares);\n        }\n    }\n\n    // Parse middlwares to handle mixed arrays of middlwares and sequenced middlwares\n    middlewares = parseMiddlewares(args);\n\n    // Add the path only if there are middlewares passed\n    if (middlewares.length > 0) {\n        // If the path wasn't set before, set the regexp and params list\n        if (path !== undefined && router.regexpList[path] === undefined) {\n            // Remove the last slash\n            path = path.replace(/\\/(\\?.*)?$/gi, '$1');\n\n            // Find the params like express params\n            let params = path.match(/:(\\w+)?/gi) || [];\n\n            // Set the names of the params found\n            for (let i in params) {\n                params[i] = params[i].replace(':', '');\n            }\n\n            let regexpPath = path\n                // Catch params\n                .replace(/:(\\w+)/gi, '([^\\\\s\\\\/|\\\\?]+)')\n                // To set to any url with the path as prefix\n                .replace(/\\*/g, '.*')\n                // Remove the last slash\n                .replace(/\\/(\\?.*)?$/gi, '$1');\n\n            // Set the object to the path\n            router.regexpList[path] = {\n                regexp : new RegExp('^' + regexpPath  + '/?(\\\\?.*)?$', 'gi'),\n                params: params\n            }\n        }\n\n        // Add the path to the paths list\n        router.paths.push({\n            method: method,\n            path: path,\n            middlewares: middlewares\n        });\n    }\n\n    return router;\n};\n\nlet RouterFactory = () => {\n    /**\n     * new Rotuer\n     * @param  {Request}    req     NodeJs Request object\n     * @param  {Response}   res     NodeJs Response object\n     * @return {Function}           The async function to be passed to micro\n     */\n    let Router = async function (url = '/') {\n        let method = 'get',\n            params = {},\n            middlewares = [],\n            response,\n            i = 0,\n            l = Router.paths.length;\n        \n        Router.url = url;\n\n        for (; i < l; i++) {\n            let path = Router.paths[i];\n            if (method !== path.method && path.method !== 'use') {\n                continue;\n            }\n\n            if ((path.method === 'use' || method === path.method) && path.path === undefined) {\n                middlewares = parseMiddlewares(path.middlewares, middlewares);\n                continue;\n            }\n\n            let matches = Router.regexpList[path.path].regexp.exec(url);\n            Router.regexpList[path.path].regexp.lastIndex = -1;\n            if (Array.isArray(matches)) {\n                matches.shift();\n                let l = Router.regexpList[path.path].params.length;\n                for (; l--;) {\n                    if (params[Router.regexpList[path.path].params[l]] === undefined) {\n                        params[Router.regexpList[path.path].params[l]] = matches[l];\n                    }\n                }\n                middlewares = parseMiddlewares(path.middlewares, middlewares);\n            }\n        }\n\n        Router.params = params;\n\n        if (middlewares.length > 0) {\n            let i = 0, l = middlewares.length;\n            // call sequentially every middleware\n            for (; i < l; i++) {\n                response = await middlewares[i](params);\n                // If there is a response or a response was sent to the client\n                // break the for block\n                if (response !== undefined) {\n                    return response;\n                }\n            }\n        }\n\n        if (Router.throwNotFound){\n            // If no response was sent to the client throw an error\n            throw new Error(`The url ${url} requested wasn't found`);\n        }\n    };\n\n    Router.url = '/';\n    Router.params = {};\n    Router.throwNotFound = true;\n\n    /**\n     * Where to store the paths and its middlewares\n     * @type {Object}\n     */\n    Router.paths = [];\n\n    /**\n     * Where to store the regexp and params list for the paths\n     * @type {[type]}\n     */\n    Router.regexpList = {};\n\n    /**\n     * For each accepted method, add the method to the router\n     * @type {Array}\n     */\n    ['get', 'use'].map(method => {\n        Router[method] = (...args) => addPath(Router, method, args);\n    });\n\n    /**\n     * Return the new router\n     * @type {Router}\n     */\n    return Router;\n};\n\nexport default RouterFactory;","let h = function (...args) {\n    var vnode = {\n        name: 'div',\n        props: {},\n        children: []\n    },\n        l,\n        i,\n        attributes,\n        children;\n\n    if (typeof args[0] === 'string' && args[0].trim().length > 0) {\n        vnode.name = args.shift();\n    }\n\n    if (vnode.name === 'textNode') {\n        vnode.value = args.join(' ').trim();\n        return vnode;\n    }\n\n    if (!h.isVnode(args[0]) && typeof args[0] === 'object' && !Array.isArray(args[0]) && args[0] !== null) {\n        vnode.props = args.shift();\n    }\n\n    if (/(\\.|\\[|#)/gi.test(vnode.name)) {\n        attributes = vnode.name.match(/([\\.|\\#]\\w+|\\[[^\\]]+\\])/gi);\n        vnode.name = vnode.name.replace(/([\\.|\\#]\\w+|\\[[^\\]]+\\])/gi, '');\n        if (attributes) {\n            for (l = attributes.length; l--;) {\n                if (attributes[l].charAt(0) === '#') {\n                    vnode.props.id = attributes[l].slice(1);\n                    continue;\n                }\n\n                if (attributes[l].charAt(0) === '.') {\n                    vnode.props.class = ((vnode.props.class || '') + ' ' + attributes[l].slice(1)).trim();\n                    continue;\n                }\n\n                if (attributes[l].charAt(0) === '[') {\n                    attributes[l] = attributes[l].trim().slice(1, -1).split('=');\n                    vnode.props[attributes[l][0]] = attributes[l][1];\n                }\n            }\n        }\n    }\n\n    let nodes = h.flatenArray(args);\n\n    for (i = 0, l = nodes.length; i < l; i++) {\n        vnode.children.push(h.isVnode(nodes[i]) ? nodes[i] : h('textNode', nodes[i]));\n    }\n\n    return vnode;\n};\n\nh.flatenArray = function(nodes, array = []) {\n    if (!Array.isArray(nodes)) {\n        array.push(nodes);\n        return array;\n    }\n\n    let i = 0, l = nodes.length;\n    for (; i < l; i++) {\n        if (Array.isArray(nodes[i])) {\n            h.flatenArray(nodes[i], array);\n        }\n\n        if (!Array.isArray(nodes[i])) {\n            array.push(nodes[i]);\n        }\n    }\n\n    return array;\n};\n\nh.isVnode = function (vnode) {\n    return vnode && vnode.name && vnode.props && vnode.children;\n};\n\nh.vnode = function ($el) {\n    if ($el) {\n        if ($el.nodeType === 3) {\n            return {\n                value: $el.nodeValue,\n                name: 'textNode',\n                props: {},\n                children: [],\n                dom: $el\n            };\n        }\n\n        return {\n            name: $el.nodeName.toLowerCase(),\n            props: {},\n            children: Array.prototype.map.call($el.childNodes, $el => h.vnode($el)),\n            dom: $el\n        };\n    }\n};\n\nexport default h;\n","let Request = function (baseUrl = '', options = {}) {\n    let url = baseUrl.replace(/\\/$/gi, '').trim(),\n        opts = Object.assign({}, options);\n\n    let methods = ['get', 'post', 'put', 'patch', 'delete', 'options', 'head'];\n\n    let r = function (baseUrl, options) {\n        let url = r.baseUrl + '/' + baseUrl,\n            opts = Object.assign({}, r.options, options);\n        return Request(url, opts);\n    };\n\n    r.apiUrl = undefined;\n    r.nodeUrl = undefined;\n    r.isNode = typeof window === 'undefined';\n    r.options = opts;\n    r.baseUrl = url;\n    let Fetch = r.isNode ? require('node-fetch') : fetch.bind(window);\n\n    function serialize(obj, prefix) {\n        let e = encodeURIComponent;\n        return '?' + Object.keys(obj).map(k => {\n            if (prefix !== undefined) {\n                k = prefix + \"[\" + k + \"]\";\n            }\n\n            return typeof obj[k] === 'object' ?\n                serialize(obj[k], k) :\n                e(k) + '=' + e(obj[k]);\n        }).join('&');\n    };\n\n    function parseUrl (url) {\n        let u = (r.baseUrl + '/' + url).trim().replace(/^\\/\\//gi, '/').trim();\n        if (\n            r.isNode &&\n            typeof r.nodeUrl === 'string'\n        ) {\n            r.nodeUrl = r.nodeUrl.replace(/\\/$/gi, '').trim();\n\n            if (/^http/gi.test(u) && typeof r.apiUrl === 'string') {\n                r.apiUrl = r.apiUrl.replace(/\\/$/gi, '').trim();\n                u = u.replace(r.apiUrl, r.nodeUrl);\n            }\n\n            if (!/^http/gi.test(u)) {\n                u = r.nodeUrl + u;\n            }\n        }\n        return u;\n    };\n\n    function request(method, url, data, options = {}) {\n        let opts = Object.assign({\n            method: method.toLowerCase(),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n        }, r.options, options),\n            type = opts.headers.Accept;\n\n        if (data !== undefined) {\n            if (opts.method === 'get' && typeof data === 'object') {\n                url += data = serialize(data);\n            }\n\n            if (opts.method !== 'get') {\n                opts.body = JSON.stringify(data);\n            }\n        }\n\n        return Fetch(parseUrl(url), opts)\n            .then(response => {\n                if (response.status < 200 || response.status > 300) {\n                    let err = new Error(response.statusText);\n                    err.response = response;\n                    throw err;\n                }\n\n                if (/text/gi.test(type)) {\n                    return response.text();\n                }\n\n                if (/json/gi.test(type)) {\n                    return response.json();\n                }\n\n                return response;\n            });\n    };\n\n    methods.forEach(method =>\n        r[method] = (url, data, options) => request(method, url, data, options)\n    );\n\n    return r;\n};\n\nexport default Request();\n","let PatchFactory = function (v) {\n    let document = v.document;\n\n    function setProp($target, name, value) {\n        if (name === 'className') {\n            $target.setAttribute('class', value);\n            return;\n        }\n\n        if (typeof value === 'function') {\n            $target[name] = value.bind($target);\n            return;\n        }\n\n        if (typeof value === 'boolean') {\n            $target[name] = value;\n        }\n\n        if (value !== undefined && value !== false) {\n            $target.setAttribute(name, value);\n        } else {\n            $target.removeAttribute(name);\n        }\n    }\n\n    function updateProps(newNode, oldNode = {}) {\n        // const props = Object.assign({}, newProps, oldProps);\n        var newProps = newNode.props,\n            oldProps = oldNode.props || {};\n\n        const props = Object.assign(\n            {},\n            newProps,\n            oldProps\n        );\n        for (let name in props) {\n            if (newProps[name] !== oldProps[name]) {\n                setProp(newNode.dom, name, newProps[name]);\n            }\n        }\n    }\n\n    async function lifecycleCall(vnode, methodName, ...args) {\n        if (v.isVnode(vnode)) {\n            let method = vnode.props[methodName];\n            if (method && method.call) {\n                args.unshift(vnode);\n                let response = await method.apply(vnode, args);\n                return response;\n            }\n        }\n    }\n\n    function createElement(vnode) {\n        var $el;\n        delete vnode.dom;\n        lifecycleCall(vnode, 'oninit');\n        $el = vnode.name === 'textNode' ?\n            document.createTextNode(vnode.value) :\n            vnode.name === \"svg\" ?\n                document.createElementNS(\"http://www.w3.org/2000/svg\", vnode.name) :\n                document.createElement(vnode.name);\n\n        vnode.dom = $el;\n        updateProps(vnode);\n\n        for (let i = 0; i < vnode.children.length; i++) {\n            $el.appendChild(createElement(vnode.children[i]));\n        }\n\n        lifecycleCall(vnode, 'oncreate');\n        return $el;\n    }\n\n    function removeElement(oldNode, destroyed = false) {\n        return Promise.resolve(lifecycleCall(oldNode, 'onbeforeremove'))\n            .then(() => {\n                if (!destroyed && oldNode.dom && oldNode.dom.parentElement) {\n                    oldNode.dom.parentElement.removeChild(oldNode.dom);\n                }\n\n                let i = 0, l = oldNode.children.length;\n                for (; i < l; i++) {\n                    removeElement(oldNode.children[i], destroyed);\n                }\n\n                lifecycleCall(oldNode, 'onremove');\n            });\n    }\n\n    function patch($parent, newNode, oldNode) {\n        // console.log(0, $parent, newNode, oldNode);\n\n        // New node\n        if (oldNode === undefined && newNode !== undefined) {\n            // console.log(2, newNode);\n            $parent.appendChild(createElement(newNode));\n            return $parent;\n        }\n\n        // Deleted node\n        if (newNode === undefined) {\n            // console.log(3, oldNode);\n            removeElement(oldNode);\n            return $parent;\n        }\n\n        if (v.isVnode(oldNode) && v.isVnode(newNode)) {\n            newNode.dom = oldNode.dom;\n\n            // Same node\n            if (newNode.name === 'textNode' && oldNode.value == newNode.value) {\n                // console.log(1, newNode, oldNode);\n                return $parent;\n            }\n\n            // New node replacing old node\n            if (\n                (newNode.name === 'textNode' && newNode.value != oldNode.value) ||\n                newNode.name !== oldNode.name\n            ) {\n                // console.log(4, $parent, newNode, oldNode);\n                createElement(newNode);\n                Promise.resolve(removeElement(oldNode, true))\n                    .then(() => {\n                        $parent.replaceChild(newNode.dom, oldNode.dom);\n                    });\n                return $parent;\n            }\n\n            // Same node updated\n            // console.log(5, newNode, oldNode);\n            // if (lifecycleCall(newNode, 'onbeforeupdate', oldNode) === false){\n            //     return $parent;\n            // }\n\n            // if (!v.isMounted) {\n            //     lifecycleCall(newNode, 'oninit');\n            //     lifecycleCall(newNode, 'oncreate');\n            // }\n\n            updateProps(newNode, oldNode);\n\n            const max = Math.max(newNode.children.length, oldNode.children.length);\n            for (let i = 0; i < max; i++) {\n                patch(\n                    newNode.dom,\n                    newNode.children[i],\n                    oldNode.children[i]\n                );\n            }\n\n            lifecycleCall(newNode, 'onupdate');\n            return $parent;\n        }\n\n        // console.log(6, newNode, oldNode);\n\n        return $parent;\n    };\n\n    return patch;\n};\n\nexport default PatchFactory;\n","import RouterFactory from './router';\nimport h from './h';\nimport Request from './request';\nimport Patch from './patch';\n\nlet VFactory = function () {\n\n    let v = function (...args) {\n        if (v.isComponent(args[0])) {\n            return render.apply(v, args);\n        }\n\n        return h.apply(h, args);\n    };\n\n    v.ready = function(callback){\n        addEvent(\n            document, \n            /https?:\\/\\//.test(window.document.URL) ?\n                'DOMContentLoaded' :\n                'deviceready', \n            callback, \n            false\n        );\n    };\n\n    v.request = Request;\n    Object.keys(Request).forEach(key => {\n        if (typeof Request[key] === 'function'){\n            v[key] = (...args) => Request[key]\n                .apply(Request, args)\n                .then(res => {\n                    v.update();\n                    return res;\n                });\n        }\n    });\n\n    v.router = RouterFactory;\n\n    v.isVnode = h.isVnode;\n    v.vnode = h.vnode;\n    v.flatenArray = h.flatenArray;\n\n    v.isNode = typeof window === 'undefined';\n    v.isBrowser = !v.isNode;\n\n    v.window = v.isNode ? require('html-element') : window;\n    v.document = v.window.document;\n\n    let patch = Patch(v);\n\n    function resetToDefaults() {\n        v.isMounted = false;\n        v.container = v.document.createElement('html');\n        v.parent = v.document.createElement('div');\n        v.parent.appendChild(v.container);\n        v.rootTree = v.vnode(v.container);\n        v.oldTree = Object.assign({}, v.rootTree);\n    };\n    resetToDefaults();\n\n    v.rootComponent = undefined;\n\n    function assignAttributes(component, attributes = {}) {\n        if (attributes.name && attributes.props && Array.isArray(attributes.children)) {\n            component.attributes = { children: attributes };\n            return;\n        } \n\n        if (Array.isArray(attributes)){\n            component.attributes = {children: attributes.length === 1 ? attributes[0] : attributes};\n            return;\n        }\n        \n        component.attributes = Object.assign({}, component.attributes, attributes);\n    };\n\n    function render(component, attributes = {}) {\n        assignAttributes(component, attributes);\n\n        let nodes = component.view();\n\n        return Array.isArray(nodes) ? nodes : [nodes];\n    };\n\n    function addEvent(container, events, handler, useCapture){\n        if (v.isBrowser){\n            events.split(' ').forEach(event => {\n                container.addEventListener(\n                    event,\n                    handler,\n                    useCapture\n                );\n            });   \n        }\n    }\n\n    function removeEvent(container, events, handler){\n        if (v.isBrowser){\n            events.split(' ').forEach(event => {\n                container.removeEventListener(\n                    event,\n                    handler\n                );\n            });\n        }\n    }\n\n    v.mount = function (container, component, attributes = {}) {\n        if (container === undefined) {\n            throw new Error('A container element is required as first element');\n            return;\n        }\n\n        if (!v.isComponent(component)) {\n            throw new Error('A component is required as a second argument');\n            return;\n        }\n\n        if (v.isBrowser && v.container){\n            removeEvent(v.container, 'mouseup keyup', v.update);\n        }\n\n        v.container = v.isNode ? v.document.createElement('div') : typeof container === 'string' ? v.document.querySelectorAll(container)[0] : container;\n        v.rootTree = v.vnode(v.container);\n        v.oldTree = Object.assign({}, v.rootTree);\n\n        if (v.isBrowser){\n            addEvent(v.container, 'mouseup keyup', v.update, false);\n        }\n\n        return v.update(component, attributes);\n    };\n\n    function redraw(component, attributes = {}){\n        if (v.isComponent(component)) {\n            assignAttributes(component, attributes);\n            v.rootComponent = component;\n            v.rootTree.props = {};\n            Object.keys(v.rootComponent).forEach(prop => {\n                if (typeof v.rootComponent[prop] === 'function') {\n                    v.rootTree.props[prop] = (...args) => v.rootComponent[prop].apply(v.rootComponent, args);\n                }\n            });\n        };\n\n        if (v.rootComponent){\n            if (v.isNode) {\n                resetToDefaults();\n            }\n    \n            v.rootTree.children = render(v.rootComponent);\n    \n            // console.log('******************************');\n            patch(v.rootTree.dom.parentElement, v.rootTree, v.oldTree);\n            // console.log('******************************');\n    \n            v.oldTree = Object.assign({}, v.rootTree);\n    \n            if (!v.isMounted) {\n                v.isMounted = true;\n            }\n        }\n        \n        return v.isNode ? require('he').decode(v.rootTree.dom.parentElement.innerHTML) : v.rootTree.dom.parentElement;\n    };\n\n    v.update = function (component, attributes = {}) {\n        if (v.isBrowser){\n            requestAnimationFrame(() => redraw(component, attributes));\n            return;\n        }\n        return redraw(component, attributes);\n    };\n\n    v.isComponent = function (component) {\n        return typeof component === 'object' &&\n            component !== null &&\n            typeof component.view === 'function';\n    };\n\n    v.routes = function(container, router) {\n        if (container && router){\n            v.routes.router = router;\n            v.routes.container = container;\n            // Activate the use of the router\n            v.routes.init();\n            return;\n        }\n        \n        let routes = [];\n        v.routes.router.paths.forEach(path => {\n            if (path.method === 'get') {\n                routes.push(path.path === '' ? '/' : path.path);\n            }\n        });\n        return routes;\n    };\n\n    v.routes.run = async function(url = '/', parentComponent = undefined){\n        let response = await v.routes.router(url);\n        if (!v.isComponent(response)){\n            let r = response;\n            response = {view(){return r}};\n        }\n\n        if (parentComponent){\n            let c = response;\n            response = {view(){return v(parentComponent, v(c))}};\n        }\n\n        \n        if (v.isNode || !v.isMounted) {\n            return v.mount(v.routes.container, response, {params: v.routes.router.params});\n        }\n\n        \n        return v.update(response, {params: v.routes.router.params});\n    }\n\n    v.routes.go = function (url, parentComponent) {\n        if (v.isBrowser) {\n            window.history.pushState({}, '', url);\n        }\n        return v.routes.run(url, parentComponent);\n    };\n\n    v.routes.init = function(){\n        if (v.isBrowser) {\n            addEvent(window, 'popstate', function (e) {\n                v.routes.run(document.location.pathname);\n            }, false);\n            \n            v.ready(() => {\n                v.routes.run(document.location.pathname);\n            });\n        }\n    };\n\n    if (v.isBrowser){\n        v.sw = {\n            ready: false,\n            file: '/sw.js',\n            options: {scope: '/'},\n            register(file = v.sw.file, options = v.sw.options){\n                return navigator.serviceWorker.register(file, options)\n                    .then(() => navigator.serviceWorker.ready)\n                    .then(registration => {\n                        v.sw.ready = true;\n                        v.sw.file = file;\n                        v.sw.options = options;\n                        return new Promise((resolve, reject) => {\n                            setTimeout(() => {\n                                resolve();\n                            }, 10);\n                        });\n                    })\n                    .catch(err => console.error('ServiceWorker registration failed: ', err))\n            }\n        }\n    }\n\n    if (v.isNode && typeof VNodeFactory !== 'undefined'){\n        VNodeFactory(v);\n    }\n\n    v.new = VFactory;\n    \n    return v;\n};\n\n(typeof window === 'undefined'? global : window).v = VFactory();\n\n"],"names":["let","i","l","const","Request","Patch"],"mappings":";;;IAAA;;;;;;;IAOAA,IAAI,gBAAgB,aAAI,WAAW,EAAE,KAAU,EAAE;qCAAP,GAAG;;QACzC,IAAI,OAAO,WAAW,KAAK,UAAU,EAAE;YACnC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACxB,OAAO,KAAK,CAAC;SAChB;;QAEDA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,CAAC;QAClC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACf,IAAI,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE;gBAC/B,gBAAgB,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;aAC3C;;YAED,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE;gBAChC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;aAC9B;SACJ;QACD,OAAO,KAAK,CAAC;KAChB,CAAC;;;;;;;;;IASFA,IAAI,OAAO,aAAI,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE;QACjCA,IAAI,IAAI,EAAE,WAAW,CAAC;;;QAGtB,IAAI,OAAO,IAAI,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;YAC7B,IAAI,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;SACvB;;;;;QAKD;YACI,OAAO,IAAI,CAAC,CAAC,CAAC,KAAK,UAAU;YAC7B,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,SAAS;YAC3B,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,KAAK,SAAS;UAClC;YACEA,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,EAAE;gBACxB,CAAC,GAAG,CAAC;gBACL,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC;;;YAG/B,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACfA,IAAI,cAAc,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;gBACpDA,IAAI,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBAC1CA,IAAI,OAAO,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;;;gBAGtC,IAAI,IAAI,KAAK,SAAS,EAAE;oBACpB,OAAO,GAAG,IAAI,IAAI,OAAO,IAAI,GAAG,CAAC,CAAC;iBACrC;;;;gBAID,IAAI,OAAO,KAAK,SAAS,EAAE;oBACvB,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;iBACnC;;;gBAGD,MAAM,GAAG,OAAO,CAAC,MAAM,EAAE,SAAS,EAAE,cAAc,CAAC,CAAC;aACvD;SACJ;;;QAGD,WAAW,GAAG,gBAAgB,CAAC,IAAI,CAAC,CAAC;;;QAGrC,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;;YAExB,IAAI,IAAI,KAAK,SAAS,IAAI,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE;;gBAE7D,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;;;gBAG1CA,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;;;gBAG3C,KAAKA,IAAIC,GAAC,IAAI,MAAM,EAAE;oBAClB,MAAM,CAACA,GAAC,CAAC,GAAG,MAAM,CAACA,GAAC,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;iBAC1C;;gBAEDD,IAAI,UAAU,GAAG,IAAI;;qBAEhB,OAAO,CAAC,UAAU,EAAE,kBAAkB,CAAC;;qBAEvC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC;;qBAEpB,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;;;gBAGnC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG;oBACtB,MAAM,GAAG,IAAI,MAAM,CAAC,GAAG,GAAG,UAAU,IAAI,aAAa,EAAE,IAAI,CAAC;oBAC5D,MAAM,EAAE,MAAM;kBACjB;aACJ;;;YAGD,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC;gBACd,MAAM,EAAE,MAAM;gBACd,IAAI,EAAE,IAAI;gBACV,WAAW,EAAE,WAAW;aAC3B,CAAC,CAAC;SACN;;QAED,OAAO,MAAM,CAAC;KACjB,CAAC;;IAEFA,IAAI,aAAa,eAAM;;;;;;;QAOnBA,IAAI,MAAM,GAAG,gBAAgB,GAAS,EAAE;qCAAR,GAAG;;YAC/BA,IAAI,MAAM,GAAG,KAAK;gBACd,MAAM,GAAG,EAAE;gBACX,WAAW,GAAG,EAAE;gBAChB,QAAQ;gBACR,CAAC,GAAG,CAAC;gBACL,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC;;YAE5B,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;;YAEjB,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACfA,IAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC3B,IAAI,MAAM,KAAK,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,EAAE;oBACjD,SAAS;iBACZ;;gBAED,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,KAAK,IAAI,MAAM,KAAK,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,IAAI,KAAK,SAAS,EAAE;oBAC9E,WAAW,GAAG,gBAAgB,CAAC,IAAI,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;oBAC9D,SAAS;iBACZ;;gBAEDA,IAAI,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC5D,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;gBACnD,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;oBACxB,OAAO,CAAC,KAAK,EAAE,CAAC;oBAChBA,IAAIE,GAAC,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;oBACnD,OAAOA,GAAC,EAAE,GAAG;wBACT,IAAI,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAACA,GAAC,CAAC,CAAC,KAAK,SAAS,EAAE;4BAC9D,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAACA,GAAC,CAAC,CAAC,GAAG,OAAO,CAACA,GAAC,CAAC,CAAC;yBAC/D;qBACJ;oBACD,WAAW,GAAG,gBAAgB,CAAC,IAAI,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;iBACjE;aACJ;;YAED,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;;YAEvB,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;gBACxBF,IAAIC,GAAC,GAAG,CAAC,EAAEC,GAAC,GAAG,WAAW,CAAC,MAAM,CAAC;;gBAElC,OAAOD,GAAC,GAAGC,GAAC,EAAED,GAAC,EAAE,EAAE;oBACf,QAAQ,GAAG,MAAM,WAAW,CAACA,GAAC,CAAC,CAAC,MAAM,CAAC,CAAC;;;oBAGxC,IAAI,QAAQ,KAAK,SAAS,EAAE;wBACxB,OAAO,QAAQ,CAAC;qBACnB;iBACJ;aACJ;;YAED,IAAI,MAAM,CAAC,aAAa,CAAC;;gBAErB,MAAM,IAAI,KAAK,eAAY,GAAG,8BAA0B,CAAC;aAC5D;SACJ,CAAC;;QAEF,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;QACjB,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC;QACnB,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC;;;;;;QAM5B,MAAM,CAAC,KAAK,GAAG,EAAE,CAAC;;;;;;QAMlB,MAAM,CAAC,UAAU,GAAG,EAAE,CAAC;;;;;;QAMvB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,GAAG,WAAC,QAAO;YACtB,MAAM,CAAC,MAAM,CAAC,eAAa;;;;uBAAG,OAAO,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI;aAAC,CAAC;SAC/D,CAAC,CAAC;;;;;;QAMH,OAAO,MAAM,CAAC;KACjB,CAAC;;ICnNFD,IAAI,CAAC,GAAG,YAAmB;;;;QACvB,IAAI,KAAK,GAAG;YACR,IAAI,EAAE,KAAK;YACX,KAAK,EAAE,EAAE;YACT,QAAQ,EAAE,EAAE;SACf;YACG,CAAC;YACD,CAAC;YACD,UAAU,CACD;;QAEb,IAAI,OAAO,IAAI,CAAC,CAAC,CAAC,KAAK,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1D,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;SAC7B;;QAED,IAAI,KAAK,CAAC,IAAI,KAAK,UAAU,EAAE;YAC3B,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;YACpC,OAAO,KAAK,CAAC;SAChB;;QAED,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,OAAO,IAAI,CAAC,CAAC,CAAC,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;YACnG,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;SAC9B;;QAED,IAAI,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;YAChC,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;YAC3D,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,2BAA2B,EAAE,EAAE,CAAC,CAAC;YACjE,IAAI,UAAU,EAAE;gBACZ,KAAK,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,GAAG;oBAC9B,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;wBACjC,KAAK,CAAC,KAAK,CAAC,EAAE,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;wBACxC,SAAS;qBACZ;;oBAED,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;wBACjC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE,IAAI,GAAG,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC;wBACtF,SAAS;qBACZ;;oBAED,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;wBACjC,UAAU,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBAC7D,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;qBACpD;iBACJ;aACJ;SACJ;;QAEDA,IAAI,KAAK,GAAG,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;;QAEhC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACtC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SACjF;;QAED,OAAO,KAAK,CAAC;KAChB,CAAC;;IAEF,CAAC,CAAC,WAAW,GAAG,SAAS,KAAK,EAAE,KAAU,EAAE;qCAAP,GAAG;;QACpC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YACvB,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAClB,OAAO,KAAK,CAAC;SAChB;;QAEDA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC;QAC5B,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACf,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;gBACzB,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;aAClC;;YAED,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;gBAC1B,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;aACxB;SACJ;;QAED,OAAO,KAAK,CAAC;KAChB,CAAC;;IAEF,CAAC,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE;QACzB,OAAO,KAAK,IAAI,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,QAAQ,CAAC;KAC/D,CAAC;;IAEF,CAAC,CAAC,KAAK,GAAG,UAAU,GAAG,EAAE;QACrB,IAAI,GAAG,EAAE;YACL,IAAI,GAAG,CAAC,QAAQ,KAAK,CAAC,EAAE;gBACpB,OAAO;oBACH,KAAK,EAAE,GAAG,CAAC,SAAS;oBACpB,IAAI,EAAE,UAAU;oBAChB,KAAK,EAAE,EAAE;oBACT,QAAQ,EAAE,EAAE;oBACZ,GAAG,EAAE,GAAG;iBACX,CAAC;aACL;;YAED,OAAO;gBACH,IAAI,EAAE,GAAG,CAAC,QAAQ,CAAC,WAAW,EAAE;gBAChC,KAAK,EAAE,EAAE;gBACT,QAAQ,EAAE,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,YAAE,KAAI,SAAG,CAAC,CAAC,KAAK,CAAC,GAAG,IAAC,CAAC;gBACvE,GAAG,EAAE,GAAG;aACX,CAAC;SACL;KACJ,CAAC;;ICnGFA,IAAI,OAAO,GAAG,UAAU,OAAY,EAAE,OAAY,EAAE;yCAArB,GAAG;yCAAW,GAAG;;QAC5CA,IAAI,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE;YACzC,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;;QAEtCA,IAAI,OAAO,GAAG,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;;QAE3EA,IAAI,CAAC,GAAG,UAAU,OAAO,EAAE,OAAO,EAAE;YAChCA,IAAI,GAAG,GAAG,CAAC,CAAC,OAAO,GAAG,GAAG,GAAG,OAAO;gBAC/B,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YACjD,OAAO,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;SAC7B,CAAC;;QAEF,CAAC,CAAC,MAAM,GAAG,SAAS,CAAC;QACrB,CAAC,CAAC,OAAO,GAAG,SAAS,CAAC;QACtB,CAAC,CAAC,MAAM,GAAG,OAAO,MAAM,KAAK,WAAW,CAAC;QACzC,CAAC,CAAC,OAAO,GAAG,IAAI,CAAC;QACjB,CAAC,CAAC,OAAO,GAAG,GAAG,CAAC;QAChBA,IAAI,KAAK,GAAG,CAAC,CAAC,MAAM,GAAG,OAAO,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;QAElE,SAAS,SAAS,CAAC,GAAG,EAAE,MAAM,EAAE;YAC5BA,IAAI,CAAC,GAAG,kBAAkB,CAAC;YAC3B,OAAO,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,WAAC,GAAE;gBAChC,IAAI,MAAM,KAAK,SAAS,EAAE;oBACtB,CAAC,GAAG,MAAM,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;iBAC9B;;gBAED,OAAO,OAAO,GAAG,CAAC,CAAC,CAAC,KAAK,QAAQ;oBAC7B,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;oBACpB,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;aAC9B,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAChB;QAED,SAAS,QAAQ,EAAE,GAAG,EAAE;YACpBA,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,EAAE,CAAC,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;YACtE;gBACI,CAAC,CAAC,MAAM;gBACR,OAAO,CAAC,CAAC,OAAO,KAAK,QAAQ;cAC/B;gBACE,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;;gBAElD,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,OAAO,CAAC,CAAC,MAAM,KAAK,QAAQ,EAAE;oBACnD,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;oBAChD,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;iBACtC;;gBAED,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;oBACpB,CAAC,GAAG,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC;iBACrB;aACJ;YACD,OAAO,CAAC,CAAC;SACZ;QAED,SAAS,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,OAAY,EAAE;6CAAP,GAAG;;YAC1CA,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC;gBACrB,MAAM,EAAE,MAAM,CAAC,WAAW,EAAE;gBAC5B,OAAO,EAAE;oBACL,QAAQ,EAAE,kBAAkB;oBAC5B,cAAc,EAAE,kBAAkB;iBACrC;aACJ,EAAE,CAAC,CAAC,OAAO,EAAE,OAAO,CAAC;gBAClB,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;;YAE/B,IAAI,IAAI,KAAK,SAAS,EAAE;gBACpB,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;oBACnD,GAAG,IAAI,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;iBACjC;;gBAED,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,EAAE;oBACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;iBACpC;aACJ;;YAED,OAAO,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC;iBAC5B,IAAI,WAAC,UAAS;oBACX,IAAI,QAAQ,CAAC,MAAM,GAAG,GAAG,IAAI,QAAQ,CAAC,MAAM,GAAG,GAAG,EAAE;wBAChDA,IAAI,GAAG,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;wBACzC,GAAG,CAAC,QAAQ,GAAG,QAAQ,CAAC;wBACxB,MAAM,GAAG,CAAC;qBACb;;oBAED,IAAI,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;wBACrB,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;qBAC1B;;oBAED,IAAI,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;wBACrB,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;qBAC1B;;oBAED,OAAO,QAAQ,CAAC;iBACnB,CAAC,CAAC;SACV;QAED,OAAO,CAAC,OAAO,WAAC,QAAO,SACnB,CAAC,CAAC,MAAM,CAAC,aAAI,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,SAAG,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,OAAO,OAAC;SAC1E,CAAC;;QAEF,OAAO,CAAC,CAAC;KACZ,CAAC;;AAEF,oBAAe,OAAO,EAAE,CAAC;;ICnGzBA,IAAI,YAAY,GAAG,UAAU,CAAC,EAAE;QAC5BA,IAAI,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC;;QAE1B,SAAS,OAAO,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE;YACnC,IAAI,IAAI,KAAK,WAAW,EAAE;gBACtB,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;gBACrC,OAAO;aACV;;YAED,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE;gBAC7B,OAAO,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACpC,OAAO;aACV;;YAED,IAAI,OAAO,KAAK,KAAK,SAAS,EAAE;gBAC5B,OAAO,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;aACzB;;YAED,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,KAAK,EAAE;gBACxC,OAAO,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;aACrC,MAAM;gBACH,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;aACjC;SACJ;;QAED,SAAS,WAAW,CAAC,OAAO,EAAE,OAAY,EAAE;6CAAP,GAAG;;;YAEpC,IAAI,QAAQ,GAAG,OAAO,CAAC,KAAK;gBACxB,QAAQ,GAAG,OAAO,CAAC,KAAK,IAAI,EAAE,CAAC;;YAEnCG,IAAM,KAAK,GAAG,MAAM,CAAC,MAAM;gBACvB,EAAE;gBACF,QAAQ;gBACR,QAAQ;aACX,CAAC;YACF,KAAKH,IAAI,IAAI,IAAI,KAAK,EAAE;gBACpB,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,QAAQ,CAAC,IAAI,CAAC,EAAE;oBACnC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;iBAC9C;aACJ;SACJ;;QAED,eAAe,aAAa,CAAC,KAAK,EAAE,UAAU,EAAW;;;;YACrD,IAAI,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;gBAClBA,IAAI,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;gBACrC,IAAI,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE;oBACvB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;oBACpBA,IAAI,QAAQ,GAAG,MAAM,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;oBAC/C,OAAO,QAAQ,CAAC;iBACnB;aACJ;SACJ;;QAED,SAAS,aAAa,CAAC,KAAK,EAAE;YAC1B,IAAI,GAAG,CAAC;YACR,OAAO,KAAK,CAAC,GAAG,CAAC;YACjB,aAAa,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;YAC/B,GAAG,GAAG,KAAK,CAAC,IAAI,KAAK,UAAU;gBAC3B,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,KAAK,CAAC;gBACpC,KAAK,CAAC,IAAI,KAAK,KAAK;oBAChB,QAAQ,CAAC,eAAe,CAAC,4BAA4B,EAAE,KAAK,CAAC,IAAI,CAAC;oBAClE,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;;YAE3C,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;YAChB,WAAW,CAAC,KAAK,CAAC,CAAC;;YAEnB,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC5C,GAAG,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACrD;;YAED,aAAa,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;YACjC,OAAO,GAAG,CAAC;SACd;;QAED,SAAS,aAAa,CAAC,OAAO,EAAE,SAAiB,EAAE;iDAAV,GAAG;;YACxC,OAAO,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;iBAC3D,IAAI,aAAI;oBACL,IAAI,CAAC,SAAS,IAAI,OAAO,CAAC,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE;wBACxD,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;qBACtD;;oBAEDA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC;oBACvC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;wBACf,aAAa,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC;qBACjD;;oBAED,aAAa,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;iBACtC,CAAC,CAAC;SACV;;QAED,SAAS,KAAK,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE;;;;YAItC,IAAI,OAAO,KAAK,SAAS,IAAI,OAAO,KAAK,SAAS,EAAE;;gBAEhD,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC5C,OAAO,OAAO,CAAC;aAClB;;;YAGD,IAAI,OAAO,KAAK,SAAS,EAAE;;gBAEvB,aAAa,CAAC,OAAO,CAAC,CAAC;gBACvB,OAAO,OAAO,CAAC;aAClB;;YAED,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;gBAC1C,OAAO,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC;;;gBAG1B,IAAI,OAAO,CAAC,IAAI,KAAK,UAAU,IAAI,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,EAAE;;oBAE/D,OAAO,OAAO,CAAC;iBAClB;;;gBAGD;oBACI,CAAC,OAAO,CAAC,IAAI,KAAK,UAAU,IAAI,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK;oBAC9D,OAAO,CAAC,IAAI,KAAK,OAAO,CAAC,IAAI;kBAC/B;;oBAEE,aAAa,CAAC,OAAO,CAAC,CAAC;oBACvB,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;yBACxC,IAAI,aAAI;4BACL,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;yBAClD,CAAC,CAAC;oBACP,OAAO,OAAO,CAAC;iBAClB;;;;;;;;;;;;;gBAaD,WAAW,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;;gBAE9BG,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,EAAE,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;gBACvE,KAAKH,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;oBAC1B,KAAK;wBACD,OAAO,CAAC,GAAG;wBACX,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;wBACnB,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;qBACtB,CAAC;iBACL;;gBAED,aAAa,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;gBACnC,OAAO,OAAO,CAAC;aAClB;;;;YAID,OAAO,OAAO,CAAC;SAClB;QAED,OAAO,KAAK,CAAC;KAChB,CAAC;;IC7JFA,IAAI,QAAQ,GAAG,YAAY;;QAEvBA,IAAI,CAAC,GAAG,YAAmB;;;;YACvB,IAAI,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;gBACxB,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;aAChC;;YAED,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;SAC3B,CAAC;;QAEF,CAAC,CAAC,KAAK,GAAG,SAAS,QAAQ,CAAC;YACxB,QAAQ;gBACJ,QAAQ;gBACR,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC;oBACnC,kBAAkB;oBAClB,aAAa;gBACjB,QAAQ;gBACR,KAAK;aACR,CAAC;SACL,CAAC;;QAEF,CAAC,CAAC,OAAO,GAAGI,SAAO,CAAC;QACpB,MAAM,CAAC,IAAI,CAACA,SAAO,CAAC,CAAC,OAAO,WAAC,KAAI;YAC7B,IAAI,OAAOA,SAAO,CAAC,GAAG,CAAC,KAAK,UAAU,CAAC;gBACnC,CAAC,CAAC,GAAG,CAAC,eAAa;;;;2BAAGA,SAAO,CAAC,GAAG,CAAC;qBAC7B,KAAK,CAACA,SAAO,EAAE,IAAI,CAAC;qBACpB,IAAI,WAAC,KAAI;wBACN,CAAC,CAAC,MAAM,EAAE,CAAC;wBACX,OAAO,GAAG,CAAC;qBACd;iBAAC,CAAC;aACV;SACJ,CAAC,CAAC;;QAEH,CAAC,CAAC,MAAM,GAAG,aAAa,CAAC;;QAEzB,CAAC,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;QACtB,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;QAClB,CAAC,CAAC,WAAW,GAAG,CAAC,CAAC,WAAW,CAAC;;QAE9B,CAAC,CAAC,MAAM,GAAG,OAAO,MAAM,KAAK,WAAW,CAAC;QACzC,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC;;QAExB,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,GAAG,OAAO,CAAC,cAAc,CAAC,GAAG,MAAM,CAAC;QACvD,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC;;QAE/BJ,IAAI,KAAK,GAAGK,YAAK,CAAC,CAAC,CAAC,CAAC;;QAErB,SAAS,eAAe,GAAG;YACvB,CAAC,CAAC,SAAS,GAAG,KAAK,CAAC;YACpB,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAC/C,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC3C,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;YAClC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;YAClC,CAAC,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC;SAC7C,IACD,eAAe,EAAE,CAAC;;QAElB,CAAC,CAAC,aAAa,GAAG,SAAS,CAAC;;QAE5B,SAAS,gBAAgB,CAAC,SAAS,EAAE,UAAe,EAAE;mDAAP,GAAG;;YAC9C,IAAI,UAAU,CAAC,IAAI,IAAI,UAAU,CAAC,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE;gBAC3E,SAAS,CAAC,UAAU,GAAG,EAAE,QAAQ,EAAE,UAAU,EAAE,CAAC;gBAChD,OAAO;aACV;;YAED,IAAI,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBAC1B,SAAS,CAAC,UAAU,GAAG,CAAC,QAAQ,EAAE,UAAU,CAAC,MAAM,KAAK,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC;gBACxF,OAAO;aACV;;YAED,SAAS,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,SAAS,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;SAC9E;QAED,SAAS,MAAM,CAAC,SAAS,EAAE,UAAe,EAAE;mDAAP,GAAG;;YACpC,gBAAgB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;;YAExCL,IAAI,KAAK,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC;;YAE7B,OAAO,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK,CAAC,CAAC;SACjD;QAED,SAAS,QAAQ,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,EAAE,UAAU,CAAC;YACrD,IAAI,CAAC,CAAC,SAAS,CAAC;gBACZ,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,WAAC,OAAM;oBAC5B,SAAS,CAAC,gBAAgB;wBACtB,KAAK;wBACL,OAAO;wBACP,UAAU;qBACb,CAAC;iBACL,CAAC,CAAC;aACN;SACJ;;QAED,SAAS,WAAW,CAAC,SAAS,EAAE,MAAM,EAAE,OAAO,CAAC;YAC5C,IAAI,CAAC,CAAC,SAAS,CAAC;gBACZ,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,WAAC,OAAM;oBAC5B,SAAS,CAAC,mBAAmB;wBACzB,KAAK;wBACL,OAAO;qBACV,CAAC;iBACL,CAAC,CAAC;aACN;SACJ;;QAED,CAAC,CAAC,KAAK,GAAG,UAAU,SAAS,EAAE,SAAS,EAAE,UAAe,EAAE;mDAAP,GAAG;;YACnD,IAAI,SAAS,KAAK,SAAS,EAAE;gBACzB,MAAM,IAAI,KAAK,CAAC,kDAAkD,CAAC,CAAC;gBACpE,OAAO;aACV;;YAED,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,SAAS,CAAC,EAAE;gBAC3B,MAAM,IAAI,KAAK,CAAC,8CAA8C,CAAC,CAAC;gBAChE,OAAO;aACV;;YAED,IAAI,CAAC,CAAC,SAAS,IAAI,CAAC,CAAC,SAAS,CAAC;gBAC3B,WAAW,CAAC,CAAC,CAAC,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;aACvD;;YAED,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,OAAO,SAAS,KAAK,QAAQ,GAAG,CAAC,CAAC,QAAQ,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;YACjJ,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;YAClC,CAAC,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC;;YAE1C,IAAI,CAAC,CAAC,SAAS,CAAC;gBACZ,QAAQ,CAAC,CAAC,CAAC,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;aAC3D;;YAED,OAAO,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;SAC1C,CAAC;;QAEF,SAAS,MAAM,CAAC,SAAS,EAAE,UAAe,CAAC;mDAAN,GAAG;;YACpC,IAAI,CAAC,CAAC,WAAW,CAAC,SAAS,CAAC,EAAE;gBAC1B,gBAAgB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;gBACxC,CAAC,CAAC,aAAa,GAAG,SAAS,CAAC;gBAC5B,CAAC,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;gBACtB,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,OAAO,WAAC,MAAK;oBACtC,IAAI,OAAO,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,UAAU,EAAE;wBAC7C,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,eAAa;;;;mCAAG,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,aAAa,EAAE,IAAI;yBAAC,CAAC;qBAC5F;iBACJ,CAAC,CAAC;aACN;YAED,IAAI,CAAC,CAAC,aAAa,CAAC;gBAChB,IAAI,CAAC,CAAC,MAAM,EAAE;oBACV,eAAe,EAAE,CAAC;iBACrB;;gBAED,CAAC,CAAC,QAAQ,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;;;gBAG9C,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;;;gBAG3D,CAAC,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC;;gBAE1C,IAAI,CAAC,CAAC,CAAC,SAAS,EAAE;oBACd,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC;iBACtB;aACJ;;YAED,OAAO,CAAC,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC;SACjH;QAED,CAAC,CAAC,MAAM,GAAG,UAAU,SAAS,EAAE,UAAe,EAAE;mDAAP,GAAG;;YACzC,IAAI,CAAC,CAAC,SAAS,CAAC;gBACZ,qBAAqB,aAAI,SAAG,MAAM,CAAC,SAAS,EAAE,UAAU,IAAC,CAAC,CAAC;gBAC3D,OAAO;aACV;YACD,OAAO,MAAM,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;SACxC,CAAC;;QAEF,CAAC,CAAC,WAAW,GAAG,UAAU,SAAS,EAAE;YACjC,OAAO,OAAO,SAAS,KAAK,QAAQ;gBAChC,SAAS,KAAK,IAAI;gBAClB,OAAO,SAAS,CAAC,IAAI,KAAK,UAAU,CAAC;SAC5C,CAAC;;QAEF,CAAC,CAAC,MAAM,GAAG,SAAS,SAAS,EAAE,MAAM,EAAE;YACnC,IAAI,SAAS,IAAI,MAAM,CAAC;gBACpB,CAAC,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;gBACzB,CAAC,CAAC,MAAM,CAAC,SAAS,GAAG,SAAS,CAAC;;gBAE/B,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;gBAChB,OAAO;aACV;;YAEDA,IAAI,MAAM,GAAG,EAAE,CAAC;YAChB,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,WAAC,MAAK;gBAC/B,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,EAAE;oBACvB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;iBACnD;aACJ,CAAC,CAAC;YACH,OAAO,MAAM,CAAC;SACjB,CAAC;;QAEF,CAAC,CAAC,MAAM,CAAC,GAAG,GAAG,eAAe,GAAS,EAAE,eAA2B,CAAC;qCAApC,GAAG;6DAAoB,GAAG;;YACvDA,IAAI,QAAQ,GAAG,MAAM,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAC1C,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;gBACzBA,IAAI,CAAC,GAAG,QAAQ,CAAC;gBACjB,QAAQ,GAAG,CAAC,mBAAI,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;aACjC;;YAED,IAAI,eAAe,CAAC;gBAChBA,IAAI,CAAC,GAAG,QAAQ,CAAC;gBACjB,QAAQ,GAAG,CAAC,mBAAI,EAAE,CAAC,OAAO,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACxD;;;YAGD,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,SAAS,EAAE;gBAC1B,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,QAAQ,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;aAClF;;;YAGD,OAAO,CAAC,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;UAC/D;;QAED,CAAC,CAAC,MAAM,CAAC,EAAE,GAAG,UAAU,GAAG,EAAE,eAAe,EAAE;YAC1C,IAAI,CAAC,CAAC,SAAS,EAAE;gBACb,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;aACzC;YACD,OAAO,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,eAAe,CAAC,CAAC;SAC7C,CAAC;;QAEF,CAAC,CAAC,MAAM,CAAC,IAAI,GAAG,UAAU;YACtB,IAAI,CAAC,CAAC,SAAS,EAAE;gBACb,QAAQ,CAAC,MAAM,EAAE,UAAU,EAAE,UAAU,CAAC,EAAE;oBACtC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;iBAC5C,EAAE,KAAK,CAAC,CAAC;;gBAEV,CAAC,CAAC,KAAK,aAAI;oBACP,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;iBAC5C,CAAC,CAAC;aACN;SACJ,CAAC;;QAEF,IAAI,CAAC,CAAC,SAAS,CAAC;YACZ,CAAC,CAAC,EAAE,GAAG;gBACH,KAAK,EAAE,KAAK;gBACZ,IAAI,EAAE,QAAQ;gBACd,OAAO,EAAE,CAAC,KAAK,EAAE,GAAG,CAAC;gBACrB,2BAAQ,CAAC,IAAgB,EAAE,OAAsB,CAAC;+CAArC,GAAG,CAAC,CAAC,EAAE,CAAC;qDAAa,GAAG,CAAC,CAAC,EAAE,CAAC;;oBACtC,OAAO,SAAS,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC;yBACjD,IAAI,aAAI,SAAG,SAAS,CAAC,aAAa,CAAC,QAAK,CAAC;yBACzC,IAAI,WAAC,cAAa;4BACf,CAAC,CAAC,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC;4BAClB,CAAC,CAAC,EAAE,CAAC,IAAI,GAAG,IAAI,CAAC;4BACjB,CAAC,CAAC,EAAE,CAAC,OAAO,GAAG,OAAO,CAAC;4BACvB,OAAO,IAAI,OAAO,WAAE,OAAO,EAAE,MAAM,EAAE;gCACjC,UAAU,aAAI;oCACV,OAAO,EAAE,CAAC;iCACb,EAAE,EAAE,CAAC,CAAC;6BACV,CAAC,CAAC;yBACN,CAAC;yBACD,KAAK,WAAC,KAAI,SAAG,OAAO,CAAC,KAAK,CAAC,qCAAqC,EAAE,GAAG,IAAC,CAAC;iBAC/E;cACJ;SACJ;;QAED,IAAI,CAAC,CAAC,MAAM,IAAI,OAAO,YAAY,KAAK,WAAW,CAAC;YAChD,YAAY,CAAC,CAAC,CAAC,CAAC;SACnB;;QAED,CAAC,CAAC,GAAG,GAAG,QAAQ,CAAC;;QAEjB,OAAO,CAAC,CAAC;KACZ,CAAC;;IAEF,CAAC,OAAO,MAAM,KAAK,WAAW,EAAE,MAAM,GAAG,MAAM,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC;;;;"}