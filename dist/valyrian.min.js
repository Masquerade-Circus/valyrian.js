!function(){"use strict";let e,o,n,d=void 0;function t(e,o,n){this.props=o||{},this.children=n,this.name=e}function r(e){this.dom=e}r.prototype={props:{},children:[]};let i=new r;function l(e,o){return o?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function p(e,o,...n){return new t(e,o,n)}p.isNode="undefined"==typeof window,p.dom2vnode=e=>{if(3===e.nodeType)return e.nodeValue;if(1===e.nodeType){let o={};[].forEach.call(e.attributes,e=>o[e.nodeName]=e.nodeValue);let n=new t(e.nodeName,o,[]);n.dom=e;for(let o=0,d=e.childNodes.length;o<d;o++){let d=p.dom2vnode(e.childNodes[o]);d&&n.children.push(d)}return n}},p.trust=e=>{let o=l("div");return o.innerHTML=e.trim(),[].map.call(o.childNodes,e=>p.dom2vnode(e))};let s=new Map;p.usePlugin=(e,o)=>!s.has(e)&&s.set(e,!0)&&e(p,o),p.reservedWords={key:!0,"v-list":!0,"v-noop":!0,"v-create":!0,"v-beforeupdate":!0,"v-update":!0,"v-remove":!0};let m={};function c(e){let o=e.target,n=`__on${e.type}`;for(;o;){if(o[n])return o[n](e),void(e.defaultPrevented||p.update());o=o.parentNode}}function a(e,o,n){if("v-remove"===o)for(let o=0,n=e.children.length;o<n;o++)a(e.children[o],"v-remove");if(e.props[o])return e.props[o](e,n)}function u(e,o){for(let n in e.props)p.updateProperty(n,e,o)}function f(e){e.dom=l(e.name,e.isSVG),u(e,i),a(e,"v-create"),N(e,i)}function v(e,o){if(e.dom=o.dom,e.props["v-noop"]||!1===a(e,"v-beforeupdate",o))e.children=o.children;else{for(let n in o.props)p.reservedWords[n]||n in e.props!=!1||"function"==typeof o.props[n]||(n in e.dom?e.dom[n]=d:e.dom.removeAttribute(n));u(e,o),a(e,p.isMounted?"v-update":"v-create",o),N(e,o)}}function h(e,o,n,d){n.dom?v(o,n):f(o),o.dom!==e.childNodes[d]&&(e.childNodes[d]?e.replaceChild(o.dom,e.childNodes[d]):e.appendChild(o.dom))}p.updateProperty=(e,o,n)=>{let d=o.props[e];p.reservedWords[e]?"function"==typeof p.reservedWords[e]&&p.reservedWords[e](d,o,n):"function"==typeof d?(m[e=`__${e}`]||(document.addEventListener(e.slice(4),c),m[e]=!0),o.dom[e]=d):e in o.dom&&!o.isSVG?o.dom[e]!==d&&(o.dom[e]=d):d!==n.props[e]&&o.dom.setAttribute(e,d)};let g=[];p.onCleanup=e=>{let o=p.current.parentVnode;o.onCleanup||(o.onCleanup=[]),o.onCleanup.push(e),-1===g.indexOf(o)&&g.push(o)},p.current={parentVnode:d,oldParentVnode:d,component:d};let y=Array.isArray;function N(e,o){let n=y(e.children)?e.children:[e.children],l=o.children;p.current.parentVnode=e,p.current.oldParentVnode=o;for(let o=0;o<n.length;o++){let d=n[o];if(y(d))n.splice(o--,1,...d);else if(d instanceof t)if("string"!=typeof d.name){p.current.component=d;let e=d.name.view||d.name;n.splice(o--,1,e.call(d.name,d.props,...d.children))}else d.isSVG=e.isSVG||"svg"===d.name}if(l.length&&e.props["v-list"]){let o=l.map(e=>e.props.key),t=n.map(e=>e.props.key);for(let r=0,p=t.length;r<p;r++){let p=t[r],s=n[r];if(p===o[r])l[r].processed=!0,h(e.dom,s,l[r],r);else{let n=o.indexOf(p),t=r>=o.length?d:r;-1!==n?(l[n].processed=!0,h(e.dom,s,l[n],t)):h(e.dom,s,i,t)}}let r=l.length;for(;r--;)l[r].processed||(a(l[r],"v-remove"),l[r].dom.parentNode&&e.dom.removeChild(l[r].dom))}else{let o=l.length,d=n.length;for(;o-- >d;)a(l[o],"v-remove"),e.dom.removeChild(l[o].dom);for(o=0;o<d;o++){let d=n[o],i=l[o];if(d instanceof t)i?d.name===i.name?v(d,i):(f(d),a(i,"v-remove"),e.dom.replaceChild(d.dom,i.dom)):(f(d),e.dom.appendChild(d.dom));else if(i instanceof r)d=String(d),d!==i.dom.nodeValue&&(i.dom.nodeValue=d),n[o]=i;else{let t=document.createTextNode(d);i?(a(i,"v-remove"),e.dom.replaceChild(t,i.dom)):e.dom.appendChild(t),n[o]=new r(t)}}}e.children=n}p.update=(d,...r)=>{if(e)return n&&(!function(){for(let e=g.length;e--;)for(let o of g[e].onCleanup)o();g=[]}(),o=e,e=new t(e.name,e.props,p(n,d,...r)),e.dom=o.dom,e.isSVG="svg"===e.name,N(e,o),p.isMounted=!0),p.isNode&&e.dom.innerHTML},p.mount=(o,d,t,...r)=>{let i=p.isNode?l("div"):"string"==typeof o?document.querySelectorAll(o)[0]:o;return e=p.dom2vnode(i),n=d,p.update(t,...r)},p.unmount=()=>{n=()=>"";let e=p.update();return n=d,p.isMounted=!1,e},p.directive=(e,o)=>!p.reservedWords[e]&&(p.reservedWords[e]=o),p.directive("v-for",(e,o)=>o.children=e.map(o.children[0]));let w=e=>(o,n,d)=>{if(o===e){let e=document.createTextNode("");d.dom&&d.dom.parentNode&&(a(d,"v-remove"),d.dom.parentNode.replaceChild(e,d.dom)),n.name="",n.children=[],n.props={},n.dom=e}};p.directive("v-if",w(!1)),p.directive("v-unless",w(!0)),p.directive("v-show",(e,o)=>o.dom.style.display=e?"":"none"),(p.isNode?global:window).v=p}();