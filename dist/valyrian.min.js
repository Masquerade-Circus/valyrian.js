!function(){"use strict";let e,n,o,t,d="v-create",r="v-update",i="v-remove",l="v-beforeupdate",s=!1,p=!0,c=null,u=Object.create(c),a=[];function m(e,n,o){this.props=n||u,this.children=o,this.name=e}function f(){}m.prototype={isSVG:s},f.prototype={props:u,children:a,isSVG:s};let h=new f;function v(e,n){return n?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function g(e,n,...o){return new m(e,n,o)}g.isNode="undefined"==typeof window,g.addState=(e,n)=>Object.assign(e,n),g.dom2vnode=function(e){let n;if(3===e.nodeType)(n=new f).dom=e;else if(1===e.nodeType){(n=new m(e.nodeName,{},[])).dom=e;for(let o=e.attributes.length;o--;){let t=e.attributes[o];n.props[t.nodeName]=t.nodeValue}for(let o=0,t=e.childNodes.length;o<t;o++){let t=g.dom2vnode(e.childNodes[o]);t&&n.children.push(t)}}return n},g.trust=e=>{let n=v("div");return n.innerHTML=e.trim(),a.map.call(n.childNodes,e=>g.dom2vnode(e))};let y=new Map;g.usePlugin=(e,n)=>!y.has(e)&&y.set(e,p)&&e(g,n),g.reservedWords={key:c,"v-noop":c,[d]:c,[l]:c,[r]:c,[i]:c};let w,N={};function C(e){let n=e.target,o=`__on${e.type}`;for(;n;){if(o in n)return n[o](e),void(e.defaultPrevented===s&&g.update());n=n.parentNode}}function S(e,n,o){if(n===i){P(e);for(let n=0,o=e.children.length;n<o;n++)S(e.children[n],i)}if(n in e.props)return e.props[n](e,o)}function k(e,n,o){for(let t in e.props)g.updateProperty(t,e,n,o)}function V(e,n){e.dom=v(e.name,n),k(e,h,n),S(e,d),_(e,h,n)}function b(e,n,o){if(e.dom=n.dom,"v-noop"in e.props||S(e,l,n)===s)e.children=n.children;else{for(let o in n.props)o in g.reservedWords===s&&o in e.props===s&&"function"!=typeof n.props[o]&&(o in e.dom?e.dom[o]=c:e.dom.removeAttribute(o));k(e,n,o),S(e,g.isMounted?r:d,n),_(e,n,o)}}function A(e,n){S(n,i),e.removeChild(n.dom)}function T(n,o,t,d,r){"dom"in t?b(o,t,d):V(o,d),o.dom!==n.childNodes[r]&&(n.childNodes[r]!==e?n.replaceChild(o.dom,n.childNodes[r]):n.appendChild(o.dom))}function W(e){let n=[];for(let o=0,t=e.length;o<t;o++)n.push(e[o].props.key);return n}g.updateProperty=(e,n,o,t)=>{let d=n.props[e];e in g.reservedWords?"function"==typeof g.reservedWords[e]&&g.reservedWords[e](d,n,o,t):"function"==typeof d?((e=`__${e}`)in N===s&&(document.addEventListener(e.slice(4),C),N[e]=p),n.dom[e]=d):e in n.dom&&!t?n.dom[e]!==d&&(n.dom[e]=d):d!==o.props[e]&&n.dom.setAttribute(e,d)};let x,G,M,O=0;function P(e){if("onCleanup"in e)for(let n=0,o=e.onCleanup.length;n<o;n++)e.onCleanup[n]&&e.onCleanup[n]()}function _(n,o,t){let{dom:d,children:r}=n,l=o.children;if(x=n,G=o,Array.isArray(r)===s&&(r=[r]),0===r.length){for(let e=l.length;e--;)S(l[e],i);d.textContent=""}else{for(let e=0;e<r.length;e++)(w=r[e])instanceof m?"string"!=typeof w.name?(M="view"in w.name?w.name.view:w.name,r.splice(e,1,M.call(M,w.props,...w.children)),e--):"svg"===w.name&&(w.isSVG=p):Array.isArray(w)&&(r.splice(e,1,...w),e--);let n=r[0];if(l.length>0&&n instanceof m&&"key"in n.props){let n=W(l),o=W(r);for(let i=0,s=o.length;i<s;i++){let s=o[i],c=r[i];if(t=t||c.isSVG,s===n[i])l[i].processed=p,T(d,c,l[i],t,i);else{let o=n.indexOf(s),r=i>=n.length?e:i;-1!==o?(l[o].processed=p,T(d,c,l[o],t,r)):T(d,c,h,t,r)}}for(let e=0,n=l.length;e<n;e++)"processed"in l[e]===s&&(S(l[e],i),l[e].dom.parentNode&&d.removeChild(l[e].dom))}else{if(l.length>r.length)for(let e=l.length,n=r.length;e--&&e>=n;)A(d,l[e]);for(let n=0,o=r.length;n<o;n++){let o=r[n],s=l[n];if(o instanceof m)t=t||o.isSVG,s===e?(V(o,t),d.appendChild(o.dom)):o.name!==s.name?(V(o,t),S(s,i),d.replaceChild(o.dom,s.dom)):b(o,s,t);else{let t;s===e?(t=document.createTextNode(o),d.appendChild(t)):s instanceof m?(t=document.createTextNode(o),S(s,i),d.replaceChild(t,s.dom)):o!==(t=s.dom).nodeValue&&(t.nodeValue=o),r[n]=new f,r[n].dom=t}}}}n.children=r}g.useState=function(n){let o;x.components===e&&(x.components=[]),-1===x.components.indexOf(w)&&x.components.push(w);let t=G.components&&G.components[x.components.length-1],d=t&&("view"in t.name?t.name.view:t.name);return w.hooks===e&&(w.hooks=[],O=0),d===M&&"hooks"in t&&t.hooks[O]!==e?(w.hooks=t.hooks,o=t.hooks[O]):(o={state:n,setState(e){o.state="function"==typeof e?e(o.state):e,g.update()}},w.hooks.push(o)),O++,[o.state,o.setState]},g.onCleanup=function(n){x.onCleanup===e&&(x.onCleanup=[]),x.onCleanup.push(n)},g.update=(d,...r)=>{if(n)return t!==e&&(P(n),o=n,(n=new m(n.name,n.props,g(t,d,r))).dom=o.dom,_(n,o,n.isSVG),g.isMounted=p),g.isNode&&n.dom.innerHTML},g.mount=(e,o,d,...r)=>{let i=g.isNode?v("div"):"string"==typeof e?document.querySelectorAll(e)[0]:e;return n=g.dom2vnode(i),t=o,g.update(d,r)},g.unmount=()=>{t=()=>{};let n=g.update();return t=e,g.isMounted=s,n},g.directive=(e,n)=>e in g.reservedWords===s&&(g.reservedWords[e]=n),g.directive("v-for",(e,n)=>{let o=n.children[0];n.children=[];for(let t=0,d=e.length;t<d;t++)n.children[t]=o(e[t],t)});let E=e=>(n,o,t)=>{if(n===e){let e=document.createTextNode("");t&&t.dom&&t.dom.parentNode&&(S(t,i),t.dom.parentNode.replaceChild(e,t.dom)),o.name="",o.children=a,o.props=u,o.dom=e}};g.directive("v-if",E(s)),g.directive("v-unless",E(p)),g.directive("v-show",(e,n)=>n.dom.style.display=e===s?"none":""),(g.isNode?global:window).v=g}();