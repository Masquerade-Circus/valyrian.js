!function(){"use strict";function e(){let e,o,n,t=void 0,d=Array.isArray;function r(e,o,n){this.props=o||{},this.children=n,this.name=e}function i(e){this.dom=e}i.prototype={props:{},children:[]};let l=new i;function s(e,o){return o?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function p(e,o,n){if(e instanceof r){if("onremove"===o)for(let o=0,n=e.children.length;o<n;o++)p(e.children[o],"onremove");if(e.props[o])return e.props[o](e,n)}}function c(e,o,...n){return new r(e,o,n)}c.isNode="undefined"==typeof window,c.domToVnode=e=>{if(3===e.nodeType)return new i(e);if(1===e.nodeType){let o={};[].forEach.call(e.attributes,e=>o[e.nodeName]=e.nodeValue);let n=new r(e.nodeName,o,[]);n.dom=e;for(let o=0,t=e.childNodes.length;o<t;o++){let t=c.domToVnode(e.childNodes[o]);t&&n.children.push(t)}return n}},c.trust=e=>{let o=s("div");return o.innerHTML=e.trim(),[].map.call(o.childNodes,e=>c.domToVnode(e))};let m=new Map;c.usePlugin=(e,o)=>!m.has(e)&&m.set(e,!0)&&e(c,o),c.reservedWords={key:!0,"v-noop":!0,oncreate:!0,onbeforeupdate:!0,onupdate:!0,onremove:!0,model:!0};let a={};function u(e){let o=e.target,n=`__on${e.type}`;for(;o;){if(o[n])return o[n](e),void(e.defaultPrevented||c.update());o=o.parentNode}}function f(e,o){for(let n in e.props)c.updateProperty(n,e,o)}function h(e,o){for(let n in o.props)c.reservedWords[n]||n in e.props!=!1||"function"==typeof o.props[n]||(n in e.dom?e.dom[n]=t:e.dom.removeAttribute(n))}function v(e,o,n){e!==o.childNodes[n]&&(o.childNodes[n]?o.replaceChild(e,o.childNodes[n]):o.appendChild(e))}function g(e){e&&e.dom&&(p(e,"onremove"),e.dom.parentNode&&e.dom.parentNode.removeChild(e.dom))}function y(e,o,n,t){n.dom?(o.dom=n.dom,o.props["v-noop"]||!1===p(o,"onbeforeupdate",n)?(o.children=n.children,v(o.dom,e,t)):(h(o,n),f(o,n),v(o.dom,e,t),p(o,c.isMounted?"onupdate":"oncreate",n),V(o,n))):(o.dom=s(o.name,o.isSVG),f(o,l),v(o.dom,e,t),p(o,"oncreate"),V(o,l))}c.updateProperty=(e,o,n)=>{if(e in o.props){let t=o.props[e];c.reservedWords[e]?"function"==typeof c.reservedWords[e]&&c.reservedWords[e](t,o,n):"function"==typeof t?(a[e=`__${e}`]||(document.addEventListener(e.slice(4),u),a[e]=!0),o.dom[e]=t):e in o.dom&&!o.isSVG?o.dom[e]!==t&&(o.dom[e]=t):t!==n.props[e]&&o.dom.setAttribute(e,t)}};let N=[];function V(e,o){let n=d(e.children)?e.children:[e.children],m=o.children;c.current.parentVnode=e,c.current.oldParentVnode=o;for(let o=0;o<n.length;o++){let i=n[o];if(d(i))n.splice(o--,1,...i);else if(i instanceof r)if("string"!=typeof i.name){c.current.component=i;let e=i.name.view||i.name;n.splice(o--,1,e.call(i.name,i.props,...i.children))}else i.isSVG=e.isSVG||"svg"===i.name;else null!==i&&i!==t||n.splice(o--,1)}if(0===n.length){let o=m.length;for(;o--;)p(m[o],"onremove");e.dom.textContent=""}else if(m.length&&n[0]instanceof r&&n[0].props.key){let o=m.map(e=>e.props.key),d=n.map(e=>e.props.key);for(let r=0,i=d.length;r<i;r++){let i=d[r],s=n[r];if(i===o[r])m[r].processed=!0,y(e.dom,s,m[r],r);else{let n=o.indexOf(i),d=r>=o.length?t:r;-1!==n?(m[n].processed=!0,y(e.dom,s,m[n],d)):y(e.dom,s,l,d)}}let r=m.length;for(;r--;)!m[r].processed&&g(m[r])}else{let o=m.length,t=n.length;for(;o-- >t;)g(m[o]);for(o=0;o<t;o++){let t=n[o],d=m[o];if(t instanceof r)d?t.name===d.name?(t.dom=d.dom,t.props["v-noop"]||!1===p(t,"onbeforeupdate",d)?t.children=d.children:(h(t,d),f(t,d),p(t,c.isMounted?"onupdate":"oncreate",d),V(t,d))):(p(d,"onremove"),t.dom=s(t.name,t.isSVG),f(t,l),e.dom.replaceChild(t.dom,e.dom.childNodes[o]),p(t,"oncreate"),V(t,l)):(t.dom=s(t.name,t.isSVG),f(t,l),e.dom.appendChild(t.dom),p(t,"oncreate"),V(t,l));else{let r,l=t instanceof i?t.dom.nodeValue:String(t);d instanceof i?(r=d.dom,l!==r.nodeValue&&(r.nodeValue=l)):(r=document.createTextNode(l),d?(p(d,"onremove"),e.dom.replaceChild(r,d.dom)):e.dom.appendChild(r)),n[o]=new i(r)}}}e.children=n}c.onCleanup=e=>{let o=c.current.parentVnode;o.onCleanup||(o.onCleanup=[]),o.onCleanup.push(e),-1===N.indexOf(o)&&N.push(o)},c.current={parentVnode:t,oldParentVnode:t,component:t},c.update=(t,...d)=>{if(e)return n&&(!function(){for(let e=N.length;e--;)for(let o of N[e].onCleanup)o();N=[]}(),o=e,e=new r(e.name,e.props,c(n,t,...d)),e.dom=o.dom,e.isSVG="svg"===e.name,V(e,o),c.isMounted=!0),c.isNode&&e.dom.innerHTML},c.mount=(o,t,d,...r)=>{let i=c.isNode?s("div"):"string"==typeof o?document.querySelectorAll(o)[0]:o;return e=c.domToVnode(i),n=t,c.update(d,...r)},c.unMount=()=>{n=()=>"";let e=c.update();return n=t,c.isMounted=!1,e},c.directive=(e,o)=>!c.reservedWords[e]&&(c.reservedWords[e]=o),c.directive("v-for",(e,o)=>o.children=e.map(o.children[0]));let w=e=>(o,n,t)=>{if(e?o:!o){let e=document.createTextNode("");t.dom&&t.dom.parentNode&&(p(t,"onremove"),t.dom.parentNode.replaceChild(e,t.dom)),n.name="",n.children=[],n.props={},n.dom=e}};return c.directive("v-if",w(!1)),c.directive("v-unless",w(!0)),c.directive("v-show",(e,o)=>o.dom.style.display=e?"":"none"),c.directive("v-class",(e,o)=>{for(let n in e)o.dom.classList.toggle(n,e[n])}),c}const o=e();o.newInstance=e,(o.isNode?global:window).v=o}();