!function(){"use strict";function e(n,t,o,i,d){if("string"==typeof n){for(i in o={name:n,props:{},children:[],dom:null,isVnode:!0,nt:1,isSVG:"svg"===n},t)o.props[i]=t[i];return e.utils.flat(arguments,2,o.children,!0),o}if(n.view||"function"!=typeof n||(n.view=n),n.view)return d=n.view.apply(n,e.utils.flat(arguments,1,[])),Array.isArray(d)?d:[d]}e.addState=function(e,n){Object.assign(e,{view:e},n)},e.utils={flat:function(n,t,o,i,d){for(d=n.length;t<d;t++)Array.isArray(n[t])?o=e.utils.flat(n[t],0,o):(!i||void 0!==n[t]&&null!==n[t])&&o.push(n[t]);return o},dom2vnode:(n,t)=>3===(t={props:{},children:[],dom:n,isVnode:!0,nodeValue:null,nt:n.nodeType,isSVG:!1}).nt?(t.name="#text",t.nodeValue=n.nodeValue,t):1===t.nt?(t.name=n.nodeName.toLowerCase(),"svg"===t.name&&(t.isSVG=!0),t.dom.events={},Array.prototype.map.call(n.attributes,function(e){t.props[e.nodeName]=e.nodeValue}),Array.prototype.forEach.call(n.childNodes,function(n){let o=e.utils.dom2vnode(n);o&&t.children.push(o)}),t):void 0},e.is={node:"undefined"==typeof window,mounted:!1,updating:!1},e.is.browser=!e.is.node,e.trust=function(n){let t=document.createElement("div");return t.innerHTML=n.trim(),Array.prototype.map.call(t.childNodes,n=>e.utils.dom2vnode(n))};let n=[];e.use=function(t,o){return-1===n.indexOf(t)&&(t(e,o),n.push(t)),e},e.use(function(e){let n,t,o,i,d,r="oninit",l="oncreate",s="onupdate",u="onremove",a="http://www.w3.org/2000/svg";function p(e,n,t,o){if(1===e.nt&&(e.props[n]&&e.props[n](e,t),n===u)){for(o=e.children.length;o--;)p(e.children[o],u);e.children=[]}}function c(n){n.currentTarget.events["on"+n.type]&&n.currentTarget.events["on"+n.type](n),e.update()}function m(e,n){p(e,r),e.dom=n?document.createElementNS(a,e.name):document.createElement(e.name),e.dom.events={}}e.update=function(a){if((a=e.utils.flat(arguments,0,[]))[0]&&(a[0].view||"function"!=typeof a[0]||(a[0].view=a[0]),a[0].view&&(n=a.shift())),e.is.updating||(e.is.updating=!0,a.unshift(n),o=e.apply(e,a),function n(t,o,i,a,f,h,v,y,g,w){if(0!==o.length)for(f=o.length>i.length?o.length:i.length,y=0;y<f;y++)if(h=o[y],v=i[y],h)if(h.nt&&3!==h.nt){if(g=!e.is.mounted,a=a||h.isSVG,v){if(h.name!==v.name)m(h,a),p(v,u),t.replaceChild(h.dom,v.dom),g=!0;else for(w in h.dom=v.dom,v.props)if(h.props[w]===d){if("function"==typeof v.props[w]){h.dom.removeEventListener(w.slice(2),c);continue}if(e.is.node||a||h.dom[w]===d){h.dom.removeAttribute(w);continue}h.dom[w]=null}}else m(h,a),t.appendChild(h.dom),v={children:[]},g=!0;for(w in n(h.dom,h.children,v.children,a),h.props)if((g||h.props[w]!==v.props[w])&&h.props[w]!==d){if("function"==typeof h.props[w]){switch(w){case r:case l:case s:case u:break;default:h.dom.events[w]&&(h.dom.events[w]=h.props[w],h.dom.addEventListener(w.slice(2),c))}continue}if(e.is.node||a||h.dom[w]===d){h.dom.setAttribute(w,h.props[w]);continue}h.dom[w]=h.props[w]}e.is.mounted||g||(p(h,r),p(h,l)),p(h,g?l:s,v)}else h.nt||(o[y]=h={name:"#text",isVnode:!0,nodeValue:h,children:[],nt:3}),v?1===v.nt?(h.dom=document.createTextNode(h.nodeValue),p(v,u),t.replaceChild(h.dom,v.dom)):(h.dom=v.dom,h.nodeValue!==v.nodeValue&&(h.dom.nodeValue=h.nodeValue)):(h.dom=document.createTextNode(h.nodeValue),t.appendChild(h.dom));else v!==d&&(3===v.nt&&p(v,u),t.removeChild(v.dom));else{for(y=i.length;y--;)p(i[y],u);t.textContent=""}}(i,o,t),t=o,e.is.updating=!1,e.is.mounted=!0),e.is.node)return i.innerHTML},e.mount=function(n){return i=e.is.node?document.createElement("div"):"string"==typeof n?document.querySelectorAll(n)[0]:n,t=e.utils.dom2vnode(i).children,e.update.apply(this,e.utils.flat(arguments,1,[]))}}),(e.is.node?global:window).v=e}();