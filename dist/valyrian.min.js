!function(){"use strict";function e(){let e,n,o,t,d=void 0,r="oncreate",i="onupdate",l="onremove",s="onbeforeupdate",p="function",c="v-once",m=Array.isArray,a={};function u(e,n,o){this.props=n||{},this.children=o,this.name=e}function f(e){this.dom=e}f.prototype={props:{},children:[]};let h=new f;function v(e,n){return n?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function g(e,n,o){if(e.props[n])return e.props[n](e,o)}function y(e){if(e instanceof u){for(let n=0,o=e.children.length;n<o;n++)y(e.children[n]);e.props.onremove&&e.props.onremove(e)}}function V(e,n,...o){return new u(e,n,o)}V.isNode="undefined"==typeof window,V.domToVnode=e=>{if(3===e.nodeType)return new f(e);if(1===e.nodeType){let n={};[].forEach.call(e.attributes,e=>n[e.nodeName]=e.nodeValue);let o=new u(e.nodeName,n,[]);o.dom=e;for(let n=0,t=e.childNodes.length;n<t;n++){let t=V.domToVnode(e.childNodes[n]);t&&o.children.push(t)}return o}},V.trust=e=>{let n=v("div");return n.innerHTML=e.trim(),[].map.call(n.childNodes,e=>V.domToVnode(e))};let N=new Map;V.usePlugin=(e,n)=>!N.has(e)&&N.set(e,!0)&&e(V,n),V.reservedWords=["key",c,r,s,i,l,"data"];let w={};function C(e){let n=e.target,o="__on"+e.type;for(;n;){if(n[o])return n[o](e,n),void(e.defaultPrevented||V.update());n=n.parentNode}}function S(e,n){for(let o in e.props)V.updateProperty(o,e,n)}function T(e,n){for(let o in n.props)-1===V.reservedWords.indexOf(o)&&o in e.props==!1&&typeof n.props[o]!==p&&(o in e.dom?e.dom[o]=d:e.dom.removeAttribute(o))}function x(e,n,o){e!==o&&(o?n.replaceChild(e,o):n.appendChild(e))}function M(e){y(e),e.dom&&e.dom.parentNode&&e.dom.parentNode.removeChild(e.dom)}function G(e,n,o,t){let d=e.childNodes[t];o.dom?(n.dom=o.dom,n.props[c]||!1===g(n,s,o)?(n.children=o.children,x(n.dom,e,d)):(T(n,o),S(n,o),x(n.dom,e,d),g(n,V.isMounted?i:r,o),b(n,o))):(n.dom=v(n.name,n.isSVG),S(n),x(n.dom,e,d),g(n,r),b(n,h))}V.updateProperty=(e,n,o)=>{if(e in n.props){let d=n.props[e];-1!==V.reservedWords.indexOf(e)?a[e]&&a[e](d,n,o):typeof d===p?(w[e="__"+e]||(t.addEventListener(e.slice(4),C),w[e]=!0),n.dom[e]=d):e in n.dom&&!n.isSVG?n.dom[e]!==d&&(n.dom[e]=d):o&&d===o.props[e]||n.dom.setAttribute(e,d)}};let P=[];function b(e,n){let o=m(e.children)?e.children:[e.children],t=n.children;V.current.parentVnode=e,V.current.oldParentVnode=n;for(let n=0;n<o.length;n++){let t=o[n];m(t)?o.splice(n--,1,...t):t instanceof u?"string"==typeof t.name?t.isSVG=e.isSVG||"svg"===t.name:(V.current.component=t,o.splice(n--,1,(t.name.view||t.name).call(t.name,t.props,...t.children))):null!==t&&t!==d||o.splice(n--,1)}if(0===o.length){if(t.length>0){let n=t.length;for(;n--;)y(t[n]);e.dom.textContent=""}}else if(t.length&&o[0]instanceof u&&o[0].props.key){let n=t.map(e=>e.props.key),r=o.map(e=>e.props.key);for(let i=0,l=r.length;i<l;i++){let l=r[i],s=o[i];if(l===n[i])t[i].processed=!0,G(e.dom,s,t[i],i);else{let o=n.indexOf(l),r=i>=n.length?d:i;-1!==o?(t[o].processed=!0,G(e.dom,s,t[o],r)):G(e.dom,s,h,r)}}let i=t.length;for(;i--;)!t[i].processed&&M(t[i])}else{let n=t.length,d=o.length;for(;n-- >d;)M(t[n]);for(n=0;n<d;n++){let d=o[n],l=t[n];if(d instanceof u)l?d.name===l.name?(d.dom=l.dom,d.props[c]||!1===g(d,s,l)?d.children=l.children:(T(d,l),S(d,l),g(d,V.isMounted?i:r,l),b(d,l))):(y(l),d.dom=v(d.name,d.isSVG),S(d),e.dom.replaceChild(d.dom,e.dom.childNodes[n]),g(d,r),b(d,h)):(d.dom=v(d.name,d.isSVG),S(d),e.dom.appendChild(d.dom),g(d,r),b(d,h));else{let t,r=d.dom?d.dom.nodeValue:String(d);l instanceof f?(t=l.dom,r!==t.nodeValue&&(t.nodeValue=r)):(t=document.createTextNode(r),l?(y(l),e.dom.replaceChild(t,l.dom)):e.dom.appendChild(t)),o[n]=new f(t)}}}e.children=o}V.onCleanup=e=>{let n=V.current.parentVnode;n.onCleanup||(n.onCleanup=[]),n.onCleanup.push(e),-1===P.indexOf(n)&&P.push(n)},V.current={parentVnode:d,oldParentVnode:d,component:d},V.update=(t,...d)=>{if(e)return o&&(!function(){for(let e=P.length;e--;)for(let n of P[e].onCleanup)n();P=[]}(),n=e,e=new u(e.name,e.props,[V(o,t,...d)]),e.dom=n.dom,e.isSVG="svg"===e.name,b(e,n),V.isMounted=!0),V.isNode&&e.dom.innerHTML},V.mount=(n,d,r,...i)=>(t=V.isNode?v("div"):"string"==typeof n?document.querySelectorAll(n)[0]:n,e=V.domToVnode(t),o=d,V.update(r,...i)),V.unMount=()=>{t=null,o=()=>"";let e=V.update();return o=d,V.isMounted=!1,e},V.directive=(e,n)=>{let o="v-"+e;-1===V.reservedWords.indexOf(o)&&(V.reservedWords.push(o),a[o]=n)};let A=e=>(n,o,t)=>{if(e?n:!n){let e=document.createTextNode("");t&&t.dom&&t.dom.parentNode&&(y(t),t.dom.parentNode.replaceChild(e,t.dom)),o.name="",o.children=[],o.props={},o.dom=e}};return V.directive("if",A(!1)),V.directive("unless",A(!0)),V.directive("for",(e,n)=>n.children=e.map(n.children[0])),V.directive("show",(e,n)=>n.dom.style.display=e?"":"none"),V.directive("class",(e,n)=>{for(let o in e)n.dom.classList.toggle(o,e[o])}),V.directive("html",(e,n)=>n.children=V.trust(e)),V}const n=e();n.newInstance=e,(n.isNode?global:window).v=n}();