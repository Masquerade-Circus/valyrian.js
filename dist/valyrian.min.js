!function(){"use strict";let e,n,t,o,r="v-create",d="v-update",i="v-remove",l="v-beforeupdate",p=!1,s=!0,c=null,u=Object.create(c),a=[];function m(e,n,t){this.props=n||u,this.children=t,this.name=e}function f(){}m.prototype={isSVG:p},f.prototype={props:u,children:a,isSVG:p};let h=new f;function v(e,n){return n?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function g(e,n,...t){return new m(e,n,t)}g.isNode="undefined"==typeof window,g.addState=(e,n)=>Object.assign(e,n),g.dom2vnode=function(e){let n;if(3===e.nodeType)(n=new f).dom=e;else if(1===e.nodeType){(n=new m(e.nodeName,{},[])).dom=e;for(let t=e.attributes.length;t--;){let o=e.attributes[t];n.props[o.nodeName]=o.nodeValue}for(let t=0,o=e.childNodes.length;t<o;t++){let o=g.dom2vnode(e.childNodes[t]);o&&n.children.push(o)}}return n},g.trust=e=>{let n=v("div");return n.innerHTML=e.trim(),a.map.call(n.childNodes,e=>g.dom2vnode(e))};let y=new Map;g.usePlugin=(e,n)=>!y.has(e)&&y.set(e,s)&&e(g,n),g.reservedWords={key:c,"v-noop":c,[r]:c,[l]:c,[d]:c,[i]:c};let N={};function w(e){let n=e.target,t=`__on${e.type}`;for(;n;){if(t in n)return n[t](e),void(e.defaultPrevented===p&&g.update());n=n.parentNode}}function V(e,n,t){if(n===i){G(e);for(let n=0,t=e.children.length;n<t;n++)V(e.children[n],i)}if(n in e.props)return e.props[n](e,t)}function C(e,n,t){for(let o in e.props)g.updateProperty(o,e,n,t)}function S(e,n){e.dom=v(e.name,n),C(e,h,n),V(e,r),M(e,h,n)}function b(e,n,t){if(e.dom=n.dom,"v-noop"in e.props||V(e,l,n)===p)e.children=n.children;else{for(let t in n.props)t in g.reservedWords===p&&t in e.props===p&&"function"!=typeof n.props[t]&&(t in e.dom?e.dom[t]=c:e.dom.removeAttribute(t));C(e,n,t),V(e,g.isMounted?d:r,n),M(e,n,t)}}function A(e,n){V(n,i),e.removeChild(n.dom)}function T(n,t,o,r,d){"dom"in o?b(t,o,r):S(t,r),t.dom!==n.childNodes[d]&&(n.childNodes[d]!==e?n.replaceChild(t.dom,n.childNodes[d]):n.appendChild(t.dom))}function W(e){let n=[];for(let t=0,o=e.length;t<o;t++)n.push(e[t].props.key);return n}function G(e){if(e.cleanUp)for(let n=0,t=e.onCleanup.length;n<t;n++)e.onCleanup[n]()}function M(n,t,o){let{dom:r,children:d}=n,l=t.children;if(g.current.parentVnode=n,g.current.oldParentVnode=t,G(t),Array.isArray(d)===p&&(d=[d]),0===d.length){for(let e=l.length;e--;)V(l[e],i);r.textContent=""}else{for(let e=0;e<d.length;e++){let n=d[e];if(n instanceof m)if(g.current.component=n,"string"!=typeof n.name){let t="view"in n.name?n.name.view:n.name;d.splice(e,1,t.call(t,n.props,...n.children)),e--}else"svg"===n.name&&(n.isSVG=s);else Array.isArray(n)&&(d.splice(e,1,...n),e--)}let n=d[0];if(l.length>0&&n instanceof m&&"key"in n.props){let n=W(l),t=W(d);for(let i=0,p=t.length;i<p;i++){let p=t[i],c=d[i];if(o=o||c.isSVG,p===n[i])l[i].processed=s,T(r,c,l[i],o,i);else{let t=n.indexOf(p),d=i>=n.length?e:i;-1!==t?(l[t].processed=s,T(r,c,l[t],o,d)):T(r,c,h,o,d)}}for(let e=0,n=l.length;e<n;e++)"processed"in l[e]===p&&(V(l[e],i),l[e].dom.parentNode&&r.removeChild(l[e].dom))}else{if(l.length>d.length)for(let e=l.length,n=d.length;e--&&e>=n;)A(r,l[e]);for(let n=0,t=d.length;n<t;n++){let t=d[n],p=l[n];if(t instanceof m)o=o||t.isSVG,p===e?(S(t,o),r.appendChild(t.dom)):t.name!==p.name?(S(t,o),V(p,i),r.replaceChild(t.dom,p.dom)):b(t,p,o);else{let o;p===e?(o=document.createTextNode(t),r.appendChild(o)):p instanceof m?(o=document.createTextNode(t),V(p,i),r.replaceChild(o,p.dom)):t!==(o=p.dom).nodeValue&&(o.nodeValue=t),d[n]=new f,d[n].dom=o}}}}n.children=d}g.updateProperty=(e,n,t,o)=>{let r=n.props[e];e in g.reservedWords?"function"==typeof g.reservedWords[e]&&g.reservedWords[e](r,n,t,o):"function"==typeof r?((e=`__${e}`)in N===p&&(document.addEventListener(e.slice(4),w),N[e]=s),n.dom[e]=r):e in n.dom&&!o?n.dom[e]!==r&&(n.dom[e]=r):r!==t.props[e]&&n.dom.setAttribute(e,r)},g.onCleanup=function(n){g.current.parentVnode.onCleanup===e&&(g.current.parentVnode.onCleanup=[],g.current.parentVnode.cleanUp=s),g.current.parentVnode.onCleanup.push(n)},g.current={parentVnode:c,oldParentVnode:c,component:c},g.update=(r,...d)=>{if(n)return o!==e&&(t=n,(n=new m(n.name,n.props,g(o,r,d))).dom=t.dom,M(n,t,n.isSVG),g.isMounted=s),g.isNode&&n.dom.innerHTML},g.mount=(e,t,r,...d)=>{let i=g.isNode?v("div"):"string"==typeof e?document.querySelectorAll(e)[0]:e;return n=g.dom2vnode(i),o=t,g.update(r,d)},g.unmount=()=>{o=()=>{};let n=g.update();return o=e,g.isMounted=p,n},g.directive=(e,n)=>e in g.reservedWords===p&&(g.reservedWords[e]=n),g.directive("v-for",(e,n)=>{let t=n.children[0];n.children=[];for(let o=0,r=e.length;o<r;o++)n.children[o]=t(e[o],o)});let P=e=>(n,t,o)=>{if(n===e){let e=document.createTextNode("");o&&o.dom&&o.dom.parentNode&&(V(o,i),o.dom.parentNode.replaceChild(e,o.dom)),t.name="",t.children=a,t.props=u,t.dom=e}};g.directive("v-if",P(p)),g.directive("v-unless",P(s)),g.directive("v-show",(e,n)=>n.dom.style.display=e===p?"none":""),(g.isNode?global:window).v=g}();