!function(){"use strict";let e=Array.isArray,t=Array.prototype.forEach;function o(t,n,d,i,r){return"string"==typeof t?(d={name:t,props:n||{},children:[],el:!0,isSVG:"svg"===t},o.utils.flat(arguments,2,d.children),d):(t.view||"function"!=typeof t||(t.view=t),t.view?(i=t.view.apply(t,o.utils.flat(arguments,1,[])),e(i)?i:[i]):void 0)}o.addState=function(e,t){Object.assign(e,{view:e},t)},o.utils={flat(t,n,d,i,r){for(i=t.length;n<i;n++)r=t[n],e(r)?d=o.utils.flat(r,0,d):null!=r&&d.push(r);return d},dom2vnode(e,n,d){if(3===(d=e.nodeType)||1===d)return n={props:{},children:[],dom:e,el:!0,isSVG:!1},3===d?(n.nodeValue=e.nodeValue,n.el=!1,n):(n.name=e.nodeName.toLowerCase(),n.isSVG="svg"===n.name,n.dom.events={},t.call(e.attributes,e=>n.props[e.nodeName]=e.nodeValue),t.call(e.childNodes,e=>{let t=o.utils.dom2vnode(e);t&&n.children.push(t)}),n)}},o.is={node:"undefined"==typeof window,mounted:!1,updating:!1},o.is.browser=!o.is.node,o.trust=function(e){let t=document.createElement("div");return t.innerHTML=e.trim(),Array.prototype.map.call(t.childNodes,e=>o.utils.dom2vnode(e))};let n=[];o.use=function(e,t){return-1===n.indexOf(e)&&(e(o,t),n.push(e)),o},o.use(function(e){let t,o,n,d,i="oncreate",r="onupdate",l="onremove",s="onbeforeupdate",u="http://www.w3.org/2000/svg",a=[];function p(e,t,o,n){if(t===l)for(;e.children.length;)(n=e.children.pop()).el&&p(n,l);if(e.props[t])return e.props[t](e,o)}function m(t){t.currentTarget.events[t.type]&&(t.currentTarget.events[t.type](t),t.defaultPrevented||e.update())}function c(e,t){e.dom=t?document.createElementNS(u,e.name):document.createElement(e.name),e.dom.events={}}e.update=function(u){if(a=[],u=e.utils.flat(arguments,0,[]),!e.is.node&&e.is.updating||(e.is.updating=!0,u.unshift(o),n=function o(n,d,u,f,v,h,g,y,w,V,b,A){for(;u.length>d.length;)(h=u.pop()).el&&p(h,l),n.removeChild(h.dom);for(g=0;g<d.length;g++)if(v=d[g],h=u[g],v.el){if(y=!e.is.mounted,f=f||v.isSVG,A=!1,h===t)c(v,f),n.appendChild(v.dom),h={children:[],props:{}},y=!0;else if(v.name!==h.name)c(v,f),p(h,l),n.replaceChild(v.dom,h.dom),y=!0;else if(v.dom=h.dom,A=!1===p(v,s,h))v.children=h.children;else for(w in h.props)v.props[w]!==t||"v"===w[0]&&"-"===w[1]||("function"==typeof h.props[w]?(V=w.slice(2),v.dom.events[V]&&(delete v.dom.events[V],v.dom.removeEventListener(V,m))):v.dom[w]!==t?v.dom[w]=null:v.dom.removeAttribute(w));if(!A){for(w in v.props)if("function"==typeof(b=v.props[w]))switch(V=w.slice(2),w){case i:case r:case l:case"onbeforeupdate":break;default:v.dom.events[V]||(v.dom.events[V]=b,v.dom.addEventListener(V,m))}else v.dom[w]===t||v.dom[w]===b||f?"v"===w[0]&&"-"===w[1]?a.push({v:v,a:w.slice(2),b:b,p:{}}):b!==h.props[w]&&v.dom.setAttribute(w,b):v.dom[w]=b;p(v,y?i:r,h),o(v.dom,v.children,h.children,f)}}else v.el===t&&(d[g]=v={props:{},nodeValue:v,children:[],el:!1}),h===t?(v.dom=document.createTextNode(v.nodeValue),n.appendChild(v.dom)):h.el?(v.dom=document.createTextNode(v.nodeValue),p(h,l),n.replaceChild(v.dom,h.dom)):(v.dom=h.dom,v.nodeValue!==h.nodeValue&&(v.dom.nodeValue=v.nodeValue));return d}(d,e.apply(e,u),n),e.is.updating=!1),e.is.node)return d.innerHTML},e.mount=function(i,r){let l=e.utils.flat(arguments,2,[]);return d=e.is.node?document.createElement("div"):"string"==typeof i?document.querySelectorAll(i)[0]:i,n=e.utils.dom2vnode(d).children,r.view||"function"!=typeof r||(r.view=r),r.view&&(o=r),e.is.mounted=!0,function e(o,n,d,i,r,l){for(o=a.length;o--;){for(r in d=(n=a[o]).v.props[n.a]||"",i=!1,n.b)(l=n.b[r](n.v))!==n.p[r]&&(n.p[r]=l,i=!0),"string"==typeof l?d+=` ${l}`:l&&(d+=` ${r}`);i&&(n.v.dom[n.a]===t||n.v.dom[n.a]===d||n.v.isSVG?n.v.dom.setAttribute(n.a,d):n.v.dom[n.a]=d)}setTimeout(()=>e(),0)}(),e.update.apply(e,l)}}),(o.is.node?global:window).v=o}();