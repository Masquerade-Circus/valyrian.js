!function(){"use strict";let e,n,o,t,d="v-create",r="v-update",i="v-remove",l="v-beforeupdate",s=!1,p=!0,c=null,a=Object.create(c),m=[];function f(e,n,o){this.props=n||a,this.children=o,this.name=e,"string"!=typeof e?(this.isComponent=p,this.hooks=[]):(this.components=[],this.onCleanup=[])}let u={props:a,children:m,isComponent:s,hooks:m,components:m,onCleanup:m,hasComponents:s};function h(){}f.prototype=u,h.prototype=u;let v=new h;function g(e,n){return n?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function y(e,n,...o){return new f(e,n,o)}y.isNode="undefined"==typeof window,y.addState=(e,n)=>Object.assign(e,n),y.dom2vnode=function(e){let n;if(3===e.nodeType)(n=new h).dom=e;else if(1===e.nodeType){(n=new f(e.nodeName,{},[])).dom=e;for(let o=e.attributes.length;o--;){let t=e.attributes[o];n.props[t.nodeName]=t.nodeValue}for(let o=0,t=e.childNodes.length;o<t;o++){let t=y.dom2vnode(e.childNodes[o]);t&&n.children.push(t)}}return n},y.trust=e=>{let n=g("div");return n.innerHTML=e.trim(),m.map.call(n.childNodes,e=>y.dom2vnode(e))};let C=new Map;y.usePlugin=(e,n)=>!C.has(e)&&C.set(e,p)&&e(y,n),y.reservedWords={key:c,"v-noop":c,[d]:c,[l]:c,[r]:c,[i]:c};let N={};function w(e){let n=e.target,o=`__on${e.type}`;for(;n;){if(o in n)return n[o](e),void(e.defaultPrevented===s&&y.update());n=n.parentNode}}function M(e,n,o){if(k("onLifecycle",e,n,o),n===i)for(let n=0,o=e.children.length;n<o;n++)M(e.children[n],i);if(n in e.props)return e.props[n](e,o)}function V(e,n,o){for(let t in e.props)y.updateProperty(t,e,n,o)}function b(e,n){e.dom=g(e.name,n),V(e,v,n),M(e,d),x(e,v,n)}function P(e,n,o){if(e.dom=n.dom,"v-noop"in e.props||M(e,l,n)===s)e.children=n.children;else{for(let o in n.props)o in y.reservedWords===s&&o in e.props===s&&"function"!=typeof n.props[o]&&(o in e.dom?e.dom[o]=c:e.dom.removeAttribute(o));V(e,n,o),M(e,y.isMounted?r:d,n),x(e,n,o)}}function A(e,n){M(n,i),e.removeChild(n.dom)}function S(n,o,t,d,r){"dom"in t?P(o,t,d):b(o,d),o.dom!==n.childNodes[r]&&(n.childNodes[r]!==e?n.replaceChild(o.dom,n.childNodes[r]):n.appendChild(o.dom))}function T(e){let n=[];for(let o=0,t=e.length;o<t;o++)n.push(e[o].props.key);return n}y.updateProperty=(e,n,o,t)=>{let d=n.props[e];e in y.reservedWords?"function"==typeof y.reservedWords[e]&&y.reservedWords[e](d,n,o,t):"function"==typeof d?((e=`__${e}`)in N===s&&(document.addEventListener(e.slice(4),w),N[e]=p),n.dom[e]=d):e in n.dom&&!t?n.dom[e]!==d&&(n.dom[e]=d):d!==o.props[e]&&n.dom.setAttribute(e,d)};let W={onMount:[],afterMount:[],onUpdate:[],afterUpdate:[],onVnode:[],onLifecycle:[],onPatch:[],afterPatch:[],onComponent:[],afterComponent:[]};function k(e,...n){if(e in W)for(let o=0,t=W[e].length;o<t;o++)W[e][o](...n)}function x(n,o,t){let{dom:d,children:r}=n,l=o.children;if(k("onPatch",n,o,t),Array.isArray(r)===s&&(r=[r]),0===r.length){for(let e=l.length;e--;)M(l[e],i);d.textContent=""}else{for(let e=0;e<r.length;e++){let n=r[e];if(n instanceof f)if(n.isComponent){k("onComponent",n);let o=n.name.view||n.name;r.splice(e,1,o.call(o,n.props,...n.children)),k("afterComponent",n),e--}else k("onVnode",n),"svg"===n.name&&(n.isSVG=!0);else Array.isArray(n)&&(r.splice(e,1,...n),e--)}let n=r[0];if(l.length>0&&n instanceof f&&"key"in n.props){let n=T(l),o=T(r);for(let i=0,s=o.length;i<s;i++){let s=o[i],c=r[i];if(t=t||c.isSVG,s===n[i])l[i].processed=p,S(d,c,l[i],t,i);else{let o=n.indexOf(s),r=i>=n.length?e:i;-1!==o?(l[o].processed=p,S(d,c,l[o],t,r)):S(d,c,v,t,r)}}for(let e=0,n=l.length;e<n;e++)"processed"in l[e]===s&&(M(l[e],i),l[e].dom.parentNode&&d.removeChild(l[e].dom))}else{if(l.length>r.length)for(let e=l.length,n=r.length;e--&&e>=n;)A(d,l[e]);for(let n=0,o=r.length;n<o;n++){let o=r[n],s=l[n];if(o instanceof f)t=t||o.isSVG,s===e?(b(o,t),d.appendChild(o.dom)):o.name!==s.name?(b(o,t),M(s,i),d.replaceChild(o.dom,s.dom)):P(o,s,t);else{let t;s===e?(t=document.createTextNode(o),d.appendChild(t)):s instanceof f?(t=document.createTextNode(o),M(s,i),d.replaceChild(t,s.dom)):o!==(t=s.dom).nodeValue&&(t.nodeValue=o),r[n]=new h,r[n].dom=t}}}}n.children=r,k("afterPatch",n,o,t)}y.onEvent=(e,n)=>{e in W&&W[e].push(n)},y.update=(d,...r)=>{if(o)return n!==e&&(t=o,(o=new f(o.name,o.props,[y(n,d,r)])).dom=t.dom,k("onUpdate",o,t),x(o,t,o.isSVG),k("afterUpdate",o,t),y.isMounted===s&&k("afterMount",o.dom,n,d,r),y.isMounted=p),y.isNode&&o.dom.innerHTML},y.mount=(e,t,d,...r)=>{let i=y.isNode?g("div"):"string"==typeof e?document.querySelectorAll(e)[0]:e;return k("onMount",i,t,d,r),o=y.dom2vnode(i),n=t,y.update(d,r)},y.unmount=()=>{n=()=>{};let o=y.update();return n=e,y.isMounted=s,o},y.directive=(e,n)=>e in y.reservedWords===s&&(y.reservedWords[e]=n),y.directive("v-for",(e,n)=>{let o=n.children[0];n.children=[];for(let t=0,d=e.length;t<d;t++)n.children[t]=o(e[t],t)});let L=e=>(n,o,t)=>{if(n===e){let e=document.createTextNode("");t&&t.dom&&t.dom.parentNode&&(M(t,i),t.dom.parentNode.replaceChild(e,t.dom)),o.name="",o.children=m,o.props=a,o.dom=e}};y.directive("v-if",L(s)),y.directive("v-unless",L(p)),y.directive("v-show",(e,n)=>n.dom.style.display=e===s?"none":""),(y.isNode?global:window).v=y}();
