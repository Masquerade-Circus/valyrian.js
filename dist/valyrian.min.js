!function(){"use strict";let e,n,o,t,i=[];function d(e,n,o,t,i){if("string"==typeof e){for(t in o={name:e,props:{},children:[],dom:null,isVnode:!0,nt:1,isSVG:"svg"===e},n)o.props[t]=n[t];return d.utils.flat(arguments,2,o.children,!0),o}return"function"==typeof e?Object.assign({view:e,isComponent:!0},n):"object"==typeof e&&("function"==typeof e.view&&Object.assign(e,{isComponent:!0}),e.isComponent)?(i=e.view.apply(e,d.utils.flat(arguments,1,[])),Array.isArray(i)?i:[i]):void 0}function r(e,n){if(3===e.nodeType||1===e.nodeType)return 3===(n={name:e.nodeName.toLowerCase(),props:{},children:[],dom:e,isVnode:!0,nodeValue:null,nt:e.nodeType}).nt?(n.nodeValue=e.nodeValue,n):("svg"===n.name&&(n.isSVG=!0),n.dom.events={},Array.prototype.map.call(e.attributes,function(e){n.props[e.nodeName]=e.nodeValue}),Array.prototype.forEach.call(e.childNodes,function(e){let o=r(e);void 0!==o&&n.children.push(o)}),n)}function s(e,n){if(void 0!==e.props[n])return e.props[n](e)}function u(e){void 0!==e.currentTarget.events["on"+event.type]&&e.currentTarget.events["on"+event.type](e),d.update()}d.utils={flat:function(e,n,o,t,i){for(i=e.length,void 0===t&&(t=!1);n<i;n++)Array.isArray(e[n])?o=d.utils.flat(e[n],0,o):(!1===t||void 0!==e[n]&&null!==e[n])&&o.push(e[n]);return o}},(d.is={node:"undefined"==typeof window,mounted:!1,updating:!1}).browser=!d.is.node,d.trust=function(e){let n=document.createElement("div");return n.innerHTML=e.trim(),Array.prototype.map.call(n.childNodes,e=>r(e))},d.update=function(i){return"object"==typeof(i=d.utils.flat(arguments,0,[]))[0]&&i[0].isComponent&&(e=i.shift()),new Promise(function(r){if(!d.is.updating){if(d.is.updating=!0,i.unshift(e),o=d.apply(d,i),function e(n,o,t,i,r,p,l,a,m,c){if(0!==o.length)for(r=o.length>t.length?o.length:t.length,a=0;a<r;a++)if(l=t[a],void 0!==(p=o[a]))if(void 0!==p.nt){if(m=!d.is.mounted,i=i||p.isSVG,void 0===l)s(p,"oninit"),p.dom=i?document.createElementNS("http://www.w3.org/2000/svg",p.name):document.createElement(p.name),p.dom.events={},n.appendChild(p.dom),l={children:[]},m=!0;else if(p.name!==l.name)s(p,"oninit"),p.dom=i?document.createElementNS("http://www.w3.org/2000/svg",p.name):document.createElement(p.name),p.dom.events={},s(l,"onremove"),n.replaceChild(p.dom,l.dom),m=!0;else for(c in p.dom=l.dom,l.props)if(void 0===p.props[c]){if("function"==typeof l.props[c]){p.dom.removeEventListener(c.slice(2),u);continue}if(d.is.node||i||void 0===p.dom[c]){p.dom.removeAttribute(c);continue}p.dom[c]=null}for(c in e(p.dom,p.children,l.children,i),p.props)if((m||p.props[c]!==l.props[c])&&void 0!==p.props[c]){if("function"==typeof p.props[c]){switch(c){case"oninit":case"oncreate":case"onupdate":case"onremove":break;default:void 0===p.dom.events[c]&&(p.dom.events[c]=p.props[c],p.dom.addEventListener(c.slice(2),u))}continue}if(d.is.node||i||void 0===p.dom[c]){p.dom.setAttribute(c,p.props[c]);continue}p.dom[c]=p.props[c]}d.is.mounted||m||(s(p,"oninit"),s(p,"oncreate")),s(p,m?"oncreate":"onupdate")}else o[a]=p={name:"#text",isVnode:!0,nodeValue:p,nt:3},void 0===l?(p.dom=document.createTextNode(p.nodeValue),n.appendChild(p.dom)):1===l.nt?(p.dom=document.createTextNode(p.nodeValue),s(l,"onremove"),n.replaceChild(p.dom,l.dom)):(p.dom=l.dom,p.nodeValue!=l.nodeValue&&(p.dom.nodeValue=p.nodeValue));else void 0!==l&&(3===l.nt&&s(l,"onremove"),n.removeChild(l.dom));else n.textContent=""}(t,o,n),n=o,d.is.updating=!1,d.is.mounted=!0,d.is.node)return r(t.innerHTML);r()}})},d.mount=function(e,o){return t=d.is.node?document.createElement("div"):"string"==typeof e?document.querySelectorAll(e)[0]:e,n=r(t).children,d.update.apply(this,d.utils.flat(arguments,1,[]))},d.use=function(e,n){return-1===i.indexOf(e)&&(e(d,n),i.push(e)),d},(d.is.node?global:window).v=d}();
