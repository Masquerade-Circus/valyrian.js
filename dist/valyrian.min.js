!function(){"use strict";var e=function(t,r){if(void 0===r&&(r=[]),"function"==typeof t)return r.push(t),r;for(var n=0,o=t.length;n<o;n++)Array.isArray(t[n])&&e(t[n],r),Array.isArray(t[n])||r.push(t[n]);return r},t=function(r,n,o){var i,a;if("string"==typeof o[0]&&(i=o.shift()),"function"==typeof o[0]&&void 0!==o[0].paths&&void 0!==o[0].regexpList)for(var s=o.shift(),d=0,u=s.paths.length;d<u;d++){var p=s.paths[d].middlewares,c=s.paths[d].method,f=s.paths[d].path;void 0!==i&&(f=i+(f||"*")),void 0!==f&&p.unshift(f),r=t(r,c,p)}if((a=e(o)).length>0){if(void 0!==i&&void 0===r.regexpList[i]){var l=(i=i.replace(/\/(\?.*)?$/gi,"$1")).match(/:(\w+)?/gi)||[];for(var m in l)l[m]=l[m].replace(":","");var h=i.replace(/:(\w+)/gi,"([^\\s\\/|\\?]+)").replace(/\*/g,".*").replace(/\/(\?.*)?$/gi,"$1");r.regexpList[i]={regexp:RegExp("^"+h+"/?(\\?.*)?$","gi"),params:l}}r.paths.push({method:n,path:i,middlewares:a})}return r},r=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n,o,i,a={name:"div",props:{},children:[]};if("string"==typeof e[0]&&e[0].trim().length>0&&(a.name=e.shift()),"textNode"===a.name)return a.value=e.join(" ").trim(),a;if(r.isVnode(e[0])||"object"!=typeof e[0]||Array.isArray(e[0])||null===e[0]||(a.props=e.shift()),/(\.|\[|#)/gi.test(a.name)&&(i=a.name.match(/([\.|\#]\w+|\[[^\]]+\])/gi),a.name=a.name.replace(/([\.|\#]\w+|\[[^\]]+\])/gi,""),i))for(n=i.length;n--;)"#"!==i[n].charAt(0)?"."!==i[n].charAt(0)?"["===i[n].charAt(0)&&(i[n]=i[n].trim().slice(1,-1).split("="),a.props[i[n][0]]=i[n][1]):a.props.class=((a.props.class||"")+" "+i[n].slice(1)).trim():a.props.id=i[n].slice(1);var s=r.flatenArray(e);for(o=0,n=s.length;o<n;o++)a.children.push(r.isVnode(s[o])?s[o]:r("textNode",s[o]));return a};r.flatenArray=function(e,t){if(void 0===t&&(t=[]),!Array.isArray(e))return t.push(e),t;for(var n=0,o=e.length;n<o;n++)Array.isArray(e[n])&&r.flatenArray(e[n],t),Array.isArray(e[n])||t.push(e[n]);return t},r.isVnode=function(e){return e&&e.name&&e.props&&e.children},r.vnode=function(e){if(e)return 3===e.nodeType?{value:e.nodeValue,name:"textNode",props:{},children:[],dom:e}:{name:e.nodeName.toLowerCase(),props:{},children:Array.prototype.map.call(e.childNodes,function(e){return r.vnode(e)}),dom:e}};var n=function(e,t){void 0===e&&(e=""),void 0===t&&(t={});var r,o=e.replace(/\/$/gi,"").trim(),i=Object.assign({methods:["get","post","put","patch","delete"]},t),a="undefined"==typeof window,s=a?require("node-fetch"):window.fetch;function d(e,t,n,o){void 0===o&&(o={});var i=Object.assign({method:e.toLowerCase(),headers:{Accept:"application/json","Content-Type":"application/json"}},d.options,o),a=i.headers.Accept;return void 0!==n&&("get"===i.method&&"object"==typeof n&&(t+=n=function e(t,r){var n=encodeURIComponent;return"?"+Object.keys(t).map(function(o){return void 0!==r&&(o=r+"["+o+"]"),"object"==typeof t[o]?e(t[o],o):n(o)+"="+n(t[o])}).join("&")}(n)),"get"!==i.method&&(i.body=JSON.stringify(n))),s(r(t),i).then(function(e){if(e.status<200||e.status>300){var t=Error(e.statusText);throw t.response=e,t}return/text/gi.test(a)?e.text():/json/gi.test(a)?e.json():e})}return r=function(e){var t=/^https?/gi.test(e)?e:(d.baseUrl+"/"+e).trim().replace(/^\/\//gi,"/").trim();return a&&"string"==typeof d.nodeUrl&&(d.nodeUrl=d.nodeUrl.replace(/\/$/gi,"").trim(),/^https?/gi.test(t)&&"string"==typeof d.apiUrl&&(d.apiUrl=d.apiUrl.replace(/\/$/gi,"").trim(),t=t.replace(d.apiUrl,d.nodeUrl)),/^https?/gi.test(t)||(t=d.nodeUrl+t)),t},d.new=function(e,t){return n(e,t)},d.apiUrl=void 0,d.nodeUrl=void 0,d.options=i,d.baseUrl=o,i.methods.forEach(function(e){return d[e]=function(t,r,n){return d(e,t,r,n)}}),d},o=n();function i(e){return"object"==typeof e&&null!==e&&"function"==typeof e.view}function a(e,t){void 0===t&&(t={}),e.attributes=t.name&&t.props&&Array.isArray(t.children)?{children:t}:Array.isArray(t)?{children:1===t.length?t[0]:t}:Object.assign({},e.attributes,t)}function s(e,t){void 0===t&&(t={}),a(e,t);var r=e.view();return Array.isArray(r)?r:[r]}function d(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return i(e[0])?s.apply(d,e):r.apply(r,e)}function u(e,t,r,n){d.is.browser&&t.split(" ").forEach(function(t){e.addEventListener(t,r,n)})}d.ready=function(e){u(document,/https?:\/\//.test(window.document.URL)?"DOMContentLoaded":"deviceready",e,!1)},d.request=o,d.router=function(){var r=async function(t){void 0===t&&(t="/");var n,o={},i=[],a=0,s=r.paths.length;for(r.url=t;a<s;a++){var d=r.paths[a];if("get"===d.method||"use"===d.method)if("use"!==d.method&&"get"!==d.method||void 0!==d.path){var u=r.regexpList[d.path].regexp.exec(t);if(r.regexpList[d.path].regexp.lastIndex=-1,Array.isArray(u)){u.shift();for(var p=r.regexpList[d.path].params.length;p--;)void 0===o[r.regexpList[d.path].params[p]]&&(o[r.regexpList[d.path].params[p]]=u[p]);i=e(d.middlewares,i)}}else i=e(d.middlewares,i)}if(r.params=o,i.length>0)for(var c=0,f=i.length;c<f;c++)if(void 0!==(n=await i[c](o)))return n;if(r.throwNotFound)throw Error("The url "+t+" requested wasn't found")};return r.url="/",r.params={},r.throwNotFound=!0,r.paths=[],r.regexpList={},["get","use"].map(function(e){r[e]=function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];return t(r,e,n)}}),r},(d.is={}).node="undefined"==typeof window,d.is.browser=!d.is.node,d.is.mounted=!1,d.window=d.is.node?require("html-element"):window;var p,c,f,l,m,h,v=function(e){var t=e.window.document;function n(e,t,r){"className"!==t?"function"!=typeof r?("boolean"==typeof r&&(e[t]=r),void 0!==r&&!1!==r?e.setAttribute(t,r):e.removeAttribute(t)):e[t]=r.bind(e):e.setAttribute("class",r)}function o(e,t){void 0===t&&(t={});var r=e.props,o=t.props||{},i=Object.assign({},r,o);for(var a in i)r[a]!==o[a]&&n(e.dom,a,r[a])}function i(e,t){return e.props&&e.props[t]&&e.props[t](e)}function a(e){var r;delete e.dom,i(e,"oninit"),r="textNode"===e.name?t.createTextNode(e.value):"svg"===e.name?t.createElementNS("http://www.w3.org/2000/svg",e.name):t.createElement(e.name),e.dom=r,o(e);for(var n=0;n<e.children.length;n++)r.appendChild(a(e.children[n]));return i(e,"oncreate"),r}function s(e,t){return void 0===t&&(t=!1),Promise.resolve(i(e,"onbeforeremove")).then(function(){!t&&e.dom&&e.dom.parentElement&&e.dom.parentElement.removeChild(e.dom);for(var r=0,n=e.children.length;r<n;r++)s(e.children[r],t);i(e,"onremove")})}return function e(t,n,d){if(void 0===d&&void 0!==n&&t.appendChild(a(n)),void 0===n&&s(d),r.isVnode(d)&&r.isVnode(n)){if(n.dom=d.dom,"textNode"===n.name&&d.value==n.value)return t;if("textNode"===n.name&&n.value!=d.value||n.name!==d.name)return a(n),Promise.resolve(s(d,!0)).then(function(){t.replaceChild(n.dom,d.dom)}),t;o(n,d);for(var u=Math.max(n.children.length,d.children.length),p=0;p<u;p++)e(n.dom,n.children[p],d.children[p]);i(n,"onupdate")}return t}}(d);function g(){d.is.mounted=!1,p=d.window.document.createElement("html"),d.window.document.createElement("div").appendChild(p),c=r.vnode(p),f=Object.assign({},c)}function w(e,t){return void 0===t&&(t={}),i(e)&&(a(e,t),l=e,c.props={},Object.keys(l).forEach(function(e){"function"==typeof l[e]&&(c.props[e]=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return l[e].apply(l,t)})})),l&&(d.is.node&&g(),c.children=s(l),v(c.dom.parentElement,c,f),f=Object.assign({},c),d.is.mounted||(d.is.mounted=!0)),d.is.node?require("he").decode(c.dom.parentElement.innerHTML):c.dom.parentElement}g(),d.mount=function(e,t,n){if(void 0===n&&(n={}),void 0===e)throw Error("A container element is required as first element");if(!i(t))throw Error("A component is required as a second argument");return d.is.browser&&p&&function(e,t,r){d.is.browser&&t.split(" ").forEach(function(t){e.removeEventListener(t,r)})}(p,"mouseup keyup",d.update),p=d.is.node?d.window.document.createElement("div"):"string"==typeof e?d.window.document.querySelectorAll(e)[0]:e,c=r.vnode(p),f=Object.assign({},c),d.is.browser&&u(p,"mouseup keyup",d.update,!1),d.update(t,n)},d.update=function(e,t){if(void 0===t&&(t={}),!d.is.browser)return w(e,t);requestAnimationFrame(function(){return w(e,t)})},(d.routes=function(e,t){if(!e||!t){var r=[];return m.paths.forEach(function(e){"get"===e.method&&r.push(""===e.path?"/":e.path)}),r}if(m=t,h=e,d.is.browser){var n=document.location.pathname;u(window,"popstate",function(){return d.routes.go(n)},!1),d.ready(function(){return d.routes.go(n)})}}).current="/",d.routes.params={},d.routes.go=async function(e,t){return d.is.browser&&window.history.pushState({},"",e),await async function(e,t){void 0===e&&(e="/"),void 0===t&&(t=void 0);var r=await m(e);if(!i(r)){var n=r;r={view:function(){return n}}}if(t){var o=r;r={view:function(){return d(t,d(o))}}}return d.is.node||!d.is.mounted?d.mount(h,r,{params:m.params}):d.update(r,{params:m.params})}(e,t)},d.is.browser&&((d.sw=function(e,t){return void 0===e&&(e=d.sw.file),void 0===t&&(t=d.sw.options),navigator.serviceWorker.register(e,t).then(function(){return navigator.serviceWorker.ready}).then(function(r){return d.sw.ready=!0,d.sw.file=e,d.sw.options=t,new Promise(function(e,t){setTimeout(function(){e(navigator.serviceWorker)},10)})}).catch(function(e){process.stdout.write("ServiceWorker registration failed: \n"),process.stdout.write(e.status+"\n"),process.stdout.write(e.name+"\n"),process.stdout.write(e.message+"\n")})}).ready=!1,d.sw.file="/sw.js",d.sw.options={scope:"/"}),d.is.node&&"undefined"!=typeof VNodeHelpersFactory&&VNodeHelpersFactory(d),(d.is.node?global:window).v=d}();
