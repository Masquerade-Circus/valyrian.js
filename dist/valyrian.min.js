!function(){"use strict";function e(n,o,t,i,d){return"string"==typeof n?(t={name:n,props:o||{},children:[],dom:null,isVnode:!0,el:!0,isSVG:"svg"===n},e.utils.flat(arguments,2,t.children,!0),t):(n.view||"function"!=typeof n||(n.view=n),n.view?(d=n.view.apply(n,e.utils.flat(arguments,1,[])),Array.isArray(d)?d:[d]):void 0)}e.addState=function(e,n){Object.assign(e,{view:e},n)},e.utils={flat:function(n,o,t,i,d){for(d=n.length;o<d;o++)Array.isArray(n[o])?t=e.utils.flat(n[o],0,t):(!i||void 0!==n[o]&&null!==n[o])&&t.push(n[o]);return t},dom2vnode(n,o,t){if(3===(t=n.nodeType)||1===t)return o={props:{},children:[],dom:n,isVnode:!0,el:!0,isSVG:!1},3===t?(o.nodeValue=n.nodeValue,o.el=!1,o):(o.name=n.nodeName.toLowerCase(),"svg"===o.name&&(o.isSVG=!0),o.dom.events={},Array.prototype.map.call(n.attributes,function(e){o.props[e.nodeName]=e.nodeValue}),Array.prototype.forEach.call(n.childNodes,function(n){let t=e.utils.dom2vnode(n);t&&o.children.push(t)}),o)}},e.is={node:"undefined"==typeof window,mounted:!1,updating:!1},e.is.browser=!e.is.node,e.trust=function(n){let o=document.createElement("div");return o.innerHTML=n.trim(),Array.prototype.map.call(o.childNodes,n=>e.utils.dom2vnode(n))};let n=[];e.use=function(o,t){return-1===n.indexOf(o)&&(o(e,t),n.push(o)),e},e.use(function(e){let n,o,t,i,d,r="oncreate",l="onupdate",s="onremove",u="http://www.w3.org/2000/svg";function p(e,n,o,t){if(e.props[n]&&e.props[n](e,o),n===s){for(t=e.children.length;t--;)e.children[t].el&&p(e.children[t],s);e.children=[]}}function a(n){n.currentTarget.events["on"+n.type]&&n.currentTarget.events["on"+n.type](n),e.update()}function m(e,n){e.dom=n?document.createElementNS(u,e.name):document.createElement(e.name),e.dom.events={}}e.update=function(u){if((u=e.utils.flat(arguments,0,[]))[0]&&(u[0].view||"function"!=typeof u[0]||(u[0].view=u[0]),u[0].view&&(n=u.shift())),e.is.updating||(e.is.updating=!0,u.unshift(n),t=e.apply(e,u),function n(o,t,i,u,c,f,h,v,y,g){if(0!==t.length)for(c=t.length>i.length?t.length:i.length,v=0;v<c;v++)if(f=t[v],h=i[v],f===d)h!==d&&(h.el&&p(h,s),o.removeChild(h.dom));else if(f.el!==d&&f.el){if(y=!e.is.mounted,u=u||f.isSVG,h===d)m(f,u),o.appendChild(f.dom),h={children:[],props:{}},y=!0;else if(f.name!==h.name)m(f,u),p(h,s),o.replaceChild(f.dom,h.dom),y=!0;else for(g in f.dom=h.dom,h.props)f.props[g]===d&&("function"==typeof h.props[g]?f.dom.removeEventListener(g.slice(2),a):e.is.browser&&!u&&f.dom[g]!==d?f.dom[g]=null:f.dom.removeAttribute(g));for(g in f.props)if(f.props[g]!==d)if("function"==typeof f.props[g])switch(g){case r:case l:case s:break;default:f.dom.events[g]||(f.dom.events[g]=f.props[g],f.dom.addEventListener(g.slice(2),a))}else e.is.browser&&!u&&f.dom[g]!==d&&f.props[g]!==f.dom[g]?f.dom[g]=f.props[g]:f.props[g]!==h.props[g]&&f.dom.setAttribute(g,f.props[g]);p(f,y?r:l,h),n(f.dom,f.children,h.children,u)}else f.el===d&&(t[v]=f={isVnode:!0,nodeValue:f,children:[],el:!1}),h===d?(f.dom=document.createTextNode(f.nodeValue),o.appendChild(f.dom)):h.el?(f.dom=document.createTextNode(f.nodeValue),p(h,s),o.replaceChild(f.dom,h.dom)):(f.dom=h.dom,f.nodeValue!==h.nodeValue&&(f.dom.nodeValue=f.nodeValue));else{for(v=i.length;v--;)i[v].el&&p(i[v],s);o.textContent=""}}(i,t,o),o=t,e.is.updating=!1,e.is.mounted=!0),e.is.node)return i.innerHTML},e.mount=function(n){return i=e.is.node?document.createElement("div"):"string"==typeof n?document.querySelectorAll(n)[0]:n,o=e.utils.dom2vnode(i).children,e.update.apply(this,e.utils.flat(arguments,1,[]))}}),(e.is.node?global:window).v=e}();