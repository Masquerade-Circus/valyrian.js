!function(){"use strict";let e=Array.isArray,n=Array.prototype.forEach;function t(n,o,d,i,r){return"string"==typeof n?(d={name:n,props:o||{},children:[],el:!0,isSVG:"svg"===n},t.utils.flat(arguments,2,d.children),d):(n.view||"function"!=typeof n||(n.view=n),n.view?(i=n.view.apply(n,t.utils.flat(arguments,1,[])),e(i)?i:[i]):void 0)}t.addState=function(e,n){Object.assign(e,{view:e},n)},t.utils={flat(n,o,d,i,r){for(i=n.length;o<i;o++)r=n[o],e(r)?d=t.utils.flat(r,0,d):null!=r&&d.push(r);return d},dom2vnode(e,o,d){if(3===(d=e.nodeType)||1===d)return o={props:{},children:[],dom:e,el:!0,isSVG:!1},3===d?(o.nodeValue=e.nodeValue,o.el=!1,o):(o.name=e.nodeName.toLowerCase(),o.isSVG="svg"===o.name,o.dom.events={},n.call(e.attributes,e=>o.props[e.nodeName]=e.nodeValue),n.call(e.childNodes,e=>{let n=t.utils.dom2vnode(e);n&&o.children.push(n)}),o)}},t.is={node:"undefined"==typeof window,mounted:!1,updating:!1},t.is.browser=!t.is.node,t.trust=function(e){let n=document.createElement("div");return n.innerHTML=e.trim(),Array.prototype.map.call(n.childNodes,e=>t.utils.dom2vnode(e))};let o=[];t.use=function(e,n){return-1===o.indexOf(e)&&(e(t,n),o.push(e)),t},t.use(function(e){let n,t,o,d,i="create",r="update",l="remove",s="http://www.w3.org/2000/svg";function u(e,n,t,o){if(e.props[n]&&e.props[n](e,t),n===l){for(o=e.children.length;o--;)e.children[o].el&&u(e.children[o],l);e.children=[]}}function a(n){n.currentTarget.events[n.type]&&(n.currentTarget.events[n.type](n),e.update())}function p(e,n){e.dom=n?document.createElementNS(s,e.name):document.createElement(e.name),e.dom.events={}}e.update=function(){let s=e.utils.flat(arguments,0,[]);if(!e.is.node&&e.is.updating||(e.is.updating=!0,s.unshift(t),o=function t(o,d,s,c,m,f,h,v,y,g,w){for(;s.length>d.length;)(f=s.pop()).el&&u(f,l),o.removeChild(f.dom);for(h=0;h<d.length;h++)if(m=d[h],f=s[h],m.el){if(v=!e.is.mounted,c=c||m.isSVG,f===n)p(m,c),o.appendChild(m.dom),f={children:[],props:{}},v=!0;else if(m.name!==f.name)p(m,c),u(f,l),o.replaceChild(m.dom,f.dom),v=!0;else for(y in m.dom=f.dom,f.props)m.props[y]===n&&("function"==typeof f.props[y]?(g=y.slice(2),m.dom.removeEventListener(g,a)):m.dom.removeAttribute(y));for(y in m.props)if("function"==typeof(w=m.props[y]))switch(g=y.slice(2)){case i:case r:case l:break;default:m.dom.events[g]||(m.dom.events[g]=w,m.dom.addEventListener(g,a))}else w!==f.props[y]&&m.dom.setAttribute(y,w);u(m,v?i:r,f),t(m.dom,m.children,f.children,c)}else m.el===n&&(d[h]=m={props:{},nodeValue:m,children:[],el:!1}),f===n?(m.dom=document.createTextNode(m.nodeValue),o.appendChild(m.dom)):f.el?(m.dom=document.createTextNode(m.nodeValue),u(f,l),o.replaceChild(m.dom,f.dom)):(m.dom=f.dom,m.nodeValue!==f.nodeValue&&(m.dom.nodeValue=m.nodeValue));return d}(d,e.apply(e,s),o),e.is.updating=!1),e.is.node)return d.innerHTML},e.mount=function(n,i){let r=e.utils.flat(arguments,2,[]);return d=e.is.node?document.createElement("div"):"string"==typeof n?document.querySelectorAll(n)[0]:n,o=e.utils.dom2vnode(d).children,i.view||"function"!=typeof i||(i.view=i),i.view&&(t=i),e.is.mounted=!0,e.update.apply(e,r)}}),(t.is.node?global:window).v=t}();