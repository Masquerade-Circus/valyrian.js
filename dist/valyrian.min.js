!function(){"use strict";let e,t,n,o,d="v-create",r="v-update",i="v-remove",l="v-beforeupdate",s=!1,p=!0,c=null,m=Object.create(c),u=[];function a(e,t,n){this.props=t||m,this.children=n,this.name=e}function f(){}a.prototype={isSVG:s},f.prototype={isSVG:s,props:m,children:u};let h=new f;function v(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function g(e,t,...n){return new a(e,t,n)}g.isNode="undefined"==typeof window,g.addState=(e,t)=>Object.assign(e,t),g.dom2vnode=function(e){let t;if(3===e.nodeType)(t=new f).dom=e;else if(1===e.nodeType){(t=new a(e.nodeName,{},[])).dom=e;for(let n=e.attributes.length;n--;){let o=e.attributes[n];t.props[o.nodeName]=o.nodeValue}for(let n=0,o=e.childNodes.length;n<o;n++){let o=g.dom2vnode(e.childNodes[n]);o&&t.children.push(o)}}return t},g.trust=e=>{let t=v("div");return t.innerHTML=e.trim(),u.map.call(t.childNodes,e=>g.dom2vnode(e))};let y=new Map;g.usePlugin=(e,t)=>!y.has(e)&&y.set(e,p)&&e(g,t),g.reservedWords={key:c,"v-noop":c,[d]:c,[l]:c,[r]:c,[i]:c};let N={};function w(e){let t=e.target,n=`__on${e.type}`;for(;t;){if(n in t)return t[n](e),void(e.defaultPrevented===s&&g.update());t=t.parentNode}}function C(e,t,n){if(t===i)for(let t=0,n=e.children.length;t<n;t++)C(e.children[t],i);if(t in e.props)return e.props[t](e,n)}function S(e,t,n){for(let o in e.props)g.updateProperty(o,e,t,n)}function V(e,t){e.dom=v(e.name,t),S(e,h,t),C(e,d),G(e,h,t)}function b(e,t,n){if(e.dom=t.dom,"v-noop"in e.props||C(e,l,t)===s)e.children=t.children;else{for(let n in t.props)n in g.reservedWords===s&&n in e.props===s&&"function"!=typeof t.props[n]&&(n in e.dom?e.dom[n]=c:e.dom.removeAttribute(n));S(e,t,n),C(e,g.isMounted?r:d,t),G(e,t,n)}}function A(e,t){C(t,i),e.removeChild(t.dom)}function T(t,n,o,d,r){"dom"in o?b(n,o,d):V(n,d),n.dom!==t.childNodes[r]&&(t.childNodes[r]!==e?t.replaceChild(n.dom,t.childNodes[r]):t.appendChild(n.dom))}function W(e){let t=[];for(let n=0,o=e.length;n<o;n++)t.push(e[n].props.key);return t}function G(t,n,o){let{dom:d,children:r}=t,l=n.children;if(Array.isArray(r)===s&&(r=[r]),0===r.length){for(let e=l.length;e--;)C(l[e],i);d.textContent=""}else{for(let e=0;e<r.length;e++){let t=r[e];if(t instanceof a)if("string"!=typeof t.name){let n=t.name.view||t.name;r.splice(e,1,n.call(n,t.props,...t.children)),e--}else"svg"===t.name&&(t.isSVG=p);else Array.isArray(t)&&(r.splice(e,1,...t),e--)}let t=r[0];if(l.length>0&&t instanceof a&&"key"in t.props){let t=W(l),n=W(r);for(let i=0,s=n.length;i<s;i++){let s=n[i],c=r[i];if(o=o||c.isSVG,s===t[i])l[i].processed=p,T(d,c,l[i],o,i);else{let n=t.indexOf(s),r=i>=t.length?e:i;-1!==n?(l[n].processed=p,T(d,c,l[n],o,r)):T(d,c,h,o,r)}}for(let e=0,t=l.length;e<t;e++)"processed"in l[e]===s&&(C(l[e],i),l[e].dom.parentNode&&d.removeChild(l[e].dom))}else{if(l.length>r.length)for(let e=l.length,t=r.length;e--&&e>=t;)A(d,l[e]);for(let t=0,n=r.length;t<n;t++){let n=r[t],s=l[t];if(n instanceof a)o=o||n.isSVG,s===e?(V(n,o),d.appendChild(n.dom)):n.name!==s.name?(V(n,o),C(s,i),d.replaceChild(n.dom,s.dom)):b(n,s,o);else{let o;s===e?(o=document.createTextNode(n),d.appendChild(o)):s instanceof a?(o=document.createTextNode(n),C(s,i),d.replaceChild(o,s.dom)):n!==(o=s.dom).nodeValue&&(o.nodeValue=n),r[t]=new f,r[t].dom=o}}}}t.children=r}g.updateProperty=(e,t,n,o)=>{let d=t.props[e];e in g.reservedWords?"function"==typeof g.reservedWords[e]&&g.reservedWords[e](d,t,n,o):"function"==typeof d?((e=`__${e}`)in N===s&&(document.addEventListener(e.slice(4),w),N[e]=p),t.dom[e]=d):e in t.dom&&!o?t.dom[e]!==d&&(t.dom[e]=d):d!==n.props[e]&&t.dom.setAttribute(e,d)},g.update=(d,...r)=>{if(t)return o!==e&&(n=t,(t=new a(t.name,t.props,[g(o,d,r)])).dom=n.dom,G(t,n,t.isSVG),g.isMounted=p),g.isNode&&t.dom.innerHTML},g.mount=(e,n,d,...r)=>{let i=g.isNode?v("div"):"string"==typeof e?document.querySelectorAll(e)[0]:e;return t=g.dom2vnode(i),o=n,g.update(d,r)},g.unmount=()=>{o=()=>{};let t=g.update();return o=e,g.isMounted=s,t},g.directive=(e,t)=>e in g.reservedWords===s&&(g.reservedWords[e]=t),g.directive("v-for",(e,t)=>{let n=t.children[0];t.children=[];for(let o=0,d=e.length;o<d;o++)t.children[o]=n(e[o],o)});let M=e=>(t,n,o)=>{if(t===e){let e=document.createTextNode("");o&&o.dom&&o.dom.parentNode&&(C(o,i),o.dom.parentNode.replaceChild(e,o.dom)),n.name="",n.children=u,n.props=m,n.dom=e}};g.directive("v-if",M(s)),g.directive("v-unless",M(p)),g.directive("v-show",(e,t)=>t.dom.style.display=e===s?"none":""),(g.isNode?global:window).v=g}();