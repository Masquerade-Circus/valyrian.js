(()=>{var e=class{constructor(e,o=null,n){this.props=o||{},this.children=n,this.name=e}},o=class{constructor(e){this.dom=e}},n=class{constructor(e,o=null,n){this.props=o,this.children=n,this.component=e}},t=void 0,d=null,r=Array.isArray,l="function",p="v-once",i=(e,o=!1)=>o?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e),s=n=>{if(1===n.nodeType){let o={};[].forEach.call(n.attributes,e=>o[e.nodeName]=e.nodeValue);let t=new e(n.nodeName,o,[]);t.dom=n;for(let e=0,o=n.childNodes.length;e<o;e++){let o=s(n.childNodes[e]);o&&t.children.push(o)}return t}if(3===n.nodeType)return new o(n)},a=new e("empty",d,[]),c=o=>{for(let n=0,t=o.children.length;n<t;n++)o.children[n]instanceof e&&c(o.children[n]);o.props.onremove&&o.props.onremove(o)},m="undefined"==typeof window||"undefined"!=typeof global,u=e=>{let o=i("div");return o.innerHTML=e.trim(),[].map.call(o.childNodes,e=>s(e))};(m?global:window).v=function f(){function h(o,t=null,...d){return"string"==typeof o?new e(o,t,d):new n(o,t,d)}h.isMounted=!1,h.isNode=m;let v,g,w,y=d,N=["key","data",p,"oncreate","onupdate","onremove","onbeforeupdate"];h.reservedWords=N;let V={parentVnode:t,oldParentVnode:t,component:t};h.current=V;let C=new Map;h.usePlugin=(e,o={})=>!C.has(e)&&C.set(e,!0)&&e(h,o);let b={};function x(e){let o=e.target,n=`__on${e.type}`;for(;o;){if(o[n])return o[n](e,o),void(e.defaultPrevented||h.update());o=o.parentNode}}h.trust=u;let S=[];h.onCleanup=e=>{let o=h.current.parentVnode;o.onCleanup||(o.onCleanup=[]),o.onCleanup.push(e),-1===S.indexOf(o)&&S.push(o)};let M=e=>{for(let o in e.props){let n=e.props[o];if(!(o in e.props))return;-1!==N.indexOf(o)?L[o]&&L[o](n,e):typeof n===l?(o=`__${o}`,b[o]||(y.addEventListener(o.slice(4),x),b[o]=!0),e.dom[o]=n):o in e.dom&&!e.isSVG?e.dom[o]!=n&&(e.dom[o]=n):!1!==n&&e.dom.setAttribute(o,n)}},A=(e,o,n)=>{if(e in o.props){let t=o.props[e];-1!==N.indexOf(e)?L[e]&&L[e](t,o,n):typeof t===l?(b[e=`__${e}`]||(y.addEventListener(e.slice(4),x),b[e]=!0),o.dom[e]=t):e in o.dom&&!o.isSVG?o.dom[e]!=t&&(o.dom[e]=t):(!n||t!==n.props[e])&&(!1===t?o.dom.removeAttribute(e):o.dom.setAttribute(e,t))}};h.updateProperty=A;let G=(e,o)=>{for(let n in e.props){if(!(n in e.props))return;A(n,e,o)}},O=(e,o)=>{for(let n in o.props)-1===N.indexOf(n)&&!(n in e.props)&&(o===a||typeof o.props[n]!==l)&&(n in e.dom?e.dom[n]=t:e.dom.removeAttribute(n))},T=(e,o,n)=>{n?o.replaceChild(e,n):o.appendChild(e)},_=(e,o,n,t)=>{let d=e.childNodes[n];t?(o.dom=t.dom,p in o.props||o.props.onbeforeupdate&&!1===o.props.onbeforeupdate(o,t)?(o.children=t.children,o.dom!==d&&T(o.dom,e,d)):(O(o,t),G(o,t),o.dom!==d&&T(o.dom,e,d),h.isMounted?o.props.onupdate&&o.props.onupdate(o,t):o.props.oncreate&&o.props.oncreate(o),E(o,t))):(o.dom=i(o.name,o.isSVG),M(o),o.dom!==d&&T(o.dom,e,d),o.props.oncreate&&o.props.oncreate(o),E(o))},E=(l,s=a)=>{let m=r(l.children)?l.children:[l.children],u=s.children;V.parentVnode=l,V.oldParentVnode=s;for(let o=0;o<m.length;o++){let p=m[o];p instanceof e?p.isSVG=l.isSVG||"svg"===p.name:p===d||p===t?m.splice(o--,1):p instanceof n?(V.component=p,m.splice(o--,1,("view"in p.component?p.component.view:p.component).call(p.component,p.props,...p.children))):r(p)&&m.splice(o--,1,...p)}if(0===m.length){if(u.length>0){for(let o=u.length;o--;)u[o]instanceof e&&c(u[o]);l.dom.textContent=""}}else if(u.length&&m[0]instanceof e&&"key"in m[0].props){let e=u.map(e=>e.props.key),o=m.map(e=>e.props.key);for(let n=0,t=o.length;n<t;n++){let t=o[n],d=m[n];if(t===e[n])u[n].processed=!0,_(l.dom,d,n,u[n]);else{let o=e.indexOf(t),r=n>=e.length?-1:n;-1!==o?(u[o].processed=!0,_(l.dom,d,r,u[o])):_(l.dom,d,r)}}let n=u.length;for(;n--;)if(!u[n].processed){let e=u[n];c(e),e.dom&&e.dom.parentNode&&e.dom.parentNode.removeChild(e.dom)}}else{let n=u.length,t=m.length;for(;n-- >t;){let o=u[n];o instanceof e&&c(o),o.dom&&o.dom.parentNode&&o.dom.parentNode.removeChild(o.dom)}for(n=0;n<t;n++){let t=m[n],d=u[n];if(t instanceof e)d&&t.name===d.name?(t.dom=d.dom,p in t.props||t.props.onbeforeupdate&&!1===t.props.onbeforeupdate(t,d)?t.children=d.children:(O(t,d),G(t,d),h.isMounted?t.props.onupdate&&t.props.onupdate(t,d):t.props.oncreate&&t.props.oncreate(t),E(t,d))):(t.dom=i(t.name,t.isSVG),M(t),d?(d instanceof e&&c(d),l.dom.replaceChild(t.dom,l.dom.childNodes[n])):l.dom.appendChild(t.dom),t.props.oncreate&&t.props.oncreate(t),E(t));else{let e,r=t instanceof o?t.dom.nodeValue:String(t);d instanceof o?(e=d.dom,r!=e.nodeValue&&(e.nodeValue=r)):(e=document.createTextNode(r),d?(c(d),l.dom.replaceChild(e,d.dom)):l.dom.appendChild(e)),m[n]=new o(e)}}}l.children=m};h.update=(o=null,...n)=>{if(v)return w&&((()=>{for(let e=S.length;e--;)for(let o of S[e].onCleanup)o();S=[]})(),g=v,v=new e(v.name,v.props,[h(w,o,...n)]),v.dom=g.dom,v.isSVG="svg"===v.name,E(v,g),h.isMounted=!0),h.isNode&&v.dom.innerHTML},h.mount=(e,o,n=null,...t)=>(y=h.isNode?i(e):document.querySelectorAll(e)[0],v=s(y),w=o,h.update(n,...t)),h.unMount=()=>{y=d,w=()=>"";let e=h.update();return h.isMounted=!1,e};let L={};h.directive=(e,o)=>{let n=`v-${e}`;-1===N.indexOf(n)&&(N.push(n),L[n]=o)};let P=o=>(n,t,d)=>{if(o?n:!n){let o=document.createTextNode("");d&&d.dom&&d.dom.parentNode&&(d instanceof e&&c(d),d.dom.parentNode.replaceChild(o,d.dom)),t.name="#text",t.children=[],t.props={},t.dom=o}};return h.directive("if",P(!1)),h.directive("unless",P(!0)),h.directive("for",(e,o)=>o.children=e.map(o.children[0])),h.directive("show",(e,o)=>o.dom.style.display=e?"":"none"),h.directive("class",(e,o)=>{for(let n in e)o.dom.classList.toggle(n,e[n])}),h.directive("html",(e,o)=>o.children=u(e)),h.newInstance=f,h}()})();