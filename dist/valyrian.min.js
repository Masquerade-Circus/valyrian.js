!function(){"use strict";function e(){let e,n,o,t=void 0,d="oncreate",r="onupdate",i="onremove",l="onbeforeupdate",s="function",p="v-once",c=Array.isArray,m={};function a(e,n,o){this.props=n||{},this.children=o,this.name=e}function u(e){this.dom=e}u.prototype={props:{},children:[]};let f=new u;function h(e,n){return n?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function v(e,n,o){if(e.props[n])return e.props[n](e,o)}function g(e){if(e instanceof a){for(let n=0,o=e.children.length;n<o;n++)g(e.children[n]);e.props.onremove&&e.props.onremove(e)}}function y(e,n,...o){return new a(e,n,o)}y.isNode="undefined"==typeof window,y.domToVnode=e=>{if(3===e.nodeType)return new u(e);if(1===e.nodeType){let n={};[].forEach.call(e.attributes,e=>n[e.nodeName]=e.nodeValue);let o=new a(e.nodeName,n,[]);o.dom=e;for(let n=0,t=e.childNodes.length;n<t;n++){let t=y.domToVnode(e.childNodes[n]);t&&o.children.push(t)}return o}},y.trust=e=>{let n=h("div");return n.innerHTML=e.trim(),[].map.call(n.childNodes,e=>y.domToVnode(e))};let V=new Map;y.usePlugin=(e,n)=>!V.has(e)&&V.set(e,!0)&&e(y,n),y.reservedWords=["key",p,d,l,r,i,"data"];let N={};function w(e){let n=e.target,o="__on"+e.type;for(;n;){if(n[o])return n[o](e,n),void(e.defaultPrevented||y.update());n=n.parentNode}}function C(e,n){for(let o in e.props)y.updateProperty(o,e,n)}function S(e,n){for(let o in n.props)-1===y.reservedWords.indexOf(o)&&o in e.props==!1&&typeof n.props[o]!==s&&(o in e.dom?e.dom[o]=t:e.dom.removeAttribute(o))}function T(e,n,o){e!==o&&(o?n.replaceChild(e,o):n.appendChild(e))}function x(e){g(e),e.dom&&e.dom.parentNode&&e.dom.parentNode.removeChild(e.dom)}function M(e,n,o,t){let i=e.childNodes[t];o.dom?(n.dom=o.dom,n.props[p]||!1===v(n,l,o)?(n.children=o.children,T(n.dom,e,i)):(S(n,o),C(n,o),T(n.dom,e,i),v(n,y.isMounted?r:d,o),P(n,o))):(n.dom=h(n.name,n.isSVG),C(n),T(n.dom,e,i),v(n,d),P(n,f))}y.updateProperty=(e,n,o)=>{if(e in n.props){let t=n.props[e];-1!==y.reservedWords.indexOf(e)?m[e]&&m[e](t,n,o):typeof t===s?(N[e="__"+e]||(document.addEventListener(e.slice(4),w),N[e]=!0),n.dom[e]=t):e in n.dom&&!n.isSVG?n.dom[e]!==t&&(n.dom[e]=t):o&&t===o.props[e]||n.dom.setAttribute(e,t)}};let G=[];function P(e,n){let o=c(e.children)?e.children:[e.children],i=n.children;y.current.parentVnode=e,y.current.oldParentVnode=n;for(let n=0;n<o.length;n++){let d=o[n];c(d)?o.splice(n--,1,...d):d instanceof a?"string"==typeof d.name?d.isSVG=e.isSVG||"svg"===d.name:(y.current.component=d,o.splice(n--,1,(d.name.view||d.name).call(d.name,d.props,...d.children))):null!==d&&d!==t||o.splice(n--,1)}if(0===o.length){if(i.length>0){let n=i.length;for(;n--;)g(i[n]);e.dom.textContent=""}}else if(i.length&&o[0]instanceof a&&o[0].props.key){let n=i.map(e=>e.props.key),d=o.map(e=>e.props.key);for(let r=0,l=d.length;r<l;r++){let l=d[r],s=o[r];if(l===n[r])i[r].processed=!0,M(e.dom,s,i[r],r);else{let o=n.indexOf(l),d=r>=n.length?t:r;-1!==o?(i[o].processed=!0,M(e.dom,s,i[o],d)):M(e.dom,s,f,d)}}let r=i.length;for(;r--;)!i[r].processed&&x(i[r])}else{let n=i.length,t=o.length;for(;n-- >t;)x(i[n]);for(n=0;n<t;n++){let t=o[n],s=i[n];if(t instanceof a)s?t.name===s.name?(t.dom=s.dom,t.props[p]||!1===v(t,l,s)?t.children=s.children:(S(t,s),C(t,s),v(t,y.isMounted?r:d,s),P(t,s))):(g(s),t.dom=h(t.name,t.isSVG),C(t),e.dom.replaceChild(t.dom,e.dom.childNodes[n]),v(t,d),P(t,f)):(t.dom=h(t.name,t.isSVG),C(t),e.dom.appendChild(t.dom),v(t,d),P(t,f));else{let d,r=t.dom?t.dom.nodeValue:String(t);s instanceof u?(d=s.dom,r!==d.nodeValue&&(d.nodeValue=r)):(d=document.createTextNode(r),s?(g(s),e.dom.replaceChild(d,s.dom)):e.dom.appendChild(d)),o[n]=new u(d)}}}e.children=o}y.onCleanup=e=>{let n=y.current.parentVnode;n.onCleanup||(n.onCleanup=[]),n.onCleanup.push(e),-1===G.indexOf(n)&&G.push(n)},y.current={parentVnode:t,oldParentVnode:t,component:t},y.update=(t,...d)=>{if(e)return o&&(!function(){for(let e=G.length;e--;)for(let n of G[e].onCleanup)n();G=[]}(),n=e,e=new a(e.name,e.props,[y(o,t,...d)]),e.dom=n.dom,e.isSVG="svg"===e.name,P(e,n),y.isMounted=!0),y.isNode&&e.dom.innerHTML},y.mount=(n,t,d,...r)=>{let i=y.isNode?h("div"):"string"==typeof n?document.querySelectorAll(n)[0]:n;return e=y.domToVnode(i),o=t,y.update(d,...r)},y.unMount=()=>{o=()=>"";let e=y.update();return o=t,y.isMounted=!1,e},y.directive=(e,n)=>{let o="v-"+e;-1===y.reservedWords.indexOf(o)&&(y.reservedWords.push(o),m[o]=n)};let b=e=>(n,o,t)=>{if(e?n:!n){let e=document.createTextNode("");t&&t.dom&&t.dom.parentNode&&(g(t),t.dom.parentNode.replaceChild(e,t.dom)),o.name="",o.children=[],o.props={},o.dom=e}};return y.directive("if",b(!1)),y.directive("unless",b(!0)),y.directive("for",(e,n)=>n.children=e.map(n.children[0])),y.directive("show",(e,n)=>n.dom.style.display=e?"":"none"),y.directive("class",(e,n)=>{for(let o in e)n.dom.classList.toggle(o,e[o])}),y.directive("html",(e,n)=>n.children=y.trust(e)),y}const n=e();n.newInstance=e,(n.isNode?global:window).v=n}();