!function(){"use strict";let e,n,o,t,i=[];function d(e,n,o,t,i){if("string"==typeof e){for(t in o={name:e,props:{},children:[],dom:null,isVnode:!0,nt:1,isSVG:"svg"===e},n)o.props[t]=n[t];return d.utils.flat(arguments,2,o.children,!0),o}return"function"==typeof e?Object.assign({view:e,isComponent:!0},n):"object"==typeof e&&("function"==typeof e.view&&Object.assign(e,{isComponent:!0}),e.isComponent)?(i=e.view.apply(e,d.utils.flat(arguments,1,[])),Array.isArray(i)?i:[i]):void 0}function r(e,n){if(3===e.nodeType||1===e.nodeType)return 3===(n={name:e.nodeName.toLowerCase(),props:{},children:[],dom:e,isVnode:!0,nodeValue:null,nt:e.nodeType}).nt?(n.nodeValue=e.nodeValue,n):("svg"===n.name&&(n.isSVG=!0),n.dom.events={},Array.prototype.map.call(e.attributes,function(e){n.props[e.nodeName]=e.nodeValue}),Array.prototype.forEach.call(e.childNodes,function(e){let o=r(e);void 0!==o&&n.children.push(o)}),n)}function s(e,n,o,t){if(1===e.nt&&(void 0!==e.props[n]&&e.props[n](e),"onremove"===n)){for(o=0,t=e.children.length;o<t;o++)s(e.children[o],"onremove");e.children=[]}}function u(e){void 0!==e.currentTarget.events["on"+event.type]&&e.currentTarget.events["on"+event.type](e),d.update()}d.utils={flat:function(e,n,o,t,i){for(i=e.length,void 0===t&&(t=!1);n<i;n++)Array.isArray(e[n])?o=d.utils.flat(e[n],0,o):(!1===t||void 0!==e[n]&&null!==e[n])&&o.push(e[n]);return o}},(d.is={node:"undefined"==typeof window,mounted:!1,updating:!1}).browser=!d.is.node,d.trust=function(e){let n=document.createElement("div");return n.innerHTML=e.trim(),Array.prototype.map.call(n.childNodes,e=>r(e))},d.update=function(i){return"object"==typeof(i=d.utils.flat(arguments,0,[]))[0]&&i[0].isComponent&&(e=i.shift()),new Promise(function(r){if(!d.is.updating){if(d.is.updating=!0,i.unshift(e),o=d.apply(d,i),function e(n,o,t,i,r,l,p,a,m,c){if(0!==o.length)for(r=o.length>t.length?o.length:t.length,a=0;a<r;a++)if(p=t[a],void 0!==(l=o[a]))if(void 0!==l.nt){if(m=!d.is.mounted,i=i||l.isSVG,void 0===p)s(l,"oninit"),l.dom=i?document.createElementNS("http://www.w3.org/2000/svg",l.name):document.createElement(l.name),l.dom.events={},n.appendChild(l.dom),p={children:[]},m=!0;else if(l.name!==p.name)s(l,"oninit"),l.dom=i?document.createElementNS("http://www.w3.org/2000/svg",l.name):document.createElement(l.name),l.dom.events={},s(p,"onremove"),n.replaceChild(l.dom,p.dom),m=!0;else for(c in l.dom=p.dom,p.props)if(void 0===l.props[c]){if("function"==typeof p.props[c]){l.dom.removeEventListener(c.slice(2),u);continue}if(d.is.node||i||void 0===l.dom[c]){l.dom.removeAttribute(c);continue}l.dom[c]=null}for(c in e(l.dom,l.children,p.children,i),l.props)if((m||l.props[c]!==p.props[c])&&void 0!==l.props[c]){if("function"==typeof l.props[c]){switch(c){case"oninit":case"oncreate":case"onupdate":case"onremove":break;default:void 0===l.dom.events[c]&&(l.dom.events[c]=l.props[c],l.dom.addEventListener(c.slice(2),u))}continue}if(d.is.node||i||void 0===l.dom[c]){l.dom.setAttribute(c,l.props[c]);continue}l.dom[c]=l.props[c]}d.is.mounted||m||(s(l,"oninit"),s(l,"oncreate")),s(l,m?"oncreate":"onupdate")}else o[a]=l={name:"#text",isVnode:!0,nodeValue:l,nt:3},void 0===p?(l.dom=document.createTextNode(l.nodeValue),n.appendChild(l.dom)):1===p.nt?(l.dom=document.createTextNode(l.nodeValue),s(p,"onremove"),n.replaceChild(l.dom,p.dom)):(l.dom=p.dom,l.nodeValue!=p.nodeValue&&(l.dom.nodeValue=l.nodeValue));else void 0!==p&&(3===p.nt&&s(p,"onremove"),n.removeChild(p.dom));else n.textContent=""}(t,o,n),n=o,d.is.updating=!1,d.is.mounted=!0,d.is.node)return r(t.innerHTML);r()}})},d.mount=function(e,o){return t=d.is.node?document.createElement("div"):"string"==typeof e?document.querySelectorAll(e)[0]:e,n=r(t).children,d.update.apply(this,d.utils.flat(arguments,1,[]))},d.use=function(e,n){return-1===i.indexOf(e)&&(e(d,n),i.push(e)),d},(d.is.node?global:window).v=d}();
