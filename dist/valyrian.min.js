!function(){"use strict";let e,t,o,n,d="v-create",r="v-update",i="v-remove",l="v-beforeupdate",s=!1,c=!0,p=null,u=Object.create(p),m=[];function h(e,t,o){this.props=t||u,this.children=o,this.isSVG="svg"===e,this.name=e}function f(){}f.prototype={props:u,children:m};let a=new f;function v(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function g(e,t,...o){return"string"==typeof e?new h(e,t,o):("view"in e===s&&(e.view=e),e.view(t,...o))}g.isNode="undefined"==typeof window,g.addState=(e,t)=>Object.assign(e,{view:e},t),g.dom2vnode=function(e){let t;if(3===e.nodeType)(t=new f).dom=e;else if(1===e.nodeType){(t=new h(e.nodeName,{},[])).dom=e;for(let o=e.attributes.length;o--;){let n=e.attributes[o];t.props[n.nodeName]=n.nodeValue}for(let o=0,n=e.childNodes.length;o<n;o++){let n=g.dom2vnode(e.childNodes[o]);n&&t.children.push(n)}}return t},g.trust=e=>{let t=v("div");return t.innerHTML=e.trim(),m.map.call(t.childNodes,e=>g.dom2vnode(e))};let y=new Map;g.usePlugin=(e,t)=>!y.has(e)&&y.set(e,c)&&e(g,t),g.reservedWords={key:p,"v-noop":p,[d]:p,[l]:p,[r]:p,[i]:p};let N={};function w(e){let t=e.target,o=`__on${e.type}`;for(;t;){if(o in t)return t[o](e),void(e.defaultPrevented===s&&g.update());t=t.parentNode}}function C(e,t,o){if(t===i)for(let t=0,o=e.children.length;t<o;t++)C(e.children[t],i);if(t in e.props)return e.props[t](e,o)}function b(e,t,o){for(let n in e.props)g.updateProperty(n,e,t,o)}function A(e,t){e.dom=v(e.name,t),b(e,a,t),C(e,d),e.children=V(e.dom,e.children,m,t)}function T(e,t,o){if(e.dom=t.dom,"v-noop"in e.props||C(e,l,t)===s)e.children=t.children;else{for(let o in t.props)o in g.reservedWords===s&&o in e.props===s&&"function"!=typeof t.props[o]&&(o in e.dom?e.dom[o]=p:e.dom.removeAttribute(o));b(e,t,o),C(e,g.isMounted?r:d,t),e.children=V(e.dom,e.children,t.children,o)}}function W(e,t){C(t,i),e.removeChild(t.dom)}function M(t,o,n,d,r){"dom"in n?T(o,n,d):A(o,d),o.dom!==t.childNodes[r]&&(t.childNodes[r]!==e?t.replaceChild(o.dom,t.childNodes[r]):t.appendChild(o.dom))}function S(e){let t=[];for(let o=0,n=e.length;o<n;o++)t.push(e[o].props.key);return t}function V(t,o,n,d){if(Array.isArray(o)===s&&(o=[o]),0===o.length){for(let e=n.length;e--;)C(n[e],i);t.textContent=""}else{for(let e=0;e<o.length;e++)Array.isArray(o[e])&&(o.splice(e,1,...o[e]),e--);let r=o[0];if(n.length>0&&r!==p&&r!==e&&r.constructor===h&&"key"in r.props){let r=S(n),l=S(o);for(let i=0,s=l.length;i<s;i++){let s=l[i],p=o[i];if(d=d||p.isSVG,s===r[i])n[i].processed=c,M(t,p,n[i],d,i);else{let o=r.indexOf(s),l=i>=r.length?e:i;-1!==o?(n[o].processed=c,M(t,p,n[o],d,l)):M(t,p,a,d,l)}}for(let e=0,o=n.length;e<o;e++)"processed"in n[e]===s&&(C(n[e],i),n[e].dom.parentNode&&t.removeChild(n[e].dom))}else{if(n.length>o.length)for(let e=n.length,d=o.length;e--&&e>=d;)W(t,n[e]);for(let r=0,l=o.length;r<l;r++){let l=o[r],s=n[r];if(l!==p&&l!==e&&l.constructor===h)d=d||l.isSVG,s===e?(A(l,d),t.appendChild(l.dom)):l.name!==s.name?(A(l,d),C(s,i),t.replaceChild(l.dom,s.dom)):T(l,s,d);else{let n;s===e?(n=document.createTextNode(l),t.appendChild(n)):s!==p&&s!==e&&s.constructor===h?(n=document.createTextNode(l),C(s,i),t.replaceChild(n,s.dom)):l!==(n=s.dom).nodeValue&&(n.nodeValue=l),o[r]=new f,o[r].dom=n}}}}return o}g.updateProperty=(e,t,o,n)=>{let d=t.props[e];e in g.reservedWords?"function"==typeof g.reservedWords[e]&&g.reservedWords[e](d,t,o,n):"function"==typeof d?((e=`__${e}`)in N===s&&(document.addEventListener(e.slice(4),w),N[e]=c),t.dom[e]=d):e in t.dom&&!n?t.dom[e]!==d&&(t.dom[e]=d):d!==o.props[e]&&t.dom.setAttribute(e,d)},g.update=(d,...r)=>(n!==e&&(t=V(o,g(n,d,r),t),g.isMounted=c),g.isNode&&o.innerHTML),g.mount=(e,d,r,...i)=>(o=g.isNode?v("div"):"string"==typeof e?document.querySelectorAll(e)[0]:e,t=g.dom2vnode(o).children,n=d,g.update(r,i)),g.unmount=()=>{n=()=>{},g.update(),n=e,g.isMounted=s},g.directive=(e,t)=>e in g.reservedWords===s&&(g.reservedWords[e]=t),g.directive("v-for",(e,t)=>{let o=t.children[0];t.children=[];for(let n=0,d=e.length;n<d;n++)t.children[n]=o(e[n],n)});let x=e=>(t,o,n)=>{if(t===e){let e=document.createTextNode("");n&&n.dom&&n.dom.parentNode&&(C(n,i),n.dom.parentNode.replaceChild(e,n.dom)),o.name="",o.children=m,o.props=u,o.dom=e}};g.directive("v-if",x(s)),g.directive("v-unless",x(c)),g.directive("v-show",(e,t)=>t.dom.style.display=e===s?"none":""),(g.isNode?global:window).v=g}();