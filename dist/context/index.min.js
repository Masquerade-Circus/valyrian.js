(()=>{"use strict";var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,r={};((t,n)=>{for(var o in n)e(t,o,{get:n[o],enumerable:!0})})(r,{createContextScope:()=>a,getContext:()=>p,hasContext:()=>d,isServerContextActive:()=>y,runWithContext:()=>v,setContext:()=>g});var s,i=(s=r,((r,s,i,u)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let c of n(s))o.call(r,c)||c===i||e(r,c,{get:()=>s[c],enumerable:!(u=t(s,c))||u.enumerable});return r})(e({},"__esModule",{value:!0}),s)),u=require("valyrian.js"),c="__valyrian_context_values__",f=new Map;function a(e){return{key:Symbol(e),name:e}}function l(e=!1){const t=function(){if(!u.isNodeJs||"undefined"==typeof sessionStorage)return null;const e=sessionStorage;return e.store&&"object"==typeof e.store?e.store:null}();if(t){const n=t[c];if(n)return n;if(e){const e=new Map;return t[c]=e,e}return null}return e||f.size>0?f:null}function y(){if(!u.isNodeJs||"undefined"==typeof sessionStorage)return!1;const e=sessionStorage;return"function"==typeof e.isContextActive&&Boolean(e.isContextActive())}function p(e){const t=l(!1);if(t)return t.get(e.key)}function d(e){const t=l(!1);return!!t&&t.has(e.key)}function g(e,t){const n=l(!0),o=n.has(e.key),r=n.get(e.key);return n.set(e.key,t),()=>{o?n.set(e.key,r):n.delete(e.key)}}function v(e,t,n){const o=g(e,t);try{const e=n();return e instanceof Promise?e.finally(o):(o(),e)}catch(e){throw o(),e}}"undefined"!=typeof module?module.exports=i:self.ValyrianContext=i})();//# sourceMappingURL=index.min.js.map