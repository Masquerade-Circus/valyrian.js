//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbmRleF9leHBvcnRzIiwiX19leHBvcnQiLCJTdXNwZW5zZSIsIl9fRVhQT1JUU19fIiwiaW1wb3J0X3ZhbHlyaWFuIiwicmVxdWlyZSIsImRvbVRvU3VzcGVuc2VTdG9yZXMiLCJXZWFrTWFwIiwia2V5IiwiZmFsbGJhY2siLCJlcnJvciIsImNoaWxkcmVuIiwiRXJyb3IiLCJ2IiwiaG9zdFZub2RlIiwiY3VycmVudCIsInZub2RlIiwiZG9tIiwiaG9zdERvbSIsInN0b3JlIiwic3RvcmVzIiwiZ2V0IiwiTWFwIiwic2V0Iiwic3RhdHVzIiwidmFsdWUiLCJ2ZXJzaW9uIiwicHJvbWlzZSIsImdldFN1c3BlbnNlU3RvcmUiLCJtZXNzYWdlIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsImNoaWxkIiwiaXNWbm9kZUNvbXBvbmVudCIsImlzUE9KT0NvbXBvbmVudCIsInRhZyIsInZpZXciLCJiaW5kIiwicHJvcHMiLCJpc0NvbXBvbmVudCIsInRoZW4iLCJuZXdDaGlsZHJlbiIsInZub2RlVG9VcGRhdGUiLCJ1cGRhdGVWbm9kZSIsImNhdGNoIiwiZSIsIlN0cmluZyJdLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9zdXNwZW5zZS9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBWYWx5cmlhbkNvbXBvbmVudCxcbiAgVm5vZGUsXG4gIGlzVm5vZGVDb21wb25lbnQsXG4gIGlzUE9KT0NvbXBvbmVudCxcbiAgaXNDb21wb25lbnQsXG4gIHYsXG4gIENoaWxkcmVuLFxuICBjdXJyZW50LFxuICBWbm9kZVdpdGhEb20sXG4gIERvbUVsZW1lbnQsXG4gIHVwZGF0ZVZub2RlXG59IGZyb20gXCJ2YWx5cmlhbi5qc1wiO1xuXG50eXBlIFN1c3BlbnNlS2V5ID0gc3RyaW5nIHwgbnVtYmVyO1xuXG50eXBlIFN1c3BlbnNlU3RvcmUgPSB7XG4gIHN0YXR1czogMCB8IDEgfCAyO1xuICB2YWx1ZTogYW55O1xuICBlcnJvcjogRXJyb3IgfCBudWxsO1xuICB2ZXJzaW9uOiBudW1iZXI7XG4gIHByb21pc2U6IFByb21pc2U8YW55W10+IHwgbnVsbDtcbn07XG5cbmNvbnN0IGRvbVRvU3VzcGVuc2VTdG9yZXMgPSBuZXcgV2Vha01hcDxEb21FbGVtZW50LCBNYXA8U3VzcGVuc2VLZXksIFN1c3BlbnNlU3RvcmU+PigpO1xuXG5mdW5jdGlvbiBnZXRTdXNwZW5zZVN0b3JlKGRvbTogRG9tRWxlbWVudCwga2V5OiBTdXNwZW5zZUtleSk6IFN1c3BlbnNlU3RvcmUge1xuICBsZXQgc3RvcmVzID0gZG9tVG9TdXNwZW5zZVN0b3Jlcy5nZXQoZG9tKTtcbiAgaWYgKCFzdG9yZXMpIHtcbiAgICBzdG9yZXMgPSBuZXcgTWFwKCk7XG4gICAgZG9tVG9TdXNwZW5zZVN0b3Jlcy5zZXQoZG9tLCBzdG9yZXMpO1xuICB9XG5cbiAgbGV0IHN0b3JlID0gc3RvcmVzLmdldChrZXkpO1xuICBpZiAoIXN0b3JlKSB7XG4gICAgc3RvcmUgPSB7XG4gICAgICBzdGF0dXM6IDAsXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgdmVyc2lvbjogMCxcbiAgICAgIHByb21pc2U6IG51bGxcbiAgICB9O1xuICAgIHN0b3Jlcy5zZXQoa2V5LCBzdG9yZSk7XG4gIH1cblxuICByZXR1cm4gc3RvcmU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTdXNwZW5zZShcbiAge1xuICAgIGtleSxcbiAgICBmYWxsYmFjayxcbiAgICBlcnJvclxuICB9OiB7XG4gICAga2V5OiBzdHJpbmcgfCBudW1iZXI7XG4gICAgZmFsbGJhY2s6IGFueSB8IFZub2RlIHwgVmFseXJpYW5Db21wb25lbnQ7XG4gICAgZXJyb3I/OiAoZTogRXJyb3IpID0+IGFueSB8IFZub2RlIHwgVmFseXJpYW5Db21wb25lbnQ7XG4gIH0sXG4gIGNoaWxkcmVuOiBDaGlsZHJlblxuKSB7XG4gIGlmIChrZXkgPT09IHVuZGVmaW5lZCB8fCBrZXkgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdXNwZW5zZSByZXF1aXJlcyBhICdrZXknIHByb3BcIik7XG4gIH1cblxuICByZXR1cm4gdigoKSA9PiB7XG4gICAgY29uc3QgaG9zdFZub2RlID0gY3VycmVudC52bm9kZSBhcyBWbm9kZVdpdGhEb207XG4gICAgaWYgKCFob3N0Vm5vZGUgfHwgIWhvc3RWbm9kZS5kb20pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlN1c3BlbnNlIG11c3QgYmUgcmVuZGVyZWQgaW5zaWRlIGEgY29tcG9uZW50XCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGhvc3REb20gPSBob3N0Vm5vZGUuZG9tIGFzIERvbUVsZW1lbnQ7XG4gICAgY29uc3Qgc3RvcmUgPSBnZXRTdXNwZW5zZVN0b3JlKGhvc3REb20sIGtleSk7XG5cbiAgICBpZiAoc3RvcmUuc3RhdHVzID09PSAyICYmIHN0b3JlLmVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yKHN0b3JlLmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdG9yZS5lcnJvci5tZXNzYWdlO1xuICAgIH1cblxuICAgIGlmIChzdG9yZS5zdGF0dXMgPT09IDEpIHtcbiAgICAgIHJldHVybiBzdG9yZS52YWx1ZTtcbiAgICB9XG5cbiAgICBpZiAoIXN0b3JlLnByb21pc2UpIHtcbiAgICAgIGNvbnN0IHZlcnNpb24gPSArK3N0b3JlLnZlcnNpb247XG5cbiAgICAgIGNvbnN0IHByb21pc2UgPSBQcm9taXNlLmFsbChcbiAgICAgICAgY2hpbGRyZW4ubWFwKChjaGlsZCkgPT4ge1xuICAgICAgICAgIGlmIChpc1Zub2RlQ29tcG9uZW50KGNoaWxkKSkge1xuICAgICAgICAgICAgaWYgKGlzUE9KT0NvbXBvbmVudChjaGlsZC50YWcpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjaGlsZC50YWcudmlldy5iaW5kKGNoaWxkLnRhZykoY2hpbGQucHJvcHMgfHwge30sIGNoaWxkLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNoaWxkLnRhZyhjaGlsZC5wcm9wcyB8fCB7fSwgY2hpbGQuY2hpbGRyZW4pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpc1BPSk9Db21wb25lbnQoY2hpbGQpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQudmlldy5iaW5kKGNoaWxkKSh7fSwgW10pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpc0NvbXBvbmVudChjaGlsZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZCh7fSwgW10pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIHN0b3JlLnByb21pc2UgPSBwcm9taXNlO1xuXG4gICAgICBwcm9taXNlXG4gICAgICAgIC50aGVuKChuZXdDaGlsZHJlbikgPT4ge1xuICAgICAgICAgIGlmIChzdG9yZS52ZXJzaW9uICE9PSB2ZXJzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc3RvcmUuc3RhdHVzID0gMTtcbiAgICAgICAgICBzdG9yZS52YWx1ZSA9IG5ld0NoaWxkcmVuO1xuICAgICAgICAgIHN0b3JlLmVycm9yID0gbnVsbDtcbiAgICAgICAgICBzdG9yZS5wcm9taXNlID0gbnVsbDtcblxuICAgICAgICAgIGNvbnN0IHZub2RlVG9VcGRhdGUgPSBob3N0RG9tLnZub2RlIGFzIFZub2RlV2l0aERvbTtcbiAgICAgICAgICBpZiAodm5vZGVUb1VwZGF0ZSkge1xuICAgICAgICAgICAgdXBkYXRlVm5vZGUodm5vZGVUb1VwZGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICBpZiAoc3RvcmUudmVyc2lvbiAhPT0gdmVyc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHN0b3JlLnN0YXR1cyA9IDI7XG4gICAgICAgICAgc3RvcmUuZXJyb3IgPSBlIGluc3RhbmNlb2YgRXJyb3IgPyBlIDogbmV3IEVycm9yKFN0cmluZyhlKSk7XG4gICAgICAgICAgc3RvcmUucHJvbWlzZSA9IG51bGw7XG5cbiAgICAgICAgICBjb25zdCB2bm9kZVRvVXBkYXRlID0gaG9zdERvbS52bm9kZSBhcyBWbm9kZVdpdGhEb207XG4gICAgICAgICAgaWYgKHZub2RlVG9VcGRhdGUpIHtcbiAgICAgICAgICAgIHVwZGF0ZVZub2RlKHZub2RlVG9VcGRhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbGxiYWNrO1xuICB9LCB7fSk7XG59XG4iXSwibWFwcGluZ3MiOiJnSkFBQUEsRUFBQSxHLHlEQUFBQyxDQUFBRCxFQUFBLENBQUFFLFNBQUEsSUFBQUEsSUFBQSxJLEVBQUFDLEcsRUFBQUgsRSwwTUFBQUksRUFZT0MsUUFBQSxlQVlEQyxFQUFzQixJQUFJQyxRQXdCekIsU0FBU0wsR0FDZE0sSUFDRUEsRUFBQUMsU0FDQUEsRUFBQUMsTUFDQUEsR0FNRkMsR0FFQSxHQUFJSCxRQUNGLE1BQU0sSUFBSUksTUFBTSxrQ0FHbEIsU0FBT1IsRUFBQVMsR0FBRSxLQUNQLE1BQU1DLEVBQVlWLEVBQUFXLFFBQVFDLE1BQzFCLElBQUtGLElBQWNBLEVBQVVHLElBQzNCLE1BQU0sSUFBSUwsTUFBTSxnREFHbEIsTUFBTU0sRUFBVUosRUFBVUcsSUFDcEJFLEVBN0NWLFNBQTBCRixFQUFpQlQsR0FDekMsSUFBSVksRUFBU2QsRUFBb0JlLElBQUlKLEdBQ2hDRyxJQUNIQSxFQUFTLElBQUlFLElBQ2JoQixFQUFvQmlCLElBQUlOLEVBQUtHLElBRy9CLElBQUlELEVBQVFDLEVBQU9DLElBQUliLEdBWXZCLE9BWEtXLElBQ0hBLEVBQVEsQ0FDTkssT0FBUSxFQUNSQyxNQUFPLEtBQ1BmLE1BQU8sS0FDUGdCLFFBQVMsRUFDVEMsUUFBUyxNQUVYUCxFQUFPRyxJQUFJZixFQUFLVyxJQUdYQSxDQUNULENBeUJrQlMsQ0FBaUJWLEVBQVNWLEdBRXhDLEdBQXFCLElBQWpCVyxFQUFNSyxRQUFnQkwsRUFBTVQsTUFDOUIsT0FBSUEsRUFDS0EsRUFBTVMsRUFBTVQsT0FFZFMsRUFBTVQsTUFBTW1CLFFBR3JCLEdBQXFCLElBQWpCVixFQUFNSyxPQUNSLE9BQU9MLEVBQU1NLE1BR2YsSUFBS04sRUFBTVEsUUFBUyxDQUNsQixNQUFNRCxJQUFZUCxFQUFNTyxRQUVsQkMsRUFBVUcsUUFBUUMsSUFDdEJwQixFQUFTcUIsSUFBS0MsSUFDWixFQUFJN0IsRUFBQThCLGtCQUFpQkQsSUFDbkIsRUFBSTdCLEVBQUErQixpQkFBZ0JGLEVBQU1HLEtBQ2pCSCxFQUFNRyxJQUFJQyxLQUFLQyxLQUFLTCxFQUFNRyxJQUExQkgsQ0FBK0JBLEVBQU1NLE9BQVMsQ0FBQyxFQUFHTixFQUFNdEIsVUFHMURzQixFQUFNRyxJQUFJSCxFQUFNTSxPQUFTLENBQUMsRUFBR04sRUFBTXRCLFdBRzVDLEVBQUlQLEVBQUErQixpQkFBZ0JGLEdBQ1hBLEVBQU1JLEtBQUtDLEtBQUtMLEVBQWhCQSxDQUF1QixDQUFDLEVBQUcsS0FHcEMsRUFBSTdCLEVBQUFvQyxhQUFZUCxHQUNQQSxFQUFNLENBQUMsRUFBRyxJQUdaQSxJQUlYZCxFQUFNUSxRQUFVQSxFQUVoQkEsRUFDR2MsS0FBTUMsSUFDTCxHQUFJdkIsRUFBTU8sVUFBWUEsRUFDcEIsT0FHRlAsRUFBTUssT0FBUyxFQUNmTCxFQUFNTSxNQUFRaUIsRUFDZHZCLEVBQU1ULE1BQVEsS0FDZFMsRUFBTVEsUUFBVSxLQUVoQixNQUFNZ0IsRUFBZ0J6QixFQUFRRixNQUMxQjJCLElBQ0YsRUFBQXZDLEVBQUF3QyxhQUFZRCxLQUdmRSxNQUFPQyxJQUNOLEdBQUkzQixFQUFNTyxVQUFZQSxFQUNwQixPQUdGUCxFQUFNSyxPQUFTLEVBQ2ZMLEVBQU1ULE1BQVFvQyxhQUFhbEMsTUFBUWtDLEVBQUksSUFBSWxDLE1BQU1tQyxPQUFPRCxJQUN4RDNCLEVBQU1RLFFBQVUsS0FFaEIsTUFBTWdCLEVBQWdCekIsRUFBUUYsTUFDMUIyQixJQUNGLEVBQUF2QyxFQUFBd0MsYUFBWUQsSUFHcEIsQ0FFQSxPQUFPbEMsR0FDTixDQUFDLEVBQ04sQyJ9