(()=>{function e(e,u,t,n){"function"==typeof n&&(u.cleanup=n),u.unsubscribe=()=>{e.delete(t),u?.cleanup()}}var u,t=()=>{};function n(l){let r=new Map,a={},i=!1,o=new Proxy(function(u,t){if(void 0===u)return o.value;if("function"==typeof u)return function(u,t,l){if(!1===t.has(l)){let r=n(()=>l(u.value)),a=r();e(t,r,l,a),t.set(l,r)}return t.get(l)}(o,r,u);if("string"==typeof u&&void 0!==t){let e,n=u.split("."),l=o.value;for(;n.length;)e=n.shift(),n.length>0?("object"!=typeof l[e]&&(l[e]={}),l=l[e]):l[e]="function"==typeof t?t(l[e]):t;return i=!0,o.value=o.value,o.value}return o.value=u,o.value},{set(n,l,a){if("value"===l||"unsubscribe"===l||"cleanup"===l){let o=n[l];if(n[l]=a,"value"===l&&(i||a!==o)){i=!1;for(let[u,t]of r){t.cleanup();let n=u(a);e(r,t,u,n)}clearTimeout(u),u=setTimeout(t)}return!0}return!1},get:(e,u)=>"value"===u?"function"==typeof e.value?e.value():e.value:"cleanup"===u||"unsubscribe"===u||"getter"===u?e[u]:u in a?a[u](e.value):void 0});return Object.defineProperties(o,{value:{value:l,writable:!0,enumerable:!0},cleanup:{value(){for(let[e,u]of r)u.unsubscribe()},writable:!0,enumerable:!0},getter:{value(e,u){if(e in a)throw new Error("Named computed already exists.");a[e]=u},enumerable:!0}}),o}var l={Signal:n};"undefined"!=typeof module?module.exports=l:self.ValyrianSignal=l})();//# sourceMappingURL=index.min.js.map