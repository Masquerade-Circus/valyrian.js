(()=>{function e(e,u,t,n){"function"==typeof n&&(u.cleanup=n),u.unsubscribe=()=>{e.delete(t),u?.cleanup()}}function u(t){let n=new Map,l={},r=!1,a=new Proxy(function(t,l){if(void 0===t)return a.value;if("function"==typeof t)return function(t,n,l){if(!1===n.has(l)){let r=u(()=>l(t.value)),a=r();e(n,r,l,a),n.set(l,r)}return n.get(l)}(a,n,t);if("string"==typeof t&&void 0!==l){let e,u=t.split("."),n=a.value;for(;u.length;)e=u.shift(),u.length>0?("object"!=typeof n[e]&&(n[e]={}),n=n[e]):n[e]="function"==typeof l?l(n[e]):l;return r=!0,a.value=a.value,a.value}return a.value=t,a.value},{set(u,t,l){if("value"===t||"unsubscribe"===t||"cleanup"===t){let a=u[t];if(u[t]=l,"value"===t&&(r||l!==a)){r=!1;for(let[u,t]of n){t.cleanup();let r=u(l);e(n,t,u,r)}}return!0}return!1},get:(e,u)=>"value"===u?"function"==typeof e.value?e.value():e.value:"cleanup"===u||"unsubscribe"===u||"getter"===u?e[u]:u in l?l[u](e.value):void 0});return Object.defineProperties(a,{value:{value:t,writable:!0,enumerable:!0},cleanup:{value(){for(let[e,u]of n)u.unsubscribe()},writable:!0,enumerable:!0},getter:{value(e,u){if(e in l)throw new Error("Named computed already exists.");l[e]=u},enumerable:!0}}),a}var t={Signal:u};"undefined"!=typeof module?module.exports=t:self.ValyrianSignal=t})();//# sourceMappingURL=index.min.js.map