(()=>{"use strict";var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,o={};((t,r)=>{for(var n in r)e(t,n,{get:r[n],enumerable:!0})})(o,{getLang:()=>m,getTranslations:()=>b,setLang:()=>w,setLog:()=>v,setStoreStrategy:()=>y,setTranslations:()=>h,t:()=>S});var i,s=(i=o,((o,i,s,a)=>{if(i&&"object"==typeof i||"function"==typeof i)for(let u of r(i))n.call(o,u)||u===s||e(o,u,{get:()=>i[u],enumerable:!(a=t(i,u))||a.enumerable});return o})(e({},"__esModule",{value:!0}),i)),a=require("valyrian.js"),u=require("valyrian.js/context"),c=require("valyrian.js/utils"),f={},l="en",g={get:()=>l,set:e=>{l=e}},p=(0,u.createContextScope)("translate.lang"),d=!1;function v(e){d=e}function y(e){g=e}function m(){if(a.isNodeJs&&(0,u.isServerContextActive)()){const e=(0,u.getContext)(p);if((0,c.isString)(e))return e}return g.get()}function w(e){if(!(0,c.isString)(e))throw new Error(`Language ${e} not found`);const t=e.toLowerCase().split("-").shift()?.split("_").shift();if(!(0,c.isString)(t))throw new Error(`Language ${e} not found`);if(!f[t])throw new Error(`Language ${e} not found`);a.isNodeJs&&(0,u.isServerContextActive)()?(0,u.setContext)(p,t):g.set(t),(0,a.update)()}function S(e,t){const r=f[m()],n=(0,c.get)(r,e);return(0,c.isString)(n)?t?n.replace(/{(\w+)}/g,(e,r)=>r in t?t[r]:`{${r}}`):n:(d&&console.warn(`Translation not found for ${e}`),e)}function h(e,t={}){for(const e in f)Reflect.deleteProperty(f,e);f.en={...e};for(const r in t)f[r]={...e,...t[r]};(0,a.update)()}function b(){return f}(0,a.directive)("t",(e,t)=>{const r=(0,c.isString)(e)?[e]:t.children,n=t.props["v-t-params"]||{},o=r.map(e=>(0,c.isString)(e)&&e.trim().length>1?S(e.trim(),n):e);t.children=o}),(0,a.setPropNameReserved)("v-t-params"),"undefined"!=typeof module?module.exports=s:self.ValyrianTranslate=s})();//# sourceMappingURL=index.min.js.map