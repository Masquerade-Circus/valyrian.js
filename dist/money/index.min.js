(()=>{"use strict";var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,c={};((t,r)=>{for(var n in r)e(t,n,{get:r[n],enumerable:!0})})(c,{Money:()=>l,NumberFormatter:()=>o,formatMoney:()=>m,parseMoneyInput:()=>u});var a,s=(a=c,((c,a,s,i)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let o of r(a))n.call(c,o)||o===s||e(c,o,{get:()=>a[o],enumerable:!(i=t(a,o))||i.enumerable});return c})(e({},"__esModule",{value:!0}),a)),i=require("valyrian.js"),o=class e{#e=0;get value(){return this.#e}constructor(){}set(e,t=!1){return this.#e=this.clean(e,t),this}clean(e,t=!1){let r=String(e).replace(/[^0-9.-]+/g,"");t&&(r=r.replace(/\./g,""));const n=Number(r);return isNaN(n)?0:n}format(e=2,t={},r="en"){return new Intl.NumberFormat(r,{style:"currency",currency:"USD",minimumFractionDigits:e,maximumFractionDigits:e,...t}).format(this.#e)}fromDecimalPlaces(e){const t=this.getDecimalPlaces(),r=Math.pow(10,e-t);return this.#e=Number((this.#e/r).toFixed(e)),this}toDecimalPlaces(e){const t=this.getDecimalPlaces(),r=Math.pow(10,t-e);return this.#e=Number((this.#e*r).toFixed(e)),this}getDecimalPlaces(){if(Math.floor(this.#e)===this.#e)return 0;const e=String(this.#e),t=e.indexOf(".");return-1===t?0:e.length-t-1}shiftDecimalPlaces(){return this.toDecimalPlaces(0)}static create(t=0,r=!1){return(new e).set(t,r)}},l=class e{cents;constructor(e){this.cents=Math.trunc(e)}static fromCents(t){return new e(t)}static fromDecimal(t,r=2){const n=Math.pow(10,r);return new e(Math.round(t*n))}toCents(){return this.cents}toDecimal(e=2){const t=Math.pow(10,e);return this.cents/t}add(t){return new e(this.cents+t.toCents())}subtract(t){return new e(this.cents-t.toCents())}multiply(t){return new e(Math.round(this.cents*t))}divide(t){if(0===t)throw new Error("Cannot divide by zero");return new e(Math.round(this.cents/t))}};function u(e,t={}){const r=t.decimalPlaces??2,n=String(e).replace(/\s/g,"").replace(/[^0-9,.-]/g,"").replace(/,(?=\d{3}(\D|$))/g,"").replace(/,/g,"."),c=Number(n);return isNaN(c)?l.fromCents(0):l.fromDecimal(c,r)}function m(e,t={}){const r=t.digits??2,n=t.currency||"USD",c=t.locale||"en",a=t.style||"currency",s=e instanceof l?e.toDecimal(r):e;return o.create(s).format(r,{style:a,currency:n},c)}(0,i.directive)("money",(e,t)=>{const r=e.decimalPlaces??2,n=e.currency||"USD",c=e.locale||"en",a=Number(e.model[e.field]||0),s=m(l.fromCents(a),{digits:r,currency:n,locale:c});(0,i.setAttribute)("value",s,t);const o=t.props.oninput;(0,i.setAttribute)("oninput",t=>{const a=t.target,s=u(a.value,{locale:c,decimalPlaces:r});e.model[e.field]=s.toCents(),a.value=m(s,{digits:r,currency:n,locale:c}),"function"==typeof o&&o(t)},t)}),"undefined"!=typeof module?module.exports=s:self.ValyrianMoney=s})();//# sourceMappingURL=index.min.js.map