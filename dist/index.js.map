{
  "version": 3,
  "sources": ["../lib/index.ts"],
  "sourcesContent": ["/* eslint-disable */\ndeclare global {\n  var document: Document;\n  namespace JSX {\n    interface IntrinsicElements extends DefaultRecord {}\n    type Element = ReturnType<\n      typeof v | ((...args: any) => string | number | null | undefined | boolean | Promise<any>)\n    >;\n    type ComponentReturnType = string | number | null | undefined | boolean | Element | Element[];\n  }\n}\n\ninterface DefaultRecord extends Record<string | number | symbol, any> {}\n\nexport interface Properties extends DefaultRecord {\n  key?: string | number;\n}\n\nexport interface DomElement extends Element, DefaultRecord {}\n\nexport interface Component extends DefaultRecord {\n  (props: Properties, children: any[]): Vnode | any;\n}\n\nexport interface POJOComponent extends DefaultRecord {\n  view: Component;\n}\n\nexport type ValyrianComponent = Component | POJOComponent;\n\nexport interface VnodeComponentInterface extends Vnode {\n  tag: ValyrianComponent;\n}\n\nexport interface Children extends Array<Vnode | VnodeComponentInterface | ValyrianComponent | any> {}\n\nexport interface Directive {\n  (value: any, vnode: VnodeWithDom, oldProps?: Properties): false | void | any;\n}\n\nexport const isNodeJs = Boolean(typeof process !== \"undefined\" && process.versions && process.versions.node);\n\nexport class Vnode {\n  constructor(\n    public tag: string | Component | POJOComponent,\n    public props: null | Properties,\n    public children: Children,\n    public dom?: DomElement,\n    public isSVG?: boolean,\n    public oldChildComponents?: Set<ValyrianComponent>,\n    public childComponents?: Set<ValyrianComponent>,\n    public hasKeys?: boolean,\n    public oncreate?: Set<Function>,\n    public oncleanup?: Set<Function>,\n    public onupdate?: Set<Function>,\n    public onremove?: Set<Function>\n  ) {}\n}\n\nexport interface VnodeWithDom extends Vnode {\n  tag: string;\n  dom: DomElement;\n  props: Properties;\n}\n\nexport const isPOJOComponent = (component: unknown): component is POJOComponent =>\n  Boolean(component && typeof component === \"object\" && \"view\" in component);\n\nexport const isComponent = (component: unknown): component is Component =>\n  Boolean(typeof component === \"function\" || isPOJOComponent(component));\nexport const isVnode = (object?: unknown): object is Vnode => object instanceof Vnode;\n\nexport const isVnodeComponent = (object?: unknown): object is VnodeComponentInterface => {\n  return isVnode(object) && isComponent(object.tag);\n};\n\nexport function v(tagOrComponent: string | ValyrianComponent, props: Properties | null, ...children: Children) {\n  return new Vnode(tagOrComponent, props, children);\n}\n\nv.fragment = (_: Properties, ...children: Children) => children;\n\nexport function hidrateDomToVnode(dom: any): VnodeWithDom | string | null | void {\n  if (dom.nodeType === 3) {\n    return dom.nodeValue;\n  }\n\n  if (dom.nodeType === 1) {\n    const tag = dom.nodeName.toLowerCase();\n    const props = {} as Properties;\n    const children = [] as Children;\n\n    for (let i = 0, l = dom.childNodes.length; i < l; i++) {\n      const childDom = dom.childNodes[i];\n      if (childDom.nodeType === 3) {\n        children.push(childDom.nodeValue);\n      } else if (childDom.nodeType === 1) {\n        const childVnode = hidrateDomToVnode(childDom);\n        children.push(childVnode);\n      }\n    }\n\n    const attributes = dom.attributes;\n    for (let i = 0, l = attributes.length; i < l; i++) {\n      const attr = attributes[i];\n      props[attr.nodeName] = attr.nodeValue;\n    }\n\n    const vnode = new Vnode(tag, props, children);\n    vnode.dom = dom;\n    dom.vnode = vnode;\n    vnode.isSVG = tag === \"svg\";\n    return vnode as VnodeWithDom;\n  }\n}\n\nexport function trust(htmlString: string) {\n  const div = document.createElement(\"div\");\n  div.innerHTML = htmlString.trim();\n  return Array.from(div.childNodes).map(hidrateDomToVnode);\n}\n\nlet mainComponent: VnodeComponentInterface | null = null;\nlet mainVnode: VnodeWithDom | null = null;\nlet isMounted = false;\n\nexport const current = {\n  oldVnode: null as Vnode | null,\n  vnode: null as Vnode | null,\n  component: null as ValyrianComponent | null,\n  event: null as Event | null\n};\n\nexport const reservedProps = new Set<string>([\n  \"key\",\n  \"state\",\n  \"v-keep\",\n  \"v-text\",\n  \"v-if\",\n  \"v-for\",\n  \"v-show\",\n  \"v-class\",\n  \"v-html\",\n  \"v-model\",\n  \"v-create\",\n  \"v-update\",\n  \"v-cleanup\",\n  \"v-remove\"\n]);\n\nenum SetType {\n  onCreate = \"oncreate\",\n  onUpdate = \"onupdate\",\n  onCleanup = \"oncleanup\",\n  onRemove = \"onremove\"\n}\n\nconst SUBTREE_LC = Symbol.for(\"valyrian.subtreeLifecycle\");\n\nfunction markSubtreeLifecycle(dom: DomElement) {\n  let node: any = dom;\n  while (node && node.nodeType === 1 && !node[SUBTREE_LC]) {\n    node[SUBTREE_LC] = true;\n    node = node.parentElement;\n  }\n}\n\nfunction addCallbackToSet(callback: Function, setType: SetType, vnode: VnodeWithDom) {\n  vnode[setType] = vnode[setType] || new Set();\n\n  if (vnode.dom && (setType === SetType.onCleanup || setType === SetType.onRemove)) {\n    markSubtreeLifecycle(vnode.dom);\n  }\n\n  vnode[setType].add(() => {\n    const cleanup = callback();\n    if (typeof cleanup === \"function\") {\n      vnode[SetType.onCleanup] = vnode[SetType.onCleanup] || new Set();\n      vnode[SetType.onCleanup].add(cleanup);\n\n      if (vnode.dom) {\n        markSubtreeLifecycle(vnode.dom);\n      }\n    }\n  });\n}\n\nfunction validateIsCalledInsideComponent() {\n  if (!current.vnode) {\n    throw new Error(\"This function must be called inside a component\");\n  }\n}\n\nexport const onCreate = (callback: Function) => {\n  validateIsCalledInsideComponent();\n  const parentVnode = current.vnode as VnodeWithDom;\n  const component = current.component as ValyrianComponent;\n  const hasComponentAsOldChild = parentVnode.oldChildComponents && parentVnode.oldChildComponents.has(component);\n\n  if (!hasComponentAsOldChild) {\n    addCallbackToSet(callback, SetType.onCreate, parentVnode);\n  }\n};\nexport const onUpdate = (callback: Function) => {\n  validateIsCalledInsideComponent();\n  const parentVnode = current.vnode as VnodeWithDom;\n  const component = current.component as ValyrianComponent;\n  const hasComponentAsChild = parentVnode.childComponents && parentVnode.childComponents.has(component);\n  if (hasComponentAsChild) {\n    addCallbackToSet(callback, SetType.onUpdate, current.vnode as VnodeWithDom);\n  }\n};\nexport const onCleanup = (callback: Function) => {\n  validateIsCalledInsideComponent();\n  addCallbackToSet(callback, SetType.onCleanup, current.vnode as VnodeWithDom);\n};\nexport const onRemove = (callback: Function) => {\n  validateIsCalledInsideComponent();\n\n  const parentVnode = current.vnode as VnodeWithDom;\n  const component = current.component as ValyrianComponent;\n  let removed = false;\n\n  function removeCallback() {\n    const hasComponentAsChild = parentVnode.childComponents && parentVnode.childComponents.has(component);\n\n    if (hasComponentAsChild || removed) {\n      return;\n    }\n\n    removed = true;\n    callback();\n  }\n\n  addCallbackToSet(removeCallback, SetType.onRemove, current.vnode as VnodeWithDom);\n};\nconst callSet = (set?: Set<Function> | null) => {\n  if (!set) {\n    return;\n  }\n  for (const callback of set) {\n    callback();\n  }\n  set.clear();\n};\n\nfunction collectVnodesPostOrder(dom: DomElement, out: VnodeWithDom[]) {\n  const childNodes = dom.childNodes as unknown as DomElement[];\n  for (let i = 0; i < childNodes.length; i++) {\n    const child = childNodes[i];\n    if (!child || child.nodeType !== 1) {\n      continue;\n    }\n    collectVnodesPostOrder(child, out);\n  }\n  const vnode = dom.vnode as VnodeWithDom;\n  if (vnode) {\n    out.push(vnode);\n  }\n}\n\nfunction strictCleanupBeforeRemove(dom: DomElement) {\n  const vnodes: VnodeWithDom[] = [];\n  collectVnodesPostOrder(dom, vnodes);\n  for (let i = 0; i < vnodes.length; i++) {\n    callSet(vnodes[i].oncleanup);\n  }\n}\n\nfunction strictOnRemoveAfterDetach(dom: DomElement) {\n  const vnodes: VnodeWithDom[] = [];\n  collectVnodesPostOrder(dom, vnodes);\n  for (let i = 0; i < vnodes.length; i++) {\n    callSet(vnodes[i].onremove);\n  }\n}\n\nfunction strictRemoveNode(dom: DomElement) {\n  if (!dom || dom.nodeType !== 1) {\n    return;\n  }\n\n  if (!(dom as any)[SUBTREE_LC]) {\n    dom.remove();\n    return;\n  }\n\n  // before detach\n  strictCleanupBeforeRemove(dom);\n  // detach\n  dom.remove();\n  // after detach\n  strictOnRemoveAfterDetach(dom);\n}\n\nfunction strictReplaceChild(parent: DomElement, newNode: Node, oldNode: DomElement) {\n  if (oldNode && oldNode.nodeType === 1 && (oldNode as any)[SUBTREE_LC]) {\n    strictCleanupBeforeRemove(oldNode);\n  }\n  parent.replaceChild(newNode, oldNode);\n  if (oldNode && oldNode.nodeType === 1 && (oldNode as any)[SUBTREE_LC]) {\n    strictOnRemoveAfterDetach(oldNode);\n  }\n}\n\nexport const directives: Record<string, Directive> = {\n  \"v-create\": (callback, vnode, oldProps) => {\n    if (oldProps) {\n      return;\n    }\n\n    addCallbackToSet(() => callback(vnode), SetType.onCreate, vnode);\n  },\n\n  \"v-update\": (callback, vnode, oldProps) => {\n    if (!oldProps) {\n      return;\n    }\n    addCallbackToSet(() => callback(vnode, oldProps), SetType.onUpdate, vnode);\n  },\n\n  \"v-cleanup\": (callback, vnode) => {\n    vnode.oncleanup = vnode.oncleanup || new Set();\n    vnode.oncleanup.add(() => callback(vnode));\n    markSubtreeLifecycle(vnode.dom);\n  },\n\n  \"v-remove\": (callback, vnode) => {\n    vnode.onremove = vnode.onremove || new Set();\n    vnode.onremove.add(() => callback(vnode));\n    markSubtreeLifecycle(vnode.dom);\n  },\n\n  \"v-if\": (value, vnode) => {\n    if (!Boolean(value)) {\n      const parentNode = vnode.dom?.parentNode;\n      if (parentNode) {\n        strictReplaceChild(parentNode as DomElement, document.createTextNode(\"\"), vnode.dom);\n      }\n      return false;\n    }\n  },\n\n  \"v-show\": (value, vnode) => {\n    const bool = Boolean(value);\n    (\n      vnode.dom as unknown as {\n        style: { display: string };\n      }\n    ).style.display = bool ? \"\" : \"none\";\n  },\n\n  \"v-html\": (value, vnode) => {\n    vnode.children = trust(value as string);\n  },\n\n  // The \"v-model\" directive binds the value of an input element to a model property\n  \"v-model\": (model, vnode) => {\n    // eslint-disable-next-line prefer-const\n    if (\"name\" in vnode.props === false) {\n      return;\n    }\n\n    let value;\n    const property = vnode.props.name;\n    let event = \"oninput\";\n\n    // This function updates the model property when the input element's value changes\n    let handler = (e: Event) => (model[property] = (e.target as unknown as DomElement & Record<string, any>).value);\n    if (vnode.tag === \"input\") {\n      // Depending on the type of input element, use a different handler function\n      switch (vnode.props.type) {\n        case \"checkbox\": {\n          if (Array.isArray(model[property])) {\n            // If the model property is an array, add or remove the value from the array when the checkbox is checked or unchecked\n            handler = (e: Event) => {\n              const val = (e.target as unknown as DomElement & Record<string, any>).value;\n              const idx = model[property].indexOf(val);\n              if (idx === -1) {\n                model[property].push(val);\n              } else {\n                model[property].splice(idx, 1);\n              }\n            };\n            // If the value is in the array, set the checkbox to be checked\n            value = model[property].indexOf(vnode.dom.value) !== -1;\n          } else if (\"value\" in vnode.props) {\n            // If the input element has a \"value\" attribute, use it to determine the checked state\n            handler = () => {\n              if (model[property] === vnode.props.value) {\n                model[property] = null;\n              } else {\n                model[property] = vnode.props.value;\n              }\n            };\n            value = model[property] === vnode.props.value;\n          } else {\n            // If there is no \"value\" attribute, use a boolean value for the model property\n            handler = () => (model[property] = !model[property]);\n            value = model[property];\n          }\n          // Set the \"checked\" attribute on the input element\n          // eslint-disable-next-line no-use-before-define\n          setAttribute(\"checked\", value, vnode);\n          break;\n        }\n        case \"radio\": {\n          // If the element is a radio button, set the \"checked\" attribute based on the value of the model property\n          // eslint-disable-next-line no-use-before-define\n          setAttribute(\"checked\", model[property] === vnode.dom.value, vnode);\n          break;\n        }\n        default: {\n          // For all other input types, set the \"value\" attribute based on the value of the model property\n          // eslint-disable-next-line no-use-before-define\n          setAttribute(\"value\", model[property], vnode);\n        }\n      }\n    } else if (vnode.tag === \"select\") {\n      // If the element is a select element, use the \"click\" event by default\n      event = \"onclick\";\n      if (vnode.props.multiple) {\n        // If the select element allows multiple selections, update the model property with an array of selected values\n        handler = (e: Event & Record<string, any>) => {\n          const val = (e.target as unknown as DomElement & Record<string, any>).value;\n          if (e.ctrlKey) {\n            // If the Ctrl key is pressed, add or remove the value from the array\n            const idx = model[property].indexOf(val);\n            if (idx === -1) {\n              model[property].push(val);\n            } else {\n              model[property].splice(idx, 1);\n            }\n          } else {\n            // If the Ctrl key is not pressed, set the model property to an array with the selected value\n            model[property].splice(0, model[property].length);\n            model[property].push(val);\n          }\n        };\n        // Set the \"selected\" attribute on the options based on whether they are in the model property array\n        vnode.children.forEach((child: VnodeWithDom) => {\n          if (child.tag === \"option\") {\n            const value = \"value\" in child.props ? child.props.value : child.children.join(\"\").trim();\n            child.props.selected = model[property].indexOf(value) !== -1;\n          }\n        });\n      } else {\n        // If the select element does not allow multiple selections, set the \"selected\" attribute on the options based on the value of the model property\n        vnode.children.forEach((child: VnodeWithDom) => {\n          if (child.tag === \"option\") {\n            const value = \"value\" in child.props ? child.props.value : child.children.join(\"\").trim();\n            child.props.selected = value === model[property];\n          }\n        });\n      }\n    } else if (vnode.tag === \"textarea\") {\n      // Set the textarea's content to the value of the model property\n      vnode.children = [model[property]];\n    }\n\n    // We assume that the prev handler if any will not be changed by the user across patchs\n    const prevHandler = vnode.props[event];\n\n    // Set the event handler on the element\n    // eslint-disable-next-line no-use-before-define\n    setAttribute(\n      event,\n      (e: Event) => {\n        handler(e);\n\n        // If the previous handler is defined, call it after the model has been updated\n        if (prevHandler) {\n          prevHandler(e);\n        }\n      },\n      vnode\n    );\n  },\n\n  \"v-class\": (value, vnode) => {\n    if (typeof value === \"string\") {\n      vnode.dom.className = value;\n    } else if (Array.isArray(value)) {\n      vnode.dom.className = value.join(\" \");\n    } else if (typeof value === \"object\") {\n      const classList = vnode.dom.classList;\n      for (const name in value) {\n        const val = typeof value[name] === \"function\" ? (value[name] as Function)() : value[name];\n        classList.toggle(name, val);\n      }\n    }\n  },\n\n  // Frequent used properties\n  class(value, vnode) {\n    if (vnode.dom.className !== value) {\n      if (vnode.isSVG) {\n        vnode.dom.setAttribute(\"class\", value);\n        return;\n      }\n      vnode.dom.className = value;\n    }\n  },\n\n  className(value, vnode) {\n    directives.class(value, vnode);\n  },\n\n  id: (value, vnode) => {\n    if (vnode.dom.id !== value) {\n      if (vnode.isSVG) {\n        vnode.dom.setAttribute(\"id\", value);\n        return;\n      }\n      vnode.dom.id = value;\n    }\n  },\n\n  style: (value, vnode) => {\n    if (typeof value === \"string\") {\n      if (vnode.isSVG) {\n        vnode.dom.setAttribute(\"style\", value);\n        return;\n      }\n      vnode.dom.style = value;\n    } else if (typeof value === \"object\") {\n      if (vnode.isSVG) {\n        vnode.dom.setAttribute(\"style\", \"\");\n      } else {\n        vnode.dom.style = \"\";\n      }\n      const domStyle = vnode.dom.style;\n      for (const name in value) {\n        domStyle[name] = value[name];\n      }\n    }\n  }\n};\n\nexport function directive(name: string, directive: Directive) {\n  const directiveName = `v-${name}`;\n  directives[directiveName] = directive;\n  reservedProps.add(directiveName);\n}\n\nexport function setPropNameReserved(name: string) {\n  reservedProps.add(name);\n}\n\nconst eventListenerNames = new Set<string>();\n\nfunction eventListener(e: Event) {\n  current.event = e;\n  let dom = e.target as unknown as DomElement;\n  const name = `on${e.type}`;\n\n  while (dom) {\n    const oldVnode = dom.vnode as VnodeWithDom;\n    if (oldVnode && oldVnode.props[name]) {\n      try {\n        oldVnode.props[name](e, oldVnode);\n      } finally {\n        current.event = null;\n      }\n\n      if (!e.defaultPrevented) {\n        // eslint-disable-next-line no-use-before-define\n        update();\n      }\n      return;\n    }\n    dom = dom.parentNode as DomElement;\n  }\n\n  current.event = null;\n}\n\nfunction sharedSetAttribute(name: string, value: any, newVnode: VnodeWithDom): void | boolean {\n  const newVnodeDom = newVnode.dom;\n  if (typeof value === \"function\") {\n    if (!eventListenerNames.has(name)) {\n      // We attach the delegated event listener to the main vnode dom element, which is the root of the component\n      (mainVnode as VnodeWithDom).dom.addEventListener(name.slice(2), eventListener);\n      eventListenerNames.add(name);\n    }\n    return;\n  }\n\n  if (!newVnode.isSVG && name in newVnodeDom) {\n    newVnodeDom[name] = value;\n    return;\n  }\n\n  if (value === false) {\n    newVnodeDom.removeAttribute(name);\n  } else {\n    newVnodeDom.setAttribute(name, value);\n  }\n}\n\nexport function setAttribute(name: string, value: any, newVnode: VnodeWithDom): void {\n  if (!reservedProps.has(name)) {\n    newVnode.props[name] = value;\n    sharedSetAttribute(name, value, newVnode);\n  }\n}\n\nexport function updateAttributes(newVnode: VnodeWithDom, oldVnode?: VnodeWithDom): void {\n  const vnodeDom = newVnode.dom;\n  const vnodeProps = newVnode.props;\n  vnodeDom.vnode = newVnode;\n\n  if (oldVnode) {\n    for (const name in oldVnode.props) {\n      if (name in vnodeProps === false && !eventListenerNames.has(name) && !reservedProps.has(name)) {\n        if (!newVnode.isSVG && name in vnodeDom) {\n          vnodeDom[name] = null;\n        } else {\n          vnodeDom.removeAttribute(name);\n        }\n      }\n    }\n  }\n\n  for (const name in vnodeProps) {\n    if (directives[name]) {\n      if (directives[name](vnodeProps[name], newVnode, oldVnode?.props) === false) {\n        break;\n      }\n      continue;\n    }\n\n    if (!reservedProps.has(name)) {\n      sharedSetAttribute(name, vnodeProps[name], newVnode);\n    }\n  }\n}\n\nexport function createElement(tag: string, isSVG: boolean): DomElement {\n  return isSVG\n    ? document.createElementNS(\"http://www.w3.org/2000/svg\", tag)\n    : (document.createElement(tag) as DomElement);\n}\n\nfunction flatTree(newVnode: VnodeWithDom) {\n  let children: Children = [];\n  const newChildren = newVnode.children;\n  newVnode.hasKeys = false;\n\n  if (\"v-for\" in newVnode.props === false) {\n    for (let l = newChildren.length - 1; l >= 0; l--) {\n      children.push(newChildren[l]);\n    }\n  } else {\n    children = [];\n    const set = newVnode.props[\"v-for\"];\n    const callback = newVnode.children[0];\n\n    if (typeof callback !== \"function\") {\n      console.warn(\"v-for directive must have a callback function as children\");\n      return children;\n    }\n\n    // This is done to preserve the correct call order of the children\n    const tmp: any[] = [];\n    for (let i = 0; i < set.length; i++) {\n      tmp.push(callback(set[i], i));\n    }\n    for (let i = tmp.length - 1; i >= 0; i--) {\n      children.push(tmp[i]);\n    }\n  }\n\n  newVnode.oldChildComponents = newVnode.childComponents;\n  if (newVnode.childComponents) {\n    newVnode.childComponents = new Set();\n  }\n\n  const out: Children = [];\n\n  while (children.length) {\n    const newChild = children.pop();\n\n    if (newChild == null) {\n      continue;\n    }\n\n    if (Array.isArray(newChild)) {\n      for (let l = newChild.length - 1; l >= 0; l--) {\n        children.push(newChild[l]);\n      }\n      continue;\n    }\n\n    if (newChild instanceof Vnode) {\n      newChild.props = newChild.props || {};\n      newChild.isSVG = newVnode.isSVG || newChild.tag === \"svg\";\n\n      if (typeof newChild.tag !== \"string\") {\n        const component = (current.component = newChild.tag);\n        newVnode.childComponents = newVnode.childComponents || new Set();\n        newVnode.childComponents.add(component);\n\n        children.push(\n          (isPOJOComponent(component) ? component.view : component).bind(component)(newChild.props, newChild.children)\n        );\n\n        continue;\n      }\n\n      newVnode.hasKeys = newVnode.hasKeys || \"key\" in newChild.props;\n      out.push(newChild);\n      continue;\n    }\n\n    out.push(newChild);\n  }\n\n  return out;\n}\n\nfunction processNewChild(newChild: VnodeWithDom, parentVnode: VnodeWithDom, oldDom?: DomElement) {\n  if (oldDom) {\n    newChild.dom = createElement(newChild.tag, newChild.isSVG as boolean);\n    strictReplaceChild(parentVnode.dom, newChild.dom, oldDom);\n  } else {\n    newChild.dom = parentVnode.dom.appendChild(createElement(newChild.tag, newChild.isSVG as boolean));\n  }\n  updateAttributes(newChild);\n  if (\"v-text\" in newChild.props) {\n    newChild.dom.textContent = newChild.props[\"v-text\"];\n    callSet(newChild.oncreate);\n    return;\n  }\n\n  current.oldVnode = null;\n  current.vnode = newChild;\n\n  const children = flatTree(newChild);\n  if (children.length === 0) {\n    newChild.dom.textContent = \"\";\n    callSet(newChild.oncreate);\n    return;\n  }\n\n  for (let i = 0, l = children.length; i < l; i++) {\n    if (children[i] instanceof Vnode === false) {\n      newChild.dom.appendChild(document.createTextNode(children[i]));\n      continue;\n    }\n    processNewChild(children[i] as VnodeWithDom, newChild);\n  }\n  callSet(newChild.oncreate);\n}\n\n// eslint-disable-next-line complexity\nfunction patch(newVnode: VnodeWithDom, oldVnode: VnodeWithDom | null): void {\n  current.oldVnode = oldVnode;\n  current.vnode = newVnode;\n  const children = flatTree(newVnode);\n  const dom = newVnode.dom;\n\n  if (children.length === 0) {\n    if (dom.childNodes.length) {\n      const childNodes = Array.from(dom.childNodes) as any[];\n      for (let i = childNodes.length - 1; i >= 0; i--) {\n        const n = childNodes[i];\n        if (n && n.nodeType === 1) {\n          strictRemoveNode(n);\n        } else {\n          n?.remove?.();\n        }\n      }\n    }\n    callSet(newVnode.oncreate);\n    callSet(newVnode.onupdate);\n    return;\n  }\n\n  const childNodes = dom.childNodes as unknown as DomElement[];\n  const oldChildrenLength = childNodes.length;\n  const childrenLength = children.length;\n  if (oldChildrenLength === 0) {\n    for (let i = 0; i < childrenLength; i++) {\n      const newChild = children[i] as VnodeWithDom;\n      if (newChild instanceof Vnode === false) {\n        dom.appendChild(document.createTextNode(newChild));\n        continue;\n      }\n      processNewChild(newChild, newVnode);\n    }\n    callSet(newVnode.oncreate);\n    return;\n  }\n\n  let oldTree = childNodes as unknown as DomElement[];\n  const oldKeyedList: Record<string, number> = {};\n\n  if (newVnode.hasKeys) {\n    const newOldTree = [];\n    for (let i = 0, l = oldTree.length; i < l; i++) {\n      newOldTree[i] = oldTree[i];\n      const oldVnode = oldTree[i].vnode as VnodeWithDom;\n      oldKeyedList[!oldVnode || \"key\" in oldVnode.props === false ? i : (oldVnode.props.key as string)] = i;\n    }\n    oldTree = newOldTree;\n  }\n\n  for (let i = 0, l = children.length; i < l; i++) {\n    const newChild = children[i] as VnodeWithDom;\n\n    if (newChild instanceof Vnode === false) {\n      const oldChild = oldTree[i];\n      if (!oldChild) {\n        dom.appendChild(document.createTextNode(newChild));\n        continue;\n      }\n\n      if (oldChild.nodeType !== 3) {\n        strictReplaceChild(dom, document.createTextNode(newChild), oldChild);\n        continue;\n      }\n\n      // eslint-disable-next-line eqeqeq\n      if (oldChild.nodeValue != newChild) {\n        oldChild.nodeValue = newChild;\n      }\n      continue;\n    }\n\n    const oldChild = oldTree[newVnode.hasKeys ? oldKeyedList[(newChild.props.key as any) || i] : i] as DomElement;\n\n    if (!oldChild || newChild.tag !== oldChild.nodeName.toLowerCase()) {\n      processNewChild(newChild, newVnode, childNodes[i] as DomElement);\n      continue;\n    }\n\n    newChild.dom = oldChild;\n    const currentChild = childNodes[i];\n    const oldChildVnode = oldChild.vnode as VnodeWithDom;\n    if (!currentChild) {\n      dom.appendChild(oldChild);\n    } else if (currentChild !== oldChild) {\n      dom.replaceChild(oldChild, currentChild);\n    }\n\n    if (\"v-keep\" in newChild.props && oldChildVnode) {\n      if (oldChildVnode.props[\"v-keep\"] === newChild.props[\"v-keep\"]) {\n        continue;\n      }\n\n      const oldProps = childNodes[i + 1]?.vnode?.props;\n      if (oldProps && \"key\" in oldProps === false && oldProps[\"v-keep\"] === newChild.props[\"v-keep\"]) {\n        strictRemoveNode(oldChild);\n        oldTree.splice(i, 1);\n        continue;\n      }\n    }\n\n    updateAttributes(newChild as VnodeWithDom, oldChildVnode);\n\n    if (\"v-text\" in newChild.props) {\n      // eslint-disable-next-line eqeqeq\n      if (oldChild.textContent != newChild.props[\"v-text\"]) {\n        oldChild.textContent = newChild.props[\"v-text\"];\n      }\n      continue;\n    }\n\n    callSet(oldChildVnode?.oncleanup);\n    // eslint-disable-next-line no-use-before-define\n    patch(newChild as VnodeWithDom, oldChildVnode || null);\n  }\n\n  for (let i = childNodes.length, l = children.length; i > l; i--) {\n    const toRemove = childNodes[i - 1];\n    if (toRemove && toRemove.nodeType === 1) {\n      strictRemoveNode(toRemove);\n    } else {\n      toRemove?.remove();\n    }\n  }\n\n  // In here we could have new children or/and patched children\n  // So we need to call the oncreate and onupdate callbacks\n  callSet(newVnode.oncreate);\n  callSet(newVnode.onupdate);\n}\n\nexport function updateVnode(vnode: VnodeWithDom, shouldCleanup = true): string | void {\n  vnode.props = vnode.props || {};\n  if (shouldCleanup) {\n    // The clean up must be from the old vnode\n    // and in here the vnode is the old one\n    // so, we need to call the cleanup before the patch\n    // inside  the patch the clean up will be called only for the old children\n    callSet(vnode.oncleanup);\n  }\n  // Clone the old on remove set to call it after the patch\n  const oldOnRemoveSet = vnode.onremove ? new Set(vnode.onremove) : null;\n  current.vnode = vnode;\n  patch(vnode, shouldCleanup ? vnode : null);\n  callSet(oldOnRemoveSet);\n  isMounted = true;\n  current.oldVnode = null;\n  current.vnode = null;\n  current.component = null;\n}\n\nexport function update(): string {\n  if (mainVnode) {\n    mainVnode.children = [mainComponent];\n    // If the updateVnode method is called from outside the main lib (e.g. from a directive)\n    // it always be considered as mounted, so the cleanup will be called before the patch\n    // But in here, we need to pass the shouldCleanup as false if the app is not mounted\n    updateVnode(mainVnode as VnodeWithDom, isMounted);\n    if (isNodeJs) {\n      return mainVnode.dom.innerHTML;\n    }\n  }\n  return \"\";\n}\n\nlet debouncedUpdateTimeout: any;\nconst debouncedUpdateMethod = isNodeJs ? update : () => requestAnimationFrame(update);\n\nexport function debouncedUpdate(timeout = 42) {\n  if (current.event) {\n    current.event.preventDefault();\n  }\n  clearTimeout(debouncedUpdateTimeout);\n  debouncedUpdateTimeout = setTimeout(debouncedUpdateMethod, timeout);\n}\n\nfunction removeEventListeners() {\n  if (!mainVnode) {\n    return;\n  }\n  for (const name of eventListenerNames) {\n    mainVnode.dom.removeEventListener(name.slice(2), eventListener);\n  }\n  eventListenerNames.clear();\n}\n\nexport function unmount() {\n  if (mainVnode) {\n    mainComponent = v(() => null, {}) as VnodeComponentInterface;\n    const result = update();\n    removeEventListeners();\n\n    mainComponent = null;\n    mainVnode = null;\n    isMounted = false;\n    current.vnode = null;\n    current.component = null;\n    current.event = null;\n    return result;\n  }\n\n  return \"\";\n}\n\nexport function mount(dom: string | DomElement, component: ValyrianComponent | VnodeComponentInterface | any) {\n  const container =\n    typeof dom === \"string\" ? (isNodeJs ? createElement(dom, dom === \"svg\") : document.querySelector(dom)) : dom;\n\n  if (mainVnode && mainVnode.dom !== container) {\n    removeEventListeners();\n  }\n\n  if (isComponent(component)) {\n    mainComponent = v(component, {}, []) as VnodeComponentInterface;\n  } else if (isVnodeComponent(component)) {\n    mainComponent = component;\n  } else {\n    mainComponent = v(() => component, {}, []) as VnodeComponentInterface;\n  }\n\n  mainVnode = hidrateDomToVnode(container) as VnodeWithDom;\n  return update();\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwCO,IAAM,WAAW,QAAQ,OAAO,YAAY,eAAe,QAAQ,YAAY,QAAQ,SAAS,IAAI;AAEpG,IAAM,QAAN,MAAY;AAAA,EACjB,YACS,KACA,OACA,UACA,KACA,OACA,oBACA,iBACA,SACA,UACA,WACA,UACA,UACP;AAZO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,EACN;AACL;AAQO,IAAM,kBAAkB,CAAC,cAC9B,QAAQ,aAAa,OAAO,cAAc,YAAY,UAAU,SAAS;AAEpE,IAAM,cAAc,CAAC,cAC1B,QAAQ,OAAO,cAAc,cAAc,gBAAgB,SAAS,CAAC;AAChE,IAAM,UAAU,CAAC,WAAsC,kBAAkB;AAEzE,IAAM,mBAAmB,CAAC,WAAwD;AACvF,SAAO,QAAQ,MAAM,KAAK,YAAY,OAAO,GAAG;AAClD;AAEO,SAAS,EAAE,gBAA4C,UAA6B,UAAoB;AAC7G,SAAO,IAAI,MAAM,gBAAgB,OAAO,QAAQ;AAClD;AAEA,EAAE,WAAW,CAAC,MAAkB,aAAuB;AAEhD,SAAS,kBAAkB,KAA+C;AAC/E,MAAI,IAAI,aAAa,GAAG;AACtB,WAAO,IAAI;AAAA,EACb;AAEA,MAAI,IAAI,aAAa,GAAG;AACtB,UAAM,MAAM,IAAI,SAAS,YAAY;AACrC,UAAM,QAAQ,CAAC;AACf,UAAM,WAAW,CAAC;AAElB,aAAS,IAAI,GAAG,IAAI,IAAI,WAAW,QAAQ,IAAI,GAAG,KAAK;AACrD,YAAM,WAAW,IAAI,WAAW,CAAC;AACjC,UAAI,SAAS,aAAa,GAAG;AAC3B,iBAAS,KAAK,SAAS,SAAS;AAAA,MAClC,WAAW,SAAS,aAAa,GAAG;AAClC,cAAM,aAAa,kBAAkB,QAAQ;AAC7C,iBAAS,KAAK,UAAU;AAAA,MAC1B;AAAA,IACF;AAEA,UAAM,aAAa,IAAI;AACvB,aAAS,IAAI,GAAG,IAAI,WAAW,QAAQ,IAAI,GAAG,KAAK;AACjD,YAAM,OAAO,WAAW,CAAC;AACzB,YAAM,KAAK,QAAQ,IAAI,KAAK;AAAA,IAC9B;AAEA,UAAM,QAAQ,IAAI,MAAM,KAAK,OAAO,QAAQ;AAC5C,UAAM,MAAM;AACZ,QAAI,QAAQ;AACZ,UAAM,QAAQ,QAAQ;AACtB,WAAO;AAAA,EACT;AACF;AAEO,SAAS,MAAM,YAAoB;AACxC,QAAM,MAAM,SAAS,cAAc,KAAK;AACxC,MAAI,YAAY,WAAW,KAAK;AAChC,SAAO,MAAM,KAAK,IAAI,UAAU,EAAE,IAAI,iBAAiB;AACzD;AAEA,IAAI,gBAAgD;AACpD,IAAI,YAAiC;AACrC,IAAI,YAAY;AAET,IAAM,UAAU;AAAA,EACrB,UAAU;AAAA,EACV,OAAO;AAAA,EACP,WAAW;AAAA,EACX,OAAO;AACT;AAEO,IAAM,gBAAgB,oBAAI,IAAY;AAAA,EAC3C;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,CAAC;AASD,IAAM,aAAa,uBAAO,IAAI,2BAA2B;AAEzD,SAAS,qBAAqB,KAAiB;AAC7C,MAAI,OAAY;AAChB,SAAO,QAAQ,KAAK,aAAa,KAAK,CAAC,KAAK,UAAU,GAAG;AACvD,SAAK,UAAU,IAAI;AACnB,WAAO,KAAK;AAAA,EACd;AACF;AAEA,SAAS,iBAAiB,UAAoB,SAAkB,OAAqB;AACnF,QAAM,OAAO,IAAI,MAAM,OAAO,KAAK,oBAAI,IAAI;AAE3C,MAAI,MAAM,QAAQ,YAAY,+BAAqB,YAAY,4BAAmB;AAChF,yBAAqB,MAAM,GAAG;AAAA,EAChC;AAEA,QAAM,OAAO,EAAE,IAAI,MAAM;AACvB,UAAM,UAAU,SAAS;AACzB,QAAI,OAAO,YAAY,YAAY;AACjC,YAAM,2BAAiB,IAAI,MAAM,2BAAiB,KAAK,oBAAI,IAAI;AAC/D,YAAM,2BAAiB,EAAE,IAAI,OAAO;AAEpC,UAAI,MAAM,KAAK;AACb,6BAAqB,MAAM,GAAG;AAAA,MAChC;AAAA,IACF;AAAA,EACF,CAAC;AACH;AAEA,SAAS,kCAAkC;AACzC,MAAI,CAAC,QAAQ,OAAO;AAClB,UAAM,IAAI,MAAM,iDAAiD;AAAA,EACnE;AACF;AAEO,IAAM,WAAW,CAAC,aAAuB;AAC9C,kCAAgC;AAChC,QAAM,cAAc,QAAQ;AAC5B,QAAM,YAAY,QAAQ;AAC1B,QAAM,yBAAyB,YAAY,sBAAsB,YAAY,mBAAmB,IAAI,SAAS;AAE7G,MAAI,CAAC,wBAAwB;AAC3B,qBAAiB,UAAU,2BAAkB,WAAW;AAAA,EAC1D;AACF;AACO,IAAM,WAAW,CAAC,aAAuB;AAC9C,kCAAgC;AAChC,QAAM,cAAc,QAAQ;AAC5B,QAAM,YAAY,QAAQ;AAC1B,QAAM,sBAAsB,YAAY,mBAAmB,YAAY,gBAAgB,IAAI,SAAS;AACpG,MAAI,qBAAqB;AACvB,qBAAiB,UAAU,2BAAkB,QAAQ,KAAqB;AAAA,EAC5E;AACF;AACO,IAAM,YAAY,CAAC,aAAuB;AAC/C,kCAAgC;AAChC,mBAAiB,UAAU,6BAAmB,QAAQ,KAAqB;AAC7E;AACO,IAAM,WAAW,CAAC,aAAuB;AAC9C,kCAAgC;AAEhC,QAAM,cAAc,QAAQ;AAC5B,QAAM,YAAY,QAAQ;AAC1B,MAAI,UAAU;AAEd,WAAS,iBAAiB;AACxB,UAAM,sBAAsB,YAAY,mBAAmB,YAAY,gBAAgB,IAAI,SAAS;AAEpG,QAAI,uBAAuB,SAAS;AAClC;AAAA,IACF;AAEA,cAAU;AACV,aAAS;AAAA,EACX;AAEA,mBAAiB,gBAAgB,2BAAkB,QAAQ,KAAqB;AAClF;AACA,IAAM,UAAU,CAAC,QAA+B;AAC9C,MAAI,CAAC,KAAK;AACR;AAAA,EACF;AACA,aAAW,YAAY,KAAK;AAC1B,aAAS;AAAA,EACX;AACA,MAAI,MAAM;AACZ;AAEA,SAAS,uBAAuB,KAAiB,KAAqB;AACpE,QAAM,aAAa,IAAI;AACvB,WAAS,IAAI,GAAG,IAAI,WAAW,QAAQ,KAAK;AAC1C,UAAM,QAAQ,WAAW,CAAC;AAC1B,QAAI,CAAC,SAAS,MAAM,aAAa,GAAG;AAClC;AAAA,IACF;AACA,2BAAuB,OAAO,GAAG;AAAA,EACnC;AACA,QAAM,QAAQ,IAAI;AAClB,MAAI,OAAO;AACT,QAAI,KAAK,KAAK;AAAA,EAChB;AACF;AAEA,SAAS,0BAA0B,KAAiB;AAClD,QAAM,SAAyB,CAAC;AAChC,yBAAuB,KAAK,MAAM;AAClC,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,YAAQ,OAAO,CAAC,EAAE,SAAS;AAAA,EAC7B;AACF;AAEA,SAAS,0BAA0B,KAAiB;AAClD,QAAM,SAAyB,CAAC;AAChC,yBAAuB,KAAK,MAAM;AAClC,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,YAAQ,OAAO,CAAC,EAAE,QAAQ;AAAA,EAC5B;AACF;AAEA,SAAS,iBAAiB,KAAiB;AACzC,MAAI,CAAC,OAAO,IAAI,aAAa,GAAG;AAC9B;AAAA,EACF;AAEA,MAAI,CAAE,IAAY,UAAU,GAAG;AAC7B,QAAI,OAAO;AACX;AAAA,EACF;AAGA,4BAA0B,GAAG;AAE7B,MAAI,OAAO;AAEX,4BAA0B,GAAG;AAC/B;AAEA,SAAS,mBAAmB,QAAoB,SAAe,SAAqB;AAClF,MAAI,WAAW,QAAQ,aAAa,KAAM,QAAgB,UAAU,GAAG;AACrE,8BAA0B,OAAO;AAAA,EACnC;AACA,SAAO,aAAa,SAAS,OAAO;AACpC,MAAI,WAAW,QAAQ,aAAa,KAAM,QAAgB,UAAU,GAAG;AACrE,8BAA0B,OAAO;AAAA,EACnC;AACF;AAEO,IAAM,aAAwC;AAAA,EACnD,YAAY,CAAC,UAAU,OAAO,aAAa;AACzC,QAAI,UAAU;AACZ;AAAA,IACF;AAEA,qBAAiB,MAAM,SAAS,KAAK,GAAG,2BAAkB,KAAK;AAAA,EACjE;AAAA,EAEA,YAAY,CAAC,UAAU,OAAO,aAAa;AACzC,QAAI,CAAC,UAAU;AACb;AAAA,IACF;AACA,qBAAiB,MAAM,SAAS,OAAO,QAAQ,GAAG,2BAAkB,KAAK;AAAA,EAC3E;AAAA,EAEA,aAAa,CAAC,UAAU,UAAU;AAChC,UAAM,YAAY,MAAM,aAAa,oBAAI,IAAI;AAC7C,UAAM,UAAU,IAAI,MAAM,SAAS,KAAK,CAAC;AACzC,yBAAqB,MAAM,GAAG;AAAA,EAChC;AAAA,EAEA,YAAY,CAAC,UAAU,UAAU;AAC/B,UAAM,WAAW,MAAM,YAAY,oBAAI,IAAI;AAC3C,UAAM,SAAS,IAAI,MAAM,SAAS,KAAK,CAAC;AACxC,yBAAqB,MAAM,GAAG;AAAA,EAChC;AAAA,EAEA,QAAQ,CAAC,OAAO,UAAU;AACxB,QAAI,CAAC,QAAQ,KAAK,GAAG;AACnB,YAAM,aAAa,MAAM,KAAK;AAC9B,UAAI,YAAY;AACd,2BAAmB,YAA0B,SAAS,eAAe,EAAE,GAAG,MAAM,GAAG;AAAA,MACrF;AACA,aAAO;AAAA,IACT;AAAA,EACF;AAAA,EAEA,UAAU,CAAC,OAAO,UAAU;AAC1B,UAAM,OAAO,QAAQ,KAAK;AAC1B,IACE,MAAM,IAGN,MAAM,UAAU,OAAO,KAAK;AAAA,EAChC;AAAA,EAEA,UAAU,CAAC,OAAO,UAAU;AAC1B,UAAM,WAAW,MAAM,KAAe;AAAA,EACxC;AAAA;AAAA,EAGA,WAAW,CAAC,OAAO,UAAU;AAE3B,QAAI,UAAU,MAAM,UAAU,OAAO;AACnC;AAAA,IACF;AAEA,QAAI;AACJ,UAAM,WAAW,MAAM,MAAM;AAC7B,QAAI,QAAQ;AAGZ,QAAI,UAAU,CAAC,MAAc,MAAM,QAAQ,IAAK,EAAE,OAAuD;AACzG,QAAI,MAAM,QAAQ,SAAS;AAEzB,cAAQ,MAAM,MAAM,MAAM;AAAA,QACxB,KAAK,YAAY;AACf,cAAI,MAAM,QAAQ,MAAM,QAAQ,CAAC,GAAG;AAElC,sBAAU,CAAC,MAAa;AACtB,oBAAM,MAAO,EAAE,OAAuD;AACtE,oBAAM,MAAM,MAAM,QAAQ,EAAE,QAAQ,GAAG;AACvC,kBAAI,QAAQ,IAAI;AACd,sBAAM,QAAQ,EAAE,KAAK,GAAG;AAAA,cAC1B,OAAO;AACL,sBAAM,QAAQ,EAAE,OAAO,KAAK,CAAC;AAAA,cAC/B;AAAA,YACF;AAEA,oBAAQ,MAAM,QAAQ,EAAE,QAAQ,MAAM,IAAI,KAAK,MAAM;AAAA,UACvD,WAAW,WAAW,MAAM,OAAO;AAEjC,sBAAU,MAAM;AACd,kBAAI,MAAM,QAAQ,MAAM,MAAM,MAAM,OAAO;AACzC,sBAAM,QAAQ,IAAI;AAAA,cACpB,OAAO;AACL,sBAAM,QAAQ,IAAI,MAAM,MAAM;AAAA,cAChC;AAAA,YACF;AACA,oBAAQ,MAAM,QAAQ,MAAM,MAAM,MAAM;AAAA,UAC1C,OAAO;AAEL,sBAAU,MAAO,MAAM,QAAQ,IAAI,CAAC,MAAM,QAAQ;AAClD,oBAAQ,MAAM,QAAQ;AAAA,UACxB;AAGA,uBAAa,WAAW,OAAO,KAAK;AACpC;AAAA,QACF;AAAA,QACA,KAAK,SAAS;AAGZ,uBAAa,WAAW,MAAM,QAAQ,MAAM,MAAM,IAAI,OAAO,KAAK;AAClE;AAAA,QACF;AAAA,QACA,SAAS;AAGP,uBAAa,SAAS,MAAM,QAAQ,GAAG,KAAK;AAAA,QAC9C;AAAA,MACF;AAAA,IACF,WAAW,MAAM,QAAQ,UAAU;AAEjC,cAAQ;AACR,UAAI,MAAM,MAAM,UAAU;AAExB,kBAAU,CAAC,MAAmC;AAC5C,gBAAM,MAAO,EAAE,OAAuD;AACtE,cAAI,EAAE,SAAS;AAEb,kBAAM,MAAM,MAAM,QAAQ,EAAE,QAAQ,GAAG;AACvC,gBAAI,QAAQ,IAAI;AACd,oBAAM,QAAQ,EAAE,KAAK,GAAG;AAAA,YAC1B,OAAO;AACL,oBAAM,QAAQ,EAAE,OAAO,KAAK,CAAC;AAAA,YAC/B;AAAA,UACF,OAAO;AAEL,kBAAM,QAAQ,EAAE,OAAO,GAAG,MAAM,QAAQ,EAAE,MAAM;AAChD,kBAAM,QAAQ,EAAE,KAAK,GAAG;AAAA,UAC1B;AAAA,QACF;AAEA,cAAM,SAAS,QAAQ,CAAC,UAAwB;AAC9C,cAAI,MAAM,QAAQ,UAAU;AAC1B,kBAAMA,SAAQ,WAAW,MAAM,QAAQ,MAAM,MAAM,QAAQ,MAAM,SAAS,KAAK,EAAE,EAAE,KAAK;AACxF,kBAAM,MAAM,WAAW,MAAM,QAAQ,EAAE,QAAQA,MAAK,MAAM;AAAA,UAC5D;AAAA,QACF,CAAC;AAAA,MACH,OAAO;AAEL,cAAM,SAAS,QAAQ,CAAC,UAAwB;AAC9C,cAAI,MAAM,QAAQ,UAAU;AAC1B,kBAAMA,SAAQ,WAAW,MAAM,QAAQ,MAAM,MAAM,QAAQ,MAAM,SAAS,KAAK,EAAE,EAAE,KAAK;AACxF,kBAAM,MAAM,WAAWA,WAAU,MAAM,QAAQ;AAAA,UACjD;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF,WAAW,MAAM,QAAQ,YAAY;AAEnC,YAAM,WAAW,CAAC,MAAM,QAAQ,CAAC;AAAA,IACnC;AAGA,UAAM,cAAc,MAAM,MAAM,KAAK;AAIrC;AAAA,MACE;AAAA,MACA,CAAC,MAAa;AACZ,gBAAQ,CAAC;AAGT,YAAI,aAAa;AACf,sBAAY,CAAC;AAAA,QACf;AAAA,MACF;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,CAAC,OAAO,UAAU;AAC3B,QAAI,OAAO,UAAU,UAAU;AAC7B,YAAM,IAAI,YAAY;AAAA,IACxB,WAAW,MAAM,QAAQ,KAAK,GAAG;AAC/B,YAAM,IAAI,YAAY,MAAM,KAAK,GAAG;AAAA,IACtC,WAAW,OAAO,UAAU,UAAU;AACpC,YAAM,YAAY,MAAM,IAAI;AAC5B,iBAAW,QAAQ,OAAO;AACxB,cAAM,MAAM,OAAO,MAAM,IAAI,MAAM,aAAc,MAAM,IAAI,EAAe,IAAI,MAAM,IAAI;AACxF,kBAAU,OAAO,MAAM,GAAG;AAAA,MAC5B;AAAA,IACF;AAAA,EACF;AAAA;AAAA,EAGA,MAAM,OAAO,OAAO;AAClB,QAAI,MAAM,IAAI,cAAc,OAAO;AACjC,UAAI,MAAM,OAAO;AACf,cAAM,IAAI,aAAa,SAAS,KAAK;AACrC;AAAA,MACF;AACA,YAAM,IAAI,YAAY;AAAA,IACxB;AAAA,EACF;AAAA,EAEA,UAAU,OAAO,OAAO;AACtB,eAAW,MAAM,OAAO,KAAK;AAAA,EAC/B;AAAA,EAEA,IAAI,CAAC,OAAO,UAAU;AACpB,QAAI,MAAM,IAAI,OAAO,OAAO;AAC1B,UAAI,MAAM,OAAO;AACf,cAAM,IAAI,aAAa,MAAM,KAAK;AAClC;AAAA,MACF;AACA,YAAM,IAAI,KAAK;AAAA,IACjB;AAAA,EACF;AAAA,EAEA,OAAO,CAAC,OAAO,UAAU;AACvB,QAAI,OAAO,UAAU,UAAU;AAC7B,UAAI,MAAM,OAAO;AACf,cAAM,IAAI,aAAa,SAAS,KAAK;AACrC;AAAA,MACF;AACA,YAAM,IAAI,QAAQ;AAAA,IACpB,WAAW,OAAO,UAAU,UAAU;AACpC,UAAI,MAAM,OAAO;AACf,cAAM,IAAI,aAAa,SAAS,EAAE;AAAA,MACpC,OAAO;AACL,cAAM,IAAI,QAAQ;AAAA,MACpB;AACA,YAAM,WAAW,MAAM,IAAI;AAC3B,iBAAW,QAAQ,OAAO;AACxB,iBAAS,IAAI,IAAI,MAAM,IAAI;AAAA,MAC7B;AAAA,IACF;AAAA,EACF;AACF;AAEO,SAAS,UAAU,MAAcC,YAAsB;AAC5D,QAAM,gBAAgB,KAAK,IAAI;AAC/B,aAAW,aAAa,IAAIA;AAC5B,gBAAc,IAAI,aAAa;AACjC;AAEO,SAAS,oBAAoB,MAAc;AAChD,gBAAc,IAAI,IAAI;AACxB;AAEA,IAAM,qBAAqB,oBAAI,IAAY;AAE3C,SAAS,cAAc,GAAU;AAC/B,UAAQ,QAAQ;AAChB,MAAI,MAAM,EAAE;AACZ,QAAM,OAAO,KAAK,EAAE,IAAI;AAExB,SAAO,KAAK;AACV,UAAM,WAAW,IAAI;AACrB,QAAI,YAAY,SAAS,MAAM,IAAI,GAAG;AACpC,UAAI;AACF,iBAAS,MAAM,IAAI,EAAE,GAAG,QAAQ;AAAA,MAClC,UAAE;AACA,gBAAQ,QAAQ;AAAA,MAClB;AAEA,UAAI,CAAC,EAAE,kBAAkB;AAEvB,eAAO;AAAA,MACT;AACA;AAAA,IACF;AACA,UAAM,IAAI;AAAA,EACZ;AAEA,UAAQ,QAAQ;AAClB;AAEA,SAAS,mBAAmB,MAAc,OAAY,UAAwC;AAC5F,QAAM,cAAc,SAAS;AAC7B,MAAI,OAAO,UAAU,YAAY;AAC/B,QAAI,CAAC,mBAAmB,IAAI,IAAI,GAAG;AAEjC,MAAC,UAA2B,IAAI,iBAAiB,KAAK,MAAM,CAAC,GAAG,aAAa;AAC7E,yBAAmB,IAAI,IAAI;AAAA,IAC7B;AACA;AAAA,EACF;AAEA,MAAI,CAAC,SAAS,SAAS,QAAQ,aAAa;AAC1C,gBAAY,IAAI,IAAI;AACpB;AAAA,EACF;AAEA,MAAI,UAAU,OAAO;AACnB,gBAAY,gBAAgB,IAAI;AAAA,EAClC,OAAO;AACL,gBAAY,aAAa,MAAM,KAAK;AAAA,EACtC;AACF;AAEO,SAAS,aAAa,MAAc,OAAY,UAA8B;AACnF,MAAI,CAAC,cAAc,IAAI,IAAI,GAAG;AAC5B,aAAS,MAAM,IAAI,IAAI;AACvB,uBAAmB,MAAM,OAAO,QAAQ;AAAA,EAC1C;AACF;AAEO,SAAS,iBAAiB,UAAwB,UAA+B;AACtF,QAAM,WAAW,SAAS;AAC1B,QAAM,aAAa,SAAS;AAC5B,WAAS,QAAQ;AAEjB,MAAI,UAAU;AACZ,eAAW,QAAQ,SAAS,OAAO;AACjC,UAAI,QAAQ,eAAe,SAAS,CAAC,mBAAmB,IAAI,IAAI,KAAK,CAAC,cAAc,IAAI,IAAI,GAAG;AAC7F,YAAI,CAAC,SAAS,SAAS,QAAQ,UAAU;AACvC,mBAAS,IAAI,IAAI;AAAA,QACnB,OAAO;AACL,mBAAS,gBAAgB,IAAI;AAAA,QAC/B;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAEA,aAAW,QAAQ,YAAY;AAC7B,QAAI,WAAW,IAAI,GAAG;AACpB,UAAI,WAAW,IAAI,EAAE,WAAW,IAAI,GAAG,UAAU,UAAU,KAAK,MAAM,OAAO;AAC3E;AAAA,MACF;AACA;AAAA,IACF;AAEA,QAAI,CAAC,cAAc,IAAI,IAAI,GAAG;AAC5B,yBAAmB,MAAM,WAAW,IAAI,GAAG,QAAQ;AAAA,IACrD;AAAA,EACF;AACF;AAEO,SAAS,cAAc,KAAa,OAA4B;AACrE,SAAO,QACH,SAAS,gBAAgB,8BAA8B,GAAG,IACzD,SAAS,cAAc,GAAG;AACjC;AAEA,SAAS,SAAS,UAAwB;AACxC,MAAI,WAAqB,CAAC;AAC1B,QAAM,cAAc,SAAS;AAC7B,WAAS,UAAU;AAEnB,MAAI,WAAW,SAAS,UAAU,OAAO;AACvC,aAAS,IAAI,YAAY,SAAS,GAAG,KAAK,GAAG,KAAK;AAChD,eAAS,KAAK,YAAY,CAAC,CAAC;AAAA,IAC9B;AAAA,EACF,OAAO;AACL,eAAW,CAAC;AACZ,UAAM,MAAM,SAAS,MAAM,OAAO;AAClC,UAAM,WAAW,SAAS,SAAS,CAAC;AAEpC,QAAI,OAAO,aAAa,YAAY;AAClC,cAAQ,KAAK,2DAA2D;AACxE,aAAO;AAAA,IACT;AAGA,UAAM,MAAa,CAAC;AACpB,aAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK;AACnC,UAAI,KAAK,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC;AAAA,IAC9B;AACA,aAAS,IAAI,IAAI,SAAS,GAAG,KAAK,GAAG,KAAK;AACxC,eAAS,KAAK,IAAI,CAAC,CAAC;AAAA,IACtB;AAAA,EACF;AAEA,WAAS,qBAAqB,SAAS;AACvC,MAAI,SAAS,iBAAiB;AAC5B,aAAS,kBAAkB,oBAAI,IAAI;AAAA,EACrC;AAEA,QAAM,MAAgB,CAAC;AAEvB,SAAO,SAAS,QAAQ;AACtB,UAAM,WAAW,SAAS,IAAI;AAE9B,QAAI,YAAY,MAAM;AACpB;AAAA,IACF;AAEA,QAAI,MAAM,QAAQ,QAAQ,GAAG;AAC3B,eAAS,IAAI,SAAS,SAAS,GAAG,KAAK,GAAG,KAAK;AAC7C,iBAAS,KAAK,SAAS,CAAC,CAAC;AAAA,MAC3B;AACA;AAAA,IACF;AAEA,QAAI,oBAAoB,OAAO;AAC7B,eAAS,QAAQ,SAAS,SAAS,CAAC;AACpC,eAAS,QAAQ,SAAS,SAAS,SAAS,QAAQ;AAEpD,UAAI,OAAO,SAAS,QAAQ,UAAU;AACpC,cAAM,YAAa,QAAQ,YAAY,SAAS;AAChD,iBAAS,kBAAkB,SAAS,mBAAmB,oBAAI,IAAI;AAC/D,iBAAS,gBAAgB,IAAI,SAAS;AAEtC,iBAAS;AAAA,WACN,gBAAgB,SAAS,IAAI,UAAU,OAAO,WAAW,KAAK,SAAS,EAAE,SAAS,OAAO,SAAS,QAAQ;AAAA,QAC7G;AAEA;AAAA,MACF;AAEA,eAAS,UAAU,SAAS,WAAW,SAAS,SAAS;AACzD,UAAI,KAAK,QAAQ;AACjB;AAAA,IACF;AAEA,QAAI,KAAK,QAAQ;AAAA,EACnB;AAEA,SAAO;AACT;AAEA,SAAS,gBAAgB,UAAwB,aAA2B,QAAqB;AAC/F,MAAI,QAAQ;AACV,aAAS,MAAM,cAAc,SAAS,KAAK,SAAS,KAAgB;AACpE,uBAAmB,YAAY,KAAK,SAAS,KAAK,MAAM;AAAA,EAC1D,OAAO;AACL,aAAS,MAAM,YAAY,IAAI,YAAY,cAAc,SAAS,KAAK,SAAS,KAAgB,CAAC;AAAA,EACnG;AACA,mBAAiB,QAAQ;AACzB,MAAI,YAAY,SAAS,OAAO;AAC9B,aAAS,IAAI,cAAc,SAAS,MAAM,QAAQ;AAClD,YAAQ,SAAS,QAAQ;AACzB;AAAA,EACF;AAEA,UAAQ,WAAW;AACnB,UAAQ,QAAQ;AAEhB,QAAM,WAAW,SAAS,QAAQ;AAClC,MAAI,SAAS,WAAW,GAAG;AACzB,aAAS,IAAI,cAAc;AAC3B,YAAQ,SAAS,QAAQ;AACzB;AAAA,EACF;AAEA,WAAS,IAAI,GAAG,IAAI,SAAS,QAAQ,IAAI,GAAG,KAAK;AAC/C,QAAI,SAAS,CAAC,aAAa,UAAU,OAAO;AAC1C,eAAS,IAAI,YAAY,SAAS,eAAe,SAAS,CAAC,CAAC,CAAC;AAC7D;AAAA,IACF;AACA,oBAAgB,SAAS,CAAC,GAAmB,QAAQ;AAAA,EACvD;AACA,UAAQ,SAAS,QAAQ;AAC3B;AAGA,SAAS,MAAM,UAAwB,UAAqC;AAC1E,UAAQ,WAAW;AACnB,UAAQ,QAAQ;AAChB,QAAM,WAAW,SAAS,QAAQ;AAClC,QAAM,MAAM,SAAS;AAErB,MAAI,SAAS,WAAW,GAAG;AACzB,QAAI,IAAI,WAAW,QAAQ;AACzB,YAAMC,cAAa,MAAM,KAAK,IAAI,UAAU;AAC5C,eAAS,IAAIA,YAAW,SAAS,GAAG,KAAK,GAAG,KAAK;AAC/C,cAAM,IAAIA,YAAW,CAAC;AACtB,YAAI,KAAK,EAAE,aAAa,GAAG;AACzB,2BAAiB,CAAC;AAAA,QACpB,OAAO;AACL,aAAG,SAAS;AAAA,QACd;AAAA,MACF;AAAA,IACF;AACA,YAAQ,SAAS,QAAQ;AACzB,YAAQ,SAAS,QAAQ;AACzB;AAAA,EACF;AAEA,QAAM,aAAa,IAAI;AACvB,QAAM,oBAAoB,WAAW;AACrC,QAAM,iBAAiB,SAAS;AAChC,MAAI,sBAAsB,GAAG;AAC3B,aAAS,IAAI,GAAG,IAAI,gBAAgB,KAAK;AACvC,YAAM,WAAW,SAAS,CAAC;AAC3B,UAAI,oBAAoB,UAAU,OAAO;AACvC,YAAI,YAAY,SAAS,eAAe,QAAQ,CAAC;AACjD;AAAA,MACF;AACA,sBAAgB,UAAU,QAAQ;AAAA,IACpC;AACA,YAAQ,SAAS,QAAQ;AACzB;AAAA,EACF;AAEA,MAAI,UAAU;AACd,QAAM,eAAuC,CAAC;AAE9C,MAAI,SAAS,SAAS;AACpB,UAAM,aAAa,CAAC;AACpB,aAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,IAAI,GAAG,KAAK;AAC9C,iBAAW,CAAC,IAAI,QAAQ,CAAC;AACzB,YAAMC,YAAW,QAAQ,CAAC,EAAE;AAC5B,mBAAa,CAACA,aAAY,SAASA,UAAS,UAAU,QAAQ,IAAKA,UAAS,MAAM,GAAc,IAAI;AAAA,IACtG;AACA,cAAU;AAAA,EACZ;AAEA,WAAS,IAAI,GAAG,IAAI,SAAS,QAAQ,IAAI,GAAG,KAAK;AAC/C,UAAM,WAAW,SAAS,CAAC;AAE3B,QAAI,oBAAoB,UAAU,OAAO;AACvC,YAAMC,YAAW,QAAQ,CAAC;AAC1B,UAAI,CAACA,WAAU;AACb,YAAI,YAAY,SAAS,eAAe,QAAQ,CAAC;AACjD;AAAA,MACF;AAEA,UAAIA,UAAS,aAAa,GAAG;AAC3B,2BAAmB,KAAK,SAAS,eAAe,QAAQ,GAAGA,SAAQ;AACnE;AAAA,MACF;AAGA,UAAIA,UAAS,aAAa,UAAU;AAClC,QAAAA,UAAS,YAAY;AAAA,MACvB;AACA;AAAA,IACF;AAEA,UAAM,WAAW,QAAQ,SAAS,UAAU,aAAc,SAAS,MAAM,OAAe,CAAC,IAAI,CAAC;AAE9F,QAAI,CAAC,YAAY,SAAS,QAAQ,SAAS,SAAS,YAAY,GAAG;AACjE,sBAAgB,UAAU,UAAU,WAAW,CAAC,CAAe;AAC/D;AAAA,IACF;AAEA,aAAS,MAAM;AACf,UAAM,eAAe,WAAW,CAAC;AACjC,UAAM,gBAAgB,SAAS;AAC/B,QAAI,CAAC,cAAc;AACjB,UAAI,YAAY,QAAQ;AAAA,IAC1B,WAAW,iBAAiB,UAAU;AACpC,UAAI,aAAa,UAAU,YAAY;AAAA,IACzC;AAEA,QAAI,YAAY,SAAS,SAAS,eAAe;AAC/C,UAAI,cAAc,MAAM,QAAQ,MAAM,SAAS,MAAM,QAAQ,GAAG;AAC9D;AAAA,MACF;AAEA,YAAM,WAAW,WAAW,IAAI,CAAC,GAAG,OAAO;AAC3C,UAAI,YAAY,SAAS,aAAa,SAAS,SAAS,QAAQ,MAAM,SAAS,MAAM,QAAQ,GAAG;AAC9F,yBAAiB,QAAQ;AACzB,gBAAQ,OAAO,GAAG,CAAC;AACnB;AAAA,MACF;AAAA,IACF;AAEA,qBAAiB,UAA0B,aAAa;AAExD,QAAI,YAAY,SAAS,OAAO;AAE9B,UAAI,SAAS,eAAe,SAAS,MAAM,QAAQ,GAAG;AACpD,iBAAS,cAAc,SAAS,MAAM,QAAQ;AAAA,MAChD;AACA;AAAA,IACF;AAEA,YAAQ,eAAe,SAAS;AAEhC,UAAM,UAA0B,iBAAiB,IAAI;AAAA,EACvD;AAEA,WAAS,IAAI,WAAW,QAAQ,IAAI,SAAS,QAAQ,IAAI,GAAG,KAAK;AAC/D,UAAM,WAAW,WAAW,IAAI,CAAC;AACjC,QAAI,YAAY,SAAS,aAAa,GAAG;AACvC,uBAAiB,QAAQ;AAAA,IAC3B,OAAO;AACL,gBAAU,OAAO;AAAA,IACnB;AAAA,EACF;AAIA,UAAQ,SAAS,QAAQ;AACzB,UAAQ,SAAS,QAAQ;AAC3B;AAEO,SAAS,YAAY,OAAqB,gBAAgB,MAAqB;AACpF,QAAM,QAAQ,MAAM,SAAS,CAAC;AAC9B,MAAI,eAAe;AAKjB,YAAQ,MAAM,SAAS;AAAA,EACzB;AAEA,QAAM,iBAAiB,MAAM,WAAW,IAAI,IAAI,MAAM,QAAQ,IAAI;AAClE,UAAQ,QAAQ;AAChB,QAAM,OAAO,gBAAgB,QAAQ,IAAI;AACzC,UAAQ,cAAc;AACtB,cAAY;AACZ,UAAQ,WAAW;AACnB,UAAQ,QAAQ;AAChB,UAAQ,YAAY;AACtB;AAEO,SAAS,SAAiB;AAC/B,MAAI,WAAW;AACb,cAAU,WAAW,CAAC,aAAa;AAInC,gBAAY,WAA2B,SAAS;AAChD,QAAI,UAAU;AACZ,aAAO,UAAU,IAAI;AAAA,IACvB;AAAA,EACF;AACA,SAAO;AACT;AAEA,IAAI;AACJ,IAAM,wBAAwB,WAAW,SAAS,MAAM,sBAAsB,MAAM;AAE7E,SAAS,gBAAgB,UAAU,IAAI;AAC5C,MAAI,QAAQ,OAAO;AACjB,YAAQ,MAAM,eAAe;AAAA,EAC/B;AACA,eAAa,sBAAsB;AACnC,2BAAyB,WAAW,uBAAuB,OAAO;AACpE;AAEA,SAAS,uBAAuB;AAC9B,MAAI,CAAC,WAAW;AACd;AAAA,EACF;AACA,aAAW,QAAQ,oBAAoB;AACrC,cAAU,IAAI,oBAAoB,KAAK,MAAM,CAAC,GAAG,aAAa;AAAA,EAChE;AACA,qBAAmB,MAAM;AAC3B;AAEO,SAAS,UAAU;AACxB,MAAI,WAAW;AACb,oBAAgB,EAAE,MAAM,MAAM,CAAC,CAAC;AAChC,UAAM,SAAS,OAAO;AACtB,yBAAqB;AAErB,oBAAgB;AAChB,gBAAY;AACZ,gBAAY;AACZ,YAAQ,QAAQ;AAChB,YAAQ,YAAY;AACpB,YAAQ,QAAQ;AAChB,WAAO;AAAA,EACT;AAEA,SAAO;AACT;AAEO,SAAS,MAAM,KAA0B,WAA8D;AAC5G,QAAM,YACJ,OAAO,QAAQ,WAAY,WAAW,cAAc,KAAK,QAAQ,KAAK,IAAI,SAAS,cAAc,GAAG,IAAK;AAE3G,MAAI,aAAa,UAAU,QAAQ,WAAW;AAC5C,yBAAqB;AAAA,EACvB;AAEA,MAAI,YAAY,SAAS,GAAG;AAC1B,oBAAgB,EAAE,WAAW,CAAC,GAAG,CAAC,CAAC;AAAA,EACrC,WAAW,iBAAiB,SAAS,GAAG;AACtC,oBAAgB;AAAA,EAClB,OAAO;AACL,oBAAgB,EAAE,MAAM,WAAW,CAAC,GAAG,CAAC,CAAC;AAAA,EAC3C;AAEA,cAAY,kBAAkB,SAAS;AACvC,SAAO,OAAO;AAChB;",
  "names": ["value", "directive", "childNodes", "oldVnode", "oldChild"]
}
