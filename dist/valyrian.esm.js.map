{"version":3,"file":"valyrian.esm.js","sources":["../lib/router.js","../lib/h.js","../lib/request.js","../lib/patch.js","../lib/index.js"],"sourcesContent":["/**\n * Handles the mix of single and array of middlewares\n * @method parseMiddlewares\n * @param  {Function|Array}         middlewares     // Middleware or array of middlewares\n * @param  {Array}                  [array=[]]      // The array to store the final list of middlewares\n * @return {Array}                                  // The final list of middlewares\n */\nlet parseMiddlewares = (middlewares, array = []) => {\n    if (typeof middlewares === 'function') {\n        array.push(middlewares);\n        return array;\n    }\n\n    let i = 0, l = middlewares.length;\n    for (; i < l; i++) {\n        if (Array.isArray(middlewares[i])) {\n            parseMiddlewares(middlewares[i], array);\n        }\n\n        if (!Array.isArray(middlewares[i])) {\n            array.push(middlewares[i]);\n        }\n    }\n    return array;\n};\n\n/**\n * @description Adds a path to a router\n * @method addPath\n * @param  {Router} router              The router in which to add the path\n * @param  {String} method              The method that will handle this path\n * @param  {Array} args                The mixed params (String|Function|Array)\n * @returns {Router}                    The router\n */\nlet addPath = (router, method, args) => {\n    let path, middlewares;\n\n    // Get the first argument\n    if (typeof args[0] === 'string') {\n        path = args.shift();\n    }\n\n    // If the seccond argument is a function and has paths\n    // and regexpList properties then\n    // Treat it as a subrouter\n    if (\n        typeof args[0] === 'function' &&\n        args[0].paths !== undefined &&\n        args[0].regexpList !== undefined\n    ) {\n        let subrouter = args.shift(),\n            i = 0,\n            l = subrouter.paths.length;\n\n        // For each path of the subrouter\n        for (; i < l; i++) {\n            let submiddlewares = subrouter.paths[i].middlewares;\n            let submethod = subrouter.paths[i].method;\n            let subpath = subrouter.paths[i].path;\n\n            // If there is a path add it as prefix to the subpath\n            if (path !== undefined) {\n                subpath = path + (subpath || '*');\n            }\n\n            // If there are a subpath set it as the first element\n            // on the submiddlewares array\n            if (subpath !== undefined) {\n                submiddlewares.unshift(subpath);\n            }\n\n            // Add the path to the router\n            router = addPath(router, submethod, submiddlewares);\n        }\n    }\n\n    // Parse middlwares to handle mixed arrays of middlwares and sequenced middlwares\n    middlewares = parseMiddlewares(args);\n\n    // Add the path only if there are middlewares passed\n    if (middlewares.length > 0) {\n        // If the path wasn't set before, set the regexp and params list\n        if (path !== undefined && router.regexpList[path] === undefined) {\n            // Remove the last slash\n            path = path.replace(/\\/(\\?.*)?$/gi, '$1');\n\n            // Find the params like express params\n            let params = path.match(/:(\\w+)?/gi) || [];\n\n            // Set the names of the params found\n            for (let i in params) {\n                params[i] = params[i].replace(':', '');\n            }\n\n            let regexpPath = path\n                // Catch params\n                .replace(/:(\\w+)/gi, '([^\\\\s\\\\/|\\\\?]+)')\n                // To set to any url with the path as prefix\n                .replace(/\\*/g, '.*')\n                // Remove the last slash\n                .replace(/\\/(\\?.*)?$/gi, '$1');\n\n            // Set the object to the path\n            router.regexpList[path] = {\n                regexp: new RegExp('^' + regexpPath + '/?(\\\\?.*)?$', 'gi'),\n                params: params\n            };\n        }\n\n        // Add the path to the paths list\n        router.paths.push({\n            method: method,\n            path: path,\n            middlewares: middlewares\n        });\n    }\n\n    return router;\n};\n\nlet RouterFactory = () => {\n    /**\n     * new Rotuer\n     * @param  {String}    url     The path to call\n     * @return {Any}           The final response\n     */\n    let Router = async function (url = '/') {\n        let method = 'get',\n            params = {},\n            middlewares = [],\n            response,\n            i = 0,\n            l = Router.paths.length;\n\n        Router.url = url;\n\n        for (; i < l; i++) {\n            let path = Router.paths[i];\n            if (method !== path.method && path.method !== 'use') {\n                continue;\n            }\n\n            if ((path.method === 'use' || method === path.method) && path.path === undefined) {\n                middlewares = parseMiddlewares(path.middlewares, middlewares);\n                continue;\n            }\n\n            let matches = Router.regexpList[path.path].regexp.exec(url);\n            Router.regexpList[path.path].regexp.lastIndex = -1;\n            if (Array.isArray(matches)) {\n                matches.shift();\n                let l = Router.regexpList[path.path].params.length;\n                for (; l--;) {\n                    if (params[Router.regexpList[path.path].params[l]] === undefined) {\n                        params[Router.regexpList[path.path].params[l]] = matches[l];\n                    }\n                }\n                middlewares = parseMiddlewares(path.middlewares, middlewares);\n            }\n        }\n\n        Router.params = params;\n\n        if (middlewares.length > 0) {\n            let i = 0, l = middlewares.length;\n            // call sequentially every middleware\n            for (; i < l; i++) {\n                response = await middlewares[i](params);\n                // If there is a response or a response was sent to the client\n                // break the for block\n                if (response !== undefined) {\n                    return response;\n                }\n            }\n        }\n\n        if (Router.throwNotFound) {\n            // If no response was sent to the client throw an error\n            throw new Error(`The url ${url} requested wasn't found`);\n        }\n    };\n\n    Router.url = '/';\n    Router.params = {};\n    Router.throwNotFound = true;\n\n    /**\n     * Where to store the paths and its middlewares\n     * @type {Object}\n     */\n    Router.paths = [];\n\n    /**\n     * Where to store the regexp and params list for the paths\n     * @type {[type]}\n     */\n    Router.regexpList = {};\n\n    // For each accepted method, add the method to the router\n    Router.get = function (...args) {\n        return addPath(Router, 'get', args);\n    };\n    Router.use = function (...args) {\n        return addPath(Router, 'use', args);\n    };\n\n    /**\n     * Return the new router\n     * @type {Router}\n     */\n    return Router;\n};\n\nexport default RouterFactory;\n","let h = function (...args) {\n    let vnode = {\n            name: '',\n            props: {},\n            children: []\n        },\n        l,\n        i,\n        attributes;\n\n    if (typeof args[0] === 'string' && args[0].trim().length > 0) {\n        vnode.name = args.shift();\n    }\n\n    if (vnode.name === 'textNode') {\n        vnode.value = args.join('');\n        return vnode;\n    }\n\n    if (!h.isVnode(args[0]) && typeof args[0] === 'object' && !Array.isArray(args[0]) && args[0] !== null) {\n        vnode.props = args.shift();\n    }\n\n    if (/(\\.|\\[|#)/gi.test(vnode.name)) {\n        attributes = vnode.name.match(/([\\.\\#][\\w-]+|\\[[^\\]]+\\])/gi);\n        vnode.name = vnode.name.replace(/([\\.\\#][\\w-]+|\\[[^\\]]+\\])/gi, '');\n        if (attributes) {\n            for (l = attributes.length; l--;) {\n                if (attributes[l].charAt(0) === '#') {\n                    vnode.props.id = attributes[l].slice(1).trim();\n                    continue;\n                }\n\n                if (attributes[l].charAt(0) === '.') {\n                    vnode.props.class = ((vnode.props.class || '') + ' ' + attributes[l].slice(1)).trim();\n                    continue;\n                }\n\n                if (attributes[l].charAt(0) === '[') {\n                    attributes[l] = attributes[l].trim().slice(1, -1).split('=');\n                    vnode.props[attributes[l][0]] = (attributes[l][1] || 'true').replace(/^[\"'](.*)[\"']$/gi, '$1');\n                }\n            }\n        }\n    }\n\n    let nodes = h.flatenArray(args);\n\n    for (i = 0, l = nodes.length; i < l; i++) {\n        vnode.children.push(h.isVnode(nodes[i]) ? nodes[i] : h('textNode', nodes[i]));\n    }\n\n    vnode.name = vnode.name.trim() === '' ? 'div' : vnode.name.trim();\n\n    return vnode;\n};\n\nh.flatenArray = function (nodes, array = []) {\n    if (!Array.isArray(nodes)) {\n        array.push(nodes);\n        return array;\n    }\n\n    let i = 0, l = nodes.length;\n    for (; i < l; i++) {\n        if (Array.isArray(nodes[i])) {\n            h.flatenArray(nodes[i], array);\n        }\n\n        if (!Array.isArray(nodes[i])) {\n            array.push(nodes[i]);\n        }\n    }\n\n    return array;\n};\n\nh.isVnode = function (vnode) {\n    return vnode && vnode.name && vnode.props && vnode.children;\n};\n\nh.vnode = function ($el) {\n    let obj = {\n        name: '',\n        props: {},\n        children: [],\n        dom: $el\n    };\n\n    if ($el) {\n        if ($el.nodeType === 3) {\n            obj.value = $el.nodeValue;\n            obj.name = 'textNode';\n        }\n\n        if ($el.nodeType !== 3) {\n            Array.prototype.map.call($el.attributes, property => {\n                obj.props[property.nodeName] = property.nodeValue;\n            });\n            obj.name = $el.nodeName.toLowerCase();\n            obj.children = Array.prototype.map.call($el.childNodes, $el => h.vnode($el));\n        }\n    }\n\n    return obj;\n};\n\nexport default h;\n","let Request = function (baseUrl = '', options = {}) {\n    let url = baseUrl.replace(/\\/$/gi, '').trim(),\n        opts = Object.assign({\n            methods: ['get', 'post', 'put', 'patch', 'delete']\n        }, options),\n        isNode = typeof window === 'undefined',\n        Fetch = isNode ? require('node-fetch') : window.fetch,\n        parseUrl;\n\n    function serialize(obj, prefix) {\n        let e = encodeURIComponent;\n        return '?' + Object.keys(obj).map(k => {\n            if (prefix !== undefined) {\n                k = prefix + \"[\" + k + \"]\";\n            }\n\n            return typeof obj[k] === 'object' ?\n                serialize(obj[k], k) :\n                e(k) + '=' + e(obj[k]);\n        }).join('&');\n    };\n\n    function request(method, url, data, options = {}) {\n        let opts = Object.assign({\n                method: method.toLowerCase(),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            }, request.options, options),\n            type = opts.headers.Accept;\n\n        if (data !== undefined) {\n            if (opts.method === 'get' && typeof data === 'object') {\n                url += data = serialize(data);\n            }\n\n            if (opts.method !== 'get') {\n                opts.body = JSON.stringify(data);\n            }\n        }\n\n        return Fetch(parseUrl(url), opts)\n            .then(response => {\n                if (response.status < 200 || response.status > 300) {\n                    let err = new Error(response.statusText);\n                    err.response = response;\n                    throw err;\n                }\n\n                if (/text/gi.test(type)) {\n                    return response.text();\n                }\n\n                if (/json/gi.test(type)) {\n                    return response.json();\n                }\n\n                return response;\n            });\n    };\n\n    parseUrl = function parseUrl(url) {\n        let u = /^https?/gi.test(url)\n            ? url\n            : (request.baseUrl + '/' + url).trim().replace(/^\\/\\//gi, '/').trim();\n\n        if (\n            isNode &&\n            typeof request.nodeUrl === 'string'\n        ) {\n            request.nodeUrl = request.nodeUrl.replace(/\\/$/gi, '').trim();\n\n            if (/^https?/gi.test(u) && typeof request.apiUrl === 'string') {\n                request.apiUrl = request.apiUrl.replace(/\\/$/gi, '').trim();\n                u = u.replace(request.apiUrl, request.nodeUrl);\n            }\n\n            if (!/^https?/gi.test(u)) {\n                u = request.nodeUrl + u;\n            }\n        }\n        return u;\n    };\n\n    request.new = function (baseUrl, options) {\n        return Request(baseUrl, options);\n    };\n\n    // Change this to  request.urls.api etc...\n    request.apiUrl = undefined;\n    request.nodeUrl = undefined;\n    request.options = opts;\n    request.baseUrl = url;\n\n    opts.methods.forEach(method =>\n        request[method] = (url, data, options) => request(method, url, data, options)\n    );\n\n    return request;\n};\n\nexport default Request();\n","import h from './h';\n\nlet PatchFactory = function (v) {\n    let document = v.window.document;\n\n    function setProp($target, name, value) {\n        if (!value) {\n            $target.removeAttribute(name);\n            return;\n        }\n\n        if (typeof value === 'function') {\n            $target[name] = value.bind($target);\n            return;\n        }\n\n        if (typeof value === 'boolean') {\n            $target[name] = value;\n        }\n\n        $target.setAttribute(name === 'className' ? 'class' : name, value);\n    }\n\n    function updateProps(newNode, oldNode = {}) {\n        let newProps = newNode.props,\n            oldProps = oldNode.props || {};\n\n        const props = Object.assign(\n            {},\n            newProps,\n            oldProps\n        );\n        for (let name in props) {\n            if (newProps[name] !== oldProps[name]) {\n                setProp(newNode.dom, name, newProps[name]);\n            }\n        }\n    }\n\n    function lifecycleCall(vnode, methodName) {\n        return vnode.props && vnode.props[methodName] && vnode.props[methodName](vnode);\n    }\n\n    function createElement(vnode) {\n        let $el;\n        delete vnode.dom;\n        lifecycleCall(vnode, 'oninit');\n        $el = vnode.name === 'textNode' ?\n            document.createTextNode(vnode.value) :\n            vnode.name === \"svg\" ?\n                document.createElementNS(\"http://www.w3.org/2000/svg\", vnode.name) :\n                document.createElement(vnode.name);\n\n        vnode.dom = $el;\n        updateProps(vnode);\n\n        for (let i = 0; i < vnode.children.length; i++) {\n            $el.appendChild(createElement(vnode.children[i]));\n        }\n\n        lifecycleCall(vnode, 'oncreate');\n        return $el;\n    }\n\n    function removeElement(oldNode, destroyed = false) {\n        return Promise.resolve(lifecycleCall(oldNode, 'onbeforeremove'))\n            .then(() => {\n                if (!destroyed && oldNode.dom && oldNode.dom.parentElement) {\n                    oldNode.dom.parentElement.removeChild(oldNode.dom);\n                }\n\n                let i = 0, l = oldNode.children.length;\n                for (; i < l; i++) {\n                    removeElement(oldNode.children[i], destroyed);\n                }\n\n                lifecycleCall(oldNode, 'onremove');\n            });\n    }\n\n    function patch($parent, newNode, oldNode) {\n\n        // New node\n        if (oldNode === undefined && newNode !== undefined) {\n            $parent.appendChild(createElement(newNode));\n        }\n\n        // Deleted node\n        if (newNode === undefined) {\n            removeElement(oldNode);\n        }\n\n        if (h.isVnode(oldNode) && h.isVnode(newNode)) {\n            newNode.dom = oldNode.dom;\n\n            // Same node\n            if (newNode.name === 'textNode' && oldNode.value == newNode.value) {\n                return $parent;\n            }\n\n            // New node replacing old node\n            if (\n                (newNode.name === 'textNode' && newNode.value != oldNode.value) ||\n                newNode.name !== oldNode.name\n            ) {\n                createElement(newNode);\n                Promise.resolve(removeElement(oldNode, true))\n                    .then(() => {\n                        $parent.replaceChild(newNode.dom, oldNode.dom);\n                    });\n                return $parent;\n            }\n\n            if (!v.isMounted) {\n                lifecycleCall(newNode, 'oninit');\n                lifecycleCall(newNode, 'oncreate');\n            }\n\n            updateProps(newNode, oldNode);\n\n            const max = Math.max(newNode.children.length, oldNode.children.length);\n            for (let i = 0; i < max; i++) {\n                patch(\n                    newNode.dom,\n                    newNode.children[i],\n                    oldNode.children[i]\n                );\n            }\n\n            lifecycleCall(newNode, 'onupdate');\n        }\n\n        return $parent;\n    };\n\n    return patch;\n};\n\nexport default PatchFactory;\n","import RouterFactory from './router';\nimport h from './h';\nimport Request from './request';\nimport patchFactory from './patch';\n\nfunction isComponent(component) {\n    return typeof component === 'object' &&\n        component !== null &&\n        typeof component.view === 'function';\n};\n\nfunction assignAttributes(component, attributes = {}) {\n    if (attributes.name && attributes.props && Array.isArray(attributes.children)) {\n        component.attributes = { children: attributes };\n        return;\n    }\n\n    if (Array.isArray(attributes)) {\n        component.attributes = {children: attributes.length === 1 ? attributes[0] : attributes};\n        return;\n    }\n\n    component.attributes = Object.assign({}, component.attributes, attributes);\n};\n\nfunction render(component, attributes = {}) {\n    assignAttributes(component, attributes);\n    let nodes = component.view();\n\n    return Array.isArray(nodes) ? nodes : [nodes];\n};\n\nfunction v(...args) {\n    if (isComponent(args[0])) {\n        return render.apply(v, args);\n    }\n\n    return h.apply(h, args);\n};\n\nfunction addEvent(container, events, handler, useCapture) {\n    if (v.is.browser) {\n        events.split(' ').forEach(event => {\n            container.addEventListener(\n                event,\n                handler,\n                useCapture\n            );\n        });\n    }\n}\n\nfunction removeEvent(container, events, handler) {\n    if (v.is.browser) {\n        events.split(' ').forEach(event => {\n            container.removeEventListener(\n                event,\n                handler\n            );\n        });\n    }\n}\n\nv.request = Request;\nv.router = RouterFactory;\nv.is = {};\nv.is.node = typeof window === 'undefined';\nv.is.browser = !v.is.node;\nv.is.mounted = false;\n\nv.window = v.is.node ? (new (require('jsdom')).JSDOM()).window : window;\n\nlet patch = patchFactory(v),\n    container,\n    parent,\n    rootTree,\n    oldTree,\n    rootComponent,\n    mainRouter,\n    RoutesContainer;\n\nfunction resetToDefaults() {\n    v.is.mounted = false;\n    container = v.window.document.createElement('div');\n    v.window.document.createElement('div').appendChild(container);\n    rootTree = h.vnode(container);\n    oldTree = Object.assign({}, rootTree);\n};\nresetToDefaults();\n\nv.trust = function (htmlString) {\n    let div = v.window.document.createElement('div');\n    div.innerHTML = htmlString.trim();\n\n    return Array.prototype.map.call(div.childNodes, item => h.vnode(item));\n};\n\nv.mount = function (elementContainer, component, attributes = {}) {\n    if (elementContainer === undefined) {\n        throw new Error('A container element is required as first element');\n        return;\n    }\n\n    if (!isComponent(component)) {\n        throw new Error('A component is required as a second argument');\n        return;\n    }\n\n    if (v.is.browser && container) {\n        removeEvent(container, 'mouseup keyup', v.update);\n    }\n\n    container = v.is.node ? v.window.document.createElement('div') : typeof elementContainer === 'string' ? v.window.document.querySelectorAll(elementContainer)[0] : elementContainer;\n    rootTree = h.vnode(container);\n    oldTree = Object.assign({}, rootTree);\n    if (v.is.browser) {\n        addEvent(container, 'mouseup keyup', v.update, false);\n    }\n\n    return v.update(component, attributes);\n};\n\nfunction redraw(component, attributes = {}) {\n    if (isComponent(component)) {\n        assignAttributes(component, attributes);\n        rootComponent = component;\n        rootTree.props = {};\n        Object.keys(rootComponent).forEach(prop => {\n            if (typeof rootComponent[prop] === 'function') {\n                rootTree.props[prop] = (...args) => rootComponent[prop].apply(rootComponent, args);\n            }\n        });\n    };\n\n    if (rootComponent) {\n        if (v.is.node) {\n            resetToDefaults();\n        }\n\n        rootTree.children = render(rootComponent);\n\n        // console.log('******************************');\n        patch(rootTree.dom.parentElement, rootTree, oldTree);\n        // console.log('******************************');\n\n        oldTree = Object.assign({}, rootTree);\n        if (!v.is.mounted) {\n            v.is.mounted = true;\n        }\n    }\n    return v.is.node ? rootTree.dom.innerHTML : rootTree.dom.parentElement;\n};\n\nv.update = function (component, attributes = {}) {\n    return v.is.browser\n        ? requestAnimationFrame(() => redraw(component, attributes))\n        : redraw(component, attributes);\n};\n\nfunction runRoute(url = '/', parentComponent = undefined) {\n    return mainRouter(url)\n        .then(response => {\n            if (!isComponent(response)) {\n                let r = response;\n                response = {view() {\n                    return r;\n                }};\n            }\n\n            if (parentComponent) {\n                let c = response;\n                response = {view() {\n                    return v(parentComponent, v(c));\n                }};\n            }\n\n            if (v.is.node || !v.is.mounted) {\n                return v.mount(RoutesContainer, response, {params: mainRouter.params});\n            }\n\n            return v.update(response, {params: mainRouter.params});\n        });\n};\n\nv.routes = function (elementContainer, router) {\n    if (elementContainer && router) {\n        mainRouter = router;\n        RoutesContainer = elementContainer;\n        // Activate the use of the router\n        if (v.is.browser) {\n            function onPopStateGoToRoute() {\n                v.routes.go(document.location.pathname);\n            }\n            addEvent(window, 'popstate', onPopStateGoToRoute, false);\n            onPopStateGoToRoute();\n        }\n        return;\n    }\n\n    let routes = [];\n    mainRouter.paths.forEach(path => {\n        if (path.method === 'get') {\n            routes.push(path.path === '' ? '/' : path.path);\n        }\n    });\n    return routes;\n};\n\nv.routes.current = '/';\nv.routes.params = {};\n\nv.routes.go = function (url, parentComponent) {\n    if (v.is.browser) {\n        window.history.pushState({}, '', url);\n    }\n\n    return runRoute(url, parentComponent);\n};\n\nif (v.is.browser) {\n    v.sw = function (file = v.sw.file, options = v.sw.options) {\n        return navigator.serviceWorker.register(file, options)\n            .then(() => navigator.serviceWorker.ready)\n            .then(registration => {\n                v.sw.ready = true;\n                v.sw.file = file;\n                v.sw.options = options;\n                return new Promise((resolve, reject) => {\n                    setTimeout(() => {\n                        resolve(navigator.serviceWorker);\n                    }, 10);\n                });\n            })\n            .catch(err => {\n                process.stdout.write('ServiceWorker registration failed: \\n');\n                process.stdout.write(err.status + '\\n'); // HTTP error code (e.g. `200`) or `null`\n                process.stdout.write(err.name + '\\n'); // Error name e.g. \"API Error\"\n                process.stdout.write(err.message + '\\n'); // Error description e.g. \"An unknown error has occurred\"\n            });\n    };\n\n    v.sw.ready = false;\n    v.sw.file = '/sw.js';\n    v.sw.options = {scope: '/'};\n}\n\nif (v.is.node) {\n    let VNodeHelpersFactory = require('./valyrian.node.helpers.min.js');\n    VNodeHelpersFactory(v);\n}\n\n(v.is.node ? global : window).v = v;\n"],"names":["Request","patchFactory"],"mappings":"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"}