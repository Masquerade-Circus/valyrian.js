(()=>{"use strict";var e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,t=Object.prototype.hasOwnProperty,r={};((n,o)=>{for(var t in o)e(n,t,{get:o[t],enumerable:!0})})(r,{createHook:()=>s,useCallback:()=>d,useEffect:()=>i,useMemo:()=>h,useRef:()=>v,useState:()=>f});var a,u=(a=r,((r,a,u,l)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let c of o(a))t.call(r,c)||c===u||e(r,c,{get:()=>a[c],enumerable:!(l=n(a,c))||l.enumerable});return r})(e({},"__esModule",{value:!0}),a)),l=require("valyrian.js"),c=require("valyrian.js/utils"),p=new WeakMap,s=function({onCreate:e,onUpdate:n,onCleanup:o,onRemove:t,returnValue:r}){return(...a)=>{const u=l.current.component;let c=p.get(u);c||(c={hooks:[],hook_calls:-1},p.set(u,c),(0,l.onUnmount)(()=>{p.delete(u)})),(0,l.onCleanup)(()=>c.hook_calls=-1);let s=c.hooks[++c.hook_calls];return s?n?.(s,...a):(s=e(...a),c.hooks.push(s),t&&(0,l.onUnmount)(()=>t(s))),o&&(0,l.onCleanup)(()=>o(s)),r?r(s):s}},f=s({onCreate:e=>{let n=e;return[function(){return n},function(e){l.current.event&&!l.current.event.defaultPrevented&&l.current.event.preventDefault();const o="function"==typeof e?e(n):e;(0,c.hasChanged)(n,o)&&(n=o,(0,l.debouncedUpdate)())}]}}),i=s({onCreate:(e,n)=>{const o={effect:e,prev:[]};return null===n?(o.onRemove=e,o):(o.prev=n,o.onCleanup=o.effect(),o)},onUpdate:(e,n,o)=>{if(void 0===o)return e.prev=o,"function"==typeof e.onCleanup&&e.onCleanup(),void(e.onCleanup=e.effect());Array.isArray(o)&&0===o.length||Array.isArray(o)&&(0,c.hasChanged)(e.prev,o)&&(e.prev=o,"function"==typeof e.onCleanup&&e.onCleanup(),e.onCleanup=e.effect())},onRemove:e=>{"function"==typeof e.onCleanup&&e.onCleanup(),"function"==typeof e.onRemove&&e.onRemove()}}),v=s({onCreate:e=>((0,l.directive)("ref",(e,n)=>{e.current=n.dom}),{current:e})}),d=s({onCreate:(e,n)=>({callback:e,changes:n}),onUpdate:(e,n,o)=>{(0,c.hasChanged)(e.changes,o)&&(e.changes=o,e.callback=n)},returnValue:e=>e.callback}),h=s({onCreate:(e,n)=>({callback:e,changes:n,value:e()}),onUpdate:(e,n,o)=>{(0,c.hasChanged)(e.changes,o)&&(e.changes=o,e.value=n())},returnValue:e=>e.value});"undefined"!=typeof module?module.exports=u:self.ValyrianHooks=u})();//# sourceMappingURL=index.min.js.map