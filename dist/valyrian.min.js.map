{"version":3,"file":"valyrian.min.js","sources":["../lib/router.js","../lib/h.js","../lib/request.js","../lib/index.js","../lib/patch.js"],"sourcesContent":["/**\n * Handles the mix of single and array of middlewares\n * @method parseMiddlewares\n * @param  {Function|Array}         middlewares     // Middleware or array of middlewares\n * @param  {Array}                  [array=[]]      // The array to store the final list of middlewares\n * @return {Array}                                  // The final list of middlewares\n */\nlet parseMiddlewares = (middlewares, array = []) => {\n    if (typeof middlewares === 'function') {\n        array.push(middlewares);\n        return array;\n    }\n\n    let i = 0, l = middlewares.length;\n    for (; i < l; i++) {\n        if (Array.isArray(middlewares[i])) {\n            parseMiddlewares(middlewares[i], array);\n            continue;\n        }\n\n        array.push(middlewares[i]);\n    }\n    return array;\n};\n\n/**\n * @description Adds a path to a router\n * @method addPath\n * @param  {Router} router              The router in which to add the path\n * @param  {String} method              The method that will handle this path\n * @param  {Array} args                The mixed params (String|Function|Array)\n * @returns {Router}                    The router\n */\nlet addPath = (router, method, args) => {\n    let path, middlewares;\n\n    // Get the first argument\n    if (typeof args[0] === 'string') {\n        path = args.shift();\n    }\n\n    // If the seccond argument is a function and has paths\n    // and regexpList properties then\n    // Treat it as a subrouter\n    if (\n        typeof args[0] === 'function' &&\n        args[0].paths &&\n        args[0].regexpList\n    ) {\n        let subrouter = args.shift(),\n            i = 0,\n            l = subrouter.paths.length;\n\n        // For each path of the subrouter\n        for (; i < l; i++) {\n            let submiddlewares = subrouter.paths[i].middlewares;\n            let submethod = subrouter.paths[i].method;\n            let subpath = subrouter.paths[i].path;\n\n            // If there is a path add it as prefix to the subpath\n            if (path) {\n                subpath = path + (subpath || '*');\n            }\n\n            // If there is a subpath set it as the first element\n            // on the submiddlewares array\n            if (subpath) {\n                submiddlewares.unshift(subpath);\n            }\n\n            // Add the path to the router\n            router = addPath(router, submethod, submiddlewares);\n        }\n    }\n\n    // Parse middlwares to handle mixed arrays of middlwares and sequenced middlwares\n    middlewares = parseMiddlewares(args);\n\n    // Add the path only if there are middlewares passed\n    if (middlewares.length > 0) {\n        // If the path wasn't set before, set the regexp and params list\n        if (path && router.regexpList[path] === undefined) {\n            // Remove the last slash\n            path = path.replace(/\\/(\\?.*)?$/gi, '$1');\n\n            // Find the express like params\n            let params = path.match(/:(\\w+)?/gi) || [];\n\n            // Set the names of the params found\n            for (let i in params) {\n                params[i] = params[i].slice(1);\n            }\n\n            let regexpPath = path\n                // Catch params\n                .replace(/:(\\w+)/gi, '([^\\\\s\\\\/|\\\\?]+)')\n                // To set to any url with the path as prefix\n                .replace(/\\*/g, '.*')\n                // Remove the last slash\n                .replace(/\\/(\\?.*)?$/gi, '$1');\n\n            // Set the object to the path\n            router.regexpList[path] = {\n                regexp: new RegExp('^' + regexpPath + '/?(\\\\?.*)?$', 'gi'),\n                params: params\n            };\n        }\n\n        // Add the path to the paths list\n        router.paths.push({\n            method: method,\n            path: path,\n            middlewares: middlewares\n        });\n    }\n\n    return router;\n};\n\nlet RouterFactory = () => {\n    /**\n     * new Rotuer\n     * @param  {String}    url     The path to call\n     * @return {Any}           The final response\n     */\n    let Router = async function (url = '/') {\n        let method = 'get',\n            params = {},\n            middlewares = [],\n            response,\n            i = 0,\n            l = Router.paths.length;\n\n        Router.url = url;\n\n        for (; i < l; i++) {\n            let path = Router.paths[i];\n            if (method !== path.method && path.method !== 'use') {\n                continue;\n            }\n\n            if ((path.method === 'use' || method === path.method) && path.path === undefined) {\n                parseMiddlewares(path.middlewares, middlewares);\n                continue;\n            }\n\n            let matches = Router.regexpList[path.path].regexp.exec(url);\n            Router.regexpList[path.path].regexp.lastIndex = -1;\n            if (Array.isArray(matches)) {\n                matches.shift();\n                let l = Router.regexpList[path.path].params.length;\n                for (; l--;) {\n                    if (params[Router.regexpList[path.path].params[l]] === undefined) {\n                        params[Router.regexpList[path.path].params[l]] = matches[l];\n                    }\n                }\n                parseMiddlewares(path.middlewares, middlewares);\n            }\n        }\n\n        Router.params = params;\n\n        if (middlewares.length > 0) {\n            let i = 0, l = middlewares.length;\n            // call sequentially every middleware\n            for (; i < l; i++) {\n                response = await middlewares[i](params);\n                // If there is a response\n                // break the for block\n                if (response) {\n                    return response;\n                }\n            }\n        }\n\n        if (Router.throwNotFound) {\n            // If no response was sent to the client throw an error\n            throw new Error(`The url ${url} requested wasn't found`);\n        }\n    };\n\n    Router.url = '/';\n    Router.params = {};\n    Router.throwNotFound = true;\n\n    /**\n     * Where to store the paths and its middlewares\n     * @type {Object}\n     */\n    Router.paths = [];\n\n    /**\n     * Where to store the regexp and params list for the paths\n     * @type {[type]}\n     */\n    Router.regexpList = {};\n\n    // For each accepted method, add the method to the router\n    Router.get = function (...args) {\n        return addPath(Router, 'get', args);\n    };\n    Router.use = function (...args) {\n        return addPath(Router, 'use', args);\n    };\n\n    /**\n     * Return the new router\n     * @type {Router}\n     */\n    return Router;\n};\n\nexport default RouterFactory;\n","\nlet h = function (...args) {\n    let vnode = {\n            name: '',\n            props: {},\n            children: []\n        },\n        l,\n        i,\n        attributes;\n\n    if (typeof args[0] === 'string' && args[0].trim().length > 0) {\n        vnode.name = args.shift();\n    }\n\n    if (vnode.name === 'textNode') {\n        vnode.value = args.join('');\n        return vnode;\n    }\n\n    if (!h.isVnode(args[0]) && typeof args[0] === 'object' && !Array.isArray(args[0]) && args[0] !== null) {\n        Object.assign(vnode.props, args.shift());\n    }\n\n    if (/(\\.|\\[|#)/gi.test(vnode.name)) {\n        attributes = vnode.name.match(/([\\.\\#][\\w-]+|\\[[^\\]]+\\])/gi);\n        vnode.name = vnode.name.replace(/([\\.\\#][\\w-]+|\\[[^\\]]+\\])/gi, '');\n        if (attributes) {\n            for (l = attributes.length; l--;) {\n                let attr = attributes[l];\n                if (attr.charAt(0) === '#') {\n                    vnode.props.id = attr.slice(1).trim();\n                    continue;\n                }\n\n                if (attr.charAt(0) === '.') {\n                    vnode.props.class = ((vnode.props.class || '') + ' ' + attr.slice(1)).trim();\n                    continue;\n                }\n\n                if (attr.charAt(0) === '[') {\n                    attr = attr.trim().slice(1, -1).split('=');\n                    vnode.props[attr.shift()] = (attr.join('=') || 'true').replace(/^[\"'](.*)[\"']$/gi, '$1');\n                }\n            }\n        }\n    }\n\n    let nodes = h.flatenArray(args);\n\n    for (i = 0, l = nodes.length; i < l; i++) {\n        vnode.children.push(h.isVnode(nodes[i]) ? nodes[i] : h('textNode', nodes[i]));\n    }\n\n    vnode.name = vnode.name.trim() === '' ? 'div' : vnode.name.trim();\n\n    return vnode;\n};\n\nh.flatenArray = function (nodes, array = []) {\n    if (!Array.isArray(nodes)) {\n        array.push(nodes);\n        return array;\n    }\n\n    let i = 0, l = nodes.length;\n    for (; i < l; i++) {\n        if (Array.isArray(nodes[i])) {\n            h.flatenArray(nodes[i], array);\n        }\n\n        if (!Array.isArray(nodes[i])) {\n            array.push(nodes[i]);\n        }\n    }\n\n    return array;\n};\n\nh.isVnode = function (vnode) {\n    return vnode && vnode.name && vnode.props && vnode.children;\n};\n\nh.vnode = function ($el) {\n    let obj = {\n        name: '',\n        props: {},\n        children: [],\n        dom: $el\n    };\n\n    if ($el) {\n        if ($el.nodeType === 3) {\n            obj.value = $el.nodeValue;\n            obj.name = 'textNode';\n        }\n\n        if ($el.nodeType !== 3) {\n            Array.prototype.map.call($el.attributes, property => {\n                obj.props[property.nodeName] = property.nodeValue;\n            });\n            obj.name = $el.nodeName.toLowerCase();\n            obj.children = Array.prototype.map.call($el.childNodes, $el => h.vnode($el));\n        }\n    }\n\n    return obj;\n};\n\nexport default h;\n","let Request = function (baseUrl = '', options = {}) {\n    let url = baseUrl.replace(/\\/$/gi, '').trim(),\n        opts = Object.assign({\n            methods: ['get', 'post', 'put', 'patch', 'delete']\n        }, options),\n        isNode = typeof window === 'undefined',\n        Fetch = isNode ? require('node-fetch') : window.fetch,\n        parseUrl;\n\n    function serialize(obj, prefix) {\n        let e = encodeURIComponent;\n        return '?' + Object.keys(obj).map(k => {\n            if (prefix !== undefined) {\n                k = prefix + \"[\" + k + \"]\";\n            }\n\n            return typeof obj[k] === 'object' ?\n                serialize(obj[k], k) :\n                e(k) + '=' + e(obj[k]);\n        }).join('&');\n    };\n\n    function request(method, url, data, options = {}) {\n        let opts = Object.assign({\n                method: method.toLowerCase(),\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                }\n            }, request.options, options),\n            type = opts.headers.Accept;\n\n        if (data !== undefined) {\n            if (opts.method === 'get' && typeof data === 'object') {\n                url += data = serialize(data);\n            }\n\n            if (opts.method !== 'get') {\n                opts.body = JSON.stringify(data);\n            }\n        }\n\n        return Fetch(parseUrl(url), opts)\n            .then(response => {\n                if (response.status < 200 || response.status > 300) {\n                    let err = new Error(response.statusText);\n                    err.response = response;\n                    throw err;\n                }\n\n                if (/text/gi.test(type)) {\n                    return response.text();\n                }\n\n                if (/json/gi.test(type)) {\n                    return response.json();\n                }\n\n                return response;\n            });\n    };\n\n    parseUrl = function parseUrl(url) {\n        let u = /^https?/gi.test(url)\n            ? url\n            : (request.baseUrl + '/' + url).trim().replace(/^\\/\\//gi, '/').trim();\n\n        if (\n            isNode &&\n            typeof request.nodeUrl === 'string'\n        ) {\n            request.nodeUrl = request.nodeUrl.replace(/\\/$/gi, '').trim();\n\n            if (/^https?/gi.test(u) && typeof request.apiUrl === 'string') {\n                request.apiUrl = request.apiUrl.replace(/\\/$/gi, '').trim();\n                u = u.replace(request.apiUrl, request.nodeUrl);\n            }\n\n            if (!/^https?/gi.test(u)) {\n                u = request.nodeUrl + u;\n            }\n        }\n        return u;\n    };\n\n    request.new = function (baseUrl, options) {\n        return Request(baseUrl, options);\n    };\n\n    // Change this to  request.urls.api etc...\n    request.apiUrl = undefined;\n    request.nodeUrl = undefined;\n    request.options = opts;\n    request.baseUrl = url;\n\n    opts.methods.forEach(method =>\n        request[method] = (url, data, options) => request(method, url, data, options)\n    );\n\n    return request;\n};\n\nexport default Request();\n","import RouterFactory from './router';\nimport h from './h';\nimport Request from './request';\nimport patchFactory from './patch';\n\nfunction isComponent(component) {\n    return typeof component === 'object' &&\n        component !== null &&\n        typeof component.view === 'function';\n};\n\nfunction render(component, args) {\n    return h.flatenArray(component.view.apply(component, args));\n};\n\nfunction v(...args) {\n    if (isComponent(args[0])) {\n        return render(args.shift(), args);\n    }\n\n    if (typeof args[0] === 'function') {\n        let component = {view: args.shift()};\n        args.forEach(item => Object.assign(component, item));\n        return component;\n    }\n\n    return h.apply(h, args);\n};\n\nfunction addEvent(container, events, handler, useCapture) {\n    if (v.is.browser) {\n        events.split(' ').forEach(event => {\n            container.addEventListener(\n                event,\n                handler,\n                useCapture\n            );\n        });\n    }\n}\n\nfunction removeEvent(container, events, handler) {\n    if (v.is.browser) {\n        events.split(' ').forEach(event => {\n            container.removeEventListener(\n                event,\n                handler\n            );\n        });\n    }\n}\n\nv.request = Request;\nv.router = RouterFactory;\nv.is = {};\nv.is.node = typeof window === 'undefined';\nv.is.browser = !v.is.node;\nv.is.mounted = false;\n\nv.window = v.is.node ? (new (require('jsdom')).JSDOM()).window : window;\n\nlet patch = patchFactory(v),\n    container,\n    parent,\n    rootTree,\n    oldTree,\n    rootComponent,\n    mainRouter,\n    RoutesContainer;\n\nfunction resetToDefaults() {\n    v.is.mounted = false;\n    container = v.window.document.createElement('div');\n    v.window.document.createElement('div').appendChild(container);\n    rootTree = h.vnode(container);\n    oldTree = Object.assign({}, rootTree);\n};\nresetToDefaults();\n\nv.trust = function (htmlString) {\n    let div = v.window.document.createElement('div');\n    div.innerHTML = htmlString.trim();\n\n    return Array.prototype.map.call(div.childNodes, item => h.vnode(item));\n};\n\nv.mount = function (elementContainer, ...args) {\n    if (elementContainer === undefined) {\n        throw new Error('v.domorselector.required');\n        return;\n    }\n\n    if (!isComponent(args[0])) {\n        throw new Error('v.component.required');\n        return;\n    }\n\n    if (v.is.browser && container) {\n        removeEvent(container, 'mouseup keyup', v.update);\n    }\n\n    container = v.is.node ? v.window.document.createElement('div') : typeof elementContainer === 'string' ? v.window.document.querySelectorAll(elementContainer)[0] : elementContainer;\n    rootTree = h.vnode(container);\n    oldTree = Object.assign({}, rootTree);\n    if (v.is.browser) {\n        addEvent(container, 'mouseup keyup', v.update, false);\n    }\n\n    return v.update.apply(v, args);\n};\n\nfunction redraw(component, args) {\n    if (isComponent(component)) {\n        rootComponent = component;\n        rootTree.props = {};\n        Object.keys(rootComponent).forEach(prop => {\n            if (typeof rootComponent[prop] === 'function') {\n                rootTree.props[prop] = (...args) => rootComponent[prop].apply(rootComponent, args);\n            }\n        });\n    };\n\n    if (rootComponent) {\n        if (v.is.node) {\n            resetToDefaults();\n        }\n\n        rootTree.children = render(rootComponent, args);\n\n        // console.log('******************************');\n        patch(rootTree.dom.parentElement, rootTree, oldTree);\n        // console.log('******************************');\n\n        oldTree = Object.assign({}, rootTree);\n        if (!v.is.mounted) {\n            v.is.mounted = true;\n        }\n    }\n    return v.is.node ? rootTree.dom.innerHTML : rootTree.dom.parentElement;\n};\n\nv.update = function (...args) {\n    return v.is.browser\n        ? requestAnimationFrame(() => redraw(args.shift(), args))\n        : redraw(args.shift(), args);\n};\n\nfunction runRoute(parentComponent, url, args) {\n    return mainRouter(url)\n        .then(response => {\n            if (!isComponent(response)) {\n                throw new Error('v.router.component.required');\n                return;\n            }\n\n            if (parentComponent) {\n                args.unshift(render(response, args));\n                response = parentComponent;\n            }\n\n            args.unshift(response);\n\n            if (v.is.node || !v.is.mounted) {\n                args.unshift(RoutesContainer);\n                return v.mount.apply(v, args);\n            }\n\n            return v.update.apply(v, args);\n        });\n};\n\nv.routes = function (elementContainer, router) {\n    if (elementContainer && router) {\n        mainRouter = router;\n        RoutesContainer = elementContainer;\n        // Activate the use of the router\n        if (v.is.browser) {\n            function onPopStateGoToRoute() {\n                v.routes.go(document.location.pathname);\n            }\n            addEvent(window, 'popstate', onPopStateGoToRoute, false);\n            onPopStateGoToRoute();\n        }\n        return;\n    }\n\n    let routes = [];\n    mainRouter.paths.forEach(path => {\n        if (path.method === 'get') {\n            routes.push(path.path === '' ? '/' : path.path);\n        }\n    });\n    return routes;\n};\n\nv.routes.current = '/';\nv.routes.params = {};\n\nv.routes.go = function (...args) {\n    let parentComponent;\n    let url;\n\n    if (isComponent(args[0])) {\n        parentComponent = args.shift();\n    }\n\n    if (typeof args[0] === 'string') {\n        url = args.shift();\n    }\n\n    if (!url) {\n        throw new Error('v.router.url.required');\n    }\n\n    if (v.is.browser) {\n        window.history.pushState({}, '', url);\n    }\n\n    return runRoute(parentComponent, url, args);\n};\n\nif (v.is.browser) {\n    v.sw = function (file = v.sw.file, options = v.sw.options) {\n        return navigator.serviceWorker.register(file, options)\n            .then(() => navigator.serviceWorker.ready)\n            .then(registration => {\n                v.sw.ready = true;\n                v.sw.file = file;\n                v.sw.options = options;\n                return new Promise((resolve, reject) => {\n                    setTimeout(() => {\n                        resolve(navigator.serviceWorker);\n                    }, 10);\n                });\n            });\n    };\n\n    v.sw.ready = false;\n    v.sw.file = '/sw.js';\n    v.sw.options = {scope: '/'};\n}\n\nif (v.is.node) {\n    require('./valyrian.node.helpers.min.js')(v);\n}\n\n(v.is.node ? global : window).v = v;\n","import h from './h';\n\nlet PatchFactory = function (v) {\n    let document = v.window.document;\n\n    function setProp($target, name, value) {\n        if (!value) {\n            $target.removeAttribute(name);\n            return;\n        }\n\n        if (typeof value === 'function') {\n            $target[name] = value.bind($target);\n            return;\n        }\n\n        if (typeof value === 'boolean') {\n            $target[name] = value;\n        }\n\n        $target.setAttribute(name === 'className' ? 'class' : name, value);\n    }\n\n    function updateProps(newNode, oldNode = {}) {\n        let newProps = newNode.props,\n            oldProps = oldNode.props || {};\n\n        const props = Object.assign(\n            {},\n            newProps,\n            oldProps\n        );\n        for (let name in props) {\n            if (newProps[name] !== oldProps[name]) {\n                setProp(newNode.dom, name, newProps[name]);\n            }\n        }\n    }\n\n    function lifecycleCall(vnode, methodName) {\n        return vnode.props && vnode.props[methodName] && vnode.props[methodName](vnode);\n    }\n\n    function createElement(vnode, isSVG) {\n        let $el;\n        delete vnode.dom;\n        lifecycleCall(vnode, 'oninit');\n        isSVG = isSVG || vnode.name === 'svg';\n        $el = vnode.name === 'textNode' ?\n            document.createTextNode(vnode.value) :\n            isSVG ?\n                document.createElementNS(\"http://www.w3.org/2000/svg\", vnode.name) :\n                document.createElement(vnode.name);\n\n        vnode.dom = $el;\n        updateProps(vnode);\n\n        for (let i = 0; i < vnode.children.length; i++) {\n            $el.appendChild(createElement(vnode.children[i], isSVG));\n        }\n\n        lifecycleCall(vnode, 'oncreate');\n        return $el;\n    }\n\n    function removeElement(oldNode, destroyed = false) {\n        return Promise.resolve(lifecycleCall(oldNode, 'onbeforeremove'))\n            .then(() => {\n                if (!destroyed && oldNode.dom && oldNode.dom.parentElement) {\n                    oldNode.dom.parentElement.removeChild(oldNode.dom);\n                }\n\n                let i = 0, l = oldNode.children.length;\n                for (; i < l; i++) {\n                    removeElement(oldNode.children[i], destroyed);\n                }\n\n                lifecycleCall(oldNode, 'onremove');\n            });\n    }\n\n    function patch($parent, newNode, oldNode) {\n\n        // New node\n        if (oldNode === undefined && newNode !== undefined) {\n            $parent.appendChild(createElement(newNode));\n        }\n\n        // Deleted node\n        if (newNode === undefined) {\n            removeElement(oldNode);\n        }\n\n        if (h.isVnode(oldNode) && h.isVnode(newNode)) {\n            newNode.dom = oldNode.dom;\n\n            // Same node\n            if (newNode.name === 'textNode' && oldNode.value == newNode.value) {\n                return $parent;\n            }\n\n            // New node replacing old node\n            if (\n                (newNode.name === 'textNode' && newNode.value != oldNode.value) ||\n                newNode.name !== oldNode.name\n            ) {\n                createElement(newNode);\n                Promise.resolve(removeElement(oldNode, true))\n                    .then(() => {\n                        $parent.replaceChild(newNode.dom, oldNode.dom);\n                    });\n                return $parent;\n            }\n\n            if (!v.isMounted) {\n                lifecycleCall(newNode, 'oninit');\n                lifecycleCall(newNode, 'oncreate');\n            }\n\n            updateProps(newNode, oldNode);\n\n            const max = Math.max(newNode.children.length, oldNode.children.length);\n            for (let i = 0; i < max; i++) {\n                patch(\n                    newNode.dom,\n                    newNode.children[i],\n                    oldNode.children[i]\n                );\n            }\n\n            lifecycleCall(newNode, 'onupdate');\n        }\n\n        return $parent;\n    };\n\n    return patch;\n};\n\nexport default PatchFactory;\n"],"names":["let","parseMiddlewares","middlewares","array","push","i","l","length","Array","isArray","addPath","router","method","args","path","shift","paths","regexpList","subrouter","submiddlewares","submethod","subpath","unshift","undefined","params","replace","match","slice","regexpPath","regexp","RegExp","h","attributes","vnode","name","props","children","trim","value","join","isVnode","Object","assign","test","attr","charAt","split","class","id","nodes","flatenArray","$el","obj","dom","nodeType","nodeValue","prototype","map","call","property","nodeName","toLowerCase","childNodes","Request","baseUrl","options","parseUrl","url","opts","methods","isNode","window","Fetch","require","fetch","request","data","headers","Accept","Content-Type","type","serialize","prefix","e","encodeURIComponent","keys","k","body","JSON","stringify","then","response","status","err","Error","statusText","text","json","u","nodeUrl","apiUrl","new","forEach","isComponent","component","view","render","apply","v","item","addEvent","container","events","handler","useCapture","is","browser","event","addEventListener","Router","async","matches","exec","lastIndex","throwNotFound","get","use","node","mounted","JSDOM","rootTree","oldTree","rootComponent","mainRouter","RoutesContainer","patch","document","setProp","$target","setAttribute","bind","removeAttribute","updateProps","newNode","oldNode","newProps","oldProps","lifecycleCall","methodName","createElement","isSVG","createTextNode","createElementNS","appendChild","removeElement","destroyed","Promise","resolve","parentElement","removeChild","$parent","replaceChild","isMounted","const","max","Math","patchFactory","resetToDefaults","redraw","prop","innerHTML","trust","htmlString","div","mount","elementContainer","removeEventListener","removeEvent","update","querySelectorAll","requestAnimationFrame","routes","onPopStateGoToRoute","go","location","pathname","current","parentComponent","history","pushState","runRoute","sw","file","navigator","serviceWorker","register","ready","registration","reject","setTimeout","scope","global"],"mappings":"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"}