{"version":3,"file":"valyrian.min.js","sources":["../lib/index.js"],"sourcesContent":["'use strict';\n\nlet mountedComponent;\nlet oldTree;\nlet newTree;\nlet mainContainer;\nlet plugins = [];\n\nfunction v(tagOrComponent, props, vnode, i, children) {\n    if (typeof tagOrComponent === 'string') {\n        vnode = {\n            name: tagOrComponent,\n            props: {},\n            children: [],\n            dom: null,\n            isVnode: true,\n            nt: 1,\n            isSVG: tagOrComponent === 'svg'\n        };\n\n        for (i in props) {\n            vnode.props[i] = props[i];\n        }\n\n        v.utils.flat(arguments, 2, vnode.children, true);\n        return vnode;\n    }\n\n    if (typeof tagOrComponent === 'function') {\n        return Object.assign({view: tagOrComponent, isComponent: true}, props);\n    }\n\n    if (typeof tagOrComponent === 'object') {\n        if (typeof tagOrComponent.view === 'function') {\n            Object.assign(tagOrComponent, {isComponent: true});\n        }\n\n        if (tagOrComponent.isComponent) {\n            children = tagOrComponent.view.apply(tagOrComponent, v.utils.flat(arguments, 1, []));\n            return Array.isArray(children) ? children : [children];\n        }\n    }\n}\n\nfunction dom2vnode($el, vnode) {\n    if ($el.nodeType === 3 || $el.nodeType === 1) {\n        vnode = {\n            name: $el.nodeName.toLowerCase(),\n            props: {},\n            children: [],\n            dom: $el,\n            isVnode: true,\n            nodeValue: null,\n            nt: $el.nodeType\n        };\n\n        if (vnode.nt === 3) {\n            vnode.nodeValue = $el.nodeValue;\n            return vnode;\n        }\n\n        if (vnode.name === 'svg') {\n            vnode.isSVG = true;\n        }\n\n        vnode.dom.events = {};\n\n        Array.prototype.map.call($el.attributes, function (property) {\n            vnode.props[property.nodeName] = property.nodeValue;\n        });\n\n        Array.prototype.forEach.call($el.childNodes, function ($el) {\n            let childvnode = dom2vnode($el);\n            if (childvnode !== undefined) {\n                vnode.children.push(childvnode);\n            }\n        });\n\n        return vnode;\n    }\n}\n\nfunction lifecycleCall(vnode, methodName) {\n    if (vnode.props[methodName] !== undefined) {\n        return vnode.props[methodName](vnode);\n    }\n}\n\nfunction eventListener(e) {\n    if (e.currentTarget.events['on' + event.type] !== undefined) {\n        e.currentTarget.events['on' + event.type](e);\n    }\n    v.update();\n}\n\nfunction patch($parent, newTree, oldTree, isSVG, max, newNode, oldNode, i, isNew, name) {\n    if (newTree.length === 0) {\n        $parent.textContent = '';\n        return;\n    }\n\n    max = newTree.length > oldTree.length ? newTree.length : oldTree.length;\n    i = 0;\n    for (; i < max; i++) {\n        newNode = newTree[i];\n        oldNode = oldTree[i];\n\n        if (newNode === undefined) { // Removed\n            if (oldNode !== undefined) {\n                if (oldNode.nt === 3) {\n                    lifecycleCall(oldNode, 'onremove');\n                }\n                $parent.removeChild(oldNode.dom);\n            }\n            continue;\n        }\n\n        if (newNode.nt === undefined) { // Is text\n            newTree[i] = newNode = {\n                name: '#text',\n                isVnode: true,\n                nodeValue: newNode,\n                nt: 3\n            };\n\n            if (oldNode === undefined) {\n                newNode.dom = document.createTextNode(newNode.nodeValue);\n                $parent.appendChild(newNode.dom);\n            } else { // Replaced\n                if (oldNode.nt === 1) {\n                    newNode.dom = document.createTextNode(newNode.nodeValue);\n                    lifecycleCall(oldNode, 'onremove');\n                    $parent.replaceChild(newNode.dom, oldNode.dom);\n                } else {\n                    newNode.dom = oldNode.dom;\n                    if (newNode.nodeValue != oldNode.nodeValue) {\n                        newNode.dom.nodeValue = newNode.nodeValue;\n                    }\n                }\n            }\n\n            continue;\n        }\n\n        isNew = !v.is.mounted;\n\n        isSVG = isSVG || newNode.isSVG;\n\n        if (oldNode === undefined) { // Added\n            lifecycleCall(newNode, 'oninit');\n            newNode.dom = isSVG ?\n                document.createElementNS(\"http://www.w3.org/2000/svg\", newNode.name) :\n                document.createElement(newNode.name);\n            newNode.dom.events = {};\n            $parent.appendChild(newNode.dom);\n            oldNode = {children: []};\n            isNew = true;\n        } else {\n            if (newNode.name !== oldNode.name) { // Replaced\n                lifecycleCall(newNode, 'oninit');\n                newNode.dom = isSVG ?\n                    document.createElementNS(\"http://www.w3.org/2000/svg\", newNode.name) :\n                    document.createElement(newNode.name);\n                newNode.dom.events = {};\n\n                lifecycleCall(oldNode, 'onremove');\n                $parent.replaceChild(newNode.dom, oldNode.dom);\n                isNew = true;\n            } else { // Updated\n                newNode.dom = oldNode.dom;\n                for (name in oldNode.props) {\n                    if (newNode.props[name] === undefined) {\n                        if (typeof oldNode.props[name] === 'function') {\n                            newNode.dom.removeEventListener(name.slice(2), eventListener);\n                            continue;\n                        }\n\n                        if (v.is.node || isSVG || newNode.dom[name] === undefined) {\n                            newNode.dom.removeAttribute(name);\n                            continue;\n                        }\n\n                        newNode.dom[name] = null;\n                    }\n                }\n            }\n        }\n\n        patch(newNode.dom, newNode.children, oldNode.children, isSVG);\n\n        // Update props\n        for (name in newNode.props) {\n            if (\n                (\n                    isNew ||\n                    (newNode.props[name] !== oldNode.props[name])\n                ) &&\n                newNode.props[name] !== undefined\n            ) {\n                if (typeof newNode.props[name] === 'function') {\n                    switch (name) {\n                        case 'oninit':\n                        case 'oncreate':\n                        case 'onupdate':\n                        case 'onremove':\n                            break;\n                        default:\n                            if (newNode.dom.events[name] === undefined) {\n                                newNode.dom.events[name] = newNode.props[name];\n                                newNode.dom.addEventListener(name.slice(2), eventListener);\n                            }\n                            break;\n                    }\n\n                    continue;\n                }\n\n                if (v.is.node || isSVG || newNode.dom[name] === undefined) {\n                    newNode.dom.setAttribute(name, newNode.props[name]);\n                    continue;\n                }\n\n                newNode.dom[name] = newNode.props[name];\n            }\n        }\n\n        if (!v.is.mounted && !isNew) {\n            lifecycleCall(newNode, 'oninit');\n            lifecycleCall(newNode, 'oncreate');\n        }\n\n        lifecycleCall(newNode, isNew ? 'oncreate' : 'onupdate');\n    }\n}\n\n\nv.utils = {\n    flat: function (args, start, arr, notEmpty, l) {\n        l = args.length;\n\n        if (notEmpty === undefined) {\n            notEmpty = false;\n        }\n\n        for (; start < l; start++) {\n            if (Array.isArray(args[start])) {\n                arr = v.utils.flat(args[start], 0, arr);\n                continue;\n            }\n            if (\n                notEmpty === false\n                || (\n                    args[start] !== undefined\n                    && args[start] !== null\n                )\n            ) {\n                arr.push(args[start]);\n            }\n        }\n\n        return arr;\n    }\n};\n\nv.is = {\n    node: typeof window === 'undefined',\n    mounted: false,\n    updating: false\n};\nv.is.browser = !v.is.node;\n\nv.trust = function (htmlString) {\n    let div = document.createElement('div');\n    div.innerHTML = htmlString.trim();\n\n    return Array.prototype.map.call(div.childNodes, (item) => dom2vnode(item));\n};\n\nv.update = function (args) {\n    args = v.utils.flat(arguments, 0, []);\n    if (typeof args[0] === 'object' && args[0].isComponent) {\n        mountedComponent = args.shift();\n    }\n\n    return new Promise(function update(resolve) {\n        if (!v.is.updating) {\n            v.is.updating = true;\n            args.unshift(mountedComponent);\n            newTree = v.apply(v, args);\n            patch(mainContainer, newTree, oldTree);\n            oldTree = newTree;\n            v.is.updating = false;\n            v.is.mounted = true;\n            if (v.is.node) {\n                return resolve(mainContainer.innerHTML);\n            }\n            resolve();\n        }\n    });\n};\n\nv.mount = function (container, component) {\n    mainContainer = v.is.node\n        ? document.createElement('div')\n        : typeof container === 'string'\n            ? document.querySelectorAll(container)[0]\n            : container;\n\n    oldTree = dom2vnode(mainContainer).children;\n\n    return v.update.apply(this, v.utils.flat(arguments, 1, []));\n};\n\nv.use = function (plugin, options) {\n    if (plugins.indexOf(plugin) === -1) {\n        plugin(v, options);\n        plugins.push(plugin);\n    }\n    return v;\n};\n\n(v.is.node ? global : window).v = v;\n"],"names":[],"mappings":"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"}