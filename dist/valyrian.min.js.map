//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2xpYi9pbmRleC50cyJdLCJuYW1lcyI6WyJwIiwibmFtZSIsInByb3BzIiwiY2hpbGRyZW4iLCJkb20iLCJvbkNsZWFudXAiLCJpc1NWRyIsInByb2Nlc3NlZCIsImNvbnN0cnVjdG9yIiwiYSIsInUiLCJjIiwidGhpcyIsIngiLCJub2RlVmFsdWUiLCJNIiwiY29tcG9uZW50IiwiUyIsIndpbmRvdyIsImdsb2JhbCIsImIiLCJkIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVFbGVtZW50IiwiVSIsImZvckVhY2giLCJjYWxsIiwiYXR0cmlidXRlcyIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJ5IiwiY2hpbGROb2RlcyIsImxlbmd0aCIsIm5vZGVUeXBlIiwicHVzaCIsIk4iLCJGIiwiaW5uZXJIVE1MIiwidHJpbSIsIm1hcCIsInYiLCJIIiwiZSIsIm8iLCJ0IiwiZnJhZ21lbnQiLCJpc01vdW50ZWQiLCJpc05vZGUiLCJyZXNlcnZlZFdvcmRzIiwidHJ1c3QiLCJwYXJlbnRWbm9kZSIsIm9sZFBhcmVudFZub2RlIiwiY3VycmVudCIsIk1hcCIsInVzZVBsdWdpbiIsImhhcyIsInNldCIsImluZGV4T2YiLCJnIiwiTCIsIlQiLCJ3IiwiJCIsInRhcmdldCIsInR5cGUiLCJkZWZhdWx0UHJldmVudGVkIiwidXBkYXRlIiwicGFyZW50Tm9kZSIsIkciLCJPIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNsaWNlIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiRSIsIlAiLCJ1cGRhdGVQcm9wZXJ0eSIsIlYiLCJvbnJlbW92ZSIsIkQiLCJsIiwiQyIsImkiLCJuIiwic3BsaWNlIiwiQXJyYXkiLCJpc0FycmF5IiwidmlldyIsIlN0cmluZyIsInRleHRDb250ZW50IiwiciIsImtleSIsIm0iLCJNYXRoIiwibWF4IiwicyIsImgiLCJBIiwib25iZWZvcmV1cGRhdGUiLCJvbnVwZGF0ZSIsIm9uY3JlYXRlIiwiYXBwZW5kQ2hpbGQiLCJyZXBsYWNlQ2hpbGQiLCJyZW1vdmVDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiZiIsImsiLCJ1bk1vdW50IiwibW91bnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZGlyZWN0aXZlIiwiUiIsInN0eWxlIiwiZGlzcGxheSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIm5ld0luc3RhbmNlIl0sIm1hcHBpbmdzIjoiTUFvREEsSUFBQUEsRUFBQSxNQUNFQyxLQUNBQyxNQUNBQyxTQUNBQyxJQUNBQyxVQUNBQyxNQUNBQyxVQUVBQyxZQUFZQyxFQUFjQyxFQUFjQyxHQUN0Q0MsS0FBS1YsTUFBUVEsRUFDYkUsS0FBS1QsU0FBV1EsRUFDaEJDLEtBQUtYLEtBQU9RLElBU2hCSSxFQUFBLE1BQ0VULElBQ0FVLFVBRUFOLFlBQVlDLEdBQ1ZHLEtBQUtFLFVBQVlMLElBVXJCTSxFQUFBLE1BQ0VDLFVBQ0FkLE1BQ0FDLFNBRUFLLFlBQVlDLEVBQThCQyxFQUFjQyxHQUN0REMsS0FBS1YsTUFBUVEsRUFDYkUsS0FBS1QsU0FBV1EsRUFDaEJDLEtBQUtJLFVBQVlQLElBdUJqQlEsRUFBMkIsb0JBQVhDLFFBQTRDLG9CQUFYQyxPQUdyRCxTQUFBQyxFQUF1QkMsRUFBaUJaLEdBQWlCLEdBQ3ZELE9BQU9BLEVBQVFhLFNBQVNDLGdCQUFnQiw2QkFBOEJGLEdBQVdDLFNBQVNFLGNBQWNILEdBSTFHLFNBQUFJLEVBQW9CSixHQUNsQixJQUFJWixFQUFlLEdBQ25CLEdBQUdpQixRQUFRQyxLQUFLTixFQUFJTyxXQUFhakIsR0FBZ0JGLEVBQU1FLEVBQUtrQixVQUFZbEIsRUFBS0csV0FFN0UsSUFBSUosRUFBZSxJQUFJVixFQUFNcUIsRUFBSVEsU0FBU0MsY0FBZXJCLEVBQU8sSUFDaEVDLEVBQU1OLElBQU1pQixFQUVaLElBQUEsSUFBU1YsRUFBSSxFQUFHb0IsRUFBSVYsRUFBSVcsV0FBV0MsT0FBUXRCLEVBQUlvQixFQUFHcEIsSUFDaEQsR0FBbUMsSUFBL0JVLEVBQUlXLFdBQVdyQixHQUFHdUIsU0FDcEJ4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UUEsRUFDaEIsQ0FDVCxJQUFJSCxFQUFTbkIsU0FBU21GLGVBQWUsSUFDckMsT0FBSXhCLEdBQVdBLEVBQVE3RSxLQUFPNkUsRUFBUTdFLElBQUlnRSxhQUN4Q2EsYUFBbUJqRixHQUFTOEUsRUFBV0csR0FDdkNBLEVBQVE3RSxJQUFJZ0UsV0FBV21DLGFBQWE5RCxFQUFRd0MsRUFBUTdFLE1BRXREeUMsRUFBTTVDLEtBQU8sUUFDYjRDLEVBQU0xQyxTQUFXLEdBQ2pCMEMsRUFBTTNDLE1BQVEsR0FDZDJDLEVBQU16QyxJQUFNcUMsR0FDTCxJQUlYLE9BQUFwQixFQUFFMEYsVUFBVSxLQUFNQyxHQUFjLElBQ2hDM0YsRUFBRTBGLFVBQVUsU0FBVUMsR0FBYyxJQUNwQzNGLEVBQUUwRixVQUFVLE1BQU8sQ0FBQ3BFLEVBQWdCQyxLQUNsQ0EsRUFBTXpDLFNBQVd3QyxFQUFJSCxJQUFJSSxFQUFNekMsU0FBUyxNQUUxQ2tCLEVBQUUwRixVQUFVLE9BQVEsQ0FBQ3BFLEVBQWVDLEtBQ2pDQSxFQUFNeEMsSUFBdUM2RyxNQUFNQyxRQUFVdkUsRUFBTyxHQUFLLFNBRTVFdEIsRUFBRTBGLFVBQVUsUUFBUyxDQUFDcEUsRUFBbUNDLEtBQ3ZELElBQUEsSUFBU0MsS0FBUUYsRUFDZEMsRUFBTXhDLElBQW1CK0csVUFBVUMsT0FBT3ZFLEVBQU1GLEVBQVFFLE1BRzdEeEIsRUFBRTBGLFVBQVUsT0FBUSxDQUFDcEUsRUFBY0MsS0FDakNBLEVBQU16QyxTQUFXLENBQUNrQyxFQUFNTSxNQUcxQnRCLEVBQUVnRyxZQUFjM0UsRUFFVHJCLEVBR3NEcUIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBjb21wbGV4aXR5ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBzb25hcmpzL2NvZ25pdGl2ZS1jb21wbGV4aXR5ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblxudHlwZSBWbm9kZU9yVW5rbm93biA9IFZub2RlQ29tcG9uZW50IHwgVm5vZGUgfCBUZXh0Vm5vZGUgfCBhbnk7XG5cbnR5cGUgRG9tQXR0cmlidXRlID0geyBub2RlTmFtZTogc3RyaW5nOyBub2RlVmFsdWU6IHN0cmluZyB9O1xuXG50eXBlIERvbUVsZW1lbnQgPSAoSFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50KSAmIFJlY29yZDxzdHJpbmcsIGFueT47XG5cbnR5cGUgUHJvcHMgPSB7XG4gIGtleT86IHN0cmluZyB8IG51bWJlcjtcbiAgZGF0YT86IHN0cmluZztcbiAgb25jcmVhdGU/OiB7ICh2bm9kZTogVm5vZGUpOiBuZXZlciB9O1xuICBvbnVwZGF0ZT86IHsgKHZub2RlOiBWbm9kZSwgb2xkVm5vZGU6IFZub2RlIHwgVGV4dFZub2RlKTogbmV2ZXIgfTtcbiAgb25yZW1vdmU/OiB7IChvbGRWbm9kZTogVm5vZGUpOiBuZXZlciB9O1xuICBvbmJlZm9yZXVwZGF0ZT86IHsgKHZub2RlOiBWbm9kZSwgb2xkVm5vZGU6IFZub2RlIHwgVGV4dFZub2RlKTogdW5kZWZpbmVkIHwgYm9vbGVhbiB9O1xufSAmIFJlY29yZDxzdHJpbmcsIGFueT47XG5cbnR5cGUgQ29tcG9uZW50ID0gKHByb3BzPzogUmVjb3JkPHN0cmluZywgYW55PiB8IG51bGwsIGNoaWxkcmVuPzogVm5vZGVPclVua25vd24pID0+IFZub2RlT3JVbmtub3duIHwgVm5vZGVPclVua25vd25bXTtcblxudHlwZSBWYWx5cmlhbkNvbXBvbmVudCA9XG4gIHwgQ29tcG9uZW50XG4gIHwgKFJlY29yZDxzdHJpbmcsIGFueT4gJiB7XG4gICAgICB2aWV3OiBDb21wb25lbnQ7XG4gICAgfSk7XG5cbnR5cGUgQ3VycmVudCA9IHsgcGFyZW50Vm5vZGU/OiBWbm9kZTsgb2xkUGFyZW50Vm5vZGU/OiBWbm9kZTsgY29tcG9uZW50PzogVm5vZGVDb21wb25lbnQgfTtcblxuaW50ZXJmYWNlIFBsdWdpbiB7XG4gICh2OiBWYWx5cmlhbiwgb3B0aW9ucz86IFJlY29yZDxzdHJpbmcsIGFueT4pOiBuZXZlcjtcbn1cblxuaW50ZXJmYWNlIERpcmVjdGl2ZSB7XG4gICh2YWx1ZTogYW55LCB2bm9kZTogVm5vZGUsIG9sZFZub2RlPzogVm5vZGUgfCBUZXh0Vm5vZGUpOiB2b2lkIHwgYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIFZhbHlyaWFuRXZlbnRIYW5kbGVyIHtcbiAgKGE6IEV2ZW50LCBkb206IERvbUVsZW1lbnQpOiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgVm5vZGUge1xuICBuYW1lOiBzdHJpbmc7XG4gIHByb3BzOiBQcm9wcztcbiAgY2hpbGRyZW46IFZub2RlT3JVbmtub3duW107XG4gIGRvbT86IERvbUVsZW1lbnQ7XG4gIG9uQ2xlYW51cD86IEZ1bmN0aW9uQ29uc3RydWN0b3JbXTtcbiAgaXNTVkc/OiBib29sZWFuO1xuICBwcm9jZXNzZWQ/OiBib29sZWFuO1xufVxuXG5jbGFzcyBWbm9kZSBpbXBsZW1lbnRzIFZub2RlIHtcbiAgbmFtZTogc3RyaW5nO1xuICBwcm9wczogUHJvcHM7XG4gIGNoaWxkcmVuOiBWbm9kZU9yVW5rbm93bltdO1xuICBkb20/OiBEb21FbGVtZW50O1xuICBvbkNsZWFudXA/OiBGdW5jdGlvbkNvbnN0cnVjdG9yW107XG4gIGlzU1ZHPzogYm9vbGVhbjtcbiAgcHJvY2Vzc2VkPzogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHByb3BzOiBQcm9wcywgY2hpbGRyZW46IFZub2RlT3JVbmtub3duKSB7XG4gICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICB9XG59XG5cbmludGVyZmFjZSBUZXh0Vm5vZGUge1xuICBkb20/OiBUZXh0O1xuICBub2RlVmFsdWU6IHN0cmluZztcbn1cblxuY2xhc3MgVGV4dFZub2RlIGltcGxlbWVudHMgVGV4dFZub2RlIHtcbiAgZG9tPzogVGV4dDtcbiAgbm9kZVZhbHVlOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iobm9kZVZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLm5vZGVWYWx1ZSA9IG5vZGVWYWx1ZTtcbiAgfVxufVxuXG5pbnRlcmZhY2UgVm5vZGVDb21wb25lbnQge1xuICBjb21wb25lbnQ6IFZhbHlyaWFuQ29tcG9uZW50O1xuICBwcm9wczogUHJvcHM7XG4gIGNoaWxkcmVuOiBWbm9kZU9yVW5rbm93bltdO1xufVxuXG5jbGFzcyBWbm9kZUNvbXBvbmVudCBpbXBsZW1lbnRzIFZub2RlQ29tcG9uZW50IHtcbiAgY29tcG9uZW50OiBWYWx5cmlhbkNvbXBvbmVudDtcbiAgcHJvcHM6IFByb3BzO1xuICBjaGlsZHJlbjogVm5vZGVPclVua25vd25bXTtcblxuICBjb25zdHJ1Y3Rvcihjb21wb25lbnQ6IFZhbHlyaWFuQ29tcG9uZW50LCBwcm9wczogUHJvcHMsIGNoaWxkcmVuOiBWbm9kZU9yVW5rbm93bltdKSB7XG4gICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgfVxufVxuXG5pbnRlcmZhY2UgVmFseXJpYW4ge1xuICAodGFnT3JDb21wb25lbnQ6IHN0cmluZyB8IFZhbHlyaWFuQ29tcG9uZW50LCBwcm9wcz86IFByb3BzIHwgbnVsbCwgY2hpbGRyZW4/OiBWbm9kZU9yVW5rbm93bik6IFZub2RlIHwgVm5vZGVDb21wb25lbnQ7XG4gIGZyYWdtZW50OiAocHJvcHM6IFByb3BzLCBjaGlsZHJlbjogVm5vZGVPclVua25vd25bXSkgPT4gVm5vZGVPclVua25vd25bXTtcbiAgaXNNb3VudGVkOiBib29sZWFuO1xuICBpc05vZGU6IGJvb2xlYW47XG4gIHJlc2VydmVkV29yZHM6IHN0cmluZ1tdO1xuICBjdXJyZW50OiBDdXJyZW50O1xuICB0cnVzdDogKGh0bWxTdHJpbmc6IHN0cmluZykgPT4gVm5vZGVbXTtcbiAgdXNlUGx1Z2luOiAocGx1Z2luOiBQbHVnaW4sIG9wdGlvbnM6IFJlY29yZDxzdHJpbmcsIGFueT4pID0+IHZvaWQ7XG4gIG9uQ2xlYW51cDogKGNhbGxiYWNrOiB0eXBlb2YgRnVuY3Rpb24pID0+IHZvaWQ7XG4gIHVwZGF0ZVByb3BlcnR5OiAobmFtZTogc3RyaW5nLCBuZXdWbm9kZTogVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9LCBvbGROb2RlOiBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0pID0+IHZvaWQ7XG4gIHVwZGF0ZTogKHByb3BzPzogUHJvcHMgfCBudWxsLCAuLi5jaGlsZHJlbjogVm5vZGVPclVua25vd24pID0+IHN0cmluZyB8IHZvaWQ7XG4gIG1vdW50OiAoY29udGFpbmVyOiBzdHJpbmcgfCBEb21FbGVtZW50LCBjb21wb25lbnQ6IFZhbHlyaWFuQ29tcG9uZW50LCBwcm9wcz86IFByb3BzIHwgbnVsbCwgLi4uY2hpbGRyZW46IFZub2RlT3JVbmtub3duW10pID0+IHN0cmluZyB8IHZvaWQ7XG4gIHVuTW91bnQ6ICgpID0+IHN0cmluZyB8IGJvb2xlYW4gfCB2b2lkO1xuICBkaXJlY3RpdmU6IChkaXJlY3RpdmU6IHN0cmluZywgaGFuZGxlcjogRGlyZWN0aXZlKSA9PiB2b2lkO1xuICBuZXdJbnN0YW5jZTogKCkgPT4gVmFseXJpYW47XG4gIFt4OiBzdHJpbmddOiBhbnk7XG59XG5cbmxldCBpc05vZGUgPSB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCI7XG5cbi8vIENyZWF0ZSBOb2RlIGVsZW1lbnRcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnTmFtZTogc3RyaW5nLCBpc1NWRzogYm9vbGVhbiA9IGZhbHNlKTogRG9tRWxlbWVudCB7XG4gIHJldHVybiBpc1NWRyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHRhZ05hbWUpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbn1cblxuLy8gVHJhbnNmb3JtcyBhIERPTSBub2RlIHRvIGEgVk5vZGVcbmZ1bmN0aW9uIGRvbVRvVm5vZGUoZG9tOiBEb21FbGVtZW50KTogVm5vZGUge1xuICBsZXQgcHJvcHM6IFByb3BzID0ge307XG4gIFtdLmZvckVhY2guY2FsbChkb20uYXR0cmlidXRlcywgKHByb3A6IEF0dHIpID0+IChwcm9wc1twcm9wLm5vZGVOYW1lXSA9IHByb3Aubm9kZVZhbHVlKSk7XG5cbiAgbGV0IHZub2RlOiBWbm9kZSA9IG5ldyBWbm9kZShkb20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwgcHJvcHMsIFtdKTtcbiAgdm5vZGUuZG9tID0gZG9tO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0gZG9tLmNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKGRvbS5jaGlsZE5vZGVzW2ldLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICB2bm9kZS5jaGlsZHJlbi5wdXNoKGRvbVRvVm5vZGUoZG9tLmNoaWxkTm9kZXNbaV0gYXMgRG9tRWxlbWVudCkpO1xuICAgIH0gZWxzZSBpZiAoZG9tLmNoaWxkTm9kZXNbaV0ubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgIGxldCB0ZXh0Vm5vZGUgPSBuZXcgVGV4dFZub2RlKGRvbS5jaGlsZE5vZGVzW2ldLm5vZGVWYWx1ZSB8fCBcIlwiKTtcbiAgICAgIHRleHRWbm9kZS5kb20gPSBkb20uY2hpbGROb2Rlc1tpXSBhcyB1bmtub3duIGFzIFRleHQ7XG4gICAgICB2bm9kZS5jaGlsZHJlbi5wdXNoKHRleHRWbm9kZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB2bm9kZTtcbn1cblxuY29uc3QgdHJ1c3QgPSAoaHRtbFN0cmluZzogc3RyaW5nKSA9PiB7XG4gIGxldCBkaXYgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZy50cmltKCk7XG5cbiAgcmV0dXJuIFtdLm1hcC5jYWxsKGRpdi5jaGlsZE5vZGVzLCAoaXRlbSkgPT4gZG9tVG9Wbm9kZShpdGVtKSkgYXMgVm5vZGVbXTtcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGluZXMtcGVyLWZ1bmN0aW9uXG5mdW5jdGlvbiB2YWx5cmlhbigpOiBWYWx5cmlhbiB7XG4gIGNvbnN0IHY6IFZhbHlyaWFuID0gKHRhZ09yQ29tcG9uZW50LCBwcm9wcywgLi4uY2hpbGRyZW4pID0+IHtcbiAgICBpZiAodHlwZW9mIHRhZ09yQ29tcG9uZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gbmV3IFZub2RlKHRhZ09yQ29tcG9uZW50LCBwcm9wcyB8fCB7fSwgY2hpbGRyZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFZub2RlQ29tcG9uZW50KHRhZ09yQ29tcG9uZW50LCBwcm9wcyB8fCB7fSwgY2hpbGRyZW4pO1xuICAgIH1cbiAgfTtcblxuICB2LmZyYWdtZW50ID0gKHByb3BzOiBQcm9wcywgdm5vZGVzOiBWbm9kZU9yVW5rbm93bltdKSA9PiB7XG4gICAgcmV0dXJuIHZub2RlcztcbiAgfTtcblxuICB2LmlzTW91bnRlZCA9IGZhbHNlO1xuICB2LmlzTm9kZSA9IGlzTm9kZTtcbiAgY29uc3QgcmVzZXJ2ZWRXb3JkcyA9IFtcImtleVwiLCBcImRhdGFcIiwgXCJ2LW9uY2VcIiwgXCJvbmNyZWF0ZVwiLCBcIm9udXBkYXRlXCIsIFwib25yZW1vdmVcIiwgXCJvbmJlZm9yZXVwZGF0ZVwiXTtcbiAgdi5yZXNlcnZlZFdvcmRzID0gcmVzZXJ2ZWRXb3JkcztcbiAgdi50cnVzdCA9IHRydXN0O1xuXG4gIGNvbnN0IGN1cnJlbnQ6IEN1cnJlbnQgPSB7XG4gICAgcGFyZW50Vm5vZGU6IHVuZGVmaW5lZCxcbiAgICBvbGRQYXJlbnRWbm9kZTogdW5kZWZpbmVkLFxuICAgIGNvbXBvbmVudDogdW5kZWZpbmVkXG4gIH07XG4gIHYuY3VycmVudCA9IGN1cnJlbnQ7XG5cbiAgY29uc3QgcGx1Z2lucyA9IG5ldyBNYXAoKTtcblxuICB2LnVzZVBsdWdpbiA9IChwbHVnaW46IFBsdWdpbiwgb3B0aW9uczogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9KSA9PiAhcGx1Z2lucy5oYXMocGx1Z2luKSAmJiBwbHVnaW5zLnNldChwbHVnaW4sIHRydWUpICYmIHBsdWdpbih2IGFzIFZhbHlyaWFuLCBvcHRpb25zKTtcblxuICBsZXQgdm5vZGVzVG9DbGVhbnVwOiBWbm9kZVtdID0gW107XG5cbiAgdi5vbkNsZWFudXAgPSAoY2FsbGJhY2s6IEZ1bmN0aW9uQ29uc3RydWN0b3IpID0+IHtcbiAgICBsZXQgcGFyZW50Vm5vZGUgPSB2LmN1cnJlbnQucGFyZW50Vm5vZGUgYXMgVm5vZGU7XG4gICAgaWYgKCFwYXJlbnRWbm9kZS5vbkNsZWFudXApIHtcbiAgICAgIHBhcmVudFZub2RlLm9uQ2xlYW51cCA9IFtdIGFzIEZ1bmN0aW9uQ29uc3RydWN0b3JbXTtcbiAgICB9XG5cbiAgICBwYXJlbnRWbm9kZS5vbkNsZWFudXAucHVzaChjYWxsYmFjayk7XG5cbiAgICBpZiAodm5vZGVzVG9DbGVhbnVwLmluZGV4T2YocGFyZW50Vm5vZGUpID09PSAtMSkge1xuICAgICAgdm5vZGVzVG9DbGVhbnVwLnB1c2gocGFyZW50Vm5vZGUpO1xuICAgIH1cbiAgfTtcblxuICBsZXQgY2xlYW51cFZub2RlcyA9ICgpID0+IHtcbiAgICBmb3IgKGxldCBsID0gdm5vZGVzVG9DbGVhbnVwLmxlbmd0aDsgbC0tOyApIHtcbiAgICAgIGZvciAobGV0IGNhbGxiYWNrIG9mIHZub2Rlc1RvQ2xlYW51cFtsXS5vbkNsZWFudXAgYXMgRnVuY3Rpb25Db25zdHJ1Y3RvcltdKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHZub2Rlc1RvQ2xlYW51cCA9IFtdO1xuICB9O1xuXG4gIGxldCBtYWluQ29udGFpbmVyOiBEb21FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBlbXB0eUNvbXBvbmVudDogVmFseXJpYW5Db21wb25lbnQgPSAoKSA9PiBcIlwiO1xuICBsZXQgbW91bnRlZENvbXBvbmVudDogVmFseXJpYW5Db21wb25lbnQgPSBlbXB0eUNvbXBvbmVudDtcblxuICBjb25zdCBhdHRhY2hlZExpc3RlbmVyczogc3RyaW5nW10gPSBbXTtcbiAgZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcihlOiBFdmVudCkge1xuICAgIGxldCBkb20gPSBlLnRhcmdldCBhcyBEb21FbGVtZW50O1xuICAgIGxldCBuYW1lID0gYHYtb24ke2UudHlwZX1gO1xuICAgIHdoaWxlIChkb20pIHtcbiAgICAgIGlmIChkb21bbmFtZV0pIHtcbiAgICAgICAgKGRvbVtuYW1lXSBhcyBWYWx5cmlhbkV2ZW50SGFuZGxlcikoZSwgZG9tKTtcbiAgICAgICAgaWYgKCFlLmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICB2LnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRvbSA9IGRvbS5wYXJlbnROb2RlIGFzIERvbUVsZW1lbnQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlUHJvcGVydHkocHJvcDogc3RyaW5nLCBuZXdWbm9kZTogVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9LCBvbGRWbm9kZT86IFZub2RlKTogdm9pZCB8IGJvb2xlYW4ge1xuICAgIGlmIChyZXNlcnZlZFdvcmRzLmluZGV4T2YocHJvcCkgIT09IC0xKSB7XG4gICAgICBpZiAocHJvcCBpbiBkaXJlY3RpdmVzKSB7XG4gICAgICAgIHJldHVybiBkaXJlY3RpdmVzW3Byb3BdKG5ld1Zub2RlLnByb3BzW3Byb3BdLCBuZXdWbm9kZSwgb2xkVm5vZGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG5ld1Zub2RlLnByb3BzW3Byb3BdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGlmIChuZXdWbm9kZS5kb21bYHYtJHtwcm9wfWBdID09PSB1bmRlZmluZWQgJiYgYXR0YWNoZWRMaXN0ZW5lcnMuaW5kZXhPZihwcm9wKSA9PT0gLTEpIHtcbiAgICAgICAgKG1haW5Db250YWluZXIgYXMgRG9tRWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcihwcm9wLnNsaWNlKDIpLCBldmVudExpc3RlbmVyKTtcbiAgICAgICAgYXR0YWNoZWRMaXN0ZW5lcnMucHVzaChwcm9wKTtcbiAgICAgIH1cbiAgICAgIG5ld1Zub2RlLmRvbVtgdi0ke3Byb3B9YF0gPSBuZXdWbm9kZS5wcm9wc1twcm9wXTtcbiAgICB9IGVsc2UgaWYgKHByb3AgaW4gbmV3Vm5vZGUuZG9tICYmICFuZXdWbm9kZS5pc1NWRykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgaWYgKG5ld1Zub2RlLmRvbVtwcm9wXSAhPSBuZXdWbm9kZS5wcm9wc1twcm9wXSkge1xuICAgICAgICBuZXdWbm9kZS5kb21bcHJvcF0gPSBuZXdWbm9kZS5wcm9wc1twcm9wXTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9sZFZub2RlID09PSB1bmRlZmluZWQgfHwgbmV3Vm5vZGUucHJvcHNbcHJvcF0gIT09IG9sZFZub2RlLnByb3BzW3Byb3BdKSB7XG4gICAgICBpZiAobmV3Vm5vZGUucHJvcHNbcHJvcF0gPT09IGZhbHNlKSB7XG4gICAgICAgIG5ld1Zub2RlLmRvbS5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdWbm9kZS5kb20uc2V0QXR0cmlidXRlKHByb3AsIG5ld1Zub2RlLnByb3BzW3Byb3BdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdi51cGRhdGVQcm9wZXJ0eSA9IHVwZGF0ZVByb3BlcnR5O1xuXG4gIC8vIFVwZGF0ZSBhIFZub2RlLmRvbSBIVE1MRWxlbWVudCB3aXRoIG5ldyBWbm9kZSBwcm9wcyB0aGF0IGFyZSBkaWZmZXJlbnQgZnJvbSBvbGQgVm5vZGUgcHJvcHNcbiAgZnVuY3Rpb24gdXBkYXRlUHJvcGVydGllcyhuZXdWbm9kZTogVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9LCBvbGRWbm9kZT86IFZub2RlKTogdm9pZCB7XG4gICAgZm9yIChsZXQgcHJvcCBpbiBuZXdWbm9kZS5wcm9wcykge1xuICAgICAgaWYgKHVwZGF0ZVByb3BlcnR5KHByb3AsIG5ld1Zub2RlLCBvbGRWbm9kZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVQcm9wZXJ0aWVzKG5ld1Zub2RlOiBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0sIG9sZFZub2RlOiBWbm9kZSkge1xuICAgIGZvciAobGV0IG5hbWUgaW4gb2xkVm5vZGUucHJvcHMpIHtcbiAgICAgIGlmIChyZXNlcnZlZFdvcmRzLmluZGV4T2YobmFtZSkgPT09IC0xICYmIG5hbWUgaW4gbmV3Vm5vZGUucHJvcHMgPT09IGZhbHNlICYmIHR5cGVvZiBvbGRWbm9kZS5wcm9wc1tuYW1lXSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGlmIChuYW1lIGluIG5ld1Zub2RlLmRvbSkge1xuICAgICAgICAgIG5ld1Zub2RlLmRvbVtuYW1lXSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3Vm5vZGUuZG9tLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGNhbGxSZW1vdmUgPSAodm5vZGU6IFZub2RlKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSB2bm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZub2RlLmNoaWxkcmVuW2ldIGluc3RhbmNlb2YgVm5vZGUgJiYgY2FsbFJlbW92ZSh2bm9kZS5jaGlsZHJlbltpXSk7XG4gICAgfVxuXG4gICAgdm5vZGUucHJvcHMub25yZW1vdmUgJiYgdm5vZGUucHJvcHMub25yZW1vdmUodm5vZGUpO1xuICB9O1xuICAvLyBQYXRjaCBhIERPTSBub2RlIHdpdGggYSBuZXcgVk5vZGUgdHJlZVxuICBmdW5jdGlvbiBwYXRjaChuZXdQYXJlbnRWbm9kZTogVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9LCBvbGRQYXJlbnRWbm9kZT86IFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSk6IHZvaWQge1xuICAgIGxldCBvbGRUcmVlID0gb2xkUGFyZW50Vm5vZGU/LmNoaWxkcmVuIHx8IFtdO1xuICAgIGxldCBuZXdUcmVlID0gbmV3UGFyZW50Vm5vZGUuY2hpbGRyZW47XG4gICAgbGV0IG9sZFRyZWVMZW5ndGggPSBvbGRUcmVlLmxlbmd0aDtcblxuICAgIGN1cnJlbnQucGFyZW50Vm5vZGUgPSBuZXdQYXJlbnRWbm9kZTtcbiAgICBjdXJyZW50Lm9sZFBhcmVudFZub2RlID0gb2xkUGFyZW50Vm5vZGU7XG5cbiAgICAvLyBGbGF0IG5ld1RyZWVcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1RyZWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjaGlsZFZub2RlID0gbmV3VHJlZVtpXTtcblxuICAgICAgaWYgKGNoaWxkVm5vZGUgaW5zdGFuY2VvZiBWbm9kZSkge1xuICAgICAgICBjaGlsZFZub2RlLmlzU1ZHID0gbmV3UGFyZW50Vm5vZGUuaXNTVkcgfHwgY2hpbGRWbm9kZS5uYW1lID09PSBcInN2Z1wiO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZFZub2RlID09PSBudWxsIHx8IGNoaWxkVm5vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBuZXdUcmVlLnNwbGljZShpLS0sIDEpO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNoaWxkVm5vZGUpKSB7XG4gICAgICAgIG5ld1RyZWUuc3BsaWNlKGktLSwgMSwgLi4uY2hpbGRWbm9kZSk7XG4gICAgICB9IGVsc2UgaWYgKGNoaWxkVm5vZGUgaW5zdGFuY2VvZiBWbm9kZUNvbXBvbmVudCkge1xuICAgICAgICB2LmN1cnJlbnQuY29tcG9uZW50ID0gY2hpbGRWbm9kZTtcbiAgICAgICAgbmV3VHJlZS5zcGxpY2UoXG4gICAgICAgICAgaS0tLFxuICAgICAgICAgIDEsXG4gICAgICAgICAgLi4uW1xuICAgICAgICAgICAgXCJ2aWV3XCIgaW4gY2hpbGRWbm9kZS5jb21wb25lbnRcbiAgICAgICAgICAgICAgPyBjaGlsZFZub2RlLmNvbXBvbmVudC52aWV3LmNhbGwoY2hpbGRWbm9kZS5jb21wb25lbnQsIGNoaWxkVm5vZGUucHJvcHMsIGNoaWxkVm5vZGUuY2hpbGRyZW4pXG4gICAgICAgICAgICAgIDogKGNoaWxkVm5vZGUuY29tcG9uZW50IGFzIENvbXBvbmVudCkuY2FsbChjaGlsZFZub2RlLmNvbXBvbmVudCwgY2hpbGRWbm9kZS5wcm9wcywgY2hpbGRWbm9kZS5jaGlsZHJlbilcbiAgICAgICAgICBdXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaSA+IDAgJiYgbmV3VHJlZVtpIC0gMV0ubm9kZVZhbHVlKSB7XG4gICAgICAgICAgbmV3VHJlZVtpIC0gMV0ubm9kZVZhbHVlICs9IGNoaWxkVm5vZGU7XG4gICAgICAgICAgbmV3VHJlZS5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgfSBlbHNlIGlmIChjaGlsZFZub2RlIGluc3RhbmNlb2YgVGV4dFZub2RlID09PSBmYWxzZSkge1xuICAgICAgICAgIG5ld1RyZWVbaV0gPSBuZXcgVGV4dFZub2RlKFN0cmluZyhjaGlsZFZub2RlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgbmV3VHJlZUxlbmd0aCA9IG5ld1RyZWUubGVuZ3RoO1xuXG4gICAgLy8gaWYgbmV3VHJlZSBpcyBlbXB0eSwgcmVtb3ZlIGl0XG4gICAgaWYgKG5ld1RyZWVMZW5ndGggPT09IDApIHtcbiAgICAgIGlmIChvbGRUcmVlTGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGxldCBpID0gb2xkVHJlZUxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgICBvbGRUcmVlW2ldIGluc3RhbmNlb2YgVm5vZGUgJiYgY2FsbFJlbW92ZShvbGRUcmVlW2ldKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGYXN0IG5vZGUgcmVtb3ZlIGJ5IHNldHRpbmcgdGV4dENvbnRlbnRcbiAgICAgICAgbmV3UGFyZW50Vm5vZGUuZG9tLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgIH1cbiAgICAgIC8vIElmIHRoZSB0cmVlIGlzIGtleWVkIGxpc3QgYW5kIGlzIG5vdCBmaXJzdCByZW5kZXJcbiAgICB9IGVsc2UgaWYgKG9sZFRyZWVMZW5ndGggJiYgbmV3VHJlZVswXSBpbnN0YW5jZW9mIFZub2RlICYmIFwia2V5XCIgaW4gbmV3VHJlZVswXS5wcm9wcykge1xuICAgICAgLy8gMS4gTXV0YXRlIHRoZSBvbGQga2V5IGxpc3QgdG8gbWF0Y2ggdGhlIG5ldyBrZXkgbGlzdFxuICAgICAgbGV0IG9sZEtleWVkTGlzdDtcblxuICAgICAgLy8gaWYgdGhlIG9sZFRyZWUgZG9lcyBub3QgaGF2ZSBhIGtleWVkIGxpc3QgZmFzdCByZW1vdmUgYWxsIG5vZGVzXG4gICAgICBpZiAob2xkVHJlZVswXSBpbnN0YW5jZW9mIFZub2RlID09PSBmYWxzZSB8fCBcImtleVwiIGluIG9sZFRyZWVbMF0ucHJvcHMgPT09IGZhbHNlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBvbGRUcmVlTGVuZ3RoOyBpLS07ICkge1xuICAgICAgICAgIG9sZFRyZWVbaV0gaW5zdGFuY2VvZiBWbm9kZSAmJiBjYWxsUmVtb3ZlKG9sZFRyZWVbaV0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZhc3Qgbm9kZSByZW1vdmUgYnkgc2V0dGluZyB0ZXh0Q29udGVudFxuICAgICAgICBuZXdQYXJlbnRWbm9kZS5kb20udGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICBvbGRLZXllZExpc3QgPSBbXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9sZEtleWVkTGlzdCA9IG9sZFRyZWUubWFwKCh2bm9kZSkgPT4gdm5vZGUucHJvcHMua2V5KTtcbiAgICAgIH1cblxuICAgICAgLy8gMi4gT2J0YWluIHRoZSBtYXggbGVuZ3RoIG9mIGJvdGggbGlzdHNcbiAgICAgIGxldCBuZXdLZXllZExpc3QgPSBuZXdUcmVlLm1hcCgodm5vZGUpID0+IHZub2RlLnByb3BzLmtleSk7XG4gICAgICBjb25zdCBtYXhMaXN0TGVuZ3RoID0gTWF0aC5tYXgobmV3VHJlZUxlbmd0aCwgb2xkS2V5ZWRMaXN0Lmxlbmd0aCk7XG5cbiAgICAgIC8vIDMuIEN5Y2xlIG92ZXIgYWxsIHRoZSBlbGVtZW50cyBvZiB0aGUgbGlzdCB1bnRpbCB0aGUgbWF4IGxlbmd0aFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhMaXN0TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkgPCBuZXdUcmVlTGVuZ3RoKSB7XG4gICAgICAgICAgbGV0IGNoaWxkVm5vZGUgPSBuZXdUcmVlW2ldO1xuICAgICAgICAgIGxldCBvbGRDaGlsZFZub2RlID0gb2xkS2V5ZWRMaXN0W2ldID09PSBuZXdLZXllZExpc3RbaV0gPyBvbGRUcmVlW2ldIDogb2xkVHJlZVtvbGRLZXllZExpc3QuaW5kZXhPZihjaGlsZFZub2RlLnByb3BzLmtleSldO1xuICAgICAgICAgIGxldCBzaG91bGRQYXRjaCA9IHRydWU7XG5cbiAgICAgICAgICBpZiAob2xkQ2hpbGRWbm9kZSkge1xuICAgICAgICAgICAgY2hpbGRWbm9kZS5kb20gPSBvbGRDaGlsZFZub2RlLmRvbTtcbiAgICAgICAgICAgIG9sZENoaWxkVm5vZGUucHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChcInYtb25jZVwiIGluIGNoaWxkVm5vZGUucHJvcHMgfHwgKGNoaWxkVm5vZGUucHJvcHMub25iZWZvcmV1cGRhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5vbmJlZm9yZXVwZGF0ZShjaGlsZFZub2RlLCBvbGRDaGlsZFZub2RlKSA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgIC8vIHNraXAgdGhpcyBwYXRjaFxuICAgICAgICAgICAgICBjaGlsZFZub2RlLmNoaWxkcmVuID0gb2xkQ2hpbGRWbm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICAgICAgc2hvdWxkUGF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlbW92ZVByb3BlcnRpZXMoY2hpbGRWbm9kZSBhcyBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0sIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICAgICAgICB1cGRhdGVQcm9wZXJ0aWVzKGNoaWxkVm5vZGUgYXMgVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9LCBvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgICAgICAgaWYgKHYuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRWbm9kZS5wcm9wcy5vbnVwZGF0ZSAmJiBjaGlsZFZub2RlLnByb3BzLm9udXBkYXRlKGNoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShjaGlsZFZub2RlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGlsZFZub2RlLmRvbSA9IGNyZWF0ZUVsZW1lbnQoY2hpbGRWbm9kZS5uYW1lLCBjaGlsZFZub2RlLmlzU1ZHKTtcbiAgICAgICAgICAgIHVwZGF0ZVByb3BlcnRpZXMoY2hpbGRWbm9kZSBhcyBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0pO1xuICAgICAgICAgICAgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZSAmJiBjaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlKGNoaWxkVm5vZGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChuZXdQYXJlbnRWbm9kZS5kb20uY2hpbGROb2Rlc1tpXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdQYXJlbnRWbm9kZS5kb20uYXBwZW5kQ2hpbGQoY2hpbGRWbm9kZS5kb20pO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmV3UGFyZW50Vm5vZGUuZG9tLmNoaWxkTm9kZXNbaV0gIT09IGNoaWxkVm5vZGUuZG9tKSB7XG4gICAgICAgICAgICBvbGRUcmVlW2ldIGluc3RhbmNlb2YgVm5vZGUgJiYgIW9sZFRyZWVbaV0ucHJvY2Vzc2VkICYmIG5ld0tleWVkTGlzdC5pbmRleE9mKG9sZFRyZWVbaV0ucHJvcHMua2V5KSA9PT0gLTEgJiYgY2FsbFJlbW92ZShvbGRUcmVlW2ldKTtcbiAgICAgICAgICAgIG5ld1BhcmVudFZub2RlLmRvbS5yZXBsYWNlQ2hpbGQoY2hpbGRWbm9kZS5kb20sIG5ld1BhcmVudFZub2RlLmRvbS5jaGlsZE5vZGVzW2ldKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzaG91bGRQYXRjaCAmJiBwYXRjaChjaGlsZFZub2RlIGFzIFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSwgb2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFvbGRUcmVlW2ldLnByb2Nlc3NlZCkge1xuICAgICAgICAgICAgb2xkVHJlZVtpXSBpbnN0YW5jZW9mIFZub2RlICYmIGNhbGxSZW1vdmUob2xkVHJlZVtpXSk7XG4gICAgICAgICAgICBvbGRUcmVlW2ldLmRvbS5wYXJlbnROb2RlICYmIG5ld1BhcmVudFZub2RlLmRvbS5yZW1vdmVDaGlsZChvbGRUcmVlW2ldLmRvbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjaGlsZFZub2RlID0gbmV3VHJlZVtpXTtcbiAgICAgICAgbGV0IG9sZENoaWxkVm5vZGUgPSBvbGRUcmVlW2ldO1xuXG4gICAgICAgIC8vIGlmIG9sZENoaWxkVm5vZGUgaXMgdW5kZWZpbmVkLCBpdCdzIGEgbmV3IG5vZGUsIGFwcGVuZCBpdFxuICAgICAgICBpZiAob2xkQ2hpbGRWbm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKGNoaWxkVm5vZGUgaW5zdGFuY2VvZiBWbm9kZSkge1xuICAgICAgICAgICAgY2hpbGRWbm9kZS5kb20gPSBjcmVhdGVFbGVtZW50KGNoaWxkVm5vZGUubmFtZSwgY2hpbGRWbm9kZS5pc1NWRyk7XG4gICAgICAgICAgICB1cGRhdGVQcm9wZXJ0aWVzKGNoaWxkVm5vZGUgYXMgVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9KTtcbiAgICAgICAgICAgIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShjaGlsZFZub2RlKTtcbiAgICAgICAgICAgIHBhdGNoKGNoaWxkVm5vZGUgYXMgVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hpbGRWbm9kZS5kb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZFZub2RlLm5vZGVWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5ld1BhcmVudFZub2RlLmRvbS5hcHBlbmRDaGlsZChjaGlsZFZub2RlLmRvbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaWYgY2hpbGRWbm9kZSBpcyBWbm9kZSwgcmVwbGFjZSBpdCB3aXRoIGl0cyBET00gbm9kZVxuICAgICAgICAgIGlmIChjaGlsZFZub2RlIGluc3RhbmNlb2YgVm5vZGUpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZFZub2RlLm5hbWUgPT09IG9sZENoaWxkVm5vZGUubmFtZSkge1xuICAgICAgICAgICAgICBjaGlsZFZub2RlLmRvbSA9IG9sZENoaWxkVm5vZGUuZG9tO1xuXG4gICAgICAgICAgICAgIGlmIChcInYtb25jZVwiIGluIGNoaWxkVm5vZGUucHJvcHMgfHwgKGNoaWxkVm5vZGUucHJvcHMub25iZWZvcmV1cGRhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5vbmJlZm9yZXVwZGF0ZShjaGlsZFZub2RlLCBvbGRDaGlsZFZub2RlKSA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgLy8gc2tpcCB0aGlzIHBhdGNoXG4gICAgICAgICAgICAgICAgY2hpbGRWbm9kZS5jaGlsZHJlbiA9IG9sZENoaWxkVm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZW1vdmVQcm9wZXJ0aWVzKGNoaWxkVm5vZGUgYXMgVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9LCBvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgICAgICAgdXBkYXRlUHJvcGVydGllcyhjaGlsZFZub2RlIGFzIFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSwgb2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgICAgICAgIGlmICh2LmlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgIGNoaWxkVm5vZGUucHJvcHMub251cGRhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5vbnVwZGF0ZShjaGlsZFZub2RlLCBvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlICYmIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUoY2hpbGRWbm9kZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGF0Y2goY2hpbGRWbm9kZSBhcyBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0sIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2hpbGRWbm9kZS5kb20gPSBjcmVhdGVFbGVtZW50KGNoaWxkVm5vZGUubmFtZSwgY2hpbGRWbm9kZS5pc1NWRyk7XG4gICAgICAgICAgICAgIHVwZGF0ZVByb3BlcnRpZXMoY2hpbGRWbm9kZSBhcyBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0pO1xuICAgICAgICAgICAgICBjaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlICYmIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUoY2hpbGRWbm9kZSk7XG4gICAgICAgICAgICAgIG9sZENoaWxkVm5vZGUgaW5zdGFuY2VvZiBWbm9kZSAmJiBjYWxsUmVtb3ZlKG9sZENoaWxkVm5vZGUpO1xuICAgICAgICAgICAgICBuZXdQYXJlbnRWbm9kZS5kb20ucmVwbGFjZUNoaWxkKGNoaWxkVm5vZGUuZG9tLCBvbGRDaGlsZFZub2RlLmRvbSk7XG4gICAgICAgICAgICAgIHBhdGNoKGNoaWxkVm5vZGUgYXMgVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKG9sZENoaWxkVm5vZGUgaW5zdGFuY2VvZiBWbm9kZSkge1xuICAgICAgICAgICAgICBjaGlsZFZub2RlLmRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNoaWxkVm5vZGUubm9kZVZhbHVlKTtcbiAgICAgICAgICAgICAgY2FsbFJlbW92ZShvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgICAgICAgbmV3UGFyZW50Vm5vZGUuZG9tLnJlcGxhY2VDaGlsZChjaGlsZFZub2RlLmRvbSwgb2xkQ2hpbGRWbm9kZS5kb20gYXMgRG9tRWxlbWVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGlsZFZub2RlLmRvbSA9IG9sZENoaWxkVm5vZGUuZG9tO1xuICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgICAgICAgIGlmIChjaGlsZFZub2RlLm5vZGVWYWx1ZSAhPSBjaGlsZFZub2RlLmRvbS5ub2RlVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjaGlsZFZub2RlLmRvbS5ub2RlVmFsdWUgPSBjaGlsZFZub2RlLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBGb3IgcmVtYWluaW5nIG9sZCBjaGlsZHJlbjogcmVtb3ZlIGZyb20gRE9NLCBnYXJiYWdlIGNvbGxlY3RcbiAgICAgIGZvciAobGV0IGkgPSBvbGRUcmVlTGVuZ3RoIC0gMTsgaSA+PSBuZXdUcmVlTGVuZ3RoOyAtLWkpIHtcbiAgICAgICAgb2xkVHJlZVtpXSBpbnN0YW5jZW9mIFZub2RlICYmIGNhbGxSZW1vdmUob2xkVHJlZVtpXSk7XG4gICAgICAgIG9sZFRyZWVbaV0uZG9tLnBhcmVudE5vZGUgJiYgbmV3UGFyZW50Vm5vZGUuZG9tLnJlbW92ZUNoaWxkKG9sZFRyZWVbaV0uZG9tKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBuZXdQYXJlbnRWbm9kZS5jaGlsZHJlbiA9IG5ld1RyZWU7XG4gIH1cblxuICBsZXQgbWFpblZub2RlOiBWbm9kZSB8IG51bGwgPSBudWxsO1xuICBsZXQgb2xkTWFpblZub2RlOiBWbm9kZSB8IG51bGwgPSBudWxsO1xuXG4gIHYudW5Nb3VudCA9ICgpID0+IHtcbiAgICBtb3VudGVkQ29tcG9uZW50ID0gZW1wdHlDb21wb25lbnQ7XG4gICAgbGV0IHJlc3VsdCA9IHYudXBkYXRlKCk7XG4gICAgdi5pc01vdW50ZWQgPSBmYWxzZTtcbiAgICBtYWluQ29udGFpbmVyID0gbnVsbDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHYudXBkYXRlID0gKHByb3BzLCAuLi5jaGlsZHJlbikgPT4ge1xuICAgIGlmIChtYWluVm5vZGUpIHtcbiAgICAgIGNsZWFudXBWbm9kZXMoKTtcbiAgICAgIG9sZE1haW5Wbm9kZSA9IG1haW5Wbm9kZTtcbiAgICAgIG1haW5Wbm9kZSA9IG5ldyBWbm9kZShtYWluVm5vZGUubmFtZSwgbWFpblZub2RlLnByb3BzLCBbdihtb3VudGVkQ29tcG9uZW50LCBwcm9wcywgLi4uY2hpbGRyZW4pXSk7XG4gICAgICBtYWluVm5vZGUuZG9tID0gb2xkTWFpblZub2RlLmRvbTtcbiAgICAgIG1haW5Wbm9kZS5pc1NWRyA9IG9sZE1haW5Wbm9kZS5pc1NWRztcbiAgICAgIHBhdGNoKG1haW5Wbm9kZSBhcyBWbm9kZSAmIHsgZG9tOiBOb2RlIH0sIG9sZE1haW5Wbm9kZSBhcyBWbm9kZSAmIHsgZG9tOiBOb2RlIH0pO1xuICAgICAgdi5pc01vdW50ZWQgPSB0cnVlO1xuICAgICAgaWYgKHYuaXNOb2RlKSB7XG4gICAgICAgIHJldHVybiAobWFpblZub2RlLmRvbSBhcyBIVE1MRWxlbWVudCkuaW5uZXJIVE1MO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2Lm1vdW50ID0gKGNvbnRhaW5lciwgY29tcG9uZW50LCBwcm9wcywgLi4uY2hpbGRyZW4pID0+IHtcbiAgICBpZiAodi5pc01vdW50ZWQpIHtcbiAgICAgIHYudW5Nb3VudCgpO1xuICAgIH1cblxuICAgIGlmIChpc05vZGUpIHtcbiAgICAgIG1haW5Db250YWluZXIgPSB0eXBlb2YgY29udGFpbmVyID09PSBcInN0cmluZ1wiID8gY3JlYXRlRWxlbWVudChjb250YWluZXIsIGNvbnRhaW5lciA9PT0gXCJzdmdcIikgOiBjb250YWluZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1haW5Db250YWluZXIgPSB0eXBlb2YgY29udGFpbmVyID09PSBcInN0cmluZ1wiID8gKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29udGFpbmVyKVswXSBhcyBEb21FbGVtZW50KSA6IGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBpZiAobWFpbkNvbnRhaW5lciAhPT0gbnVsbCkge1xuICAgICAgbWFpblZub2RlID0gZG9tVG9Wbm9kZShtYWluQ29udGFpbmVyKTtcbiAgICAgIG1haW5Wbm9kZS5pc1NWRyA9IG1haW5Wbm9kZS5uYW1lID09PSBcInN2Z1wiO1xuICAgICAgb2xkTWFpblZub2RlID0gbWFpblZub2RlO1xuICAgICAgbW91bnRlZENvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gdi51cGRhdGUocHJvcHMsIC4uLmNoaWxkcmVuKTtcbiAgfTtcblxuICBsZXQgZGlyZWN0aXZlczogUmVjb3JkPHN0cmluZywgRGlyZWN0aXZlPiA9IHt9O1xuXG4gIHYuZGlyZWN0aXZlID0gKG5hbWU6IHN0cmluZywgZGlyZWN0aXZlOiBEaXJlY3RpdmUpID0+IHtcbiAgICBsZXQgZnVsbE5hbWUgPSBgdi0ke25hbWV9YDtcbiAgICBpZiAocmVzZXJ2ZWRXb3Jkcy5pbmRleE9mKGZ1bGxOYW1lKSA9PT0gLTEpIHtcbiAgICAgIHJlc2VydmVkV29yZHMucHVzaChmdWxsTmFtZSk7XG4gICAgICBkaXJlY3RpdmVzW2Z1bGxOYW1lXSA9IGRpcmVjdGl2ZTtcbiAgICB9XG4gIH07XG5cbiAgbGV0IGhpZGVEaXJlY3RpdmUgPSAodGVzdDogYm9vbGVhbikgPT4gKGJvb2w6IGJvb2xlYW4sIHZub2RlOiBWbm9kZSwgb2xkbm9kZT86IFZub2RlIHwgVGV4dFZub2RlKSA9PiB7XG4gICAgbGV0IHZhbHVlID0gdGVzdCA/IGJvb2wgOiAhYm9vbDtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGxldCBuZXdkb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtcbiAgICAgIGlmIChvbGRub2RlICYmIG9sZG5vZGUuZG9tICYmIG9sZG5vZGUuZG9tLnBhcmVudE5vZGUpIHtcbiAgICAgICAgb2xkbm9kZSBpbnN0YW5jZW9mIFZub2RlICYmIGNhbGxSZW1vdmUob2xkbm9kZSk7XG4gICAgICAgIG9sZG5vZGUuZG9tLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG5ld2RvbSwgb2xkbm9kZS5kb20pO1xuICAgICAgfVxuICAgICAgdm5vZGUubmFtZSA9IFwiI3RleHRcIjtcbiAgICAgIHZub2RlLmNoaWxkcmVuID0gW107XG4gICAgICB2bm9kZS5wcm9wcyA9IHt9O1xuICAgICAgdm5vZGUuZG9tID0gbmV3ZG9tIGFzIHVua25vd24gYXMgRG9tRWxlbWVudDtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgdi5kaXJlY3RpdmUoXCJpZlwiLCBoaWRlRGlyZWN0aXZlKGZhbHNlKSk7XG4gIHYuZGlyZWN0aXZlKFwidW5sZXNzXCIsIGhpZGVEaXJlY3RpdmUodHJ1ZSkpO1xuICB2LmRpcmVjdGl2ZShcImZvclwiLCAoc2V0OiB1bmtub3duW10sIHZub2RlOiBWbm9kZSkgPT4ge1xuICAgIHZub2RlLmNoaWxkcmVuID0gc2V0Lm1hcCh2bm9kZS5jaGlsZHJlblswXSBhcyAodmFsdWU6IHVua25vd24pID0+IEZ1bmN0aW9uKTtcbiAgfSk7XG4gIHYuZGlyZWN0aXZlKFwic2hvd1wiLCAoYm9vbDogYm9vbGVhbiwgdm5vZGU6IFZub2RlKSA9PiB7XG4gICAgKHZub2RlLmRvbSBhcyB7IHN0eWxlOiB7IGRpc3BsYXk6IHN0cmluZyB9IH0pLnN0eWxlLmRpc3BsYXkgPSBib29sID8gXCJcIiA6IFwibm9uZVwiO1xuICB9KTtcbiAgdi5kaXJlY3RpdmUoXCJjbGFzc1wiLCAoY2xhc3NlczogeyBbeDogc3RyaW5nXTogYm9vbGVhbiB9LCB2bm9kZTogVm5vZGUpID0+IHtcbiAgICBmb3IgKGxldCBuYW1lIGluIGNsYXNzZXMpIHtcbiAgICAgICh2bm9kZS5kb20gYXMgRG9tRWxlbWVudCkuY2xhc3NMaXN0LnRvZ2dsZShuYW1lLCBjbGFzc2VzW25hbWVdKTtcbiAgICB9XG4gIH0pO1xuICB2LmRpcmVjdGl2ZShcImh0bWxcIiwgKGh0bWw6IHN0cmluZywgdm5vZGU6IFZub2RlKSA9PiB7XG4gICAgdm5vZGUuY2hpbGRyZW4gPSBbdHJ1c3QoaHRtbCldO1xuICB9KTtcblxuICB2Lm5ld0luc3RhbmNlID0gdmFseXJpYW47XG5cbiAgcmV0dXJuIHY7XG59XG5cbigoaXNOb2RlID8gZ2xvYmFsIDogd2luZG93KSBhcyB1bmtub3duIGFzIHsgdjogVmFseXJpYW4gfSkudiA9IHZhbHlyaWFuKCk7XG4iXX0=