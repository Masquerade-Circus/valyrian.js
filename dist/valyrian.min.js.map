{"version":3,"file":"valyrian.min.js","sources":["../lib/patch.js","../lib/index.js"],"sourcesContent":["\nlet plugin = function (v) {\n    let mountedComponent;\n    let oldTree;\n    let newTree;\n    let mainContainer;\n\n    function lifecycleCall(vnode, methodName, oldNode, i, l) {\n        if (vnode.nt === 1) {\n            if (vnode.props[methodName] !== undefined) {\n                vnode.props[methodName](vnode, oldNode);\n            }\n\n            if (methodName === 'onremove') {\n                i = 0;\n                l = vnode.children.length;\n                for (; i < l; i++) {\n                    lifecycleCall(vnode.children[i], 'onremove');\n                }\n                vnode.children = [];\n            }\n        }\n    }\n\n    function eventListener(e) {\n        if (e.currentTarget.events['on' + e.type] !== undefined) {\n            e.currentTarget.events['on' + e.type](e);\n        }\n        v.update();\n    }\n\n    function patch($parent, newTree, oldTree, isSVG, max, newNode, oldNode, i, isNew, name) {\n        if (newTree.length === 0) {\n            $parent.textContent = '';\n            return;\n        }\n\n        max = newTree.length > oldTree.length ? newTree.length : oldTree.length;\n        i = 0;\n        for (; i < max; i++) {\n            newNode = newTree[i];\n            oldNode = oldTree[i];\n\n            if (newNode === undefined) { // Removed\n                if (oldNode !== undefined) {\n                    if (oldNode.nt === 3) {\n                        lifecycleCall(oldNode, 'onremove');\n                    }\n                    $parent.removeChild(oldNode.dom);\n                }\n                continue;\n            }\n\n            if (newNode.nt === undefined || newNode.nt === 3) { // Is text\n                if (newNode.nt === undefined) {\n                    newTree[i] = newNode = {\n                        name: '#text',\n                        isVnode: true,\n                        nodeValue: newNode,\n                        children: [],\n                        nt: 3\n                    };\n                }\n\n                if (oldNode === undefined) {\n                    newNode.dom = document.createTextNode(newNode.nodeValue);\n                    $parent.appendChild(newNode.dom);\n                } else { // Replaced\n                    if (oldNode.nt === 1) {\n                        newNode.dom = document.createTextNode(newNode.nodeValue);\n                        lifecycleCall(oldNode, 'onremove');\n                        $parent.replaceChild(newNode.dom, oldNode.dom);\n                    } else {\n                        newNode.dom = oldNode.dom;\n                        if (newNode.nodeValue != oldNode.nodeValue) {\n                            newNode.dom.nodeValue = newNode.nodeValue;\n                        }\n                    }\n                }\n\n                continue;\n            }\n\n            isNew = !v.is.mounted;\n\n            isSVG = isSVG || newNode.isSVG;\n\n            if (oldNode === undefined) { // Added\n                lifecycleCall(newNode, 'oninit');\n                newNode.dom = isSVG ?\n                    document.createElementNS(\"http://www.w3.org/2000/svg\", newNode.name) :\n                    document.createElement(newNode.name);\n                newNode.dom.events = {};\n                $parent.appendChild(newNode.dom);\n                oldNode = {children: []};\n                isNew = true;\n            } else {\n                if (newNode.name !== oldNode.name) { // Replaced\n                    lifecycleCall(newNode, 'oninit');\n                    newNode.dom = isSVG ?\n                        document.createElementNS(\"http://www.w3.org/2000/svg\", newNode.name) :\n                        document.createElement(newNode.name);\n                    newNode.dom.events = {};\n\n                    lifecycleCall(oldNode, 'onremove');\n                    $parent.replaceChild(newNode.dom, oldNode.dom);\n                    isNew = true;\n                } else { // Updated\n                    newNode.dom = oldNode.dom;\n                    for (name in oldNode.props) {\n                        if (newNode.props[name] === undefined) {\n                            if (typeof oldNode.props[name] === 'function') {\n                                newNode.dom.removeEventListener(name.slice(2), eventListener);\n                                continue;\n                            }\n\n                            if (v.is.node || isSVG || newNode.dom[name] === undefined) {\n                                newNode.dom.removeAttribute(name);\n                                continue;\n                            }\n\n                            newNode.dom[name] = null;\n                        }\n                    }\n                }\n            }\n\n            patch(newNode.dom, newNode.children, oldNode.children, isSVG);\n\n            // Update props\n            for (name in newNode.props) {\n                if (\n                    (\n                        isNew ||\n                        (newNode.props[name] !== oldNode.props[name])\n                    ) &&\n                    newNode.props[name] !== undefined\n                ) {\n                    if (typeof newNode.props[name] === 'function') {\n                        switch (name) {\n                            case 'oninit':\n                            case 'oncreate':\n                            case 'onupdate':\n                            case 'onremove':\n                                break;\n                            default:\n                                if (newNode.dom.events[name] === undefined) {\n                                    newNode.dom.events[name] = newNode.props[name];\n                                    newNode.dom.addEventListener(name.slice(2), eventListener);\n                                }\n                                break;\n                        }\n\n                        continue;\n                    }\n\n                    if (v.is.node || isSVG || newNode.dom[name] === undefined) {\n                        newNode.dom.setAttribute(name, newNode.props[name]);\n                        continue;\n                    }\n\n                    newNode.dom[name] = newNode.props[name];\n                }\n            }\n\n            if (!v.is.mounted && !isNew) {\n                lifecycleCall(newNode, 'oninit');\n                lifecycleCall(newNode, 'oncreate');\n            }\n\n            lifecycleCall(newNode, isNew ? 'oncreate' : 'onupdate', oldNode);\n        }\n    }\n\n    function serialize(el, outer = true) {\n        if (el.nodeType === 3) {\n            return el.textContent;\n        }\n\n        let name = el.nodeName.toLowerCase();\n        let str = '';\n        let i;\n        let attr = el.attributes;\n\n        if (outer) {\n            str += `<${name}`;\n\n            for (i = 0; i < attr.length; i++) {\n                str += ` ${attr[i].name}=\"${attr[i].value}\"`;\n            }\n\n            str += '>';\n        }\n\n        for (i = 0; i < el.childNodes.length; i++) {\n            str += serialize(el.childNodes[i]);\n        }\n\n        str += outer ? `</${name}>` : '';\n        return str;\n    }\n\n    v.update = function (args) {\n        args = v.utils.flat(arguments, 0, []);\n        if (typeof args[0] === 'object') {\n            if (args[0].isComponent === undefined && typeof args[0].view === 'function') {\n                mountedComponent = args.shift();\n                mountedComponent.isComponent = true;\n            } else if (args[0].isComponent) {\n                mountedComponent = args.shift();\n            }\n        }\n\n        return new Promise(function update(resolve) {\n            if (!v.is.updating) {\n                v.is.updating = true;\n                args.unshift(mountedComponent);\n                newTree = v.apply(v, args);\n                patch(mainContainer, newTree, oldTree);\n                oldTree = newTree;\n                v.is.updating = false;\n                v.is.mounted = true;\n                if (v.is.node) {\n                    return resolve(serialize(mainContainer, false));\n                }\n                resolve();\n            }\n        });\n    };\n\n    v.mount = function (container) {\n        mainContainer = v.is.node\n            ? document.createElement('div')\n            : typeof container === 'string'\n                ? document.querySelectorAll(container)[0]\n                : container;\n\n        oldTree = v.utils.dom2vnode(mainContainer).children;\n\n        return v.update.apply(this, v.utils.flat(arguments, 1, []));\n    };\n};\n\nexport default plugin;\n","'use strict';\nimport Patch from './patch';\n\nfunction v(tagOrComponent, props, vnode, i, children) {\n    if (typeof tagOrComponent === 'string') {\n        vnode = {\n            name: tagOrComponent,\n            props: {},\n            children: [],\n            dom: null,\n            isVnode: true,\n            nt: 1,\n            isSVG: tagOrComponent === 'svg'\n        };\n\n        for (i in props) {\n            vnode.props[i] = props[i];\n        }\n\n        v.utils.flat(arguments, 2, vnode.children, true);\n        return vnode;\n    }\n\n    if (typeof tagOrComponent === 'function') {\n        return Object.assign({view: tagOrComponent, isComponent: true}, props);\n    }\n\n    if (typeof tagOrComponent === 'object') {\n        if (typeof tagOrComponent.view === 'function') {\n            tagOrComponent.isComponent = true;\n        }\n\n        if (tagOrComponent.isComponent) {\n            children = tagOrComponent.view.apply(tagOrComponent, v.utils.flat(arguments, 1, []));\n            return Array.isArray(children) ? children : [children];\n        }\n    }\n}\n\nv.utils = {\n    flat: function (args, start, arr, notEmpty, l) {\n        l = args.length;\n\n        if (notEmpty === undefined) {\n            notEmpty = false;\n        }\n\n        for (; start < l; start++) {\n            if (Array.isArray(args[start])) {\n                arr = v.utils.flat(args[start], 0, arr);\n                continue;\n            }\n            if (\n                notEmpty === false\n                || (\n                    args[start] !== undefined\n                    && args[start] !== null\n                )\n            ) {\n                arr.push(args[start]);\n            }\n        }\n\n        return arr;\n    },\n    dom2vnode($el, vnode) {\n        if ($el.nodeType === 3) {\n            return {\n                name: '#text',\n                isVnode: true,\n                nodeValue: $el.nodeValue,\n                children: [],\n                dom: $el,\n                nt: 3\n            };\n        }\n\n        if ($el.nodeType === 1) {\n            vnode = {\n                name: $el.nodeName.toLowerCase(),\n                props: {},\n                children: [],\n                dom: $el,\n                isVnode: true,\n                nodeValue: null,\n                nt: 1\n            };\n\n            if (vnode.name === 'svg') {\n                vnode.isSVG = true;\n            }\n\n            vnode.dom.events = {};\n\n            Array.prototype.map.call($el.attributes, function (property) {\n                vnode.props[property.nodeName] = property.nodeValue;\n            });\n\n            Array.prototype.forEach.call($el.childNodes, function ($el) {\n                let childvnode = v.utils.dom2vnode($el);\n                if (childvnode !== undefined) {\n                    vnode.children.push(childvnode);\n                }\n            });\n\n            return vnode;\n        }\n    }\n};\n\nv.is = {\n    node: typeof window === 'undefined',\n    mounted: false,\n    updating: false\n};\nv.is.browser = !v.is.node;\n\nv.trust = function (htmlString) {\n    let div = document.createElement('div');\n    div.innerHTML = htmlString.trim();\n\n    return Array.prototype.map.call(div.childNodes, (item) => v.utils.dom2vnode(item));\n};\n\nlet plugins = [];\nv.use = function (plugin, options) {\n    if (plugins.indexOf(plugin) === -1) {\n        plugin(v, options);\n        plugins.push(plugin);\n    }\n    return v;\n};\n\nv.use(Patch);\n\n(v.is.node ? global : window).v = v;\n"],"names":["plugin","v","mountedComponent","oldTree","newTree","mainContainer","lifecycleCall","vnode","methodName","oldNode","i","l","eventListener","e","patch","$parent","isSVG","max","newNode","isNew","name","serialize","el","outer","str","attr","args","update","resolve","container","tagOrComponent","props","children","start","arr","notEmpty","$el","property","childvnode","htmlString","div","item","plugins","options","Patch"],"mappings":"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"}