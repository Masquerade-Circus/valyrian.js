//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2xpYi9pbmRleC50cyJdLCJuYW1lcyI6WyJwIiwiY29uc3RydWN0b3IiLCJhIiwiZiIsImgiLCJ0aGlzIiwicHJvcHMiLCJjaGlsZHJlbiIsIm5hbWUiLCJNIiwibm9kZVZhbHVlIiwiTCIsImNvbXBvbmVudCIsIlUiLCJ3aW5kb3ciLCJnbG9iYWwiLCJPIiwiZCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRWxlbWVudCIsInciLCJWIiwiYyIsIkUiLCJub2RlTmFtZSIsInRvTG93ZXJDYXNlIiwidiIsImF0dHJpYnV0ZXMiLCJsZW5ndGgiLCJjaGlsZE5vZGVzIiwibm9kZVR5cGUiLCJwdXNoIiwiayIsImRvbSIsIkQiLCJGIiwiaW5uZXJIVE1MIiwidHJpbSIsIm1hcCIsImNhbGwiLCJIIiwiZSIsIm8iLCJ0IiwiaXNNb3VudGVkIiwiaXNOb2RlIiwicmVzZXJ2ZWRXb3JkcyIsInRydXN0IiwicGFyZW50Vm5vZGUiLCJvbGRQYXJlbnRWbm9kZSIsImN1cnJlbnQiLCJNYXAiLCJ1c2VQbHVnaW4iLCJoYXMiLCJzZXQiLCJvbkNsZWFudXAiLCJpbmRleE9mIiwiJCIsInRhcmdldCIsInR5cGUiLCJkZWZhdWx0UHJldmVudGVkIiwidXBkYXRlIiwicGFyZW50Tm9kZSIsIkciLCJTIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNsaWNlIiwiaXNTVkciLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJ4IiwiUCIsInVwZGF0ZVByb3BlcnR5IiwieSIsIm9ucmVtb3ZlIiwiTiIsImwiLCJiIiwiaSIsIm4iLCJzcGxpY2UiLCJBcnJheSIsImlzQXJyYXkiLCJ2aWV3IiwiU3RyaW5nIiwiQyIsInRleHRDb250ZW50IiwiciIsImtleSIsIm0iLCJNYXRoIiwibWF4IiwicyIsImciLCJBIiwicHJvY2Vzc2VkIiwib25iZWZvcmV1cGRhdGUiLCJvbnVwZGF0ZSIsIm9uY3JlYXRlIiwiYXBwZW5kQ2hpbGQiLCJyZXBsYWNlQ2hpbGQiLCJyZW1vdmVDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwidSIsIlQiLCJ1bk1vdW50IiwibW91bnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZGlyZWN0aXZlIiwiUiIsInN0eWxlIiwiZGlzcGxheSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIm5ld0luc3RhbmNlIl0sIm1hcHBpbmdzIjoiTUFvREEsSUFBQUEsRUFBQSxNQVNFQyxZQUFZQyxFQUFjQyxFQUFjQyxHQUN0Q0MsS0FBS0MsTUFBUUgsRUFDYkUsS0FBS0UsU0FBV0gsRUFDaEJDLEtBQUtHLEtBQU9OLElBU2hCTyxFQUFBLE1BSUVSLFlBQVlDLEdBQ1ZHLEtBQUtLLFVBQVlSLElBVXJCUyxFQUFBLE1BS0VWLFlBQVlDLEVBQThCQyxFQUFjQyxHQUN0REMsS0FBS0MsTUFBUUgsRUFDYkUsS0FBS0UsU0FBV0gsRUFDaEJDLEtBQUtPLFVBQVlWLElBc0JqQlcsRUFBMkIsb0JBQVhDLFFBQTRDLG9CQUFYQyxPQUdyRCxTQUFBQyxFQUF1QkMsRUFBaUJmLEdBQWlCLEdBQ3ZELE9BQU9BLEVBQVFnQixTQUFTQyxnQkFBZ0IsNkJBQThCRixHQUFXQyxTQUFTRSxjQUFjSCxHQUkxRyxTQUFBSSxFQUFvQkosR0FDbEIsSUFJSUssRUFDQUMsRUFDQUMsRUFORXRCLEVBQUtlLEVBQ0xkLEVBQVdELEVBQUd1QixTQUFTQyxjQUN2QnRCLEVBQWUsR0FDZnVCLEVBQTZCLEdBTW5DLElBQUtMLEVBQUksRUFBR0EsRUFBSXBCLEVBQUcwQixXQUFXQyxPQUFRUCxJQUNwQ0UsRUFBT3RCLEVBQUcwQixXQUFXTixHQUNyQmxCLEVBQU1vQixFQUFLQyxVQUFZRCxFQUFLZCxVQUk5QixJQUFLWSxFQUFJLEVBQUdBLEVBQUlwQixFQUFHNEIsV0FBV0QsT0FBUVAsSUFFcEMsR0FEQUMsRUFBWXJCLEVBQUc0QixXQUFXUixHQUNDLElBQXZCQyxFQUFVUSxTQUNaSixFQUFTSyxLQUFLWCxFQUFXRSxTQUFBLEdBQ08sSUFBdkJBLEVBQVVRLFNBQWdCLENBQ25DLElBQUlFLEVBQVks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M0MsTUFFdERVLEVBQU1wQyxLQUFPLFFBQ2JvQyxFQUFNckMsU0FBVyxHQUNqQnFDLEVBQU10QyxNQUFRLEdBQ2RzQyxFQUFNVixJQUFNb0QsR0FDTCxJQUlYLE9BQUFyRSxFQUFFNEYsVUFBVSxLQUFNQyxHQUFjLElBQ2hDN0YsRUFBRTRGLFVBQVUsU0FBVUMsR0FBYyxJQUNwQzdGLEVBQUU0RixVQUFVLE1BQU8sQ0FBQ25FLEVBQWdCQyxLQUNsQ0EsRUFBTXBDLFNBQVdtQyxFQUFJSCxJQUFJSSxFQUFNcEMsU0FBUyxNQUUxQ1UsRUFBRTRGLFVBQVUsT0FBUSxDQUFDbkUsRUFBZUMsS0FDakNBLEVBQU1ULElBQXVDNkUsTUFBTUMsUUFBVXRFLEVBQU8sR0FBSyxTQUU1RXpCLEVBQUU0RixVQUFVLFFBQVMsQ0FBQ25FLEVBQW1DQyxLQUN2RCxJQUFBLElBQVNDLEtBQVFGLEVBQ2RDLEVBQU1ULElBQW1CK0UsVUFBVUMsT0FBT3RFLEVBQU1GLEVBQVFFLE1BRzdEM0IsRUFBRTRGLFVBQVUsT0FBUSxDQUFDbkUsRUFBY0MsS0FDakNBLEVBQU1wQyxTQUFXLENBQUM2QixFQUFNTSxNQUcxQnpCLEVBQUVrRyxZQUFjMUUsRUFFVHhCLEVBR3NEd0IiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBjb21wbGV4aXR5ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBzb25hcmpzL2NvZ25pdGl2ZS1jb21wbGV4aXR5ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblxudHlwZSBWbm9kZU9yVW5rbm93biA9IFZub2RlQ29tcG9uZW50IHwgVm5vZGUgfCBUZXh0Vm5vZGUgfCBhbnk7XG5cbnR5cGUgRG9tQXR0cmlidXRlID0geyBub2RlTmFtZTogc3RyaW5nOyBub2RlVmFsdWU6IHN0cmluZyB9O1xuXG50eXBlIERvbUVsZW1lbnQgPSAoSFRNTEVsZW1lbnQgfCBTVkdFbGVtZW50KSAmIFJlY29yZDxzdHJpbmcsIGFueT47XG5cbnR5cGUgUHJvcHMgPSB7XG4gIGtleT86IHN0cmluZyB8IG51bWJlcjtcbiAgZGF0YT86IHN0cmluZztcbiAgb25jcmVhdGU/OiB7ICh2bm9kZTogVm5vZGUpOiBuZXZlciB9O1xuICBvbnVwZGF0ZT86IHsgKHZub2RlOiBWbm9kZSwgb2xkVm5vZGU6IFZub2RlIHwgVGV4dFZub2RlKTogbmV2ZXIgfTtcbiAgb25yZW1vdmU/OiB7IChvbGRWbm9kZTogVm5vZGUpOiBuZXZlciB9O1xuICBvbmJlZm9yZXVwZGF0ZT86IHsgKHZub2RlOiBWbm9kZSwgb2xkVm5vZGU6IFZub2RlIHwgVGV4dFZub2RlKTogdW5kZWZpbmVkIHwgYm9vbGVhbiB9O1xufSAmIFJlY29yZDxzdHJpbmcsIGFueT47XG5cbnR5cGUgQ29tcG9uZW50ID0gKHByb3BzPzogUmVjb3JkPHN0cmluZywgYW55PiB8IG51bGwsIGNoaWxkcmVuPzogVm5vZGVPclVua25vd24pID0+IFZub2RlT3JVbmtub3duIHwgVm5vZGVPclVua25vd25bXTtcblxudHlwZSBWYWx5cmlhbkNvbXBvbmVudCA9XG4gIHwgQ29tcG9uZW50XG4gIHwgKFJlY29yZDxzdHJpbmcsIGFueT4gJiB7XG4gICAgICB2aWV3OiBDb21wb25lbnQ7XG4gICAgfSk7XG5cbnR5cGUgQ3VycmVudCA9IHsgcGFyZW50Vm5vZGU/OiBWbm9kZTsgb2xkUGFyZW50Vm5vZGU/OiBWbm9kZTsgY29tcG9uZW50PzogVm5vZGVDb21wb25lbnQgfTtcblxuaW50ZXJmYWNlIFBsdWdpbiB7XG4gICh2OiBWYWx5cmlhbiwgb3B0aW9ucz86IFJlY29yZDxzdHJpbmcsIGFueT4pOiBuZXZlcjtcbn1cblxuaW50ZXJmYWNlIERpcmVjdGl2ZSB7XG4gICh2YWx1ZTogYW55LCB2bm9kZTogVm5vZGUsIG9sZFZub2RlPzogVm5vZGUgfCBUZXh0Vm5vZGUpOiB2b2lkIHwgYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIFZhbHlyaWFuRXZlbnRIYW5kbGVyIHtcbiAgKGE6IEV2ZW50LCBkb206IERvbUVsZW1lbnQpOiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgVm5vZGUge1xuICBuYW1lOiBzdHJpbmc7XG4gIHByb3BzOiBQcm9wcztcbiAgY2hpbGRyZW46IFZub2RlT3JVbmtub3duW107XG4gIGRvbT86IERvbUVsZW1lbnQ7XG4gIG9uQ2xlYW51cD86IEZ1bmN0aW9uQ29uc3RydWN0b3JbXTtcbiAgaXNTVkc/OiBib29sZWFuO1xuICBwcm9jZXNzZWQ/OiBib29sZWFuO1xufVxuXG5jbGFzcyBWbm9kZSBpbXBsZW1lbnRzIFZub2RlIHtcbiAgbmFtZTogc3RyaW5nO1xuICBwcm9wczogUHJvcHM7XG4gIGNoaWxkcmVuOiBWbm9kZU9yVW5rbm93bltdO1xuICBkb20/OiBEb21FbGVtZW50O1xuICBvbkNsZWFudXA/OiBGdW5jdGlvbkNvbnN0cnVjdG9yW107XG4gIGlzU1ZHPzogYm9vbGVhbjtcbiAgcHJvY2Vzc2VkPzogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHByb3BzOiBQcm9wcywgY2hpbGRyZW46IFZub2RlT3JVbmtub3duKSB7XG4gICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICB9XG59XG5cbmludGVyZmFjZSBUZXh0Vm5vZGUge1xuICBkb20/OiBUZXh0O1xuICBub2RlVmFsdWU6IHN0cmluZztcbn1cblxuY2xhc3MgVGV4dFZub2RlIGltcGxlbWVudHMgVGV4dFZub2RlIHtcbiAgZG9tPzogVGV4dDtcbiAgbm9kZVZhbHVlOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iobm9kZVZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLm5vZGVWYWx1ZSA9IG5vZGVWYWx1ZTtcbiAgfVxufVxuXG5pbnRlcmZhY2UgVm5vZGVDb21wb25lbnQge1xuICBjb21wb25lbnQ6IFZhbHlyaWFuQ29tcG9uZW50O1xuICBwcm9wczogUHJvcHM7XG4gIGNoaWxkcmVuOiBWbm9kZU9yVW5rbm93bltdO1xufVxuXG5jbGFzcyBWbm9kZUNvbXBvbmVudCBpbXBsZW1lbnRzIFZub2RlQ29tcG9uZW50IHtcbiAgY29tcG9uZW50OiBWYWx5cmlhbkNvbXBvbmVudDtcbiAgcHJvcHM6IFByb3BzO1xuICBjaGlsZHJlbjogVm5vZGVPclVua25vd25bXTtcblxuICBjb25zdHJ1Y3Rvcihjb21wb25lbnQ6IFZhbHlyaWFuQ29tcG9uZW50LCBwcm9wczogUHJvcHMsIGNoaWxkcmVuOiBWbm9kZU9yVW5rbm93bltdKSB7XG4gICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgfVxufVxuXG5pbnRlcmZhY2UgVmFseXJpYW4ge1xuICAodGFnT3JDb21wb25lbnQ6IHN0cmluZyB8IFZhbHlyaWFuQ29tcG9uZW50LCBwcm9wcz86IFByb3BzIHwgbnVsbCwgY2hpbGRyZW4/OiBWbm9kZU9yVW5rbm93bik6IFZub2RlIHwgVm5vZGVDb21wb25lbnQ7XG4gIGlzTW91bnRlZDogYm9vbGVhbjtcbiAgaXNOb2RlOiBib29sZWFuO1xuICByZXNlcnZlZFdvcmRzOiBzdHJpbmdbXTtcbiAgY3VycmVudDogQ3VycmVudDtcbiAgdHJ1c3Q6IChodG1sU3RyaW5nOiBzdHJpbmcpID0+IFZub2RlW107XG4gIHVzZVBsdWdpbjogKHBsdWdpbjogUGx1Z2luLCBvcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSA9PiB2b2lkO1xuICBvbkNsZWFudXA6IChjYWxsYmFjazogdHlwZW9mIEZ1bmN0aW9uKSA9PiB2b2lkO1xuICB1cGRhdGVQcm9wZXJ0eTogKG5hbWU6IHN0cmluZywgbmV3Vm5vZGU6IFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSwgb2xkTm9kZTogVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9KSA9PiB2b2lkO1xuICB1cGRhdGU6IChwcm9wcz86IFByb3BzIHwgbnVsbCwgLi4uY2hpbGRyZW46IFZub2RlT3JVbmtub3duKSA9PiBzdHJpbmcgfCB2b2lkO1xuICBtb3VudDogKGNvbnRhaW5lcjogc3RyaW5nIHwgRG9tRWxlbWVudCwgY29tcG9uZW50OiBWYWx5cmlhbkNvbXBvbmVudCwgcHJvcHM/OiBQcm9wcyB8IG51bGwsIC4uLmNoaWxkcmVuOiBWbm9kZU9yVW5rbm93bltdKSA9PiBzdHJpbmcgfCB2b2lkO1xuICB1bk1vdW50OiAoKSA9PiBzdHJpbmcgfCBib29sZWFuIHwgdm9pZDtcbiAgZGlyZWN0aXZlOiAoZGlyZWN0aXZlOiBzdHJpbmcsIGhhbmRsZXI6IERpcmVjdGl2ZSkgPT4gdm9pZDtcbiAgbmV3SW5zdGFuY2U6ICgpID0+IFZhbHlyaWFuO1xuICBbeDogc3RyaW5nXTogYW55O1xufVxuXG5sZXQgaXNOb2RlID0gdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiO1xuXG4vLyBDcmVhdGUgTm9kZSBlbGVtZW50XG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZ05hbWU6IHN0cmluZywgaXNTVkc6IGJvb2xlYW4gPSBmYWxzZSk6IERvbUVsZW1lbnQge1xuICByZXR1cm4gaXNTVkcgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB0YWdOYW1lKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG59XG5cbi8vIFRyYW5zZm9ybXMgYSBET00gbm9kZSB0byBhIFZOb2RlXG5mdW5jdGlvbiBkb21Ub1Zub2RlKGRvbTogRG9tRWxlbWVudCk6IFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSB7XG4gIGNvbnN0IGVsID0gZG9tO1xuICBjb25zdCBub2RlTmFtZSA9IGVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IHByb3BzOiBQcm9wcyA9IHt9O1xuICBjb25zdCBjaGlsZHJlbjogVm5vZGVPclVua25vd25bXSA9IFtdO1xuICBsZXQgaTogbnVtYmVyO1xuICBsZXQgY2hpbGROb2RlO1xuICBsZXQgYXR0cjogQXR0cjtcblxuICAvLyBhdHRyaWJ1dGVzXG4gIGZvciAoaSA9IDA7IGkgPCBlbC5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXR0ciA9IGVsLmF0dHJpYnV0ZXNbaV07XG4gICAgcHJvcHNbYXR0ci5ub2RlTmFtZV0gPSBhdHRyLm5vZGVWYWx1ZTtcbiAgfVxuXG4gIC8vIGNoaWxkcmVuXG4gIGZvciAoaSA9IDA7IGkgPCBlbC5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY2hpbGROb2RlID0gZWwuY2hpbGROb2Rlc1tpXTtcbiAgICBpZiAoY2hpbGROb2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICBjaGlsZHJlbi5wdXNoKGRvbVRvVm5vZGUoY2hpbGROb2RlIGFzIERvbUVsZW1lbnQpKTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkTm9kZS5ub2RlVHlwZSA9PT0gMykge1xuICAgICAgbGV0IHRleHRWbm9kZSA9IG5ldyBUZXh0Vm5vZGUoY2hpbGROb2RlLm5vZGVWYWx1ZSB8fCBcIlwiKTtcbiAgICAgIHRleHRWbm9kZS5kb20gPSBjaGlsZE5vZGUgYXMgVGV4dDtcbiAgICAgIGNoaWxkcmVuLnB1c2godGV4dFZub2RlKTtcbiAgICB9XG4gIH1cblxuICBsZXQgbmV3Tm9kZSA9IG5ldyBWbm9kZShub2RlTmFtZSwgcHJvcHMsIGNoaWxkcmVuKTtcbiAgbmV3Tm9kZS5kb20gPSBkb207XG4gIHJldHVybiBuZXdOb2RlIGFzIFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfTtcbn1cblxuY29uc3QgdHJ1c3QgPSAoaHRtbFN0cmluZzogc3RyaW5nKSA9PiB7XG4gIGxldCBkaXYgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZy50cmltKCk7XG5cbiAgcmV0dXJuIFtdLm1hcC5jYWxsKGRpdi5jaGlsZE5vZGVzLCAoaXRlbSkgPT4gZG9tVG9Wbm9kZShpdGVtKSkgYXMgVm5vZGVbXTtcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGluZXMtcGVyLWZ1bmN0aW9uXG5mdW5jdGlvbiB2YWx5cmlhbigpOiBWYWx5cmlhbiB7XG4gIGNvbnN0IHY6IFZhbHlyaWFuID0gKHRhZ09yQ29tcG9uZW50LCBwcm9wcywgLi4uY2hpbGRyZW4pID0+IHtcbiAgICBpZiAodHlwZW9mIHRhZ09yQ29tcG9uZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gbmV3IFZub2RlKHRhZ09yQ29tcG9uZW50LCBwcm9wcyB8fCB7fSwgY2hpbGRyZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFZub2RlQ29tcG9uZW50KHRhZ09yQ29tcG9uZW50LCBwcm9wcyB8fCB7fSwgY2hpbGRyZW4pO1xuICAgIH1cbiAgfTtcblxuICB2LmlzTW91bnRlZCA9IGZhbHNlO1xuICB2LmlzTm9kZSA9IGlzTm9kZTtcbiAgY29uc3QgcmVzZXJ2ZWRXb3JkcyA9IFtcImtleVwiLCBcImRhdGFcIiwgXCJ2LW9uY2VcIiwgXCJvbmNyZWF0ZVwiLCBcIm9udXBkYXRlXCIsIFwib25yZW1vdmVcIiwgXCJvbmJlZm9yZXVwZGF0ZVwiXTtcbiAgdi5yZXNlcnZlZFdvcmRzID0gcmVzZXJ2ZWRXb3JkcztcbiAgdi50cnVzdCA9IHRydXN0O1xuXG4gIGNvbnN0IGN1cnJlbnQ6IEN1cnJlbnQgPSB7XG4gICAgcGFyZW50Vm5vZGU6IHVuZGVmaW5lZCxcbiAgICBvbGRQYXJlbnRWbm9kZTogdW5kZWZpbmVkLFxuICAgIGNvbXBvbmVudDogdW5kZWZpbmVkXG4gIH07XG4gIHYuY3VycmVudCA9IGN1cnJlbnQ7XG5cbiAgY29uc3QgcGx1Z2lucyA9IG5ldyBNYXAoKTtcblxuICB2LnVzZVBsdWdpbiA9IChwbHVnaW46IFBsdWdpbiwgb3B0aW9uczogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9KSA9PiAhcGx1Z2lucy5oYXMocGx1Z2luKSAmJiBwbHVnaW5zLnNldChwbHVnaW4sIHRydWUpICYmIHBsdWdpbih2IGFzIFZhbHlyaWFuLCBvcHRpb25zKTtcblxuICBsZXQgdm5vZGVzVG9DbGVhbnVwOiBWbm9kZVtdID0gW107XG5cbiAgdi5vbkNsZWFudXAgPSAoY2FsbGJhY2s6IEZ1bmN0aW9uQ29uc3RydWN0b3IpID0+IHtcbiAgICBsZXQgcGFyZW50Vm5vZGUgPSB2LmN1cnJlbnQucGFyZW50Vm5vZGUgYXMgVm5vZGU7XG4gICAgaWYgKCFwYXJlbnRWbm9kZS5vbkNsZWFudXApIHtcbiAgICAgIHBhcmVudFZub2RlLm9uQ2xlYW51cCA9IFtdIGFzIEZ1bmN0aW9uQ29uc3RydWN0b3JbXTtcbiAgICB9XG5cbiAgICBwYXJlbnRWbm9kZS5vbkNsZWFudXAucHVzaChjYWxsYmFjayk7XG5cbiAgICBpZiAodm5vZGVzVG9DbGVhbnVwLmluZGV4T2YocGFyZW50Vm5vZGUpID09PSAtMSkge1xuICAgICAgdm5vZGVzVG9DbGVhbnVwLnB1c2gocGFyZW50Vm5vZGUpO1xuICAgIH1cbiAgfTtcblxuICBsZXQgY2xlYW51cFZub2RlcyA9ICgpID0+IHtcbiAgICBmb3IgKGxldCBsID0gdm5vZGVzVG9DbGVhbnVwLmxlbmd0aDsgbC0tOyApIHtcbiAgICAgIGZvciAobGV0IGNhbGxiYWNrIG9mIHZub2Rlc1RvQ2xlYW51cFtsXS5vbkNsZWFudXAgYXMgRnVuY3Rpb25Db25zdHJ1Y3RvcltdKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHZub2Rlc1RvQ2xlYW51cCA9IFtdO1xuICB9O1xuXG4gIGxldCBtYWluQ29udGFpbmVyOiBEb21FbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGxldCBlbXB0eUNvbXBvbmVudDogVmFseXJpYW5Db21wb25lbnQgPSAoKSA9PiBcIlwiO1xuICBsZXQgbW91bnRlZENvbXBvbmVudDogVmFseXJpYW5Db21wb25lbnQgPSBlbXB0eUNvbXBvbmVudDtcblxuICBjb25zdCBhdHRhY2hlZExpc3RlbmVyczogc3RyaW5nW10gPSBbXTtcbiAgZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcihlOiBFdmVudCkge1xuICAgIGxldCBkb20gPSBlLnRhcmdldCBhcyBEb21FbGVtZW50O1xuICAgIGxldCBuYW1lID0gYHYtb24ke2UudHlwZX1gO1xuICAgIHdoaWxlIChkb20pIHtcbiAgICAgIGlmIChkb21bbmFtZV0pIHtcbiAgICAgICAgKGRvbVtuYW1lXSBhcyBWYWx5cmlhbkV2ZW50SGFuZGxlcikoZSwgZG9tKTtcbiAgICAgICAgaWYgKCFlLmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICB2LnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRvbSA9IGRvbS5wYXJlbnROb2RlIGFzIERvbUVsZW1lbnQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlUHJvcGVydHkocHJvcDogc3RyaW5nLCBuZXdWbm9kZTogVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9LCBvbGRWbm9kZT86IFZub2RlKTogdm9pZCB8IGJvb2xlYW4ge1xuICAgIGlmIChyZXNlcnZlZFdvcmRzLmluZGV4T2YocHJvcCkgIT09IC0xKSB7XG4gICAgICBpZiAocHJvcCBpbiBkaXJlY3RpdmVzKSB7XG4gICAgICAgIHJldHVybiBkaXJlY3RpdmVzW3Byb3BdKG5ld1Zub2RlLnByb3BzW3Byb3BdLCBuZXdWbm9kZSwgb2xkVm5vZGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG5ld1Zub2RlLnByb3BzW3Byb3BdID09PSBcImZ1bmN0aW9uXCIgJiYgbmV3Vm5vZGUuZG9tW2B2LSR7cHJvcH1gXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoYXR0YWNoZWRMaXN0ZW5lcnMuaW5kZXhPZihwcm9wKSA9PT0gLTEpIHtcbiAgICAgICAgKG1haW5Db250YWluZXIgYXMgRG9tRWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcihwcm9wLnNsaWNlKDIpLCBldmVudExpc3RlbmVyKTtcbiAgICAgICAgYXR0YWNoZWRMaXN0ZW5lcnMucHVzaChwcm9wKTtcbiAgICAgIH1cblxuICAgICAgbmV3Vm5vZGUuZG9tW2B2LSR7cHJvcH1gXSA9IG5ld1Zub2RlLnByb3BzW3Byb3BdO1xuICAgIH0gZWxzZSBpZiAocHJvcCBpbiBuZXdWbm9kZS5kb20gJiYgIW5ld1Zub2RlLmlzU1ZHKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICBpZiAobmV3Vm5vZGUuZG9tW3Byb3BdICE9IG5ld1Zub2RlLnByb3BzW3Byb3BdKSB7XG4gICAgICAgIG5ld1Zub2RlLmRvbVtwcm9wXSA9IG5ld1Zub2RlLnByb3BzW3Byb3BdO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob2xkVm5vZGUgPT09IHVuZGVmaW5lZCB8fCBuZXdWbm9kZS5wcm9wc1twcm9wXSAhPT0gb2xkVm5vZGUucHJvcHNbcHJvcF0pIHtcbiAgICAgIGlmIChuZXdWbm9kZS5wcm9wc1twcm9wXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgbmV3Vm5vZGUuZG9tLnJlbW92ZUF0dHJpYnV0ZShwcm9wKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1Zub2RlLmRvbS5zZXRBdHRyaWJ1dGUocHJvcCwgbmV3Vm5vZGUucHJvcHNbcHJvcF0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB2LnVwZGF0ZVByb3BlcnR5ID0gdXBkYXRlUHJvcGVydHk7XG5cbiAgLy8gVXBkYXRlIGEgVm5vZGUuZG9tIEhUTUxFbGVtZW50IHdpdGggbmV3IFZub2RlIHByb3BzIHRoYXQgYXJlIGRpZmZlcmVudCBmcm9tIG9sZCBWbm9kZSBwcm9wc1xuICBmdW5jdGlvbiB1cGRhdGVQcm9wZXJ0aWVzKG5ld1Zub2RlOiBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0sIG9sZFZub2RlPzogVm5vZGUpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBwcm9wIGluIG5ld1Zub2RlLnByb3BzKSB7XG4gICAgICBpZiAodXBkYXRlUHJvcGVydHkocHJvcCwgbmV3Vm5vZGUsIG9sZFZub2RlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZVByb3BlcnRpZXMobmV3Vm5vZGU6IFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSwgb2xkVm5vZGU6IFZub2RlKSB7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBvbGRWbm9kZS5wcm9wcykge1xuICAgICAgaWYgKHJlc2VydmVkV29yZHMuaW5kZXhPZihuYW1lKSA9PT0gLTEgJiYgbmFtZSBpbiBuZXdWbm9kZS5wcm9wcyA9PT0gZmFsc2UgJiYgdHlwZW9mIG9sZFZub2RlLnByb3BzW25hbWVdICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgaWYgKG5hbWUgaW4gbmV3Vm5vZGUuZG9tKSB7XG4gICAgICAgICAgbmV3Vm5vZGUuZG9tW25hbWVdID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdWbm9kZS5kb20ucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY2FsbFJlbW92ZSA9ICh2bm9kZTogVm5vZGUpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHZub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdm5vZGUuY2hpbGRyZW5baV0gaW5zdGFuY2VvZiBWbm9kZSAmJiBjYWxsUmVtb3ZlKHZub2RlLmNoaWxkcmVuW2ldKTtcbiAgICB9XG5cbiAgICB2bm9kZS5wcm9wcy5vbnJlbW92ZSAmJiB2bm9kZS5wcm9wcy5vbnJlbW92ZSh2bm9kZSk7XG4gIH07XG4gIC8vIFBhdGNoIGEgRE9NIG5vZGUgd2l0aCBhIG5ldyBWTm9kZSB0cmVlXG4gIGZ1bmN0aW9uIHBhdGNoKG5ld1BhcmVudFZub2RlOiBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0sIG9sZFBhcmVudFZub2RlPzogVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9KTogdm9pZCB7XG4gICAgbGV0IG9sZFRyZWUgPSBvbGRQYXJlbnRWbm9kZT8uY2hpbGRyZW4gfHwgW107XG4gICAgbGV0IG5ld1RyZWUgPSBuZXdQYXJlbnRWbm9kZS5jaGlsZHJlbjtcbiAgICBsZXQgb2xkVHJlZUxlbmd0aCA9IG9sZFRyZWUubGVuZ3RoO1xuXG4gICAgY3VycmVudC5wYXJlbnRWbm9kZSA9IG5ld1BhcmVudFZub2RlO1xuICAgIGN1cnJlbnQub2xkUGFyZW50Vm5vZGUgPSBvbGRQYXJlbnRWbm9kZTtcblxuICAgIC8vIEZsYXQgbmV3VHJlZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VHJlZS5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGNoaWxkVm5vZGUgPSBuZXdUcmVlW2ldO1xuXG4gICAgICBpZiAoY2hpbGRWbm9kZSBpbnN0YW5jZW9mIFZub2RlKSB7XG4gICAgICAgIGNoaWxkVm5vZGUuaXNTVkcgPSBuZXdQYXJlbnRWbm9kZS5pc1NWRyB8fCBjaGlsZFZub2RlLm5hbWUgPT09IFwic3ZnXCI7XG4gICAgICB9IGVsc2UgaWYgKGNoaWxkVm5vZGUgPT09IG51bGwgfHwgY2hpbGRWbm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5ld1RyZWUuc3BsaWNlKGktLSwgMSk7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRWbm9kZSkpIHtcbiAgICAgICAgbmV3VHJlZS5zcGxpY2UoaS0tLCAxLCAuLi5jaGlsZFZub2RlKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGRWbm9kZSBpbnN0YW5jZW9mIFZub2RlQ29tcG9uZW50KSB7XG4gICAgICAgIHYuY3VycmVudC5jb21wb25lbnQgPSBjaGlsZFZub2RlO1xuICAgICAgICBuZXdUcmVlLnNwbGljZShcbiAgICAgICAgICBpLS0sXG4gICAgICAgICAgMSxcbiAgICAgICAgICAuLi5bXG4gICAgICAgICAgICBcInZpZXdcIiBpbiBjaGlsZFZub2RlLmNvbXBvbmVudFxuICAgICAgICAgICAgICA/IGNoaWxkVm5vZGUuY29tcG9uZW50LnZpZXcuY2FsbChjaGlsZFZub2RlLmNvbXBvbmVudCwgY2hpbGRWbm9kZS5wcm9wcywgY2hpbGRWbm9kZS5jaGlsZHJlbilcbiAgICAgICAgICAgICAgOiAoY2hpbGRWbm9kZS5jb21wb25lbnQgYXMgQ29tcG9uZW50KS5jYWxsKGNoaWxkVm5vZGUuY29tcG9uZW50LCBjaGlsZFZub2RlLnByb3BzLCBjaGlsZFZub2RlLmNoaWxkcmVuKVxuICAgICAgICAgIF1cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpID4gMCAmJiBuZXdUcmVlW2kgLSAxXS5ub2RlVmFsdWUpIHtcbiAgICAgICAgICBuZXdUcmVlW2kgLSAxXS5ub2RlVmFsdWUgKz0gY2hpbGRWbm9kZTtcbiAgICAgICAgICBuZXdUcmVlLnNwbGljZShpLS0sIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkVm5vZGUgaW5zdGFuY2VvZiBUZXh0Vm5vZGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgbmV3VHJlZVtpXSA9IG5ldyBUZXh0Vm5vZGUoU3RyaW5nKGNoaWxkVm5vZGUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCBuZXdUcmVlTGVuZ3RoID0gbmV3VHJlZS5sZW5ndGg7XG5cbiAgICAvLyBpZiBuZXdUcmVlIGlzIGVtcHR5LCByZW1vdmUgaXRcbiAgICBpZiAobmV3VHJlZUxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKG9sZFRyZWVMZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBvbGRUcmVlTGVuZ3RoOyBpLS07ICkge1xuICAgICAgICAgIG9sZFRyZWVbaV0gaW5zdGFuY2VvZiBWbm9kZSAmJiBjYWxsUmVtb3ZlKG9sZFRyZWVbaV0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZhc3Qgbm9kZSByZW1vdmUgYnkgc2V0dGluZyB0ZXh0Q29udGVudFxuICAgICAgICBuZXdQYXJlbnRWbm9kZS5kb20udGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgfVxuICAgICAgLy8gSWYgdGhlIHRyZWUgaXMga2V5ZWQgbGlzdCBhbmQgaXMgbm90IGZpcnN0IHJlbmRlclxuICAgIH0gZWxzZSBpZiAob2xkVHJlZUxlbmd0aCAmJiBuZXdUcmVlWzBdIGluc3RhbmNlb2YgVm5vZGUgJiYgXCJrZXlcIiBpbiBuZXdUcmVlWzBdLnByb3BzKSB7XG4gICAgICAvLyAxLiBNdXRhdGUgdGhlIG9sZCBrZXkgbGlzdCB0byBtYXRjaCB0aGUgbmV3IGtleSBsaXN0XG4gICAgICBsZXQgb2xkS2V5ZWRMaXN0O1xuXG4gICAgICAvLyBpZiB0aGUgb2xkVHJlZSBkb2VzIG5vdCBoYXZlIGEga2V5ZWQgbGlzdCBmYXN0IHJlbW92ZSBhbGwgbm9kZXNcbiAgICAgIGlmIChvbGRUcmVlWzBdIGluc3RhbmNlb2YgVm5vZGUgPT09IGZhbHNlIHx8IFwia2V5XCIgaW4gb2xkVHJlZVswXS5wcm9wcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IG9sZFRyZWVMZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgb2xkVHJlZVtpXSBpbnN0YW5jZW9mIFZub2RlICYmIGNhbGxSZW1vdmUob2xkVHJlZVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmFzdCBub2RlIHJlbW92ZSBieSBzZXR0aW5nIHRleHRDb250ZW50XG4gICAgICAgIG5ld1BhcmVudFZub2RlLmRvbS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgIG9sZEtleWVkTGlzdCA9IFtdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2xkS2V5ZWRMaXN0ID0gb2xkVHJlZS5tYXAoKHZub2RlKSA9PiB2bm9kZS5wcm9wcy5rZXkpO1xuICAgICAgfVxuXG4gICAgICAvLyAyLiBPYnRhaW4gdGhlIG1heCBsZW5ndGggb2YgYm90aCBsaXN0c1xuICAgICAgbGV0IG5ld0tleWVkTGlzdCA9IG5ld1RyZWUubWFwKCh2bm9kZSkgPT4gdm5vZGUucHJvcHMua2V5KTtcbiAgICAgIGNvbnN0IG1heExpc3RMZW5ndGggPSBNYXRoLm1heChuZXdUcmVlTGVuZ3RoLCBvbGRLZXllZExpc3QubGVuZ3RoKTtcblxuICAgICAgLy8gMy4gQ3ljbGUgb3ZlciBhbGwgdGhlIGVsZW1lbnRzIG9mIHRoZSBsaXN0IHVudGlsIHRoZSBtYXggbGVuZ3RoXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heExpc3RMZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSA8IG5ld1RyZWVMZW5ndGgpIHtcbiAgICAgICAgICBsZXQgY2hpbGRWbm9kZSA9IG5ld1RyZWVbaV07XG4gICAgICAgICAgbGV0IG9sZENoaWxkVm5vZGUgPSBvbGRLZXllZExpc3RbaV0gPT09IG5ld0tleWVkTGlzdFtpXSA/IG9sZFRyZWVbaV0gOiBvbGRUcmVlW29sZEtleWVkTGlzdC5pbmRleE9mKGNoaWxkVm5vZGUucHJvcHMua2V5KV07XG4gICAgICAgICAgbGV0IHNob3VsZFBhdGNoID0gdHJ1ZTtcblxuICAgICAgICAgIGlmIChvbGRDaGlsZFZub2RlKSB7XG4gICAgICAgICAgICBjaGlsZFZub2RlLmRvbSA9IG9sZENoaWxkVm5vZGUuZG9tO1xuICAgICAgICAgICAgb2xkQ2hpbGRWbm9kZS5wcm9jZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKFwidi1vbmNlXCIgaW4gY2hpbGRWbm9kZS5wcm9wcyB8fCAoY2hpbGRWbm9kZS5wcm9wcy5vbmJlZm9yZXVwZGF0ZSAmJiBjaGlsZFZub2RlLnByb3BzLm9uYmVmb3JldXBkYXRlKGNoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpID09PSBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgLy8gc2tpcCB0aGlzIHBhdGNoXG4gICAgICAgICAgICAgIGNoaWxkVm5vZGUuY2hpbGRyZW4gPSBvbGRDaGlsZFZub2RlLmNoaWxkcmVuO1xuICAgICAgICAgICAgICBzaG91bGRQYXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVtb3ZlUHJvcGVydGllcyhjaGlsZFZub2RlIGFzIFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSwgb2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgICAgICAgIHVwZGF0ZVByb3BlcnRpZXMoY2hpbGRWbm9kZSBhcyBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0sIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICAgICAgICBpZiAodi5pc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZFZub2RlLnByb3BzLm9udXBkYXRlICYmIGNoaWxkVm5vZGUucHJvcHMub251cGRhdGUoY2hpbGRWbm9kZSwgb2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZSAmJiBjaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlKGNoaWxkVm5vZGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoaWxkVm5vZGUuZG9tID0gY3JlYXRlRWxlbWVudChjaGlsZFZub2RlLm5hbWUsIGNoaWxkVm5vZGUuaXNTVkcpO1xuICAgICAgICAgICAgdXBkYXRlUHJvcGVydGllcyhjaGlsZFZub2RlIGFzIFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSk7XG4gICAgICAgICAgICBjaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlICYmIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUoY2hpbGRWbm9kZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG5ld1BhcmVudFZub2RlLmRvbS5jaGlsZE5vZGVzW2ldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5ld1BhcmVudFZub2RlLmRvbS5hcHBlbmRDaGlsZChjaGlsZFZub2RlLmRvbSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChuZXdQYXJlbnRWbm9kZS5kb20uY2hpbGROb2Rlc1tpXSAhPT0gY2hpbGRWbm9kZS5kb20pIHtcbiAgICAgICAgICAgIG9sZFRyZWVbaV0gaW5zdGFuY2VvZiBWbm9kZSAmJiAhb2xkVHJlZVtpXS5wcm9jZXNzZWQgJiYgbmV3S2V5ZWRMaXN0LmluZGV4T2Yob2xkVHJlZVtpXS5wcm9wcy5rZXkpID09PSAtMSAmJiBjYWxsUmVtb3ZlKG9sZFRyZWVbaV0pO1xuICAgICAgICAgICAgbmV3UGFyZW50Vm5vZGUuZG9tLnJlcGxhY2VDaGlsZChjaGlsZFZub2RlLmRvbSwgbmV3UGFyZW50Vm5vZGUuZG9tLmNoaWxkTm9kZXNbaV0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNob3VsZFBhdGNoICYmIHBhdGNoKGNoaWxkVm5vZGUgYXMgVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9LCBvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIW9sZFRyZWVbaV0ucHJvY2Vzc2VkKSB7XG4gICAgICAgICAgICBvbGRUcmVlW2ldIGluc3RhbmNlb2YgVm5vZGUgJiYgY2FsbFJlbW92ZShvbGRUcmVlW2ldKTtcbiAgICAgICAgICAgIG9sZFRyZWVbaV0uZG9tLnBhcmVudE5vZGUgJiYgbmV3UGFyZW50Vm5vZGUuZG9tLnJlbW92ZUNoaWxkKG9sZFRyZWVbaV0uZG9tKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdUcmVlTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGNoaWxkVm5vZGUgPSBuZXdUcmVlW2ldO1xuICAgICAgICBsZXQgb2xkQ2hpbGRWbm9kZSA9IG9sZFRyZWVbaV07XG5cbiAgICAgICAgLy8gaWYgb2xkQ2hpbGRWbm9kZSBpcyB1bmRlZmluZWQsIGl0J3MgYSBuZXcgbm9kZSwgYXBwZW5kIGl0XG4gICAgICAgIGlmIChvbGRDaGlsZFZub2RlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoY2hpbGRWbm9kZSBpbnN0YW5jZW9mIFZub2RlKSB7XG4gICAgICAgICAgICBjaGlsZFZub2RlLmRvbSA9IGNyZWF0ZUVsZW1lbnQoY2hpbGRWbm9kZS5uYW1lLCBjaGlsZFZub2RlLmlzU1ZHKTtcbiAgICAgICAgICAgIHVwZGF0ZVByb3BlcnRpZXMoY2hpbGRWbm9kZSBhcyBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0pO1xuICAgICAgICAgICAgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZSAmJiBjaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlKGNoaWxkVm5vZGUpO1xuICAgICAgICAgICAgcGF0Y2goY2hpbGRWbm9kZSBhcyBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGlsZFZub2RlLmRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNoaWxkVm5vZGUubm9kZVZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV3UGFyZW50Vm5vZGUuZG9tLmFwcGVuZENoaWxkKGNoaWxkVm5vZGUuZG9tKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpZiBjaGlsZFZub2RlIGlzIFZub2RlLCByZXBsYWNlIGl0IHdpdGggaXRzIERPTSBub2RlXG4gICAgICAgICAgaWYgKGNoaWxkVm5vZGUgaW5zdGFuY2VvZiBWbm9kZSkge1xuICAgICAgICAgICAgaWYgKGNoaWxkVm5vZGUubmFtZSA9PT0gb2xkQ2hpbGRWbm9kZS5uYW1lKSB7XG4gICAgICAgICAgICAgIGNoaWxkVm5vZGUuZG9tID0gb2xkQ2hpbGRWbm9kZS5kb207XG5cbiAgICAgICAgICAgICAgaWYgKFwidi1vbmNlXCIgaW4gY2hpbGRWbm9kZS5wcm9wcyB8fCAoY2hpbGRWbm9kZS5wcm9wcy5vbmJlZm9yZXVwZGF0ZSAmJiBjaGlsZFZub2RlLnByb3BzLm9uYmVmb3JldXBkYXRlKGNoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpID09PSBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBza2lwIHRoaXMgcGF0Y2hcbiAgICAgICAgICAgICAgICBjaGlsZFZub2RlLmNoaWxkcmVuID0gb2xkQ2hpbGRWbm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJlbW92ZVByb3BlcnRpZXMoY2hpbGRWbm9kZSBhcyBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0sIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICAgICAgICB1cGRhdGVQcm9wZXJ0aWVzKGNoaWxkVm5vZGUgYXMgVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9LCBvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgICAgICAgaWYgKHYuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRWbm9kZS5wcm9wcy5vbnVwZGF0ZSAmJiBjaGlsZFZub2RlLnByb3BzLm9udXBkYXRlKGNoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShjaGlsZFZub2RlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwYXRjaChjaGlsZFZub2RlIGFzIFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSwgb2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGlsZFZub2RlLmRvbSA9IGNyZWF0ZUVsZW1lbnQoY2hpbGRWbm9kZS5uYW1lLCBjaGlsZFZub2RlLmlzU1ZHKTtcbiAgICAgICAgICAgICAgdXBkYXRlUHJvcGVydGllcyhjaGlsZFZub2RlIGFzIFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSk7XG4gICAgICAgICAgICAgIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShjaGlsZFZub2RlKTtcbiAgICAgICAgICAgICAgb2xkQ2hpbGRWbm9kZSBpbnN0YW5jZW9mIFZub2RlICYmIGNhbGxSZW1vdmUob2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgICAgICAgIG5ld1BhcmVudFZub2RlLmRvbS5yZXBsYWNlQ2hpbGQoY2hpbGRWbm9kZS5kb20sIG9sZENoaWxkVm5vZGUuZG9tKTtcbiAgICAgICAgICAgICAgcGF0Y2goY2hpbGRWbm9kZSBhcyBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0sIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob2xkQ2hpbGRWbm9kZSBpbnN0YW5jZW9mIFZub2RlKSB7XG4gICAgICAgICAgICAgIGNoaWxkVm5vZGUuZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY2hpbGRWbm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICAgICAgICBjYWxsUmVtb3ZlKG9sZENoaWxkVm5vZGUpO1xuICAgICAgICAgICAgICBuZXdQYXJlbnRWbm9kZS5kb20ucmVwbGFjZUNoaWxkKGNoaWxkVm5vZGUuZG9tLCBvbGRDaGlsZFZub2RlLmRvbSBhcyBEb21FbGVtZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoaWxkVm5vZGUuZG9tID0gb2xkQ2hpbGRWbm9kZS5kb207XG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICAgICAgaWYgKGNoaWxkVm5vZGUubm9kZVZhbHVlICE9IGNoaWxkVm5vZGUuZG9tLm5vZGVWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNoaWxkVm5vZGUuZG9tLm5vZGVWYWx1ZSA9IGNoaWxkVm5vZGUubm9kZVZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEZvciByZW1haW5pbmcgb2xkIGNoaWxkcmVuOiByZW1vdmUgZnJvbSBET00sIGdhcmJhZ2UgY29sbGVjdFxuICAgICAgZm9yIChsZXQgaSA9IG9sZFRyZWVMZW5ndGggLSAxOyBpID49IG5ld1RyZWVMZW5ndGg7IC0taSkge1xuICAgICAgICBvbGRUcmVlW2ldIGluc3RhbmNlb2YgVm5vZGUgJiYgY2FsbFJlbW92ZShvbGRUcmVlW2ldKTtcbiAgICAgICAgb2xkVHJlZVtpXS5kb20ucGFyZW50Tm9kZSAmJiBuZXdQYXJlbnRWbm9kZS5kb20ucmVtb3ZlQ2hpbGQob2xkVHJlZVtpXS5kb20pO1xuICAgICAgfVxuICAgIH1cblxuICAgIG5ld1BhcmVudFZub2RlLmNoaWxkcmVuID0gbmV3VHJlZTtcbiAgfVxuXG4gIGxldCBtYWluVm5vZGU6IFZub2RlIHwgbnVsbCA9IG51bGw7XG4gIGxldCBvbGRNYWluVm5vZGU6IFZub2RlIHwgbnVsbCA9IG51bGw7XG5cbiAgdi51bk1vdW50ID0gKCkgPT4ge1xuICAgIG1vdW50ZWRDb21wb25lbnQgPSBlbXB0eUNvbXBvbmVudDtcbiAgICBsZXQgcmVzdWx0ID0gdi51cGRhdGUoKTtcbiAgICB2LmlzTW91bnRlZCA9IGZhbHNlO1xuICAgIG1haW5Db250YWluZXIgPSBudWxsO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdi51cGRhdGUgPSAocHJvcHMsIC4uLmNoaWxkcmVuKSA9PiB7XG4gICAgaWYgKG1haW5Wbm9kZSkge1xuICAgICAgY2xlYW51cFZub2RlcygpO1xuICAgICAgb2xkTWFpblZub2RlID0gbWFpblZub2RlO1xuICAgICAgbWFpblZub2RlID0gbmV3IFZub2RlKG1haW5Wbm9kZS5uYW1lLCBtYWluVm5vZGUucHJvcHMsIFt2KG1vdW50ZWRDb21wb25lbnQsIHByb3BzLCAuLi5jaGlsZHJlbildKTtcbiAgICAgIG1haW5Wbm9kZS5kb20gPSBvbGRNYWluVm5vZGUuZG9tO1xuICAgICAgbWFpblZub2RlLmlzU1ZHID0gb2xkTWFpblZub2RlLmlzU1ZHO1xuICAgICAgcGF0Y2gobWFpblZub2RlIGFzIFZub2RlICYgeyBkb206IE5vZGUgfSwgb2xkTWFpblZub2RlIGFzIFZub2RlICYgeyBkb206IE5vZGUgfSk7XG4gICAgICB2LmlzTW91bnRlZCA9IHRydWU7XG4gICAgICBpZiAodi5pc05vZGUpIHtcbiAgICAgICAgcmV0dXJuIChtYWluVm5vZGUuZG9tIGFzIEhUTUxFbGVtZW50KS5pbm5lckhUTUw7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHYubW91bnQgPSAoY29udGFpbmVyLCBjb21wb25lbnQsIHByb3BzLCAuLi5jaGlsZHJlbikgPT4ge1xuICAgIGlmICh2LmlzTW91bnRlZCkge1xuICAgICAgdi51bk1vdW50KCk7XG4gICAgfVxuXG4gICAgaWYgKGlzTm9kZSkge1xuICAgICAgbWFpbkNvbnRhaW5lciA9IHR5cGVvZiBjb250YWluZXIgPT09IFwic3RyaW5nXCIgPyBjcmVhdGVFbGVtZW50KGNvbnRhaW5lciwgY29udGFpbmVyID09PSBcInN2Z1wiKSA6IGNvbnRhaW5lcjtcbiAgICB9IGVsc2Uge1xuICAgICAgbWFpbkNvbnRhaW5lciA9IHR5cGVvZiBjb250YWluZXIgPT09IFwic3RyaW5nXCIgPyAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb250YWluZXIpWzBdIGFzIERvbUVsZW1lbnQpIDogY29udGFpbmVyO1xuICAgIH1cblxuICAgIGlmIChtYWluQ29udGFpbmVyICE9PSBudWxsKSB7XG4gICAgICBtYWluVm5vZGUgPSBkb21Ub1Zub2RlKG1haW5Db250YWluZXIpO1xuICAgICAgbWFpblZub2RlLmlzU1ZHID0gbWFpblZub2RlLm5hbWUgPT09IFwic3ZnXCI7XG4gICAgICBvbGRNYWluVm5vZGUgPSBtYWluVm5vZGU7XG4gICAgICBtb3VudGVkQ29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgIH1cblxuICAgIHJldHVybiB2LnVwZGF0ZShwcm9wcywgLi4uY2hpbGRyZW4pO1xuICB9O1xuXG4gIGxldCBkaXJlY3RpdmVzOiBSZWNvcmQ8c3RyaW5nLCBEaXJlY3RpdmU+ID0ge307XG5cbiAgdi5kaXJlY3RpdmUgPSAobmFtZTogc3RyaW5nLCBkaXJlY3RpdmU6IERpcmVjdGl2ZSkgPT4ge1xuICAgIGxldCBmdWxsTmFtZSA9IGB2LSR7bmFtZX1gO1xuICAgIGlmIChyZXNlcnZlZFdvcmRzLmluZGV4T2YoZnVsbE5hbWUpID09PSAtMSkge1xuICAgICAgcmVzZXJ2ZWRXb3Jkcy5wdXNoKGZ1bGxOYW1lKTtcbiAgICAgIGRpcmVjdGl2ZXNbZnVsbE5hbWVdID0gZGlyZWN0aXZlO1xuICAgIH1cbiAgfTtcblxuICBsZXQgaGlkZURpcmVjdGl2ZSA9ICh0ZXN0OiBib29sZWFuKSA9PiAoYm9vbDogYm9vbGVhbiwgdm5vZGU6IFZub2RlLCBvbGRub2RlPzogVm5vZGUgfCBUZXh0Vm5vZGUpID0+IHtcbiAgICBsZXQgdmFsdWUgPSB0ZXN0ID8gYm9vbCA6ICFib29sO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgbGV0IG5ld2RvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO1xuICAgICAgaWYgKG9sZG5vZGUgJiYgb2xkbm9kZS5kb20gJiYgb2xkbm9kZS5kb20ucGFyZW50Tm9kZSkge1xuICAgICAgICBvbGRub2RlIGluc3RhbmNlb2YgVm5vZGUgJiYgY2FsbFJlbW92ZShvbGRub2RlKTtcbiAgICAgICAgb2xkbm9kZS5kb20ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3ZG9tLCBvbGRub2RlLmRvbSk7XG4gICAgICB9XG4gICAgICB2bm9kZS5uYW1lID0gXCIjdGV4dFwiO1xuICAgICAgdm5vZGUuY2hpbGRyZW4gPSBbXTtcbiAgICAgIHZub2RlLnByb3BzID0ge307XG4gICAgICB2bm9kZS5kb20gPSBuZXdkb20gYXMgdW5rbm93biBhcyBEb21FbGVtZW50O1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICB2LmRpcmVjdGl2ZShcImlmXCIsIGhpZGVEaXJlY3RpdmUoZmFsc2UpKTtcbiAgdi5kaXJlY3RpdmUoXCJ1bmxlc3NcIiwgaGlkZURpcmVjdGl2ZSh0cnVlKSk7XG4gIHYuZGlyZWN0aXZlKFwiZm9yXCIsIChzZXQ6IHVua25vd25bXSwgdm5vZGU6IFZub2RlKSA9PiB7XG4gICAgdm5vZGUuY2hpbGRyZW4gPSBzZXQubWFwKHZub2RlLmNoaWxkcmVuWzBdIGFzICh2YWx1ZTogdW5rbm93bikgPT4gRnVuY3Rpb24pO1xuICB9KTtcbiAgdi5kaXJlY3RpdmUoXCJzaG93XCIsIChib29sOiBib29sZWFuLCB2bm9kZTogVm5vZGUpID0+IHtcbiAgICAodm5vZGUuZG9tIGFzIHsgc3R5bGU6IHsgZGlzcGxheTogc3RyaW5nIH0gfSkuc3R5bGUuZGlzcGxheSA9IGJvb2wgPyBcIlwiIDogXCJub25lXCI7XG4gIH0pO1xuICB2LmRpcmVjdGl2ZShcImNsYXNzXCIsIChjbGFzc2VzOiB7IFt4OiBzdHJpbmddOiBib29sZWFuIH0sIHZub2RlOiBWbm9kZSkgPT4ge1xuICAgIGZvciAobGV0IG5hbWUgaW4gY2xhc3Nlcykge1xuICAgICAgKHZub2RlLmRvbSBhcyBEb21FbGVtZW50KS5jbGFzc0xpc3QudG9nZ2xlKG5hbWUsIGNsYXNzZXNbbmFtZV0pO1xuICAgIH1cbiAgfSk7XG4gIHYuZGlyZWN0aXZlKFwiaHRtbFwiLCAoaHRtbDogc3RyaW5nLCB2bm9kZTogVm5vZGUpID0+IHtcbiAgICB2bm9kZS5jaGlsZHJlbiA9IFt0cnVzdChodG1sKV07XG4gIH0pO1xuXG4gIHYubmV3SW5zdGFuY2UgPSB2YWx5cmlhbjtcblxuICByZXR1cm4gdjtcbn1cblxuKChpc05vZGUgPyBnbG9iYWwgOiB3aW5kb3cpIGFzIHVua25vd24gYXMgeyB2OiBWYWx5cmlhbiB9KS52ID0gdmFseXJpYW4oKTtcbiJdfQ==