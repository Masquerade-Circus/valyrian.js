//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2xpYi9pbmRleC50cyJdLCJuYW1lcyI6WyJwIiwiY29uc3RydWN0b3IiLCJhIiwidSIsImMiLCJ0aGlzIiwicHJvcHMiLCJjaGlsZHJlbiIsIm5hbWUiLCJ4Iiwibm9kZVZhbHVlIiwiTSIsImNvbXBvbmVudCIsIlMiLCJ3aW5kb3ciLCJnbG9iYWwiLCJOIiwiZCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRWxlbWVudCIsIkwiLCJmb3JFYWNoIiwiY2FsbCIsImF0dHJpYnV0ZXMiLCJub2RlTmFtZSIsInRvTG93ZXJDYXNlIiwiZG9tIiwieSIsImNoaWxkTm9kZXMiLCJsZW5ndGgiLCJub2RlVHlwZSIsInB1c2giLCJrIiwiRiIsImlubmVySFRNTCIsInRyaW0iLCJtYXAiLCJ2IiwiSCIsImUiLCJvIiwidCIsImlzTW91bnRlZCIsImlzTm9kZSIsInJlc2VydmVkV29yZHMiLCJ0cnVzdCIsInBhcmVudFZub2RlIiwib2xkUGFyZW50Vm5vZGUiLCJjdXJyZW50IiwiTWFwIiwidXNlUGx1Z2luIiwiaGFzIiwic2V0Iiwib25DbGVhbnVwIiwiaW5kZXhPZiIsImciLCJVIiwiVCIsIkciLCIkIiwidGFyZ2V0IiwidHlwZSIsImRlZmF1bHRQcmV2ZW50ZWQiLCJ1cGRhdGUiLCJwYXJlbnROb2RlIiwidyIsIk8iLCJhZGRFdmVudExpc3RlbmVyIiwic2xpY2UiLCJpc1NWRyIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsIkUiLCJQIiwidXBkYXRlUHJvcGVydHkiLCJWIiwib25yZW1vdmUiLCJEIiwibCIsIkMiLCJpIiwibiIsInNwbGljZSIsIkFycmF5IiwiaXNBcnJheSIsInZpZXciLCJTdHJpbmciLCJ0ZXh0Q29udGVudCIsInIiLCJrZXkiLCJtIiwiTWF0aCIsIm1heCIsInMiLCJoIiwiQSIsInByb2Nlc3NlZCIsIm9uYmVmb3JldXBkYXRlIiwib251cGRhdGUiLCJvbmNyZWF0ZSIsImFwcGVuZENoaWxkIiwicmVwbGFjZUNoaWxkIiwicmVtb3ZlQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsImYiLCJiIiwidW5Nb3VudCIsIm1vdW50IiwicXVlcnlTZWxlY3RvckFsbCIsImRpcmVjdGl2ZSIsIlIiLCJzdHlsZSIsImRpc3BsYXkiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJuZXdJbnN0YW5jZSJdLCJtYXBwaW5ncyI6Ik1Bb0RBLElBQUFBLEVBQUEsTUFTRUMsWUFBWUMsRUFBY0MsRUFBY0MsR0FDdENDLEtBQUtDLE1BQVFILEVBQ2JFLEtBQUtFLFNBQVdILEVBQ2hCQyxLQUFLRyxLQUFPTixJQVNoQk8sRUFBQSxNQUlFUixZQUFZQyxHQUNWRyxLQUFLSyxVQUFZUixJQVVyQlMsRUFBQSxNQUtFVixZQUFZQyxFQUE4QkMsRUFBY0MsR0FDdERDLEtBQUtDLE1BQVFILEVBQ2JFLEtBQUtFLFNBQVdILEVBQ2hCQyxLQUFLTyxVQUFZVixJQXNCakJXLEVBQTJCLG9CQUFYQyxRQUE0QyxvQkFBWEMsT0FHckQsU0FBQUMsRUFBdUJDLEVBQWlCZixHQUFpQixHQUN2RCxPQUFPQSxFQUFRZ0IsU0FBU0MsZ0JBQWdCLDZCQUE4QkYsR0FBV0MsU0FBU0UsY0FBY0gsR0FJMUcsU0FBQUksRUFBb0JKLEdBQ2xCLElBQUlmLEVBQWUsR0FDbkIsR0FBR29CLFFBQVFDLEtBQUtOLEVBQUlPLFdBQWFwQixHQUFnQkYsRUFBTUUsRUFBS3FCLFVBQVlyQixFQUFLTSxXQUU3RSxJQUFJUCxFQUFlLElBQUlILEVBQU1pQixFQUFJUSxTQUFTQyxjQUFleEIsRUFBTyxJQUNoRUMsRUFBTXdCLElBQU1WLEVBRVosSUFBQSxJQUFTYixFQUFJLEVBQUd3QixFQUFJWCxFQUFJWSxXQUFXQyxPQUFRMUIsRUFBSXdCLEVBQUd4QixJQUNoRCxHQUFtQyxJQUEvQmEsRUFBSVksV0FBV3pCLEdBQUcyQixTQUNwQjVCLEVBQU1JLFNBQVN5QixLQUFLWCxFQUFXSixFQUFJWSxXQUFXekIsVUFBQSxHQUNOLElBQS9CYSxFQUFJWSxXQUFXekIsR0FBRzJCLFNBQWdC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QU8sUUFDYmtDLEVBQU1uQyxTQUFXLEdBQ2pCbUMsRUFBTXBDLE1BQVEsR0FDZG9DLEVBQU1mLElBQU1XLEdBQ0wsSUFJWCxPQUFBckIsRUFBRTZGLFVBQVUsS0FBTUMsR0FBYyxJQUNoQzlGLEVBQUU2RixVQUFVLFNBQVVDLEdBQWMsSUFDcEM5RixFQUFFNkYsVUFBVSxNQUFPLENBQUN0RSxFQUFnQkMsS0FDbENBLEVBQU1sQyxTQUFXaUMsRUFBSUgsSUFBSUksRUFBTWxDLFNBQVMsTUFFMUNVLEVBQUU2RixVQUFVLE9BQVEsQ0FBQ3RFLEVBQWVDLEtBQ2pDQSxFQUFNZCxJQUF1Q3FGLE1BQU1DLFFBQVV6RSxFQUFPLEdBQUssU0FFNUV2QixFQUFFNkYsVUFBVSxRQUFTLENBQUN0RSxFQUFtQ0MsS0FDdkQsSUFBQSxJQUFTQyxLQUFRRixFQUNkQyxFQUFNZCxJQUFtQnVGLFVBQVVDLE9BQU96RSxFQUFNRixFQUFRRSxNQUc3RHpCLEVBQUU2RixVQUFVLE9BQVEsQ0FBQ3RFLEVBQWNDLEtBQ2pDQSxFQUFNbEMsU0FBVyxDQUFDMkIsRUFBTU0sTUFHMUJ2QixFQUFFbUcsWUFBYzdFLEVBRVR0QixFQUdzRHNCIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgY29tcGxleGl0eSAqL1xuLyogZXNsaW50LWRpc2FibGUgc29uYXJqcy9jb2duaXRpdmUtY29tcGxleGl0eSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tdXNlLWJlZm9yZS1kZWZpbmUgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5cbnR5cGUgVm5vZGVPclVua25vd24gPSBWbm9kZUNvbXBvbmVudCB8IFZub2RlIHwgVGV4dFZub2RlIHwgYW55O1xuXG50eXBlIERvbUF0dHJpYnV0ZSA9IHsgbm9kZU5hbWU6IHN0cmluZzsgbm9kZVZhbHVlOiBzdHJpbmcgfTtcblxudHlwZSBEb21FbGVtZW50ID0gKEhUTUxFbGVtZW50IHwgU1ZHRWxlbWVudCkgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuXG50eXBlIFByb3BzID0ge1xuICBrZXk/OiBzdHJpbmcgfCBudW1iZXI7XG4gIGRhdGE/OiBzdHJpbmc7XG4gIG9uY3JlYXRlPzogeyAodm5vZGU6IFZub2RlKTogbmV2ZXIgfTtcbiAgb251cGRhdGU/OiB7ICh2bm9kZTogVm5vZGUsIG9sZFZub2RlOiBWbm9kZSB8IFRleHRWbm9kZSk6IG5ldmVyIH07XG4gIG9ucmVtb3ZlPzogeyAob2xkVm5vZGU6IFZub2RlKTogbmV2ZXIgfTtcbiAgb25iZWZvcmV1cGRhdGU/OiB7ICh2bm9kZTogVm5vZGUsIG9sZFZub2RlOiBWbm9kZSB8IFRleHRWbm9kZSk6IHVuZGVmaW5lZCB8IGJvb2xlYW4gfTtcbn0gJiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuXG50eXBlIENvbXBvbmVudCA9IChwcm9wcz86IFJlY29yZDxzdHJpbmcsIGFueT4gfCBudWxsLCBjaGlsZHJlbj86IFZub2RlT3JVbmtub3duKSA9PiBWbm9kZU9yVW5rbm93biB8IFZub2RlT3JVbmtub3duW107XG5cbnR5cGUgVmFseXJpYW5Db21wb25lbnQgPVxuICB8IENvbXBvbmVudFxuICB8IChSZWNvcmQ8c3RyaW5nLCBhbnk+ICYge1xuICAgICAgdmlldzogQ29tcG9uZW50O1xuICAgIH0pO1xuXG50eXBlIEN1cnJlbnQgPSB7IHBhcmVudFZub2RlPzogVm5vZGU7IG9sZFBhcmVudFZub2RlPzogVm5vZGU7IGNvbXBvbmVudD86IFZub2RlQ29tcG9uZW50IH07XG5cbmludGVyZmFjZSBQbHVnaW4ge1xuICAodjogVmFseXJpYW4sIG9wdGlvbnM/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogbmV2ZXI7XG59XG5cbmludGVyZmFjZSBEaXJlY3RpdmUge1xuICAodmFsdWU6IGFueSwgdm5vZGU6IFZub2RlLCBvbGRWbm9kZT86IFZub2RlIHwgVGV4dFZub2RlKTogdm9pZCB8IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBWYWx5cmlhbkV2ZW50SGFuZGxlciB7XG4gIChhOiBFdmVudCwgZG9tOiBEb21FbGVtZW50KTogdm9pZDtcbn1cblxuaW50ZXJmYWNlIFZub2RlIHtcbiAgbmFtZTogc3RyaW5nO1xuICBwcm9wczogUHJvcHM7XG4gIGNoaWxkcmVuOiBWbm9kZU9yVW5rbm93bltdO1xuICBkb20/OiBEb21FbGVtZW50O1xuICBvbkNsZWFudXA/OiBGdW5jdGlvbkNvbnN0cnVjdG9yW107XG4gIGlzU1ZHPzogYm9vbGVhbjtcbiAgcHJvY2Vzc2VkPzogYm9vbGVhbjtcbn1cblxuY2xhc3MgVm5vZGUgaW1wbGVtZW50cyBWbm9kZSB7XG4gIG5hbWU6IHN0cmluZztcbiAgcHJvcHM6IFByb3BzO1xuICBjaGlsZHJlbjogVm5vZGVPclVua25vd25bXTtcbiAgZG9tPzogRG9tRWxlbWVudDtcbiAgb25DbGVhbnVwPzogRnVuY3Rpb25Db25zdHJ1Y3RvcltdO1xuICBpc1NWRz86IGJvb2xlYW47XG4gIHByb2Nlc3NlZD86IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBwcm9wczogUHJvcHMsIGNoaWxkcmVuOiBWbm9kZU9yVW5rbm93bikge1xuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgfVxufVxuXG5pbnRlcmZhY2UgVGV4dFZub2RlIHtcbiAgZG9tPzogVGV4dDtcbiAgbm9kZVZhbHVlOiBzdHJpbmc7XG59XG5cbmNsYXNzIFRleHRWbm9kZSBpbXBsZW1lbnRzIFRleHRWbm9kZSB7XG4gIGRvbT86IFRleHQ7XG4gIG5vZGVWYWx1ZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG5vZGVWYWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5ub2RlVmFsdWUgPSBub2RlVmFsdWU7XG4gIH1cbn1cblxuaW50ZXJmYWNlIFZub2RlQ29tcG9uZW50IHtcbiAgY29tcG9uZW50OiBWYWx5cmlhbkNvbXBvbmVudDtcbiAgcHJvcHM6IFByb3BzO1xuICBjaGlsZHJlbjogVm5vZGVPclVua25vd25bXTtcbn1cblxuY2xhc3MgVm5vZGVDb21wb25lbnQgaW1wbGVtZW50cyBWbm9kZUNvbXBvbmVudCB7XG4gIGNvbXBvbmVudDogVmFseXJpYW5Db21wb25lbnQ7XG4gIHByb3BzOiBQcm9wcztcbiAgY2hpbGRyZW46IFZub2RlT3JVbmtub3duW107XG5cbiAgY29uc3RydWN0b3IoY29tcG9uZW50OiBWYWx5cmlhbkNvbXBvbmVudCwgcHJvcHM6IFByb3BzLCBjaGlsZHJlbjogVm5vZGVPclVua25vd25bXSkge1xuICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gIH1cbn1cblxuaW50ZXJmYWNlIFZhbHlyaWFuIHtcbiAgKHRhZ09yQ29tcG9uZW50OiBzdHJpbmcgfCBWYWx5cmlhbkNvbXBvbmVudCwgcHJvcHM/OiBQcm9wcyB8IG51bGwsIGNoaWxkcmVuPzogVm5vZGVPclVua25vd24pOiBWbm9kZSB8IFZub2RlQ29tcG9uZW50O1xuICBpc01vdW50ZWQ6IGJvb2xlYW47XG4gIGlzTm9kZTogYm9vbGVhbjtcbiAgcmVzZXJ2ZWRXb3Jkczogc3RyaW5nW107XG4gIGN1cnJlbnQ6IEN1cnJlbnQ7XG4gIHRydXN0OiAoaHRtbFN0cmluZzogc3RyaW5nKSA9PiBWbm9kZVtdO1xuICB1c2VQbHVnaW46IChwbHVnaW46IFBsdWdpbiwgb3B0aW9uczogUmVjb3JkPHN0cmluZywgYW55PikgPT4gdm9pZDtcbiAgb25DbGVhbnVwOiAoY2FsbGJhY2s6IHR5cGVvZiBGdW5jdGlvbikgPT4gdm9pZDtcbiAgdXBkYXRlUHJvcGVydHk6IChuYW1lOiBzdHJpbmcsIG5ld1Zub2RlOiBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0sIG9sZE5vZGU6IFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSkgPT4gdm9pZDtcbiAgdXBkYXRlOiAocHJvcHM/OiBQcm9wcyB8IG51bGwsIC4uLmNoaWxkcmVuOiBWbm9kZU9yVW5rbm93bikgPT4gc3RyaW5nIHwgdm9pZDtcbiAgbW91bnQ6IChjb250YWluZXI6IHN0cmluZyB8IERvbUVsZW1lbnQsIGNvbXBvbmVudDogVmFseXJpYW5Db21wb25lbnQsIHByb3BzPzogUHJvcHMgfCBudWxsLCAuLi5jaGlsZHJlbjogVm5vZGVPclVua25vd25bXSkgPT4gc3RyaW5nIHwgdm9pZDtcbiAgdW5Nb3VudDogKCkgPT4gc3RyaW5nIHwgYm9vbGVhbiB8IHZvaWQ7XG4gIGRpcmVjdGl2ZTogKGRpcmVjdGl2ZTogc3RyaW5nLCBoYW5kbGVyOiBEaXJlY3RpdmUpID0+IHZvaWQ7XG4gIG5ld0luc3RhbmNlOiAoKSA9PiBWYWx5cmlhbjtcbiAgW3g6IHN0cmluZ106IGFueTtcbn1cblxubGV0IGlzTm9kZSA9IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIjtcblxuLy8gQ3JlYXRlIE5vZGUgZWxlbWVudFxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWdOYW1lOiBzdHJpbmcsIGlzU1ZHOiBib29sZWFuID0gZmFsc2UpOiBEb21FbGVtZW50IHtcbiAgcmV0dXJuIGlzU1ZHID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgdGFnTmFtZSkgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xufVxuXG4vLyBUcmFuc2Zvcm1zIGEgRE9NIG5vZGUgdG8gYSBWTm9kZVxuZnVuY3Rpb24gZG9tVG9Wbm9kZShkb206IERvbUVsZW1lbnQpOiBWbm9kZSB7XG4gIGxldCBwcm9wczogUHJvcHMgPSB7fTtcbiAgW10uZm9yRWFjaC5jYWxsKGRvbS5hdHRyaWJ1dGVzLCAocHJvcDogQXR0cikgPT4gKHByb3BzW3Byb3Aubm9kZU5hbWVdID0gcHJvcC5ub2RlVmFsdWUpKTtcblxuICBsZXQgdm5vZGU6IFZub2RlID0gbmV3IFZub2RlKGRvbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCBwcm9wcywgW10pO1xuICB2bm9kZS5kb20gPSBkb207XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBkb20uY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoZG9tLmNoaWxkTm9kZXNbaV0ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgIHZub2RlLmNoaWxkcmVuLnB1c2goZG9tVG9Wbm9kZShkb20uY2hpbGROb2Rlc1tpXSBhcyBEb21FbGVtZW50KSk7XG4gICAgfSBlbHNlIGlmIChkb20uY2hpbGROb2Rlc1tpXS5ub2RlVHlwZSA9PT0gMykge1xuICAgICAgbGV0IHRleHRWbm9kZSA9IG5ldyBUZXh0Vm5vZGUoZG9tLmNoaWxkTm9kZXNbaV0ubm9kZVZhbHVlIHx8IFwiXCIpO1xuICAgICAgdGV4dFZub2RlLmRvbSA9IGRvbS5jaGlsZE5vZGVzW2ldIGFzIHVua25vd24gYXMgVGV4dDtcbiAgICAgIHZub2RlLmNoaWxkcmVuLnB1c2godGV4dFZub2RlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZub2RlO1xufVxuXG5jb25zdCB0cnVzdCA9IChodG1sU3RyaW5nOiBzdHJpbmcpID0+IHtcbiAgbGV0IGRpdiA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGRpdi5pbm5lckhUTUwgPSBodG1sU3RyaW5nLnRyaW0oKTtcblxuICByZXR1cm4gW10ubWFwLmNhbGwoZGl2LmNoaWxkTm9kZXMsIChpdGVtKSA9PiBkb21Ub1Zub2RlKGl0ZW0pKSBhcyBWbm9kZVtdO1xufTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1saW5lcy1wZXItZnVuY3Rpb25cbmZ1bmN0aW9uIHZhbHlyaWFuKCk6IFZhbHlyaWFuIHtcbiAgY29uc3QgdjogVmFseXJpYW4gPSAodGFnT3JDb21wb25lbnQsIHByb3BzLCAuLi5jaGlsZHJlbikgPT4ge1xuICAgIGlmICh0eXBlb2YgdGFnT3JDb21wb25lbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBuZXcgVm5vZGUodGFnT3JDb21wb25lbnQsIHByb3BzIHx8IHt9LCBjaGlsZHJlbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgVm5vZGVDb21wb25lbnQodGFnT3JDb21wb25lbnQsIHByb3BzIHx8IHt9LCBjaGlsZHJlbik7XG4gICAgfVxuICB9O1xuXG4gIHYuaXNNb3VudGVkID0gZmFsc2U7XG4gIHYuaXNOb2RlID0gaXNOb2RlO1xuICBjb25zdCByZXNlcnZlZFdvcmRzID0gW1wia2V5XCIsIFwiZGF0YVwiLCBcInYtb25jZVwiLCBcIm9uY3JlYXRlXCIsIFwib251cGRhdGVcIiwgXCJvbnJlbW92ZVwiLCBcIm9uYmVmb3JldXBkYXRlXCJdO1xuICB2LnJlc2VydmVkV29yZHMgPSByZXNlcnZlZFdvcmRzO1xuICB2LnRydXN0ID0gdHJ1c3Q7XG5cbiAgY29uc3QgY3VycmVudDogQ3VycmVudCA9IHtcbiAgICBwYXJlbnRWbm9kZTogdW5kZWZpbmVkLFxuICAgIG9sZFBhcmVudFZub2RlOiB1bmRlZmluZWQsXG4gICAgY29tcG9uZW50OiB1bmRlZmluZWRcbiAgfTtcbiAgdi5jdXJyZW50ID0gY3VycmVudDtcblxuICBjb25zdCBwbHVnaW5zID0gbmV3IE1hcCgpO1xuXG4gIHYudXNlUGx1Z2luID0gKHBsdWdpbjogUGx1Z2luLCBvcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge30pID0+ICFwbHVnaW5zLmhhcyhwbHVnaW4pICYmIHBsdWdpbnMuc2V0KHBsdWdpbiwgdHJ1ZSkgJiYgcGx1Z2luKHYgYXMgVmFseXJpYW4sIG9wdGlvbnMpO1xuXG4gIGxldCB2bm9kZXNUb0NsZWFudXA6IFZub2RlW10gPSBbXTtcblxuICB2Lm9uQ2xlYW51cCA9IChjYWxsYmFjazogRnVuY3Rpb25Db25zdHJ1Y3RvcikgPT4ge1xuICAgIGxldCBwYXJlbnRWbm9kZSA9IHYuY3VycmVudC5wYXJlbnRWbm9kZSBhcyBWbm9kZTtcbiAgICBpZiAoIXBhcmVudFZub2RlLm9uQ2xlYW51cCkge1xuICAgICAgcGFyZW50Vm5vZGUub25DbGVhbnVwID0gW10gYXMgRnVuY3Rpb25Db25zdHJ1Y3RvcltdO1xuICAgIH1cblxuICAgIHBhcmVudFZub2RlLm9uQ2xlYW51cC5wdXNoKGNhbGxiYWNrKTtcblxuICAgIGlmICh2bm9kZXNUb0NsZWFudXAuaW5kZXhPZihwYXJlbnRWbm9kZSkgPT09IC0xKSB7XG4gICAgICB2bm9kZXNUb0NsZWFudXAucHVzaChwYXJlbnRWbm9kZSk7XG4gICAgfVxuICB9O1xuXG4gIGxldCBjbGVhbnVwVm5vZGVzID0gKCkgPT4ge1xuICAgIGZvciAobGV0IGwgPSB2bm9kZXNUb0NsZWFudXAubGVuZ3RoOyBsLS07ICkge1xuICAgICAgZm9yIChsZXQgY2FsbGJhY2sgb2Ygdm5vZGVzVG9DbGVhbnVwW2xdLm9uQ2xlYW51cCBhcyBGdW5jdGlvbkNvbnN0cnVjdG9yW10pIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdm5vZGVzVG9DbGVhbnVwID0gW107XG4gIH07XG5cbiAgbGV0IG1haW5Db250YWluZXI6IERvbUVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgbGV0IGVtcHR5Q29tcG9uZW50OiBWYWx5cmlhbkNvbXBvbmVudCA9ICgpID0+IFwiXCI7XG4gIGxldCBtb3VudGVkQ29tcG9uZW50OiBWYWx5cmlhbkNvbXBvbmVudCA9IGVtcHR5Q29tcG9uZW50O1xuXG4gIGNvbnN0IGF0dGFjaGVkTGlzdGVuZXJzOiBzdHJpbmdbXSA9IFtdO1xuICBmdW5jdGlvbiBldmVudExpc3RlbmVyKGU6IEV2ZW50KSB7XG4gICAgbGV0IGRvbSA9IGUudGFyZ2V0IGFzIERvbUVsZW1lbnQ7XG4gICAgbGV0IG5hbWUgPSBgdi1vbiR7ZS50eXBlfWA7XG4gICAgd2hpbGUgKGRvbSkge1xuICAgICAgaWYgKGRvbVtuYW1lXSkge1xuICAgICAgICAoZG9tW25hbWVdIGFzIFZhbHlyaWFuRXZlbnRIYW5kbGVyKShlLCBkb20pO1xuICAgICAgICBpZiAoIWUuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgIHYudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZG9tID0gZG9tLnBhcmVudE5vZGUgYXMgRG9tRWxlbWVudDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVQcm9wZXJ0eShwcm9wOiBzdHJpbmcsIG5ld1Zub2RlOiBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0sIG9sZFZub2RlPzogVm5vZGUpOiB2b2lkIHwgYm9vbGVhbiB7XG4gICAgaWYgKHJlc2VydmVkV29yZHMuaW5kZXhPZihwcm9wKSAhPT0gLTEpIHtcbiAgICAgIGlmIChwcm9wIGluIGRpcmVjdGl2ZXMpIHtcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZXNbcHJvcF0obmV3Vm5vZGUucHJvcHNbcHJvcF0sIG5ld1Zub2RlLCBvbGRWbm9kZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbmV3Vm5vZGUucHJvcHNbcHJvcF0gPT09IFwiZnVuY3Rpb25cIiAmJiBuZXdWbm9kZS5kb21bYHYtJHtwcm9wfWBdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChhdHRhY2hlZExpc3RlbmVycy5pbmRleE9mKHByb3ApID09PSAtMSkge1xuICAgICAgICAobWFpbkNvbnRhaW5lciBhcyBEb21FbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKHByb3Auc2xpY2UoMiksIGV2ZW50TGlzdGVuZXIpO1xuICAgICAgICBhdHRhY2hlZExpc3RlbmVycy5wdXNoKHByb3ApO1xuICAgICAgfVxuXG4gICAgICBuZXdWbm9kZS5kb21bYHYtJHtwcm9wfWBdID0gbmV3Vm5vZGUucHJvcHNbcHJvcF07XG4gICAgfSBlbHNlIGlmIChwcm9wIGluIG5ld1Zub2RlLmRvbSAmJiAhbmV3Vm5vZGUuaXNTVkcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgIGlmIChuZXdWbm9kZS5kb21bcHJvcF0gIT0gbmV3Vm5vZGUucHJvcHNbcHJvcF0pIHtcbiAgICAgICAgbmV3Vm5vZGUuZG9tW3Byb3BdID0gbmV3Vm5vZGUucHJvcHNbcHJvcF07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvbGRWbm9kZSA9PT0gdW5kZWZpbmVkIHx8IG5ld1Zub2RlLnByb3BzW3Byb3BdICE9PSBvbGRWbm9kZS5wcm9wc1twcm9wXSkge1xuICAgICAgaWYgKG5ld1Zub2RlLnByb3BzW3Byb3BdID09PSBmYWxzZSkge1xuICAgICAgICBuZXdWbm9kZS5kb20ucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3Vm5vZGUuZG9tLnNldEF0dHJpYnV0ZShwcm9wLCBuZXdWbm9kZS5wcm9wc1twcm9wXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHYudXBkYXRlUHJvcGVydHkgPSB1cGRhdGVQcm9wZXJ0eTtcblxuICAvLyBVcGRhdGUgYSBWbm9kZS5kb20gSFRNTEVsZW1lbnQgd2l0aCBuZXcgVm5vZGUgcHJvcHMgdGhhdCBhcmUgZGlmZmVyZW50IGZyb20gb2xkIFZub2RlIHByb3BzXG4gIGZ1bmN0aW9uIHVwZGF0ZVByb3BlcnRpZXMobmV3Vm5vZGU6IFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSwgb2xkVm5vZGU/OiBWbm9kZSk6IHZvaWQge1xuICAgIGZvciAobGV0IHByb3AgaW4gbmV3Vm5vZGUucHJvcHMpIHtcbiAgICAgIGlmICh1cGRhdGVQcm9wZXJ0eShwcm9wLCBuZXdWbm9kZSwgb2xkVm5vZGUpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlUHJvcGVydGllcyhuZXdWbm9kZTogVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9LCBvbGRWbm9kZTogVm5vZGUpIHtcbiAgICBmb3IgKGxldCBuYW1lIGluIG9sZFZub2RlLnByb3BzKSB7XG4gICAgICBpZiAocmVzZXJ2ZWRXb3Jkcy5pbmRleE9mKG5hbWUpID09PSAtMSAmJiBuYW1lIGluIG5ld1Zub2RlLnByb3BzID09PSBmYWxzZSAmJiB0eXBlb2Ygb2xkVm5vZGUucHJvcHNbbmFtZV0gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBpZiAobmFtZSBpbiBuZXdWbm9kZS5kb20pIHtcbiAgICAgICAgICBuZXdWbm9kZS5kb21bbmFtZV0gPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld1Zub2RlLmRvbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBjYWxsUmVtb3ZlID0gKHZub2RlOiBWbm9kZSkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gdm5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2bm9kZS5jaGlsZHJlbltpXSBpbnN0YW5jZW9mIFZub2RlICYmIGNhbGxSZW1vdmUodm5vZGUuY2hpbGRyZW5baV0pO1xuICAgIH1cblxuICAgIHZub2RlLnByb3BzLm9ucmVtb3ZlICYmIHZub2RlLnByb3BzLm9ucmVtb3ZlKHZub2RlKTtcbiAgfTtcbiAgLy8gUGF0Y2ggYSBET00gbm9kZSB3aXRoIGEgbmV3IFZOb2RlIHRyZWVcbiAgZnVuY3Rpb24gcGF0Y2gobmV3UGFyZW50Vm5vZGU6IFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSwgb2xkUGFyZW50Vm5vZGU/OiBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0pOiB2b2lkIHtcbiAgICBsZXQgb2xkVHJlZSA9IG9sZFBhcmVudFZub2RlPy5jaGlsZHJlbiB8fCBbXTtcbiAgICBsZXQgbmV3VHJlZSA9IG5ld1BhcmVudFZub2RlLmNoaWxkcmVuO1xuICAgIGxldCBvbGRUcmVlTGVuZ3RoID0gb2xkVHJlZS5sZW5ndGg7XG5cbiAgICBjdXJyZW50LnBhcmVudFZub2RlID0gbmV3UGFyZW50Vm5vZGU7XG4gICAgY3VycmVudC5vbGRQYXJlbnRWbm9kZSA9IG9sZFBhcmVudFZub2RlO1xuXG4gICAgLy8gRmxhdCBuZXdUcmVlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdUcmVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY2hpbGRWbm9kZSA9IG5ld1RyZWVbaV07XG5cbiAgICAgIGlmIChjaGlsZFZub2RlIGluc3RhbmNlb2YgVm5vZGUpIHtcbiAgICAgICAgY2hpbGRWbm9kZS5pc1NWRyA9IG5ld1BhcmVudFZub2RlLmlzU1ZHIHx8IGNoaWxkVm5vZGUubmFtZSA9PT0gXCJzdmdcIjtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGRWbm9kZSA9PT0gbnVsbCB8fCBjaGlsZFZub2RlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmV3VHJlZS5zcGxpY2UoaS0tLCAxKTtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjaGlsZFZub2RlKSkge1xuICAgICAgICBuZXdUcmVlLnNwbGljZShpLS0sIDEsIC4uLmNoaWxkVm5vZGUpO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZFZub2RlIGluc3RhbmNlb2YgVm5vZGVDb21wb25lbnQpIHtcbiAgICAgICAgdi5jdXJyZW50LmNvbXBvbmVudCA9IGNoaWxkVm5vZGU7XG4gICAgICAgIG5ld1RyZWUuc3BsaWNlKFxuICAgICAgICAgIGktLSxcbiAgICAgICAgICAxLFxuICAgICAgICAgIC4uLltcbiAgICAgICAgICAgIFwidmlld1wiIGluIGNoaWxkVm5vZGUuY29tcG9uZW50XG4gICAgICAgICAgICAgID8gY2hpbGRWbm9kZS5jb21wb25lbnQudmlldy5jYWxsKGNoaWxkVm5vZGUuY29tcG9uZW50LCBjaGlsZFZub2RlLnByb3BzLCBjaGlsZFZub2RlLmNoaWxkcmVuKVxuICAgICAgICAgICAgICA6IChjaGlsZFZub2RlLmNvbXBvbmVudCBhcyBDb21wb25lbnQpLmNhbGwoY2hpbGRWbm9kZS5jb21wb25lbnQsIGNoaWxkVm5vZGUucHJvcHMsIGNoaWxkVm5vZGUuY2hpbGRyZW4pXG4gICAgICAgICAgXVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGkgPiAwICYmIG5ld1RyZWVbaSAtIDFdLm5vZGVWYWx1ZSkge1xuICAgICAgICAgIG5ld1RyZWVbaSAtIDFdLm5vZGVWYWx1ZSArPSBjaGlsZFZub2RlO1xuICAgICAgICAgIG5ld1RyZWUuc3BsaWNlKGktLSwgMSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hpbGRWbm9kZSBpbnN0YW5jZW9mIFRleHRWbm9kZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBuZXdUcmVlW2ldID0gbmV3IFRleHRWbm9kZShTdHJpbmcoY2hpbGRWbm9kZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IG5ld1RyZWVMZW5ndGggPSBuZXdUcmVlLmxlbmd0aDtcblxuICAgIC8vIGlmIG5ld1RyZWUgaXMgZW1wdHksIHJlbW92ZSBpdFxuICAgIGlmIChuZXdUcmVlTGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAob2xkVHJlZUxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IG9sZFRyZWVMZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgb2xkVHJlZVtpXSBpbnN0YW5jZW9mIFZub2RlICYmIGNhbGxSZW1vdmUob2xkVHJlZVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmFzdCBub2RlIHJlbW92ZSBieSBzZXR0aW5nIHRleHRDb250ZW50XG4gICAgICAgIG5ld1BhcmVudFZub2RlLmRvbS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICB9XG4gICAgICAvLyBJZiB0aGUgdHJlZSBpcyBrZXllZCBsaXN0IGFuZCBpcyBub3QgZmlyc3QgcmVuZGVyXG4gICAgfSBlbHNlIGlmIChvbGRUcmVlTGVuZ3RoICYmIG5ld1RyZWVbMF0gaW5zdGFuY2VvZiBWbm9kZSAmJiBcImtleVwiIGluIG5ld1RyZWVbMF0ucHJvcHMpIHtcbiAgICAgIC8vIDEuIE11dGF0ZSB0aGUgb2xkIGtleSBsaXN0IHRvIG1hdGNoIHRoZSBuZXcga2V5IGxpc3RcbiAgICAgIGxldCBvbGRLZXllZExpc3Q7XG5cbiAgICAgIC8vIGlmIHRoZSBvbGRUcmVlIGRvZXMgbm90IGhhdmUgYSBrZXllZCBsaXN0IGZhc3QgcmVtb3ZlIGFsbCBub2Rlc1xuICAgICAgaWYgKG9sZFRyZWVbMF0gaW5zdGFuY2VvZiBWbm9kZSA9PT0gZmFsc2UgfHwgXCJrZXlcIiBpbiBvbGRUcmVlWzBdLnByb3BzID09PSBmYWxzZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gb2xkVHJlZUxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgICBvbGRUcmVlW2ldIGluc3RhbmNlb2YgVm5vZGUgJiYgY2FsbFJlbW92ZShvbGRUcmVlW2ldKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGYXN0IG5vZGUgcmVtb3ZlIGJ5IHNldHRpbmcgdGV4dENvbnRlbnRcbiAgICAgICAgbmV3UGFyZW50Vm5vZGUuZG9tLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgICAgb2xkS2V5ZWRMaXN0ID0gW107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvbGRLZXllZExpc3QgPSBvbGRUcmVlLm1hcCgodm5vZGUpID0+IHZub2RlLnByb3BzLmtleSk7XG4gICAgICB9XG5cbiAgICAgIC8vIDIuIE9idGFpbiB0aGUgbWF4IGxlbmd0aCBvZiBib3RoIGxpc3RzXG4gICAgICBsZXQgbmV3S2V5ZWRMaXN0ID0gbmV3VHJlZS5tYXAoKHZub2RlKSA9PiB2bm9kZS5wcm9wcy5rZXkpO1xuICAgICAgY29uc3QgbWF4TGlzdExlbmd0aCA9IE1hdGgubWF4KG5ld1RyZWVMZW5ndGgsIG9sZEtleWVkTGlzdC5sZW5ndGgpO1xuXG4gICAgICAvLyAzLiBDeWNsZSBvdmVyIGFsbCB0aGUgZWxlbWVudHMgb2YgdGhlIGxpc3QgdW50aWwgdGhlIG1heCBsZW5ndGhcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4TGlzdExlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpIDwgbmV3VHJlZUxlbmd0aCkge1xuICAgICAgICAgIGxldCBjaGlsZFZub2RlID0gbmV3VHJlZVtpXTtcbiAgICAgICAgICBsZXQgb2xkQ2hpbGRWbm9kZSA9IG9sZEtleWVkTGlzdFtpXSA9PT0gbmV3S2V5ZWRMaXN0W2ldID8gb2xkVHJlZVtpXSA6IG9sZFRyZWVbb2xkS2V5ZWRMaXN0LmluZGV4T2YoY2hpbGRWbm9kZS5wcm9wcy5rZXkpXTtcbiAgICAgICAgICBsZXQgc2hvdWxkUGF0Y2ggPSB0cnVlO1xuXG4gICAgICAgICAgaWYgKG9sZENoaWxkVm5vZGUpIHtcbiAgICAgICAgICAgIGNoaWxkVm5vZGUuZG9tID0gb2xkQ2hpbGRWbm9kZS5kb207XG4gICAgICAgICAgICBvbGRDaGlsZFZub2RlLnByb2Nlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoXCJ2LW9uY2VcIiBpbiBjaGlsZFZub2RlLnByb3BzIHx8IChjaGlsZFZub2RlLnByb3BzLm9uYmVmb3JldXBkYXRlICYmIGNoaWxkVm5vZGUucHJvcHMub25iZWZvcmV1cGRhdGUoY2hpbGRWbm9kZSwgb2xkQ2hpbGRWbm9kZSkgPT09IGZhbHNlKSkge1xuICAgICAgICAgICAgICAvLyBza2lwIHRoaXMgcGF0Y2hcbiAgICAgICAgICAgICAgY2hpbGRWbm9kZS5jaGlsZHJlbiA9IG9sZENoaWxkVm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgICAgIHNob3VsZFBhdGNoID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZW1vdmVQcm9wZXJ0aWVzKGNoaWxkVm5vZGUgYXMgVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9LCBvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgICAgICAgdXBkYXRlUHJvcGVydGllcyhjaGlsZFZub2RlIGFzIFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSwgb2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgICAgICAgIGlmICh2LmlzTW91bnRlZCkge1xuICAgICAgICAgICAgICAgIGNoaWxkVm5vZGUucHJvcHMub251cGRhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5vbnVwZGF0ZShjaGlsZFZub2RlLCBvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlICYmIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUoY2hpbGRWbm9kZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hpbGRWbm9kZS5kb20gPSBjcmVhdGVFbGVtZW50KGNoaWxkVm5vZGUubmFtZSwgY2hpbGRWbm9kZS5pc1NWRyk7XG4gICAgICAgICAgICB1cGRhdGVQcm9wZXJ0aWVzKGNoaWxkVm5vZGUgYXMgVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9KTtcbiAgICAgICAgICAgIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShjaGlsZFZub2RlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobmV3UGFyZW50Vm5vZGUuZG9tLmNoaWxkTm9kZXNbaV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3UGFyZW50Vm5vZGUuZG9tLmFwcGVuZENoaWxkKGNoaWxkVm5vZGUuZG9tKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5ld1BhcmVudFZub2RlLmRvbS5jaGlsZE5vZGVzW2ldICE9PSBjaGlsZFZub2RlLmRvbSkge1xuICAgICAgICAgICAgb2xkVHJlZVtpXSBpbnN0YW5jZW9mIFZub2RlICYmICFvbGRUcmVlW2ldLnByb2Nlc3NlZCAmJiBuZXdLZXllZExpc3QuaW5kZXhPZihvbGRUcmVlW2ldLnByb3BzLmtleSkgPT09IC0xICYmIGNhbGxSZW1vdmUob2xkVHJlZVtpXSk7XG4gICAgICAgICAgICBuZXdQYXJlbnRWbm9kZS5kb20ucmVwbGFjZUNoaWxkKGNoaWxkVm5vZGUuZG9tLCBuZXdQYXJlbnRWbm9kZS5kb20uY2hpbGROb2Rlc1tpXSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc2hvdWxkUGF0Y2ggJiYgcGF0Y2goY2hpbGRWbm9kZSBhcyBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0sIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghb2xkVHJlZVtpXS5wcm9jZXNzZWQpIHtcbiAgICAgICAgICAgIG9sZFRyZWVbaV0gaW5zdGFuY2VvZiBWbm9kZSAmJiBjYWxsUmVtb3ZlKG9sZFRyZWVbaV0pO1xuICAgICAgICAgICAgb2xkVHJlZVtpXS5kb20ucGFyZW50Tm9kZSAmJiBuZXdQYXJlbnRWbm9kZS5kb20ucmVtb3ZlQ2hpbGQob2xkVHJlZVtpXS5kb20pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1RyZWVMZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY2hpbGRWbm9kZSA9IG5ld1RyZWVbaV07XG4gICAgICAgIGxldCBvbGRDaGlsZFZub2RlID0gb2xkVHJlZVtpXTtcblxuICAgICAgICAvLyBpZiBvbGRDaGlsZFZub2RlIGlzIHVuZGVmaW5lZCwgaXQncyBhIG5ldyBub2RlLCBhcHBlbmQgaXRcbiAgICAgICAgaWYgKG9sZENoaWxkVm5vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChjaGlsZFZub2RlIGluc3RhbmNlb2YgVm5vZGUpIHtcbiAgICAgICAgICAgIGNoaWxkVm5vZGUuZG9tID0gY3JlYXRlRWxlbWVudChjaGlsZFZub2RlLm5hbWUsIGNoaWxkVm5vZGUuaXNTVkcpO1xuICAgICAgICAgICAgdXBkYXRlUHJvcGVydGllcyhjaGlsZFZub2RlIGFzIFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSk7XG4gICAgICAgICAgICBjaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlICYmIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUoY2hpbGRWbm9kZSk7XG4gICAgICAgICAgICBwYXRjaChjaGlsZFZub2RlIGFzIFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoaWxkVm5vZGUuZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY2hpbGRWbm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdQYXJlbnRWbm9kZS5kb20uYXBwZW5kQ2hpbGQoY2hpbGRWbm9kZS5kb20pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGlmIGNoaWxkVm5vZGUgaXMgVm5vZGUsIHJlcGxhY2UgaXQgd2l0aCBpdHMgRE9NIG5vZGVcbiAgICAgICAgICBpZiAoY2hpbGRWbm9kZSBpbnN0YW5jZW9mIFZub2RlKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGRWbm9kZS5uYW1lID09PSBvbGRDaGlsZFZub2RlLm5hbWUpIHtcbiAgICAgICAgICAgICAgY2hpbGRWbm9kZS5kb20gPSBvbGRDaGlsZFZub2RlLmRvbTtcblxuICAgICAgICAgICAgICBpZiAoXCJ2LW9uY2VcIiBpbiBjaGlsZFZub2RlLnByb3BzIHx8IChjaGlsZFZub2RlLnByb3BzLm9uYmVmb3JldXBkYXRlICYmIGNoaWxkVm5vZGUucHJvcHMub25iZWZvcmV1cGRhdGUoY2hpbGRWbm9kZSwgb2xkQ2hpbGRWbm9kZSkgPT09IGZhbHNlKSkge1xuICAgICAgICAgICAgICAgIC8vIHNraXAgdGhpcyBwYXRjaFxuICAgICAgICAgICAgICAgIGNoaWxkVm5vZGUuY2hpbGRyZW4gPSBvbGRDaGlsZFZub2RlLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmVtb3ZlUHJvcGVydGllcyhjaGlsZFZub2RlIGFzIFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSwgb2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgICAgICAgIHVwZGF0ZVByb3BlcnRpZXMoY2hpbGRWbm9kZSBhcyBWbm9kZSAmIHsgZG9tOiBEb21FbGVtZW50IH0sIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICAgICAgICBpZiAodi5pc01vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZFZub2RlLnByb3BzLm9udXBkYXRlICYmIGNoaWxkVm5vZGUucHJvcHMub251cGRhdGUoY2hpbGRWbm9kZSwgb2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZSAmJiBjaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlKGNoaWxkVm5vZGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHBhdGNoKGNoaWxkVm5vZGUgYXMgVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9LCBvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoaWxkVm5vZGUuZG9tID0gY3JlYXRlRWxlbWVudChjaGlsZFZub2RlLm5hbWUsIGNoaWxkVm5vZGUuaXNTVkcpO1xuICAgICAgICAgICAgICB1cGRhdGVQcm9wZXJ0aWVzKGNoaWxkVm5vZGUgYXMgVm5vZGUgJiB7IGRvbTogRG9tRWxlbWVudCB9KTtcbiAgICAgICAgICAgICAgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZSAmJiBjaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlKGNoaWxkVm5vZGUpO1xuICAgICAgICAgICAgICBvbGRDaGlsZFZub2RlIGluc3RhbmNlb2YgVm5vZGUgJiYgY2FsbFJlbW92ZShvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgICAgICAgbmV3UGFyZW50Vm5vZGUuZG9tLnJlcGxhY2VDaGlsZChjaGlsZFZub2RlLmRvbSwgb2xkQ2hpbGRWbm9kZS5kb20pO1xuICAgICAgICAgICAgICBwYXRjaChjaGlsZFZub2RlIGFzIFZub2RlICYgeyBkb206IERvbUVsZW1lbnQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvbGRDaGlsZFZub2RlIGluc3RhbmNlb2YgVm5vZGUpIHtcbiAgICAgICAgICAgICAgY2hpbGRWbm9kZS5kb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZFZub2RlLm5vZGVWYWx1ZSk7XG4gICAgICAgICAgICAgIGNhbGxSZW1vdmUob2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgICAgICAgIG5ld1BhcmVudFZub2RlLmRvbS5yZXBsYWNlQ2hpbGQoY2hpbGRWbm9kZS5kb20sIG9sZENoaWxkVm5vZGUuZG9tIGFzIERvbUVsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2hpbGRWbm9kZS5kb20gPSBvbGRDaGlsZFZub2RlLmRvbTtcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgICAgICBpZiAoY2hpbGRWbm9kZS5ub2RlVmFsdWUgIT0gY2hpbGRWbm9kZS5kb20ubm9kZVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRWbm9kZS5kb20ubm9kZVZhbHVlID0gY2hpbGRWbm9kZS5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gRm9yIHJlbWFpbmluZyBvbGQgY2hpbGRyZW46IHJlbW92ZSBmcm9tIERPTSwgZ2FyYmFnZSBjb2xsZWN0XG4gICAgICBmb3IgKGxldCBpID0gb2xkVHJlZUxlbmd0aCAtIDE7IGkgPj0gbmV3VHJlZUxlbmd0aDsgLS1pKSB7XG4gICAgICAgIG9sZFRyZWVbaV0gaW5zdGFuY2VvZiBWbm9kZSAmJiBjYWxsUmVtb3ZlKG9sZFRyZWVbaV0pO1xuICAgICAgICBvbGRUcmVlW2ldLmRvbS5wYXJlbnROb2RlICYmIG5ld1BhcmVudFZub2RlLmRvbS5yZW1vdmVDaGlsZChvbGRUcmVlW2ldLmRvbSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbmV3UGFyZW50Vm5vZGUuY2hpbGRyZW4gPSBuZXdUcmVlO1xuICB9XG5cbiAgbGV0IG1haW5Wbm9kZTogVm5vZGUgfCBudWxsID0gbnVsbDtcbiAgbGV0IG9sZE1haW5Wbm9kZTogVm5vZGUgfCBudWxsID0gbnVsbDtcblxuICB2LnVuTW91bnQgPSAoKSA9PiB7XG4gICAgbW91bnRlZENvbXBvbmVudCA9IGVtcHR5Q29tcG9uZW50O1xuICAgIGxldCByZXN1bHQgPSB2LnVwZGF0ZSgpO1xuICAgIHYuaXNNb3VudGVkID0gZmFsc2U7XG4gICAgbWFpbkNvbnRhaW5lciA9IG51bGw7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICB2LnVwZGF0ZSA9IChwcm9wcywgLi4uY2hpbGRyZW4pID0+IHtcbiAgICBpZiAobWFpblZub2RlKSB7XG4gICAgICBjbGVhbnVwVm5vZGVzKCk7XG4gICAgICBvbGRNYWluVm5vZGUgPSBtYWluVm5vZGU7XG4gICAgICBtYWluVm5vZGUgPSBuZXcgVm5vZGUobWFpblZub2RlLm5hbWUsIG1haW5Wbm9kZS5wcm9wcywgW3YobW91bnRlZENvbXBvbmVudCwgcHJvcHMsIC4uLmNoaWxkcmVuKV0pO1xuICAgICAgbWFpblZub2RlLmRvbSA9IG9sZE1haW5Wbm9kZS5kb207XG4gICAgICBtYWluVm5vZGUuaXNTVkcgPSBvbGRNYWluVm5vZGUuaXNTVkc7XG4gICAgICBwYXRjaChtYWluVm5vZGUgYXMgVm5vZGUgJiB7IGRvbTogTm9kZSB9LCBvbGRNYWluVm5vZGUgYXMgVm5vZGUgJiB7IGRvbTogTm9kZSB9KTtcbiAgICAgIHYuaXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgIGlmICh2LmlzTm9kZSkge1xuICAgICAgICByZXR1cm4gKG1haW5Wbm9kZS5kb20gYXMgSFRNTEVsZW1lbnQpLmlubmVySFRNTDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdi5tb3VudCA9IChjb250YWluZXIsIGNvbXBvbmVudCwgcHJvcHMsIC4uLmNoaWxkcmVuKSA9PiB7XG4gICAgaWYgKHYuaXNNb3VudGVkKSB7XG4gICAgICB2LnVuTW91bnQoKTtcbiAgICB9XG5cbiAgICBpZiAoaXNOb2RlKSB7XG4gICAgICBtYWluQ29udGFpbmVyID0gdHlwZW9mIGNvbnRhaW5lciA9PT0gXCJzdHJpbmdcIiA/IGNyZWF0ZUVsZW1lbnQoY29udGFpbmVyLCBjb250YWluZXIgPT09IFwic3ZnXCIpIDogY29udGFpbmVyO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYWluQ29udGFpbmVyID0gdHlwZW9mIGNvbnRhaW5lciA9PT0gXCJzdHJpbmdcIiA/IChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbnRhaW5lcilbMF0gYXMgRG9tRWxlbWVudCkgOiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgaWYgKG1haW5Db250YWluZXIgIT09IG51bGwpIHtcbiAgICAgIG1haW5Wbm9kZSA9IGRvbVRvVm5vZGUobWFpbkNvbnRhaW5lcik7XG4gICAgICBtYWluVm5vZGUuaXNTVkcgPSBtYWluVm5vZGUubmFtZSA9PT0gXCJzdmdcIjtcbiAgICAgIG9sZE1haW5Wbm9kZSA9IG1haW5Wbm9kZTtcbiAgICAgIG1vdW50ZWRDb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHYudXBkYXRlKHByb3BzLCAuLi5jaGlsZHJlbik7XG4gIH07XG5cbiAgbGV0IGRpcmVjdGl2ZXM6IFJlY29yZDxzdHJpbmcsIERpcmVjdGl2ZT4gPSB7fTtcblxuICB2LmRpcmVjdGl2ZSA9IChuYW1lOiBzdHJpbmcsIGRpcmVjdGl2ZTogRGlyZWN0aXZlKSA9PiB7XG4gICAgbGV0IGZ1bGxOYW1lID0gYHYtJHtuYW1lfWA7XG4gICAgaWYgKHJlc2VydmVkV29yZHMuaW5kZXhPZihmdWxsTmFtZSkgPT09IC0xKSB7XG4gICAgICByZXNlcnZlZFdvcmRzLnB1c2goZnVsbE5hbWUpO1xuICAgICAgZGlyZWN0aXZlc1tmdWxsTmFtZV0gPSBkaXJlY3RpdmU7XG4gICAgfVxuICB9O1xuXG4gIGxldCBoaWRlRGlyZWN0aXZlID0gKHRlc3Q6IGJvb2xlYW4pID0+IChib29sOiBib29sZWFuLCB2bm9kZTogVm5vZGUsIG9sZG5vZGU/OiBWbm9kZSB8IFRleHRWbm9kZSkgPT4ge1xuICAgIGxldCB2YWx1ZSA9IHRlc3QgPyBib29sIDogIWJvb2w7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBsZXQgbmV3ZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7XG4gICAgICBpZiAob2xkbm9kZSAmJiBvbGRub2RlLmRvbSAmJiBvbGRub2RlLmRvbS5wYXJlbnROb2RlKSB7XG4gICAgICAgIG9sZG5vZGUgaW5zdGFuY2VvZiBWbm9kZSAmJiBjYWxsUmVtb3ZlKG9sZG5vZGUpO1xuICAgICAgICBvbGRub2RlLmRvbS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdkb20sIG9sZG5vZGUuZG9tKTtcbiAgICAgIH1cbiAgICAgIHZub2RlLm5hbWUgPSBcIiN0ZXh0XCI7XG4gICAgICB2bm9kZS5jaGlsZHJlbiA9IFtdO1xuICAgICAgdm5vZGUucHJvcHMgPSB7fTtcbiAgICAgIHZub2RlLmRvbSA9IG5ld2RvbSBhcyB1bmtub3duIGFzIERvbUVsZW1lbnQ7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIHYuZGlyZWN0aXZlKFwiaWZcIiwgaGlkZURpcmVjdGl2ZShmYWxzZSkpO1xuICB2LmRpcmVjdGl2ZShcInVubGVzc1wiLCBoaWRlRGlyZWN0aXZlKHRydWUpKTtcbiAgdi5kaXJlY3RpdmUoXCJmb3JcIiwgKHNldDogdW5rbm93bltdLCB2bm9kZTogVm5vZGUpID0+IHtcbiAgICB2bm9kZS5jaGlsZHJlbiA9IHNldC5tYXAodm5vZGUuY2hpbGRyZW5bMF0gYXMgKHZhbHVlOiB1bmtub3duKSA9PiBGdW5jdGlvbik7XG4gIH0pO1xuICB2LmRpcmVjdGl2ZShcInNob3dcIiwgKGJvb2w6IGJvb2xlYW4sIHZub2RlOiBWbm9kZSkgPT4ge1xuICAgICh2bm9kZS5kb20gYXMgeyBzdHlsZTogeyBkaXNwbGF5OiBzdHJpbmcgfSB9KS5zdHlsZS5kaXNwbGF5ID0gYm9vbCA/IFwiXCIgOiBcIm5vbmVcIjtcbiAgfSk7XG4gIHYuZGlyZWN0aXZlKFwiY2xhc3NcIiwgKGNsYXNzZXM6IHsgW3g6IHN0cmluZ106IGJvb2xlYW4gfSwgdm5vZGU6IFZub2RlKSA9PiB7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBjbGFzc2VzKSB7XG4gICAgICAodm5vZGUuZG9tIGFzIERvbUVsZW1lbnQpLmNsYXNzTGlzdC50b2dnbGUobmFtZSwgY2xhc3Nlc1tuYW1lXSk7XG4gICAgfVxuICB9KTtcbiAgdi5kaXJlY3RpdmUoXCJodG1sXCIsIChodG1sOiBzdHJpbmcsIHZub2RlOiBWbm9kZSkgPT4ge1xuICAgIHZub2RlLmNoaWxkcmVuID0gW3RydXN0KGh0bWwpXTtcbiAgfSk7XG5cbiAgdi5uZXdJbnN0YW5jZSA9IHZhbHlyaWFuO1xuXG4gIHJldHVybiB2O1xufVxuXG4oKGlzTm9kZSA/IGdsb2JhbCA6IHdpbmRvdykgYXMgdW5rbm93biBhcyB7IHY6IFZhbHlyaWFuIH0pLnYgPSB2YWx5cmlhbigpO1xuIl19