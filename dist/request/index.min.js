(()=>{var e={isNodeJs:Boolean("undefined"!=typeof process&&process.versions&&process.versions.node)};function t(e,s=""){return Object.keys(e).map(o=>{let r=s?`${s}[${o}]`:o;return"object"==typeof e[o]?t(e[o],r):`${encodeURIComponent(r)}=${encodeURIComponent(e[o])}`}).join("&")}var s=function s(o="",r={allowedMethods:["get","post","put","patch","delete"]}){let n=o.replace(/\/$/gi,"").trim();r.urls||(r.urls={base:"",node:null,api:null});let l={...r,urls:{node:r.urls.node||null,api:r.urls.api||null,base:r.urls.base?r.urls.base+n:n}};const i=async function(s,o,r,n={}){let i={method:s.toUpperCase(),headers:{},resolveWithFullResponse:!1,...l,...n};i.headers.Accept||(i.headers.Accept="application/json");let a=i.headers.Accept,p=i.headers["Content-Type"]||i.headers["content-type"]||"";if(-1===i.allowedMethods.indexOf(s))throw new Error("Method not allowed");if(r&&("GET"===i.method&&"object"==typeof r&&(o+=`?${t(r)}`),"GET"!==i.method))if(/json/gi.test(p))i.body=JSON.stringify(r);else{let e;if(r instanceof FormData)e=r;else{e=new FormData;for(let t in r)e.append(t,r[t])}i.body=e}let u=await fetch(function(t,s){let o=/^https?/gi.test(t)?t:s.urls.base+t,r=o.split("?");return o=r[0].trim().replace(/^\/\//,"/").replace(/\/$/,"").trim(),r[1]&&(o+=`?${r[1]}`),e.isNodeJs&&"string"==typeof s.urls.node&&(s.urls.node=s.urls.node,"string"==typeof s.urls.api&&(s.urls.api=s.urls.api.replace(/\/$/gi,"").trim(),o=o.replace(s.urls.api,s.urls.node)),/^https?/gi.test(o)||(o=s.urls.node+o)),o}(o,l),i),d=null;if(!u.ok){let e=new Error(u.statusText);if(e.response=u,/text/gi.test(a)&&(e.body=await u.text()),/json/gi.test(a))try{e.body=await u.json()}catch(e){}throw e}if(i.resolveWithFullResponse)return u;if(/text/gi.test(a))return d=await u.text(),d;if(/json/gi.test(a))try{return d=await u.json(),d}catch(e){}return u};return i.new=(e,t)=>s(e,{...l,...t}),i.setOption=(e,t)=>{let s,o=l,r=e.split(".");for(;r.length;){s=r.shift();let e=s.indexOf("[")>-1;if(e){let e=s.replace(/\D/gi,"");s=s.split("[")[0],r.unshift(e)}r.length>0&&"object"!=typeof o[s]&&(o[s]=e?[]:{}),0===r.length&&void 0!==t&&(o[s]=t),o=o[s]}return o},i.getOptions=e=>{if(!e)return l;let t,s=l,o=e.split(".");for(;o.length;){if(t=o.shift(),t.indexOf("[")>-1){let e=t.replace(/\D/gi,"");t=t.split("[")[0],o.unshift(e)}if(o.length>0&&"object"!=typeof s[t])return null;if(0===o.length)return s[t];s=s[t]}},l.allowedMethods.forEach(e=>i[e]=(t,s,o)=>i(e,t,s,o)),i}(),o={default:t=>(e=t,t.request=s,s),request:s};"undefined"!=typeof module?module.exports=o:self.ValyrianRequest=o})();//# sourceMappingURL=index.min.js.map