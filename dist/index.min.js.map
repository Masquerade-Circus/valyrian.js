//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc05vZGVKcyIsIkJvb2xlYW4iLCJwcm9jZXNzIiwidmVyc2lvbnMiLCJub2RlIiwiVm5vZGUiLCJjb25zdHJ1Y3RvciIsInRhZyIsInByb3BzIiwiY2hpbGRyZW4iLCJkb20iLCJpc1NWRyIsInRoaXMiLCJpc0NvbXBvbmVudCIsImNvbXBvbmVudCIsImlzVm5vZGUiLCJvYmplY3QiLCJpc1Zub2RlQ29tcG9uZW50IiwidiIsInRhZ09yQ29tcG9uZW50IiwiZG9tVG9Wbm9kZSIsIm5vZGVUeXBlIiwibm9kZVZhbHVlIiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsImkiLCJsIiwiY2hpbGROb2RlcyIsImxlbmd0aCIsImNoaWxkRG9tIiwicHVzaCIsImNoaWxkVm5vZGUiLCJhdHRyaWJ1dGVzIiwiYXR0ciIsInRydXN0IiwiaHRtbFN0cmluZyIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRyaW0iLCJBcnJheSIsImZyb20iLCJtYXAiLCJmcmFnbWVudCIsIl8iLCJtYWluQ29tcG9uZW50IiwibWFpblZub2RlIiwiaXNNb3VudGVkIiwiY3VycmVudCIsInZub2RlIiwiZXZlbnQiLCJyZXNlcnZlZFByb3BzIiwiU2V0Iiwib25DbGVhbnVwU2V0Iiwib25Nb3VudFNldCIsIm9uVXBkYXRlU2V0Iiwib25Vbm1vdW50U2V0Iiwib25DbGVhbnVwIiwiY2FsbGJhY2siLCJhZGQiLCJjYWxsU2V0Iiwic2V0IiwiY2xlYXIiLCJoYW5kbGVWSWYiLCJzaG91bGRSZW5kZXIiLCJ2YWx1ZSIsInBhcmVudE5vZGUiLCJuZXdkb20iLCJjcmVhdGVUZXh0Tm9kZSIsInJlcGxhY2VDaGlsZCIsImRpcmVjdGl2ZXMiLCJib29sIiwic3R5bGUiLCJkaXNwbGF5IiwidmFsIiwibW9kZWwiLCJwcm9wZXJ0eSIsImhhbmRsZXIiLCJlIiwidGFyZ2V0IiwidHlwZSIsImlzQXJyYXkiLCJpZHgiLCJpbmRleE9mIiwic3BsaWNlIiwic2hhcmVkU2V0QXR0cmlidXRlIiwibXVsdGlwbGUiLCJjdHJsS2V5IiwiZm9yRWFjaCIsImNoaWxkIiwiam9pbiIsInNlbGVjdGVkIiwicHJldkhhbmRsZXIiLCJvbGRQcm9wcyIsImNsZWFudXAiLCJjbGFzc05hbWUiLCJjbGFzc0xpc3QiLCJuYW1lIiwidG9nZ2xlIiwiY2xhc3MiLCJpZCIsImRvbVN0eWxlIiwiZXZlbnRMaXN0ZW5lck5hbWVzIiwiZXZlbnRMaXN0ZW5lciIsImRlZmF1bHRQcmV2ZW50ZWQiLCJ1cGRhdGUiLCJuZXdWbm9kZSIsIm5ld1Zub2RlRG9tIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiaGFzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNsaWNlIiwiYWRkUHJvcGVydGllcyIsInZub2RlUHJvcHMiLCJ1cGRhdGVBdHRyaWJ1dGVzIiwidm5vZGVEb20iLCJyZW1vdmVBdHRyaWJ1dGVzIiwiY3JlYXRlRWxlbWVudE5TIiwiZmxhdFRyZWUiLCJuZXdDaGlsZCIsInZpZXciLCJiaW5kIiwiaGFuZGxlVkZvciIsImNyZWF0ZU5ld0VsZW1lbnQiLCJvbGRDaGlsZCIsImFwcGVuZENoaWxkIiwidGV4dENvbnRlbnQiLCJwYXRjaCIsIm9sZERvbUNoaWxkcmVuIiwib2xkQ2hpbGRyZW5MZW5ndGgiLCJmaXJzdE9sZFByb3BzIiwiZmlyc3RWbm9kZSIsIm9sZFRyZWUiLCJvbGRLZXllZExpc3QiLCJuZXdLZXllZExpc3QiLCJrZXkiLCJjdXJyZW50Q2hpbGQiLCJyZW1vdmUiLCJwYXRjaEtleWVkIiwiY2hpbGRyZW5MZW5ndGgiLCJuZXh0T2xkQ2hpbGQiLCJ1cGRhdGVWbm9kZSIsImRpcmVjdGl2ZSIsImRpcmVjdGl2ZU5hbWUiLCJjb250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwicmVzdWx0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlJlZmxlY3QiLCJkZWxldGVQcm9wZXJ0eSJdLCJzb3VyY2VzIjpbIi4uL2xpYi9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBzb25hcmpzL2NvZ25pdGl2ZS1jb21wbGV4aXR5ICovXG5kZWNsYXJlIGdsb2JhbCB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YXJzLW9uLXRvcCwgbm8tdmFyLCBuby11bnVzZWQtdmFyc1xuICB2YXIgZG9jdW1lbnQ6IERvY3VtZW50O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgbmFtZXNwYWNlIEpTWCB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzLCBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgIGludGVyZmFjZSBJbnRyaW5zaWNFbGVtZW50cyBleHRlbmRzIERlZmF1bHRSZWNvcmQge31cbiAgfVxufVxuXG5pbnRlcmZhY2UgRGVmYXVsdFJlY29yZCBleHRlbmRzIFJlY29yZDxzdHJpbmcgfCBudW1iZXIgfCBzeW1ib2wsIGFueT4ge31cblxuZXhwb3J0IGludGVyZmFjZSBWbm9kZVByb3BlcnRpZXMgZXh0ZW5kcyBEZWZhdWx0UmVjb3JkIHtcbiAga2V5Pzogc3RyaW5nIHwgbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERvbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBEZWZhdWx0UmVjb3JkIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50IGV4dGVuZHMgRGVmYXVsdFJlY29yZCB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycywgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgKHByb3BzOiBWbm9kZVByb3BlcnRpZXMsIGNoaWxkcmVuOiBhbnlbXSk6IFZub2RlIHwgYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBPSk9Db21wb25lbnQgZXh0ZW5kcyBEZWZhdWx0UmVjb3JkIHtcbiAgdmlldzogQ29tcG9uZW50O1xufVxuXG5leHBvcnQgdHlwZSBWYWx5cmlhbkNvbXBvbmVudCA9IENvbXBvbmVudCB8IFBPSk9Db21wb25lbnQ7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuZXhwb3J0IGludGVyZmFjZSBWbm9kZUNvbXBvbmVudEludGVyZmFjZSBleHRlbmRzIFZub2RlIHtcbiAgdGFnOiBWYWx5cmlhbkNvbXBvbmVudDtcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG5leHBvcnQgaW50ZXJmYWNlIENoaWxkcmVuIGV4dGVuZHMgQXJyYXk8Vm5vZGUgfCBWbm9kZUNvbXBvbmVudEludGVyZmFjZSB8IFZhbHlyaWFuQ29tcG9uZW50IHwgYW55PiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdGl2ZSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycywgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgKHZhbHVlOiBhbnksIHZub2RlOiBWbm9kZVdpdGhEb20sIG9sZFByb3BzOiBWbm9kZVByb3BlcnRpZXMgfCBudWxsKTogdm9pZCB8IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBpc05vZGVKcyA9IEJvb2xlYW4odHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUpO1xuXG5leHBvcnQgY2xhc3MgVm5vZGUge1xuICBjb25zdHJ1Y3RvcihcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICBwdWJsaWMgdGFnOiBzdHJpbmcgfCBDb21wb25lbnQgfCBQT0pPQ29tcG9uZW50LFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHB1YmxpYyBwcm9wczogbnVsbCB8IFZub2RlUHJvcGVydGllcyxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICBwdWJsaWMgY2hpbGRyZW46IENoaWxkcmVuLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHB1YmxpYyBkb20/OiBEb21FbGVtZW50LFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHB1YmxpYyBpc1NWRz86IGJvb2xlYW5cbiAgKSB7fVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZub2RlV2l0aERvbSBleHRlbmRzIFZub2RlIHtcbiAgdGFnOiBzdHJpbmc7XG4gIGRvbTogRG9tRWxlbWVudDtcbiAgcHJvcHM6IFZub2RlUHJvcGVydGllcztcbn1cblxuZXhwb3J0IGNvbnN0IGlzQ29tcG9uZW50ID0gKGNvbXBvbmVudDogdW5rbm93bik6IGNvbXBvbmVudCBpcyBDb21wb25lbnQgPT5cbiAgQm9vbGVhbih0eXBlb2YgY29tcG9uZW50ID09PSBcImZ1bmN0aW9uXCIgfHwgKGNvbXBvbmVudCAmJiB0eXBlb2YgY29tcG9uZW50ID09PSBcIm9iamVjdFwiICYmIFwidmlld1wiIGluIGNvbXBvbmVudCkpO1xuZXhwb3J0IGNvbnN0IGlzVm5vZGUgPSAob2JqZWN0PzogdW5rbm93bik6IG9iamVjdCBpcyBWbm9kZSA9PiBvYmplY3QgaW5zdGFuY2VvZiBWbm9kZTtcblxuZXhwb3J0IGNvbnN0IGlzVm5vZGVDb21wb25lbnQgPSAob2JqZWN0PzogdW5rbm93bik6IG9iamVjdCBpcyBWbm9kZUNvbXBvbmVudEludGVyZmFjZSA9PiB7XG4gIHJldHVybiBpc1Zub2RlKG9iamVjdCkgJiYgaXNDb21wb25lbnQob2JqZWN0LnRhZyk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdih0YWdPckNvbXBvbmVudDogc3RyaW5nIHwgQ29tcG9uZW50LCBwcm9wczogVm5vZGVQcm9wZXJ0aWVzLCAuLi5jaGlsZHJlbjogQ2hpbGRyZW4pIHtcbiAgcmV0dXJuIG5ldyBWbm9kZSh0YWdPckNvbXBvbmVudCwgcHJvcHMsIGNoaWxkcmVuKTtcbn1cblxudi5mcmFnbWVudCA9IChfOiBWbm9kZVByb3BlcnRpZXMsIC4uLmNoaWxkcmVuOiBDaGlsZHJlbikgPT4gY2hpbGRyZW47XG5cbmV4cG9ydCBmdW5jdGlvbiBkb21Ub1Zub2RlKGRvbTogYW55KTogVm5vZGVXaXRoRG9tIHwgdm9pZCB7XG4gIGlmIChkb20ubm9kZVR5cGUgPT09IDMpIHtcbiAgICByZXR1cm4gZG9tLm5vZGVWYWx1ZTtcbiAgfVxuXG4gIGlmIChkb20ubm9kZVR5cGUgPT09IDEpIHtcbiAgICBjb25zdCB0YWcgPSBkb20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBwcm9wcyA9IHt9IGFzIFZub2RlUHJvcGVydGllcztcbiAgICBjb25zdCBjaGlsZHJlbiA9IFtdIGFzIENoaWxkcmVuO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBkb20uY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoaWxkRG9tID0gZG9tLmNoaWxkTm9kZXNbaV07XG4gICAgICBpZiAoY2hpbGREb20ubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZERvbS5ub2RlVmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZERvbS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICBjb25zdCBjaGlsZFZub2RlID0gZG9tVG9Wbm9kZShjaGlsZERvbSk7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGRWbm9kZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYXR0cmlidXRlcyA9IGRvbS5hdHRyaWJ1dGVzO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gYXR0cmlidXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IGF0dHIgPSBhdHRyaWJ1dGVzW2ldO1xuICAgICAgcHJvcHNbYXR0ci5ub2RlTmFtZV0gPSBhdHRyLm5vZGVWYWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFZub2RlKHRhZywgcHJvcHMsIGNoaWxkcmVuLCBkb20sIHRhZyA9PT0gXCJzdmdcIikgYXMgVm5vZGVXaXRoRG9tO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cnVzdChodG1sU3RyaW5nOiBzdHJpbmcpIHtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZGl2LmlubmVySFRNTCA9IGh0bWxTdHJpbmcudHJpbSgpO1xuICByZXR1cm4gQXJyYXkuZnJvbShkaXYuY2hpbGROb2RlcykubWFwKGRvbVRvVm5vZGUpO1xufVxuXG5sZXQgbWFpbkNvbXBvbmVudDogVm5vZGVDb21wb25lbnRJbnRlcmZhY2UgfCBudWxsID0gbnVsbDtcbmxldCBtYWluVm5vZGU6IFZub2RlV2l0aERvbSB8IG51bGwgPSBudWxsO1xubGV0IGlzTW91bnRlZCA9IGZhbHNlO1xuXG5leHBvcnQgY29uc3QgY3VycmVudCA9IHtcbiAgdm5vZGU6IG51bGwgYXMgVm5vZGUgfCBudWxsLFxuICBjb21wb25lbnQ6IG51bGwgYXMgVmFseXJpYW5Db21wb25lbnQgfCBudWxsLFxuICBldmVudDogbnVsbCBhcyBFdmVudCB8IG51bGxcbn07XG5cbmV4cG9ydCBjb25zdCByZXNlcnZlZFByb3BzID0gbmV3IFNldDxzdHJpbmc+KFtcbiAgXCJrZXlcIixcbiAgXCJzdGF0ZVwiLFxuICBcInYta2VlcFwiLFxuICBcInYtdGV4dFwiLFxuICBcInYtaWZcIixcbiAgXCJ2LWZvclwiLFxuICBcInYtc2hvd1wiLFxuICBcInYtY2xhc3NcIixcbiAgXCJ2LWh0bWxcIixcbiAgXCJ2LW1vZGVsXCIsXG4gIFwidi1jcmVhdGVcIixcbiAgXCJ2LXVwZGF0ZVwiLFxuICBcInYtY2xlYW51cFwiXG5dKTtcblxuY29uc3Qgb25DbGVhbnVwU2V0ID0gbmV3IFNldDxGdW5jdGlvbj4oKTtcbmNvbnN0IG9uTW91bnRTZXQgPSBuZXcgU2V0PEZ1bmN0aW9uPigpO1xuY29uc3Qgb25VcGRhdGVTZXQgPSBuZXcgU2V0PEZ1bmN0aW9uPigpO1xuY29uc3Qgb25Vbm1vdW50U2V0ID0gbmV3IFNldDxGdW5jdGlvbj4oKTtcbmV4cG9ydCBjb25zdCBvbk1vdW50ID0gKGNhbGxiYWNrOiBGdW5jdGlvbikgPT4gIWlzTW91bnRlZCAmJiBvbk1vdW50U2V0LmFkZChjYWxsYmFjayk7XG5leHBvcnQgY29uc3Qgb25VcGRhdGUgPSAoY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiBvblVwZGF0ZVNldC5hZGQoY2FsbGJhY2spO1xuZXhwb3J0IGNvbnN0IG9uQ2xlYW51cCA9IChjYWxsYmFjazogRnVuY3Rpb24pID0+IG9uQ2xlYW51cFNldC5hZGQoY2FsbGJhY2spO1xuZXhwb3J0IGNvbnN0IG9uVW5tb3VudCA9IChjYWxsYmFjazogRnVuY3Rpb24pID0+ICFpc01vdW50ZWQgJiYgb25Vbm1vdW50U2V0LmFkZChjYWxsYmFjayk7XG5jb25zdCBjYWxsU2V0ID0gKHNldDogU2V0PEZ1bmN0aW9uPikgPT4ge1xuICBmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIHNldCkge1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cbiAgc2V0LmNsZWFyKCk7XG59O1xuXG5jb25zdCBoYW5kbGVWSWYgPSAoc2hvdWxkUmVuZGVyOiBib29sZWFuKTogRGlyZWN0aXZlID0+IHtcbiAgcmV0dXJuICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICBjb25zdCBib29sID0gc2hvdWxkUmVuZGVyICE9PSBCb29sZWFuKHZhbHVlKTtcbiAgICBpZiAoYm9vbCkge1xuICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IHZub2RlLmRvbT8ucGFyZW50Tm9kZTtcbiAgICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICAgIGNvbnN0IG5ld2RvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO1xuICAgICAgICBwYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdkb20sIHZub2RlLmRvbSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgZGlyZWN0aXZlczogUmVjb3JkPHN0cmluZywgRGlyZWN0aXZlPiA9IHtcbiAgXCJ2LWlmXCI6IGhhbmRsZVZJZih0cnVlKSxcbiAgXCJ2LXVubGVzc1wiOiBoYW5kbGVWSWYoZmFsc2UpLFxuXG4gIFwidi1zaG93XCI6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICBjb25zdCBib29sID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgKFxuICAgICAgdm5vZGUuZG9tIGFzIHVua25vd24gYXMge1xuICAgICAgICBzdHlsZTogeyBkaXNwbGF5OiBzdHJpbmcgfTtcbiAgICAgIH1cbiAgICApLnN0eWxlLmRpc3BsYXkgPSBib29sID8gXCJcIiA6IFwibm9uZVwiO1xuICB9LFxuXG4gIFwidi1odG1sXCI6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICB2bm9kZS5jaGlsZHJlbiA9IFt0cnVzdCh2YWx1ZSBhcyBzdHJpbmcpXTtcbiAgfSxcblxuICAvLyBUaGUgXCJ2LW1vZGVsXCIgZGlyZWN0aXZlIGJpbmRzIHRoZSB2YWx1ZSBvZiBhbiBpbnB1dCBlbGVtZW50IHRvIGEgbW9kZWwgcHJvcGVydHlcbiAgXCJ2LW1vZGVsXCI6ICh2YWwsIHZub2RlKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICAgIGxldCBbbW9kZWwsIHByb3BlcnR5LCBldmVudF06IGFueVtdID0gdmFsIGFzIGFueVtdO1xuICAgIGxldCB2YWx1ZTtcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHVwZGF0ZXMgdGhlIG1vZGVsIHByb3BlcnR5IHdoZW4gdGhlIGlucHV0IGVsZW1lbnQncyB2YWx1ZSBjaGFuZ2VzXG4gICAgbGV0IGhhbmRsZXIgPSAoZTogRXZlbnQpID0+IChtb2RlbFtwcm9wZXJ0eV0gPSAoZS50YXJnZXQgYXMgRG9tRWxlbWVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pLnZhbHVlKTtcbiAgICBpZiAodm5vZGUudGFnID09PSBcImlucHV0XCIpIHtcbiAgICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIGFuIGlucHV0LCB1c2UgdGhlIFwiaW5wdXRcIiBldmVudCBieSBkZWZhdWx0XG4gICAgICBldmVudCA9IGV2ZW50IHx8IFwib25pbnB1dFwiO1xuICAgICAgLy8gRGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIGlucHV0IGVsZW1lbnQsIHVzZSBhIGRpZmZlcmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICBzd2l0Y2ggKHZub2RlLnByb3BzLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6IHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtb2RlbFtwcm9wZXJ0eV0pKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgbW9kZWwgcHJvcGVydHkgaXMgYW4gYXJyYXksIGFkZCBvciByZW1vdmUgdGhlIHZhbHVlIGZyb20gdGhlIGFycmF5IHdoZW4gdGhlIGNoZWNrYm94IGlzIGNoZWNrZWQgb3IgdW5jaGVja2VkXG4gICAgICAgICAgICBoYW5kbGVyID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbCA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWU7XG4gICAgICAgICAgICAgIGNvbnN0IGlkeCA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZhbCk7XG4gICAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBJZiB0aGUgdmFsdWUgaXMgaW4gdGhlIGFycmF5LCBzZXQgdGhlIGNoZWNrYm94IHRvIGJlIGNoZWNrZWRcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2Yodm5vZGUuZG9tLnZhbHVlKSAhPT0gLTE7XG4gICAgICAgICAgfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gdm5vZGUucHJvcHMpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbnB1dCBlbGVtZW50IGhhcyBhIFwidmFsdWVcIiBhdHRyaWJ1dGUsIHVzZSBpdCB0byBkZXRlcm1pbmUgdGhlIGNoZWNrZWQgc3RhdGVcbiAgICAgICAgICAgIGhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChtb2RlbFtwcm9wZXJ0eV0gPT09IHZub2RlLnByb3BzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldID0gbnVsbDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0gPSB2bm9kZS5wcm9wcy52YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldID09PSB2bm9kZS5wcm9wcy52YWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gXCJ2YWx1ZVwiIGF0dHJpYnV0ZSwgdXNlIGEgYm9vbGVhbiB2YWx1ZSBmb3IgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgICAgICBoYW5kbGVyID0gKCkgPT4gKG1vZGVsW3Byb3BlcnR5XSA9ICFtb2RlbFtwcm9wZXJ0eV0pO1xuICAgICAgICAgICAgdmFsdWUgPSBtb2RlbFtwcm9wZXJ0eV07XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFNldCB0aGUgXCJjaGVja2VkXCIgYXR0cmlidXRlIG9uIHRoZSBpbnB1dCBlbGVtZW50XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLCB2YWx1ZSwgdm5vZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJyYWRpb1wiOiB7XG4gICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgYSByYWRpbyBidXR0b24sIHNldCB0aGUgXCJjaGVja2VkXCIgYXR0cmlidXRlIGJhc2VkIG9uIHRoZSB2YWx1ZSBvZiB0aGUgbW9kZWwgcHJvcGVydHlcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICBzaGFyZWRTZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsIG1vZGVsW3Byb3BlcnR5XSA9PT0gdm5vZGUuZG9tLnZhbHVlLCB2bm9kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIC8vIEZvciBhbGwgb3RoZXIgaW5wdXQgdHlwZXMsIHNldCB0aGUgXCJ2YWx1ZVwiIGF0dHJpYnV0ZSBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKFwidmFsdWVcIiwgbW9kZWxbcHJvcGVydHldLCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZub2RlLnRhZyA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgYSBzZWxlY3QgZWxlbWVudCwgdXNlIHRoZSBcImNsaWNrXCIgZXZlbnQgYnkgZGVmYXVsdFxuICAgICAgZXZlbnQgPSBldmVudCB8fCBcIm9uY2xpY2tcIjtcbiAgICAgIGlmICh2bm9kZS5wcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICAvLyBJZiB0aGUgc2VsZWN0IGVsZW1lbnQgYWxsb3dzIG11bHRpcGxlIHNlbGVjdGlvbnMsIHVwZGF0ZSB0aGUgbW9kZWwgcHJvcGVydHkgd2l0aCBhbiBhcnJheSBvZiBzZWxlY3RlZCB2YWx1ZXNcbiAgICAgICAgaGFuZGxlciA9IChlOiBFdmVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pID0+IHtcbiAgICAgICAgICBjb25zdCB2YWwgPSAoZS50YXJnZXQgYXMgRG9tRWxlbWVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pLnZhbHVlO1xuICAgICAgICAgIGlmIChlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBDdHJsIGtleSBpcyBwcmVzc2VkLCBhZGQgb3IgcmVtb3ZlIHRoZSB2YWx1ZSBmcm9tIHRoZSBhcnJheVxuICAgICAgICAgICAgY29uc3QgaWR4ID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsKTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBDdHJsIGtleSBpcyBub3QgcHJlc3NlZCwgc2V0IHRoZSBtb2RlbCBwcm9wZXJ0eSB0byBhbiBhcnJheSB3aXRoIHRoZSBzZWxlY3RlZCB2YWx1ZVxuICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnNwbGljZSgwLCBtb2RlbFtwcm9wZXJ0eV0ubGVuZ3RoKTtcbiAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBTZXQgdGhlIFwic2VsZWN0ZWRcIiBhdHRyaWJ1dGUgb24gdGhlIG9wdGlvbnMgYmFzZWQgb24gd2hldGhlciB0aGV5IGFyZSBpbiB0aGUgbW9kZWwgcHJvcGVydHkgYXJyYXlcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgICAgICAgIGlmIChjaGlsZC50YWcgPT09IFwib3B0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gXCJ2YWx1ZVwiIGluIGNoaWxkLnByb3BzID8gY2hpbGQucHJvcHMudmFsdWUgOiBjaGlsZC5jaGlsZHJlbi5qb2luKFwiXCIpLnRyaW0oKTtcbiAgICAgICAgICAgIGNoaWxkLnByb3BzLnNlbGVjdGVkID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsdWUpICE9PSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhlIHNlbGVjdCBlbGVtZW50IGRvZXMgbm90IGFsbG93IG11bHRpcGxlIHNlbGVjdGlvbnMsIHNldCB0aGUgXCJzZWxlY3RlZFwiIGF0dHJpYnV0ZSBvbiB0aGUgb3B0aW9ucyBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudGFnID09PSBcIm9wdGlvblwiKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IFwidmFsdWVcIiBpbiBjaGlsZC5wcm9wcyA/IGNoaWxkLnByb3BzLnZhbHVlIDogY2hpbGQuY2hpbGRyZW4uam9pbihcIlwiKS50cmltKCk7XG4gICAgICAgICAgICBjaGlsZC5wcm9wcy5zZWxlY3RlZCA9IHZhbHVlID09PSBtb2RlbFtwcm9wZXJ0eV07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZub2RlLnRhZyA9PT0gXCJ0ZXh0YXJlYVwiKSB7XG4gICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyBhIHRleHRhcmVhLCB1c2UgdGhlIFwiaW5wdXRcIiBldmVudCBieSBkZWZhdWx0XG4gICAgICBldmVudCA9IGV2ZW50IHx8IFwib25pbnB1dFwiO1xuICAgICAgLy8gU2V0IHRoZSB0ZXh0YXJlYSdzIGNvbnRlbnQgdG8gdGhlIHZhbHVlIG9mIHRoZSBtb2RlbCBwcm9wZXJ0eVxuICAgICAgdm5vZGUuY2hpbGRyZW4gPSBbbW9kZWxbcHJvcGVydHldXTtcbiAgICB9XG5cbiAgICAvLyBXZSBhc3N1bWUgdGhhdCB0aGUgcHJldiBoYW5kbGVyIGlmIGFueSB3aWxsIG5vdCBiZSBjaGFuZ2VkIGJ5IHRoZSB1c2VyIGFjcm9zcyBwYXRjaHNcbiAgICBjb25zdCBwcmV2SGFuZGxlciA9IHZub2RlLnByb3BzW2V2ZW50XTtcblxuICAgIC8vIFNldCB0aGUgZXZlbnQgaGFuZGxlciBvbiB0aGUgZWxlbWVudFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHNoYXJlZFNldEF0dHJpYnV0ZShcbiAgICAgIGV2ZW50LFxuICAgICAgKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgIGhhbmRsZXIoZSk7XG5cbiAgICAgICAgLy8gSWYgdGhlIHByZXZpb3VzIGhhbmRsZXIgaXMgZGVmaW5lZCwgY2FsbCBpdCBhZnRlciB0aGUgbW9kZWwgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgICBpZiAocHJldkhhbmRsZXIpIHtcbiAgICAgICAgICBwcmV2SGFuZGxlcihlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHZub2RlXG4gICAgKTtcbiAgfSxcblxuICBcInYtY3JlYXRlXCI6IChjYWxsYmFjaywgdm5vZGUsIG9sZFByb3BzKSA9PiB7XG4gICAgaWYgKCFvbGRQcm9wcykge1xuICAgICAgY29uc3QgY2xlYW51cCA9IGNhbGxiYWNrKHZub2RlKTtcblxuICAgICAgaWYgKHR5cGVvZiBjbGVhbnVwID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgb25DbGVhbnVwKGNsZWFudXApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBcInYtdXBkYXRlXCI6IChjYWxsYmFjaywgdm5vZGUsIG9sZFByb3BzKSA9PiB7XG4gICAgaWYgKG9sZFByb3BzKSB7XG4gICAgICBjb25zdCBjbGVhbnVwID0gY2FsbGJhY2sodm5vZGUsIG9sZFByb3BzKTtcblxuICAgICAgaWYgKHR5cGVvZiBjbGVhbnVwID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgb25DbGVhbnVwKGNsZWFudXApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBcInYtY2xlYW51cFwiOiAoY2FsbGJhY2ssIHZub2RlKSA9PiB7XG4gICAgb25DbGVhbnVwKCgpID0+IGNhbGxiYWNrKHZub2RlKSk7XG4gIH0sXG5cbiAgXCJ2LWNsYXNzXCI6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB2bm9kZS5kb20uY2xhc3NOYW1lID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdm5vZGUuZG9tLmNsYXNzTmFtZSA9IHZhbHVlLmpvaW4oXCIgXCIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBjb25zdCBjbGFzc0xpc3QgPSB2bm9kZS5kb20uY2xhc3NMaXN0O1xuICAgICAgZm9yIChjb25zdCBuYW1lIGluIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHR5cGVvZiB2YWx1ZVtuYW1lXSA9PT0gXCJmdW5jdGlvblwiID8gKHZhbHVlW25hbWVdIGFzIEZ1bmN0aW9uKSgpIDogdmFsdWVbbmFtZV07XG4gICAgICAgIGNsYXNzTGlzdC50b2dnbGUobmFtZSwgdmFsKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLy8gRnJlcXVlbnQgdXNlZCBwcm9wZXJ0aWVzXG4gIGNsYXNzKHZhbHVlLCB2bm9kZSkge1xuICAgIGlmICh2bm9kZS5kb20uY2xhc3NOYW1lICE9PSB2YWx1ZSkge1xuICAgICAgdm5vZGUuZG9tLmNsYXNzTmFtZSA9IHZhbHVlO1xuICAgIH1cbiAgfSxcblxuICBjbGFzc05hbWUodmFsdWUsIHZub2RlKSB7XG4gICAgZGlyZWN0aXZlcy5jbGFzcyh2YWx1ZSwgdm5vZGUsIG51bGwpO1xuICB9LFxuXG4gIGlkOiAodmFsdWUsIHZub2RlKSA9PiB7XG4gICAgdm5vZGUuZG9tLmlkID0gdmFsdWU7XG4gIH0sXG5cbiAgc3R5bGU6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB2bm9kZS5kb20uc3R5bGUgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgdm5vZGUuZG9tLnN0eWxlID0gXCJcIjtcbiAgICAgIGNvbnN0IGRvbVN0eWxlID0gdm5vZGUuZG9tLnN0eWxlO1xuICAgICAgZm9yIChjb25zdCBuYW1lIGluIHZhbHVlKSB7XG4gICAgICAgIGRvbVN0eWxlW25hbWVdID0gdmFsdWVbbmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZGlyZWN0aXZlKG5hbWU6IHN0cmluZywgZGlyZWN0aXZlOiBEaXJlY3RpdmUpIHtcbiAgY29uc3QgZGlyZWN0aXZlTmFtZSA9IGB2LSR7bmFtZX1gO1xuICBkaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdID0gZGlyZWN0aXZlO1xuICByZXNlcnZlZFByb3BzLmFkZChkaXJlY3RpdmVOYW1lKTtcbn1cblxuY29uc3QgZXZlbnRMaXN0ZW5lck5hbWVzID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbmZ1bmN0aW9uIGV2ZW50TGlzdGVuZXIoZTogRXZlbnQpIHtcbiAgY3VycmVudC5ldmVudCA9IGU7XG4gIGxldCBkb20gPSBlLnRhcmdldCBhcyBEb21FbGVtZW50O1xuICBjb25zdCBuYW1lID0gYG9uJHtlLnR5cGV9YDtcblxuICB3aGlsZSAoZG9tKSB7XG4gICAgY29uc3Qgb2xkUHJvcHMgPSBkb20ucHJvcHM7XG4gICAgaWYgKG9sZFByb3BzICYmIG9sZFByb3BzW25hbWVdKSB7XG4gICAgICBvbGRQcm9wc1tuYW1lXShlLCBkb20pO1xuXG4gICAgICBpZiAoIWUuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgdXBkYXRlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvbSA9IGRvbS5wYXJlbnROb2RlIGFzIERvbUVsZW1lbnQ7XG4gIH1cblxuICBjdXJyZW50LmV2ZW50ID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gc2hhcmVkU2V0QXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSwgbmV3Vm5vZGU6IFZub2RlV2l0aERvbSk6IHZvaWQgfCBib29sZWFuIHtcbiAgY29uc3QgbmV3Vm5vZGVEb20gPSBuZXdWbm9kZS5kb207XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGlmICghZXZlbnRMaXN0ZW5lck5hbWVzLmhhcyhuYW1lKSkge1xuICAgICAgKG1haW5Wbm9kZSBhcyBWbm9kZVdpdGhEb20pLmRvbS5hZGRFdmVudExpc3RlbmVyKG5hbWUuc2xpY2UoMiksIGV2ZW50TGlzdGVuZXIpO1xuICAgICAgZXZlbnRMaXN0ZW5lck5hbWVzLmFkZChuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG5hbWUgaW4gbmV3Vm5vZGVEb20pIHtcbiAgICBuZXdWbm9kZURvbVtuYW1lXSA9IHZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICBuZXdWbm9kZURvbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgbmV3Vm5vZGVEb20uc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSwgbmV3Vm5vZGU6IFZub2RlV2l0aERvbSk6IHZvaWQge1xuICBpZiAoIXJlc2VydmVkUHJvcHMuaGFzKG5hbWUpKSB7XG4gICAgbmV3Vm5vZGUucHJvcHNbbmFtZV0gPSB2YWx1ZTtcbiAgICBzaGFyZWRTZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUsIG5ld1Zub2RlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVBdHRyaWJ1dGVzKHZub2RlOiBWbm9kZVdpdGhEb20sIG9sZFByb3BzOiBWbm9kZVByb3BlcnRpZXMgfCBudWxsKTogdm9pZCB7XG4gIGlmICghb2xkUHJvcHMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB2bm9kZURvbSA9IHZub2RlLmRvbTtcbiAgY29uc3Qgdm5vZGVQcm9wcyA9IHZub2RlLnByb3BzO1xuXG4gIGZvciAoY29uc3QgbmFtZSBpbiBvbGRQcm9wcykge1xuICAgIGlmIChuYW1lIGluIHZub2RlUHJvcHMgPT09IGZhbHNlICYmICFldmVudExpc3RlbmVyTmFtZXMuaGFzKG5hbWUpICYmICFyZXNlcnZlZFByb3BzLmhhcyhuYW1lKSkge1xuICAgICAgaWYgKG5hbWUgaW4gdm5vZGVEb20pIHtcbiAgICAgICAgdm5vZGVEb21bbmFtZV0gPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm5vZGVEb20ucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhZGRQcm9wZXJ0aWVzKHZub2RlOiBWbm9kZVdpdGhEb20sIG9sZFByb3BzOiBWbm9kZVByb3BlcnRpZXMgfCBudWxsKSB7XG4gIGNvbnN0IHZub2RlUHJvcHMgPSB2bm9kZS5wcm9wcztcbiAgZm9yIChjb25zdCBuYW1lIGluIHZub2RlUHJvcHMpIHtcbiAgICBpZiAoZGlyZWN0aXZlc1tuYW1lXSkge1xuICAgICAgaWYgKGRpcmVjdGl2ZXNbbmFtZV0odm5vZGVQcm9wc1tuYW1lXSwgdm5vZGUsIG9sZFByb3BzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAocmVzZXJ2ZWRQcm9wcy5oYXMobmFtZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHNoYXJlZFNldEF0dHJpYnV0ZShuYW1lLCB2bm9kZVByb3BzW25hbWVdLCB2bm9kZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUF0dHJpYnV0ZXMobmV3Vm5vZGU6IFZub2RlV2l0aERvbSwgb2xkUHJvcHM6IFZub2RlUHJvcGVydGllcyB8IG51bGwpOiB2b2lkIHtcbiAgcmVtb3ZlQXR0cmlidXRlcyhuZXdWbm9kZSwgb2xkUHJvcHMpO1xuICBhZGRQcm9wZXJ0aWVzKG5ld1Zub2RlLCBvbGRQcm9wcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZzogc3RyaW5nLCBpc1NWRzogYm9vbGVhbik6IERvbUVsZW1lbnQge1xuICByZXR1cm4gaXNTVkdcbiAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHRhZylcbiAgICA6IChkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZykgYXMgRG9tRWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIGZsYXRUcmVlKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sIGNoaWxkcmVuOiBDaGlsZHJlbikge1xuICBjdXJyZW50LnZub2RlID0gbmV3Vm5vZGU7XG4gIGxldCBpID0gMDtcblxuICB3aGlsZSAoaSA8IGNoaWxkcmVuLmxlbmd0aCkge1xuICAgIGNvbnN0IG5ld0NoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICBpZiAobmV3Q2hpbGQgPT0gbnVsbCkge1xuICAgICAgY2hpbGRyZW4uc3BsaWNlKGksIDEpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmV3Q2hpbGQpKSB7XG4gICAgICBjaGlsZHJlbi5zcGxpY2UoaSwgMSwgLi4ubmV3Q2hpbGQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKG5ld0NoaWxkIGluc3RhbmNlb2YgVm5vZGUpIHtcbiAgICAgIGlmIChuZXdDaGlsZC5wcm9wcyA9PT0gbnVsbCkge1xuICAgICAgICBuZXdDaGlsZC5wcm9wcyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG5ld0NoaWxkLnRhZyAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBuZXdDaGlsZC50YWc7XG5cbiAgICAgICAgY3VycmVudC5jb21wb25lbnQgPSBuZXdDaGlsZC50YWc7XG4gICAgICAgIGNoaWxkcmVuW2ldID0gKFwidmlld1wiIGluIGNvbXBvbmVudCA/IGNvbXBvbmVudC52aWV3IDogY29tcG9uZW50KS5iaW5kKGNvbXBvbmVudCkoXG4gICAgICAgICAgbmV3Q2hpbGQucHJvcHMsXG4gICAgICAgICAgbmV3Q2hpbGQuY2hpbGRyZW5cbiAgICAgICAgKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdDaGlsZC5pc1NWRyA9IG5ld1Zub2RlLmlzU1ZHIHx8IG5ld0NoaWxkLnRhZyA9PT0gXCJzdmdcIjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpKys7XG4gIH1cblxuICByZXR1cm4gY2hpbGRyZW47XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVZGb3IobmV3Vm5vZGU6IFZub2RlV2l0aERvbSkge1xuICBpZiAoXCJ2LWZvclwiIGluIG5ld1Zub2RlLnByb3BzKSB7XG4gICAgY29uc3Qgc2V0ID0gbmV3Vm5vZGUucHJvcHNbXCJ2LWZvclwiXTtcbiAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xuICAgIGNvbnN0IGNhbGxiYWNrID0gbmV3Vm5vZGUuY2hpbGRyZW5bMF07XG4gICAgY2hpbGRyZW4ubGVuZ3RoID0gc2V0Lmxlbmd0aDtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gc2V0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgY2hpbGRyZW5baV0gPSBjYWxsYmFjayhzZXRbaV0sIGkpO1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICByZXR1cm4gWy4uLm5ld1Zub2RlLmNoaWxkcmVuXTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTmV3RWxlbWVudChuZXdDaGlsZDogVm5vZGVXaXRoRG9tLCBuZXdWbm9kZTogVm5vZGVXaXRoRG9tLCBvbGRDaGlsZDogRG9tRWxlbWVudCB8IG51bGwpIHtcbiAgY29uc3QgZG9tID0gY3JlYXRlRWxlbWVudChuZXdDaGlsZC50YWcsIG5ld0NoaWxkLmlzU1ZHIGFzIGJvb2xlYW4pO1xuICBpZiAob2xkQ2hpbGQpIHtcbiAgICBuZXdWbm9kZS5kb20ucmVwbGFjZUNoaWxkKGRvbSwgb2xkQ2hpbGQpO1xuICB9IGVsc2Uge1xuICAgIG5ld1Zub2RlLmRvbS5hcHBlbmRDaGlsZChkb20pO1xuICB9XG4gIG5ld0NoaWxkLmRvbSA9IGRvbTtcbiAgYWRkUHJvcGVydGllcyhuZXdDaGlsZCwgbnVsbCk7XG4gIG5ld0NoaWxkLmRvbS5wcm9wcyA9IG5ld0NoaWxkLnByb3BzO1xuICBpZiAoXCJ2LXRleHRcIiBpbiBuZXdDaGlsZC5wcm9wcykge1xuICAgIG5ld0NoaWxkLmRvbS50ZXh0Q29udGVudCA9IG5ld0NoaWxkLnByb3BzW1widi10ZXh0XCJdO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNoaWxkcmVuID0gZmxhdFRyZWUobmV3Q2hpbGQsIGhhbmRsZVZGb3IobmV3Q2hpbGQpKTtcbiAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgIG5ld0NoaWxkLmRvbS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoY2hpbGRyZW5baV0gaW5zdGFuY2VvZiBWbm9kZSA9PT0gZmFsc2UpIHtcbiAgICAgIG5ld0NoaWxkLmRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZHJlbltpXSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNyZWF0ZU5ld0VsZW1lbnQoY2hpbGRyZW5baV0sIG5ld0NoaWxkLCBudWxsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXRjaEtleWVkKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sIGNoaWxkcmVuOiBDaGlsZHJlbikge1xuICBjb25zdCBvbGRUcmVlID0gWy4uLkFycmF5LmZyb20obmV3Vm5vZGUuZG9tLmNoaWxkTm9kZXMpXSBhcyB1bmtub3duIGFzIERvbUVsZW1lbnRbXTtcbiAgY29uc3QgY2hpbGROb2RlcyA9IG5ld1Zub2RlLmRvbS5jaGlsZE5vZGVzO1xuICBjb25zdCBvbGRLZXllZExpc3Q6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgY29uc3QgbmV3S2V5ZWRMaXN0OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBvbGRUcmVlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IG9sZFByb3BzID0gb2xkVHJlZVtpXS5wcm9wcztcbiAgICBpZiAob2xkUHJvcHMpIHtcbiAgICAgIG9sZEtleWVkTGlzdFtvbGRQcm9wcy5rZXkgYXMgc3RyaW5nXSA9IGk7XG4gICAgfVxuXG4gICAgaWYgKGkgPCBjaGlsZHJlbi5sZW5ndGggJiYgY2hpbGRyZW5baV0gaW5zdGFuY2VvZiBWbm9kZSkge1xuICAgICAgbmV3S2V5ZWRMaXN0W2NoaWxkcmVuW2ldLnByb3BzLmtleSBhcyBzdHJpbmddID0gaTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IG5ld0NoaWxkID0gY2hpbGRyZW5baV07XG4gICAgY29uc3Qgb2xkQ2hpbGQgPSBvbGRUcmVlW29sZEtleWVkTGlzdFtuZXdDaGlsZC5wcm9wcy5rZXkgYXMgc3RyaW5nXV07XG5cbiAgICBpZiAoIW9sZENoaWxkKSB7XG4gICAgICBjcmVhdGVOZXdFbGVtZW50KG5ld0NoaWxkLCBuZXdWbm9kZSwgY2hpbGROb2Rlc1tpXSBhcyBEb21FbGVtZW50IHwgbnVsbCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBuZXdDaGlsZC5kb20gPSBvbGRDaGlsZDtcbiAgICBjb25zdCBjdXJyZW50Q2hpbGQgPSBjaGlsZE5vZGVzW2ldO1xuICAgIGlmICghY3VycmVudENoaWxkKSB7XG4gICAgICBuZXdWbm9kZS5kb20uYXBwZW5kQ2hpbGQob2xkQ2hpbGQpO1xuICAgIH0gZWxzZSBpZiAoY3VycmVudENoaWxkICE9PSBvbGRDaGlsZCkge1xuICAgICAgbmV3Vm5vZGUuZG9tLnJlcGxhY2VDaGlsZChvbGRDaGlsZCwgY3VycmVudENoaWxkKTtcbiAgICB9XG5cbiAgICBpZiAoXCJ2LWtlZXBcIiBpbiBuZXdDaGlsZC5wcm9wcyA9PT0gZmFsc2UgfHwgb2xkQ2hpbGQucHJvcHNbXCJ2LWtlZXBcIl0gIT09IG5ld0NoaWxkLnByb3BzW1widi1rZWVwXCJdKSB7XG4gICAgICB1cGRhdGVBdHRyaWJ1dGVzKG5ld0NoaWxkIGFzIFZub2RlV2l0aERvbSwgb2xkQ2hpbGQucHJvcHMpO1xuICAgICAgb2xkQ2hpbGQucHJvcHMgPSBuZXdDaGlsZC5wcm9wcztcblxuICAgICAgaWYgKFwidi10ZXh0XCIgaW4gbmV3Q2hpbGQucHJvcHMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICBpZiAob2xkQ2hpbGQudGV4dENvbnRlbnQgIT0gbmV3Q2hpbGQucHJvcHNbXCJ2LXRleHRcIl0pIHtcbiAgICAgICAgICBvbGRDaGlsZC50ZXh0Q29udGVudCA9IG5ld0NoaWxkLnByb3BzW1widi10ZXh0XCJdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICBwYXRjaChuZXdDaGlsZCBhcyBWbm9kZVdpdGhEb20pO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGkgPSBjaGlsZHJlbi5sZW5ndGgsIGwgPSBjaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNoaWxkTm9kZXNbaV0/LnJlbW92ZSgpO1xuICB9XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5leHBvcnQgZnVuY3Rpb24gcGF0Y2gobmV3Vm5vZGU6IFZub2RlV2l0aERvbSk6IHZvaWQge1xuICBjb25zdCBjaGlsZHJlbiA9IGZsYXRUcmVlKG5ld1Zub2RlLCBoYW5kbGVWRm9yKG5ld1Zub2RlKSk7XG5cbiAgY29uc3QgZG9tID0gbmV3Vm5vZGUuZG9tO1xuXG4gIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoZG9tLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBkb20udGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBvbGREb21DaGlsZHJlbiA9IGRvbS5jaGlsZE5vZGVzIGFzIHVua25vd24gYXMgRG9tRWxlbWVudFtdO1xuICBjb25zdCBvbGRDaGlsZHJlbkxlbmd0aCA9IG9sZERvbUNoaWxkcmVuLmxlbmd0aDtcbiAgaWYgKG9sZENoaWxkcmVuTGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGZpcnN0T2xkUHJvcHMgPSBvbGREb21DaGlsZHJlblswXS5wcm9wcztcbiAgICBjb25zdCBmaXJzdFZub2RlID0gY2hpbGRyZW5bMF0gYXMgVm5vZGVXaXRoRG9tO1xuICAgIGlmIChmaXJzdE9sZFByb3BzICYmIGZpcnN0Vm5vZGUgaW5zdGFuY2VvZiBWbm9kZSAmJiBcImtleVwiIGluIGZpcnN0Vm5vZGUucHJvcHMgJiYgXCJrZXlcIiBpbiBmaXJzdE9sZFByb3BzKSB7XG4gICAgICBwYXRjaEtleWVkKG5ld1Zub2RlLCBjaGlsZHJlbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY2hpbGRyZW5MZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG4gIGlmIChvbGRDaGlsZHJlbkxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGNoaWxkcmVuW2ldIGluc3RhbmNlb2YgVm5vZGUgPT09IGZhbHNlKSB7XG4gICAgICAgIGRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZHJlbltpXSkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNyZWF0ZU5ld0VsZW1lbnQoY2hpbGRyZW5baV0sIG5ld1Zub2RlLCBudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgb2xkQ2hpbGQgPSBvbGREb21DaGlsZHJlbltpXTtcbiAgICBjb25zdCBuZXdDaGlsZCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgaWYgKCFvbGRDaGlsZCkge1xuICAgICAgY3JlYXRlTmV3RWxlbWVudChuZXdDaGlsZCwgbmV3Vm5vZGUsIG51bGwpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKG5ld0NoaWxkIGluc3RhbmNlb2YgVm5vZGUgPT09IGZhbHNlKSB7XG4gICAgICBpZiAob2xkQ2hpbGQubm9kZVR5cGUgIT09IDMpIHtcbiAgICAgICAgbmV3Vm5vZGUuZG9tLnJlcGxhY2VDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuZXdDaGlsZCksIG9sZENoaWxkKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgIGlmIChvbGRDaGlsZC5ub2RlVmFsdWUgIT0gbmV3Q2hpbGQpIHtcbiAgICAgICAgb2xkQ2hpbGQubm9kZVZhbHVlID0gbmV3Q2hpbGQ7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoXCJ2LWtlZXBcIiBpbiBuZXdDaGlsZC5wcm9wcykge1xuICAgICAgaWYgKG9sZENoaWxkLnByb3BzICYmIG9sZENoaWxkLnByb3BzW1widi1rZWVwXCJdID09PSBuZXdDaGlsZC5wcm9wc1tcInYta2VlcFwiXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV4dE9sZENoaWxkID0gb2xkRG9tQ2hpbGRyZW5baSArIDFdO1xuICAgICAgaWYgKG5leHRPbGRDaGlsZCAmJiBuZXh0T2xkQ2hpbGQucHJvcHMgJiYgbmV4dE9sZENoaWxkLnByb3BzW1widi1rZWVwXCJdID09PSBuZXdDaGlsZC5wcm9wc1tcInYta2VlcFwiXSkge1xuICAgICAgICBvbGRDaGlsZC5yZW1vdmUoKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5ld0NoaWxkLnRhZyAhPT0gb2xkQ2hpbGQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgY3JlYXRlTmV3RWxlbWVudChuZXdDaGlsZCwgbmV3Vm5vZGUsIG9sZENoaWxkKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIG5ld0NoaWxkLmRvbSA9IG9sZENoaWxkO1xuICAgIHVwZGF0ZUF0dHJpYnV0ZXMobmV3Q2hpbGQgYXMgVm5vZGVXaXRoRG9tLCBvbGRDaGlsZC5wcm9wcyB8fCBudWxsKTtcbiAgICBvbGRDaGlsZC5wcm9wcyA9IG5ld0NoaWxkLnByb3BzO1xuICAgIGlmIChcInYtdGV4dFwiIGluIG5ld0NoaWxkLnByb3BzKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICBpZiAobmV3Q2hpbGQuZG9tLnRleHRDb250ZW50ICE9IG5ld0NoaWxkLnByb3BzW1widi10ZXh0XCJdKSB7XG4gICAgICAgIG5ld0NoaWxkLmRvbS50ZXh0Q29udGVudCA9IG5ld0NoaWxkLnByb3BzW1widi10ZXh0XCJdO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHBhdGNoKG5ld0NoaWxkKTtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSBjaGlsZHJlbkxlbmd0aCwgbCA9IG9sZERvbUNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIG9sZERvbUNoaWxkcmVuW2ldPy5yZW1vdmUoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlVm5vZGUodm5vZGU6IFZub2RlV2l0aERvbSk6IHN0cmluZyB8IHZvaWQge1xuICBjYWxsU2V0KG9uQ2xlYW51cFNldCk7XG4gIHZub2RlLnByb3BzID0gdm5vZGUucHJvcHMgfHwge307XG4gIHBhdGNoKHZub2RlKTtcbiAgY2FsbFNldChpc01vdW50ZWQgPyBvblVwZGF0ZVNldCA6IG9uTW91bnRTZXQpO1xuICBpc01vdW50ZWQgPSB0cnVlO1xuICBjdXJyZW50LnZub2RlID0gbnVsbDtcbiAgY3VycmVudC5jb21wb25lbnQgPSBudWxsO1xuICBpZiAoaXNOb2RlSnMpIHtcbiAgICByZXR1cm4gdm5vZGUuZG9tLmlubmVySFRNTDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKCk6IHZvaWQgfCBzdHJpbmcge1xuICBpZiAobWFpblZub2RlKSB7XG4gICAgbWFpblZub2RlLmNoaWxkcmVuID0gW21haW5Db21wb25lbnRdO1xuICAgIHJldHVybiB1cGRhdGVWbm9kZShtYWluVm5vZGUpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bm1vdW50KCkge1xuICBpZiAobWFpblZub2RlKSB7XG4gICAgbWFpbkNvbXBvbmVudCA9IHYoKCkgPT4gbnVsbCwge30pIGFzIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlO1xuICAgIGNvbnN0IHJlc3VsdCA9IHVwZGF0ZSgpO1xuICAgIGNhbGxTZXQob25Vbm1vdW50U2V0KTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZXZlbnRMaXN0ZW5lck5hbWVzKSB7XG4gICAgICBtYWluVm5vZGUuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZS5zbGljZSgyKS50b0xvd2VyQ2FzZSgpLCBldmVudExpc3RlbmVyKTtcbiAgICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkoZXZlbnRMaXN0ZW5lck5hbWVzLCBuYW1lKTtcbiAgICB9XG5cbiAgICBtYWluQ29tcG9uZW50ID0gbnVsbDtcbiAgICBtYWluVm5vZGUgPSBudWxsO1xuICAgIGlzTW91bnRlZCA9IGZhbHNlO1xuICAgIGN1cnJlbnQudm5vZGUgPSBudWxsO1xuICAgIGN1cnJlbnQuY29tcG9uZW50ID0gbnVsbDtcbiAgICBjdXJyZW50LmV2ZW50ID0gbnVsbDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VudChkb206IHN0cmluZyB8IERvbUVsZW1lbnQsIGNvbXBvbmVudDogYW55KSB7XG4gIGNvbnN0IGNvbnRhaW5lciA9XG4gICAgdHlwZW9mIGRvbSA9PT0gXCJzdHJpbmdcIiA/IChpc05vZGVKcyA/IGNyZWF0ZUVsZW1lbnQoZG9tLCBkb20gPT09IFwic3ZnXCIpIDogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihkb20pKSA6IGRvbTtcblxuICBpZiAoaXNDb21wb25lbnQoY29tcG9uZW50KSkge1xuICAgIG1haW5Db21wb25lbnQgPSBuZXcgVm5vZGUoY29tcG9uZW50LCB7fSwgW10pIGFzIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlO1xuICB9IGVsc2UgaWYgKGlzVm5vZGVDb21wb25lbnQoY29tcG9uZW50KSkge1xuICAgIG1haW5Db21wb25lbnQgPSBjb21wb25lbnQ7XG4gIH0gZWxzZSB7XG4gICAgbWFpbkNvbXBvbmVudCA9IG5ldyBWbm9kZSgoKSA9PiBjb21wb25lbnQsIHt9LCBbXSkgYXMgVm5vZGVDb21wb25lbnRJbnRlcmZhY2U7XG4gIH1cblxuICBtYWluVm5vZGUgPSBkb21Ub1Zub2RlKGNvbnRhaW5lcikgYXMgVm5vZGVXaXRoRG9tO1xuICByZXR1cm4gdXBkYXRlKCk7XG59XG4iXSwibWFwcGluZ3MiOiJNQTJDTyxJQUFNQSxFQUFXQyxRQUEyQixvQkFBWkMsU0FBMkJBLFFBQVFDLFVBQVlELFFBQVFDLFNBQVNDLE1BRTFGQyxFQUFOLE1BQ0wsV0FBQUMsQ0FFU0MsRUFFQUMsRUFFQUMsRUFFQUMsRUFFQUMsR0FSQUMsS0FBQUwsTUFFQUssS0FBQUosUUFFQUksS0FBQUgsV0FFQUcsS0FBQUYsTUFFQUUsS0FBQUQsT0FDTixHQVNRRSxFQUFlQyxHQUMxQmIsUUFBNkIsbUJBQWRhLEdBQTZCQSxHQUFrQyxpQkFBZEEsR0FBMEIsU0FBVUEsR0FDekZDLEVBQVdDLEdBQXNDQSxhQUFrQlgsRUFFbkVZLEVBQW9CRCxHQUN4QkQsRUFBUUMsSUFBV0gsRUFBWUcsRUFBT1QsS0FHeEMsU0FBU1csRUFBRUMsRUFBb0NYLEtBQTJCQyxHQUMvRSxPQUFPLElBQUlKLEVBQU1jLEVBQWdCWCxFQUFPQyxFQUMxQyxDQUlPLFNBQVNXLEVBQVdWLEdBQ3pCLEdBQXFCLElBQWpCQSxFQUFJVyxTQUNOLE9BQU9YLEVBQUlZLFVBR2IsR0FBcUIsSUFBakJaLEVBQUlXLFNBQWdCLENBQ3RCLE1BQU1kLEVBQU1HLEVBQUlhLFNBQVNDLGNBQ25CaEIsRUFBUSxDQUFDLEVBQ1RDLEVBQVcsR0FFakIsUUFBU2dCLEVBQUksRUFBR0MsRUFBSWhCLEVBQUlpQixXQUFXQyxPQUFRSCxFQUFJQyxFQUFHRCxJQUFLLENBQ3JELE1BQU1JLEVBQVduQixFQUFJaUIsV0FBV0YsR0FDaEMsR0FBMEIsSUFBdEJJLEVBQVNSLFNBQ1haLEVBQVNxQixLQUFLRCxFQUFTUCxnQkFDekIsR0FBaUMsSUFBdEJPLEVBQVNSLFNBQWdCLENBQ2xDLE1BQU1VLEVBQWFY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