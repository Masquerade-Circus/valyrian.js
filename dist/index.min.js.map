//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc05vZGVKcyIsIkJvb2xlYW4iLCJwcm9jZXNzIiwidmVyc2lvbnMiLCJub2RlIiwiVm5vZGUiLCJjb25zdHJ1Y3RvciIsInRhZyIsInByb3BzIiwiY2hpbGRyZW4iLCJkb20iLCJpc1NWRyIsIm9sZENoaWxkQ29tcG9uZW50cyIsImNoaWxkQ29tcG9uZW50cyIsImhhc0tleXMiLCJvbmNyZWF0ZSIsIm9uY2xlYW51cCIsIm9udXBkYXRlIiwib25yZW1vdmUiLCJ0aGlzIiwiaXNQT0pPQ29tcG9uZW50IiwiY29tcG9uZW50IiwiaXNDb21wb25lbnQiLCJpc1Zub2RlIiwib2JqZWN0IiwiaXNWbm9kZUNvbXBvbmVudCIsInYiLCJ0YWdPckNvbXBvbmVudCIsImhpZHJhdGVEb21Ub1Zub2RlIiwibm9kZVR5cGUiLCJub2RlVmFsdWUiLCJub2RlTmFtZSIsInRvTG93ZXJDYXNlIiwiaSIsImwiLCJjaGlsZE5vZGVzIiwibGVuZ3RoIiwiY2hpbGREb20iLCJwdXNoIiwiY2hpbGRWbm9kZSIsImF0dHJpYnV0ZXMiLCJhdHRyIiwidm5vZGUiLCJ0cnVzdCIsImh0bWxTdHJpbmciLCJkaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJ0cmltIiwiQXJyYXkiLCJmcm9tIiwibWFwIiwiZnJhZ21lbnQiLCJfIiwibWFpbkNvbXBvbmVudCIsIm1haW5Wbm9kZSIsImlzTW91bnRlZCIsImN1cnJlbnQiLCJvbGRWbm9kZSIsImV2ZW50IiwicmVzZXJ2ZWRQcm9wcyIsIlNldCIsIlNVQlRSRUVfTEMiLCJTeW1ib2wiLCJmb3IiLCJtYXJrU3VidHJlZUxpZmVjeWNsZSIsInBhcmVudEVsZW1lbnQiLCJhZGRDYWxsYmFja1RvU2V0IiwiY2FsbGJhY2siLCJzZXRUeXBlIiwiYWRkIiwiY2xlYW51cCIsInZhbGlkYXRlSXNDYWxsZWRJbnNpZGVDb21wb25lbnQiLCJFcnJvciIsImNhbGxTZXQiLCJzZXQiLCJjbGVhciIsImNvbGxlY3RWbm9kZXNQb3N0T3JkZXIiLCJvdXQiLCJjaGlsZCIsInN0cmljdENsZWFudXBCZWZvcmVSZW1vdmUiLCJ2bm9kZXMiLCJzdHJpY3RPblJlbW92ZUFmdGVyRGV0YWNoIiwic3RyaWN0UmVtb3ZlTm9kZSIsInJlbW92ZSIsInN0cmljdFJlcGxhY2VDaGlsZCIsInBhcmVudCIsIm5ld05vZGUiLCJvbGROb2RlIiwicmVwbGFjZUNoaWxkIiwiZGlyZWN0aXZlcyIsIm9sZFByb3BzIiwidmFsdWUiLCJwYXJlbnROb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJib29sIiwic3R5bGUiLCJkaXNwbGF5IiwibW9kZWwiLCJwcm9wZXJ0eSIsIm5hbWUiLCJoYW5kbGVyIiwiZSIsInRhcmdldCIsInR5cGUiLCJpc0FycmF5IiwidmFsIiwiaWR4IiwiaW5kZXhPZiIsInNwbGljZSIsInNldEF0dHJpYnV0ZSIsIm11bHRpcGxlIiwiY3RybEtleSIsImZvckVhY2giLCJqb2luIiwic2VsZWN0ZWQiLCJwcmV2SGFuZGxlciIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNsYXNzIiwiaWQiLCJkb21TdHlsZSIsImRlYm91bmNlZFVwZGF0ZVRpbWVvdXQiLCJldmVudExpc3RlbmVyTmFtZXMiLCJldmVudExpc3RlbmVyIiwiZGVmYXVsdFByZXZlbnRlZCIsInVwZGF0ZSIsInNoYXJlZFNldEF0dHJpYnV0ZSIsIm5ld1Zub2RlIiwibmV3Vm5vZGVEb20iLCJyZW1vdmVBdHRyaWJ1dGUiLCJoYXMiLCJhZGRFdmVudExpc3RlbmVyIiwic2xpY2UiLCJ1cGRhdGVBdHRyaWJ1dGVzIiwidm5vZGVEb20iLCJ2bm9kZVByb3BzIiwiY3JlYXRlRWxlbWVudE5TIiwiZmxhdFRyZWUiLCJuZXdDaGlsZHJlbiIsImNvbnNvbGUiLCJ3YXJuIiwidG1wIiwibmV3Q2hpbGQiLCJwb3AiLCJ2aWV3IiwiYmluZCIsInByb2Nlc3NOZXdDaGlsZCIsInBhcmVudFZub2RlIiwib2xkRG9tIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0Q29udGVudCIsInBhdGNoIiwibiIsIm9sZENoaWxkcmVuTGVuZ3RoIiwiY2hpbGRyZW5MZW5ndGgiLCJvbGRUcmVlIiwib2xkS2V5ZWRMaXN0IiwibmV3T2xkVHJlZSIsImtleSIsIm9sZENoaWxkIiwiY3VycmVudENoaWxkIiwib2xkQ2hpbGRWbm9kZSIsInRvUmVtb3ZlIiwidXBkYXRlVm5vZGUiLCJzaG91bGRDbGVhbnVwIiwib2xkT25SZW1vdmVTZXQiLCJkZWJvdW5jZWRVcGRhdGVNZXRob2QiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0aW1lb3V0IiwicHJldmVudERlZmF1bHQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZGlyZWN0aXZlIiwiZGlyZWN0aXZlTmFtZSIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1vdmVkIiwicmVzdWx0Il0sInNvdXJjZXMiOlsiLi4vbGliL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG5kZWNsYXJlIGdsb2JhbCB7XG4gIHZhciBkb2N1bWVudDogRG9jdW1lbnQ7XG4gIG5hbWVzcGFjZSBKU1gge1xuICAgIGludGVyZmFjZSBJbnRyaW5zaWNFbGVtZW50cyBleHRlbmRzIERlZmF1bHRSZWNvcmQge31cbiAgICB0eXBlIEVsZW1lbnQgPSBSZXR1cm5UeXBlPFxuICAgICAgdHlwZW9mIHYgfCAoKC4uLmFyZ3M6IGFueSkgPT4gc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZCB8IGJvb2xlYW4gfCBQcm9taXNlPGFueT4pXG4gICAgPjtcbiAgICB0eXBlIENvbXBvbmVudFJldHVyblR5cGUgPSBzdHJpbmcgfCBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkIHwgYm9vbGVhbiB8IEVsZW1lbnQgfCBFbGVtZW50W107XG4gIH1cbn1cblxuaW50ZXJmYWNlIERlZmF1bHRSZWNvcmQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nIHwgbnVtYmVyIHwgc3ltYm9sLCBhbnk+IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcGVydGllcyBleHRlbmRzIERlZmF1bHRSZWNvcmQge1xuICBrZXk/OiBzdHJpbmcgfCBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9tRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIERlZmF1bHRSZWNvcmQge31cblxuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnQgZXh0ZW5kcyBEZWZhdWx0UmVjb3JkIHtcbiAgKHByb3BzOiBQcm9wZXJ0aWVzLCBjaGlsZHJlbjogYW55W10pOiBWbm9kZSB8IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQT0pPQ29tcG9uZW50IGV4dGVuZHMgRGVmYXVsdFJlY29yZCB7XG4gIHZpZXc6IENvbXBvbmVudDtcbn1cblxuZXhwb3J0IHR5cGUgVmFseXJpYW5Db21wb25lbnQgPSBDb21wb25lbnQgfCBQT0pPQ29tcG9uZW50O1xuXG5leHBvcnQgaW50ZXJmYWNlIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlIGV4dGVuZHMgVm5vZGUge1xuICB0YWc6IFZhbHlyaWFuQ29tcG9uZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoaWxkcmVuIGV4dGVuZHMgQXJyYXk8Vm5vZGUgfCBWbm9kZUNvbXBvbmVudEludGVyZmFjZSB8IFZhbHlyaWFuQ29tcG9uZW50IHwgYW55PiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdGl2ZSB7XG4gICh2YWx1ZTogYW55LCB2bm9kZTogVm5vZGVXaXRoRG9tLCBvbGRQcm9wcz86IFByb3BlcnRpZXMpOiBmYWxzZSB8IHZvaWQgfCBhbnk7XG59XG5cbmV4cG9ydCBjb25zdCBpc05vZGVKcyA9IEJvb2xlYW4odHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUpO1xuXG5leHBvcnQgY2xhc3MgVm5vZGUge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgdGFnOiBzdHJpbmcgfCBDb21wb25lbnQgfCBQT0pPQ29tcG9uZW50LFxuICAgIHB1YmxpYyBwcm9wczogbnVsbCB8IFByb3BlcnRpZXMsXG4gICAgcHVibGljIGNoaWxkcmVuOiBDaGlsZHJlbixcbiAgICBwdWJsaWMgZG9tPzogRG9tRWxlbWVudCxcbiAgICBwdWJsaWMgaXNTVkc/OiBib29sZWFuLFxuICAgIHB1YmxpYyBvbGRDaGlsZENvbXBvbmVudHM/OiBTZXQ8VmFseXJpYW5Db21wb25lbnQ+LFxuICAgIHB1YmxpYyBjaGlsZENvbXBvbmVudHM/OiBTZXQ8VmFseXJpYW5Db21wb25lbnQ+LFxuICAgIHB1YmxpYyBoYXNLZXlzPzogYm9vbGVhbixcbiAgICBwdWJsaWMgb25jcmVhdGU/OiBTZXQ8RnVuY3Rpb24+LFxuICAgIHB1YmxpYyBvbmNsZWFudXA/OiBTZXQ8RnVuY3Rpb24+LFxuICAgIHB1YmxpYyBvbnVwZGF0ZT86IFNldDxGdW5jdGlvbj4sXG4gICAgcHVibGljIG9ucmVtb3ZlPzogU2V0PEZ1bmN0aW9uPlxuICApIHt9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVm5vZGVXaXRoRG9tIGV4dGVuZHMgVm5vZGUge1xuICB0YWc6IHN0cmluZztcbiAgZG9tOiBEb21FbGVtZW50O1xuICBwcm9wczogUHJvcGVydGllcztcbn1cblxuZXhwb3J0IGNvbnN0IGlzUE9KT0NvbXBvbmVudCA9IChjb21wb25lbnQ6IHVua25vd24pOiBjb21wb25lbnQgaXMgUE9KT0NvbXBvbmVudCA9PlxuICBCb29sZWFuKGNvbXBvbmVudCAmJiB0eXBlb2YgY29tcG9uZW50ID09PSBcIm9iamVjdFwiICYmIFwidmlld1wiIGluIGNvbXBvbmVudCk7XG5cbmV4cG9ydCBjb25zdCBpc0NvbXBvbmVudCA9IChjb21wb25lbnQ6IHVua25vd24pOiBjb21wb25lbnQgaXMgQ29tcG9uZW50ID0+XG4gIEJvb2xlYW4odHlwZW9mIGNvbXBvbmVudCA9PT0gXCJmdW5jdGlvblwiIHx8IGlzUE9KT0NvbXBvbmVudChjb21wb25lbnQpKTtcbmV4cG9ydCBjb25zdCBpc1Zub2RlID0gKG9iamVjdD86IHVua25vd24pOiBvYmplY3QgaXMgVm5vZGUgPT4gb2JqZWN0IGluc3RhbmNlb2YgVm5vZGU7XG5cbmV4cG9ydCBjb25zdCBpc1Zub2RlQ29tcG9uZW50ID0gKG9iamVjdD86IHVua25vd24pOiBvYmplY3QgaXMgVm5vZGVDb21wb25lbnRJbnRlcmZhY2UgPT4ge1xuICByZXR1cm4gaXNWbm9kZShvYmplY3QpICYmIGlzQ29tcG9uZW50KG9iamVjdC50YWcpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHYodGFnT3JDb21wb25lbnQ6IHN0cmluZyB8IFZhbHlyaWFuQ29tcG9uZW50LCBwcm9wczogUHJvcGVydGllcyB8IG51bGwsIC4uLmNoaWxkcmVuOiBDaGlsZHJlbikge1xuICByZXR1cm4gbmV3IFZub2RlKHRhZ09yQ29tcG9uZW50LCBwcm9wcywgY2hpbGRyZW4pO1xufVxuXG52LmZyYWdtZW50ID0gKF86IFByb3BlcnRpZXMsIC4uLmNoaWxkcmVuOiBDaGlsZHJlbikgPT4gY2hpbGRyZW47XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRyYXRlRG9tVG9Wbm9kZShkb206IGFueSk6IFZub2RlV2l0aERvbSB8IHN0cmluZyB8IG51bGwgfCB2b2lkIHtcbiAgaWYgKGRvbS5ub2RlVHlwZSA9PT0gMykge1xuICAgIHJldHVybiBkb20ubm9kZVZhbHVlO1xuICB9XG5cbiAgaWYgKGRvbS5ub2RlVHlwZSA9PT0gMSkge1xuICAgIGNvbnN0IHRhZyA9IGRvbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IHByb3BzID0ge30gYXMgUHJvcGVydGllcztcbiAgICBjb25zdCBjaGlsZHJlbiA9IFtdIGFzIENoaWxkcmVuO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBkb20uY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoaWxkRG9tID0gZG9tLmNoaWxkTm9kZXNbaV07XG4gICAgICBpZiAoY2hpbGREb20ubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZERvbS5ub2RlVmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZERvbS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICBjb25zdCBjaGlsZFZub2RlID0gaGlkcmF0ZURvbVRvVm5vZGUoY2hpbGREb20pO1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGNoaWxkVm5vZGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBkb20uYXR0cmlidXRlcztcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGF0dHJpYnV0ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBhdHRyID0gYXR0cmlidXRlc1tpXTtcbiAgICAgIHByb3BzW2F0dHIubm9kZU5hbWVdID0gYXR0ci5ub2RlVmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3Qgdm5vZGUgPSBuZXcgVm5vZGUodGFnLCBwcm9wcywgY2hpbGRyZW4pO1xuICAgIHZub2RlLmRvbSA9IGRvbTtcbiAgICBkb20udm5vZGUgPSB2bm9kZTtcbiAgICB2bm9kZS5pc1NWRyA9IHRhZyA9PT0gXCJzdmdcIjtcbiAgICByZXR1cm4gdm5vZGUgYXMgVm5vZGVXaXRoRG9tO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cnVzdChodG1sU3RyaW5nOiBzdHJpbmcpIHtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZGl2LmlubmVySFRNTCA9IGh0bWxTdHJpbmcudHJpbSgpO1xuICByZXR1cm4gQXJyYXkuZnJvbShkaXYuY2hpbGROb2RlcykubWFwKGhpZHJhdGVEb21Ub1Zub2RlKTtcbn1cblxubGV0IG1haW5Db21wb25lbnQ6IFZub2RlQ29tcG9uZW50SW50ZXJmYWNlIHwgbnVsbCA9IG51bGw7XG5sZXQgbWFpblZub2RlOiBWbm9kZVdpdGhEb20gfCBudWxsID0gbnVsbDtcbmxldCBpc01vdW50ZWQgPSBmYWxzZTtcblxuZXhwb3J0IGNvbnN0IGN1cnJlbnQgPSB7XG4gIG9sZFZub2RlOiBudWxsIGFzIFZub2RlIHwgbnVsbCxcbiAgdm5vZGU6IG51bGwgYXMgVm5vZGUgfCBudWxsLFxuICBjb21wb25lbnQ6IG51bGwgYXMgVmFseXJpYW5Db21wb25lbnQgfCBudWxsLFxuICBldmVudDogbnVsbCBhcyBFdmVudCB8IG51bGxcbn07XG5cbmV4cG9ydCBjb25zdCByZXNlcnZlZFByb3BzID0gbmV3IFNldDxzdHJpbmc+KFtcbiAgXCJrZXlcIixcbiAgXCJzdGF0ZVwiLFxuICBcInYta2VlcFwiLFxuICBcInYtdGV4dFwiLFxuICBcInYtaWZcIixcbiAgXCJ2LWZvclwiLFxuICBcInYtc2hvd1wiLFxuICBcInYtY2xhc3NcIixcbiAgXCJ2LWh0bWxcIixcbiAgXCJ2LW1vZGVsXCIsXG4gIFwidi1jcmVhdGVcIixcbiAgXCJ2LXVwZGF0ZVwiLFxuICBcInYtY2xlYW51cFwiLFxuICBcInYtcmVtb3ZlXCJcbl0pO1xuXG5lbnVtIFNldFR5cGUge1xuICBvbkNyZWF0ZSA9IFwib25jcmVhdGVcIixcbiAgb25VcGRhdGUgPSBcIm9udXBkYXRlXCIsXG4gIG9uQ2xlYW51cCA9IFwib25jbGVhbnVwXCIsXG4gIG9uUmVtb3ZlID0gXCJvbnJlbW92ZVwiXG59XG5cbmNvbnN0IFNVQlRSRUVfTEMgPSBTeW1ib2wuZm9yKFwidmFseXJpYW4uc3VidHJlZUxpZmVjeWNsZVwiKTtcblxuZnVuY3Rpb24gbWFya1N1YnRyZWVMaWZlY3ljbGUoZG9tOiBEb21FbGVtZW50KSB7XG4gIGxldCBub2RlOiBhbnkgPSBkb207XG4gIHdoaWxlIChub2RlICYmIG5vZGUubm9kZVR5cGUgPT09IDEgJiYgIW5vZGVbU1VCVFJFRV9MQ10pIHtcbiAgICBub2RlW1NVQlRSRUVfTENdID0gdHJ1ZTtcbiAgICBub2RlID0gbm9kZS5wYXJlbnRFbGVtZW50O1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZENhbGxiYWNrVG9TZXQoY2FsbGJhY2s6IEZ1bmN0aW9uLCBzZXRUeXBlOiBTZXRUeXBlLCB2bm9kZTogVm5vZGVXaXRoRG9tKSB7XG4gIHZub2RlW3NldFR5cGVdID0gdm5vZGVbc2V0VHlwZV0gfHwgbmV3IFNldCgpO1xuXG4gIGlmICh2bm9kZS5kb20gJiYgKHNldFR5cGUgPT09IFNldFR5cGUub25DbGVhbnVwIHx8IHNldFR5cGUgPT09IFNldFR5cGUub25SZW1vdmUpKSB7XG4gICAgbWFya1N1YnRyZWVMaWZlY3ljbGUodm5vZGUuZG9tKTtcbiAgfVxuXG4gIHZub2RlW3NldFR5cGVdLmFkZCgoKSA9PiB7XG4gICAgY29uc3QgY2xlYW51cCA9IGNhbGxiYWNrKCk7XG4gICAgaWYgKHR5cGVvZiBjbGVhbnVwID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHZub2RlW1NldFR5cGUub25DbGVhbnVwXSA9IHZub2RlW1NldFR5cGUub25DbGVhbnVwXSB8fCBuZXcgU2V0KCk7XG4gICAgICB2bm9kZVtTZXRUeXBlLm9uQ2xlYW51cF0uYWRkKGNsZWFudXApO1xuXG4gICAgICBpZiAodm5vZGUuZG9tKSB7XG4gICAgICAgIG1hcmtTdWJ0cmVlTGlmZWN5Y2xlKHZub2RlLmRvbSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVJc0NhbGxlZEluc2lkZUNvbXBvbmVudCgpIHtcbiAgaWYgKCFjdXJyZW50LnZub2RlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBmdW5jdGlvbiBtdXN0IGJlIGNhbGxlZCBpbnNpZGUgYSBjb21wb25lbnRcIik7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IG9uQ3JlYXRlID0gKGNhbGxiYWNrOiBGdW5jdGlvbikgPT4ge1xuICB2YWxpZGF0ZUlzQ2FsbGVkSW5zaWRlQ29tcG9uZW50KCk7XG4gIGNvbnN0IHBhcmVudFZub2RlID0gY3VycmVudC52bm9kZSBhcyBWbm9kZVdpdGhEb207XG4gIGNvbnN0IGNvbXBvbmVudCA9IGN1cnJlbnQuY29tcG9uZW50IGFzIFZhbHlyaWFuQ29tcG9uZW50O1xuICBjb25zdCBoYXNDb21wb25lbnRBc09sZENoaWxkID0gcGFyZW50Vm5vZGUub2xkQ2hpbGRDb21wb25lbnRzICYmIHBhcmVudFZub2RlLm9sZENoaWxkQ29tcG9uZW50cy5oYXMoY29tcG9uZW50KTtcblxuICBpZiAoIWhhc0NvbXBvbmVudEFzT2xkQ2hpbGQpIHtcbiAgICBhZGRDYWxsYmFja1RvU2V0KGNhbGxiYWNrLCBTZXRUeXBlLm9uQ3JlYXRlLCBwYXJlbnRWbm9kZSk7XG4gIH1cbn07XG5leHBvcnQgY29uc3Qgb25VcGRhdGUgPSAoY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiB7XG4gIHZhbGlkYXRlSXNDYWxsZWRJbnNpZGVDb21wb25lbnQoKTtcbiAgY29uc3QgcGFyZW50Vm5vZGUgPSBjdXJyZW50LnZub2RlIGFzIFZub2RlV2l0aERvbTtcbiAgY29uc3QgY29tcG9uZW50ID0gY3VycmVudC5jb21wb25lbnQgYXMgVmFseXJpYW5Db21wb25lbnQ7XG4gIGNvbnN0IGhhc0NvbXBvbmVudEFzQ2hpbGQgPSBwYXJlbnRWbm9kZS5jaGlsZENvbXBvbmVudHMgJiYgcGFyZW50Vm5vZGUuY2hpbGRDb21wb25lbnRzLmhhcyhjb21wb25lbnQpO1xuICBpZiAoaGFzQ29tcG9uZW50QXNDaGlsZCkge1xuICAgIGFkZENhbGxiYWNrVG9TZXQoY2FsbGJhY2ssIFNldFR5cGUub25VcGRhdGUsIGN1cnJlbnQudm5vZGUgYXMgVm5vZGVXaXRoRG9tKTtcbiAgfVxufTtcbmV4cG9ydCBjb25zdCBvbkNsZWFudXAgPSAoY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiB7XG4gIHZhbGlkYXRlSXNDYWxsZWRJbnNpZGVDb21wb25lbnQoKTtcbiAgYWRkQ2FsbGJhY2tUb1NldChjYWxsYmFjaywgU2V0VHlwZS5vbkNsZWFudXAsIGN1cnJlbnQudm5vZGUgYXMgVm5vZGVXaXRoRG9tKTtcbn07XG5leHBvcnQgY29uc3Qgb25SZW1vdmUgPSAoY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiB7XG4gIHZhbGlkYXRlSXNDYWxsZWRJbnNpZGVDb21wb25lbnQoKTtcblxuICBjb25zdCBwYXJlbnRWbm9kZSA9IGN1cnJlbnQudm5vZGUgYXMgVm5vZGVXaXRoRG9tO1xuICBjb25zdCBjb21wb25lbnQgPSBjdXJyZW50LmNvbXBvbmVudCBhcyBWYWx5cmlhbkNvbXBvbmVudDtcbiAgbGV0IHJlbW92ZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiByZW1vdmVDYWxsYmFjaygpIHtcbiAgICBjb25zdCBoYXNDb21wb25lbnRBc0NoaWxkID0gcGFyZW50Vm5vZGUuY2hpbGRDb21wb25lbnRzICYmIHBhcmVudFZub2RlLmNoaWxkQ29tcG9uZW50cy5oYXMoY29tcG9uZW50KTtcblxuICAgIGlmIChoYXNDb21wb25lbnRBc0NoaWxkIHx8IHJlbW92ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZW1vdmVkID0gdHJ1ZTtcbiAgICBjYWxsYmFjaygpO1xuICB9XG5cbiAgYWRkQ2FsbGJhY2tUb1NldChyZW1vdmVDYWxsYmFjaywgU2V0VHlwZS5vblJlbW92ZSwgY3VycmVudC52bm9kZSBhcyBWbm9kZVdpdGhEb20pO1xufTtcbmNvbnN0IGNhbGxTZXQgPSAoc2V0PzogU2V0PEZ1bmN0aW9uPiB8IG51bGwpID0+IHtcbiAgaWYgKCFzZXQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChjb25zdCBjYWxsYmFjayBvZiBzZXQpIHtcbiAgICBjYWxsYmFjaygpO1xuICB9XG4gIHNldC5jbGVhcigpO1xufTtcblxuZnVuY3Rpb24gY29sbGVjdFZub2Rlc1Bvc3RPcmRlcihkb206IERvbUVsZW1lbnQsIG91dDogVm5vZGVXaXRoRG9tW10pIHtcbiAgY29uc3QgY2hpbGROb2RlcyA9IGRvbS5jaGlsZE5vZGVzIGFzIHVua25vd24gYXMgRG9tRWxlbWVudFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkTm9kZXNbaV07XG4gICAgaWYgKCFjaGlsZCB8fCBjaGlsZC5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbGxlY3RWbm9kZXNQb3N0T3JkZXIoY2hpbGQsIG91dCk7XG4gIH1cbiAgY29uc3Qgdm5vZGUgPSBkb20udm5vZGUgYXMgVm5vZGVXaXRoRG9tO1xuICBpZiAodm5vZGUpIHtcbiAgICBvdXQucHVzaCh2bm9kZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RyaWN0Q2xlYW51cEJlZm9yZVJlbW92ZShkb206IERvbUVsZW1lbnQpIHtcbiAgY29uc3Qgdm5vZGVzOiBWbm9kZVdpdGhEb21bXSA9IFtdO1xuICBjb2xsZWN0Vm5vZGVzUG9zdE9yZGVyKGRvbSwgdm5vZGVzKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2bm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjYWxsU2V0KHZub2Rlc1tpXS5vbmNsZWFudXApO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0cmljdE9uUmVtb3ZlQWZ0ZXJEZXRhY2goZG9tOiBEb21FbGVtZW50KSB7XG4gIGNvbnN0IHZub2RlczogVm5vZGVXaXRoRG9tW10gPSBbXTtcbiAgY29sbGVjdFZub2Rlc1Bvc3RPcmRlcihkb20sIHZub2Rlcyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY2FsbFNldCh2bm9kZXNbaV0ub25yZW1vdmUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0cmljdFJlbW92ZU5vZGUoZG9tOiBEb21FbGVtZW50KSB7XG4gIGlmICghZG9tIHx8IGRvbS5ub2RlVHlwZSAhPT0gMSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghKGRvbSBhcyBhbnkpW1NVQlRSRUVfTENdKSB7XG4gICAgZG9tLnJlbW92ZSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGJlZm9yZSBkZXRhY2hcbiAgc3RyaWN0Q2xlYW51cEJlZm9yZVJlbW92ZShkb20pO1xuICAvLyBkZXRhY2hcbiAgZG9tLnJlbW92ZSgpO1xuICAvLyBhZnRlciBkZXRhY2hcbiAgc3RyaWN0T25SZW1vdmVBZnRlckRldGFjaChkb20pO1xufVxuXG5mdW5jdGlvbiBzdHJpY3RSZXBsYWNlQ2hpbGQocGFyZW50OiBEb21FbGVtZW50LCBuZXdOb2RlOiBOb2RlLCBvbGROb2RlOiBEb21FbGVtZW50KSB7XG4gIGlmIChvbGROb2RlICYmIG9sZE5vZGUubm9kZVR5cGUgPT09IDEgJiYgKG9sZE5vZGUgYXMgYW55KVtTVUJUUkVFX0xDXSkge1xuICAgIHN0cmljdENsZWFudXBCZWZvcmVSZW1vdmUob2xkTm9kZSk7XG4gIH1cbiAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdOb2RlLCBvbGROb2RlKTtcbiAgaWYgKG9sZE5vZGUgJiYgb2xkTm9kZS5ub2RlVHlwZSA9PT0gMSAmJiAob2xkTm9kZSBhcyBhbnkpW1NVQlRSRUVfTENdKSB7XG4gICAgc3RyaWN0T25SZW1vdmVBZnRlckRldGFjaChvbGROb2RlKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZGlyZWN0aXZlczogUmVjb3JkPHN0cmluZywgRGlyZWN0aXZlPiA9IHtcbiAgXCJ2LWNyZWF0ZVwiOiAoY2FsbGJhY2ssIHZub2RlLCBvbGRQcm9wcykgPT4ge1xuICAgIGlmIChvbGRQcm9wcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFkZENhbGxiYWNrVG9TZXQoKCkgPT4gY2FsbGJhY2sodm5vZGUpLCBTZXRUeXBlLm9uQ3JlYXRlLCB2bm9kZSk7XG4gIH0sXG5cbiAgXCJ2LXVwZGF0ZVwiOiAoY2FsbGJhY2ssIHZub2RlLCBvbGRQcm9wcykgPT4ge1xuICAgIGlmICghb2xkUHJvcHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYWRkQ2FsbGJhY2tUb1NldCgoKSA9PiBjYWxsYmFjayh2bm9kZSwgb2xkUHJvcHMpLCBTZXRUeXBlLm9uVXBkYXRlLCB2bm9kZSk7XG4gIH0sXG5cbiAgXCJ2LWNsZWFudXBcIjogKGNhbGxiYWNrLCB2bm9kZSkgPT4ge1xuICAgIHZub2RlLm9uY2xlYW51cCA9IHZub2RlLm9uY2xlYW51cCB8fCBuZXcgU2V0KCk7XG4gICAgdm5vZGUub25jbGVhbnVwLmFkZCgoKSA9PiBjYWxsYmFjayh2bm9kZSkpO1xuICAgIG1hcmtTdWJ0cmVlTGlmZWN5Y2xlKHZub2RlLmRvbSk7XG4gIH0sXG5cbiAgXCJ2LXJlbW92ZVwiOiAoY2FsbGJhY2ssIHZub2RlKSA9PiB7XG4gICAgdm5vZGUub25yZW1vdmUgPSB2bm9kZS5vbnJlbW92ZSB8fCBuZXcgU2V0KCk7XG4gICAgdm5vZGUub25yZW1vdmUuYWRkKCgpID0+IGNhbGxiYWNrKHZub2RlKSk7XG4gICAgbWFya1N1YnRyZWVMaWZlY3ljbGUodm5vZGUuZG9tKTtcbiAgfSxcblxuICBcInYtaWZcIjogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIGlmICghQm9vbGVhbih2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IHBhcmVudE5vZGUgPSB2bm9kZS5kb20/LnBhcmVudE5vZGU7XG4gICAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgICBzdHJpY3RSZXBsYWNlQ2hpbGQocGFyZW50Tm9kZSBhcyBEb21FbGVtZW50LCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSwgdm5vZGUuZG9tKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG5cbiAgXCJ2LXNob3dcIjogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIGNvbnN0IGJvb2wgPSBCb29sZWFuKHZhbHVlKTtcbiAgICAoXG4gICAgICB2bm9kZS5kb20gYXMgdW5rbm93biBhcyB7XG4gICAgICAgIHN0eWxlOiB7IGRpc3BsYXk6IHN0cmluZyB9O1xuICAgICAgfVxuICAgICkuc3R5bGUuZGlzcGxheSA9IGJvb2wgPyBcIlwiIDogXCJub25lXCI7XG4gIH0sXG5cbiAgXCJ2LWh0bWxcIjogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIHZub2RlLmNoaWxkcmVuID0gdHJ1c3QodmFsdWUgYXMgc3RyaW5nKTtcbiAgfSxcblxuICAvLyBUaGUgXCJ2LW1vZGVsXCIgZGlyZWN0aXZlIGJpbmRzIHRoZSB2YWx1ZSBvZiBhbiBpbnB1dCBlbGVtZW50IHRvIGEgbW9kZWwgcHJvcGVydHlcbiAgXCJ2LW1vZGVsXCI6IChtb2RlbCwgdm5vZGUpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgaWYgKFwibmFtZVwiIGluIHZub2RlLnByb3BzID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB2YWx1ZTtcbiAgICBjb25zdCBwcm9wZXJ0eSA9IHZub2RlLnByb3BzLm5hbWU7XG4gICAgbGV0IGV2ZW50ID0gXCJvbmlucHV0XCI7XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHVwZGF0ZXMgdGhlIG1vZGVsIHByb3BlcnR5IHdoZW4gdGhlIGlucHV0IGVsZW1lbnQncyB2YWx1ZSBjaGFuZ2VzXG4gICAgbGV0IGhhbmRsZXIgPSAoZTogRXZlbnQpID0+IChtb2RlbFtwcm9wZXJ0eV0gPSAoZS50YXJnZXQgYXMgdW5rbm93biBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWUpO1xuICAgIGlmICh2bm9kZS50YWcgPT09IFwiaW5wdXRcIikge1xuICAgICAgLy8gRGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIGlucHV0IGVsZW1lbnQsIHVzZSBhIGRpZmZlcmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICBzd2l0Y2ggKHZub2RlLnByb3BzLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6IHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtb2RlbFtwcm9wZXJ0eV0pKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgbW9kZWwgcHJvcGVydHkgaXMgYW4gYXJyYXksIGFkZCBvciByZW1vdmUgdGhlIHZhbHVlIGZyb20gdGhlIGFycmF5IHdoZW4gdGhlIGNoZWNrYm94IGlzIGNoZWNrZWQgb3IgdW5jaGVja2VkXG4gICAgICAgICAgICBoYW5kbGVyID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbCA9IChlLnRhcmdldCBhcyB1bmtub3duIGFzIERvbUVsZW1lbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+KS52YWx1ZTtcbiAgICAgICAgICAgICAgY29uc3QgaWR4ID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsKTtcbiAgICAgICAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0ucHVzaCh2YWwpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBpbiB0aGUgYXJyYXksIHNldCB0aGUgY2hlY2tib3ggdG8gYmUgY2hlY2tlZFxuICAgICAgICAgICAgdmFsdWUgPSBtb2RlbFtwcm9wZXJ0eV0uaW5kZXhPZih2bm9kZS5kb20udmFsdWUpICE9PSAtMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiB2bm9kZS5wcm9wcykge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGlucHV0IGVsZW1lbnQgaGFzIGEgXCJ2YWx1ZVwiIGF0dHJpYnV0ZSwgdXNlIGl0IHRvIGRldGVybWluZSB0aGUgY2hlY2tlZCBzdGF0ZVxuICAgICAgICAgICAgaGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKG1vZGVsW3Byb3BlcnR5XSA9PT0gdm5vZGUucHJvcHMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0gPSBudWxsO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XSA9IHZub2RlLnByb3BzLnZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFsdWUgPSBtb2RlbFtwcm9wZXJ0eV0gPT09IHZub2RlLnByb3BzLnZhbHVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBcInZhbHVlXCIgYXR0cmlidXRlLCB1c2UgYSBib29sZWFuIHZhbHVlIGZvciB0aGUgbW9kZWwgcHJvcGVydHlcbiAgICAgICAgICAgIGhhbmRsZXIgPSAoKSA9PiAobW9kZWxbcHJvcGVydHldID0gIW1vZGVsW3Byb3BlcnR5XSk7XG4gICAgICAgICAgICB2YWx1ZSA9IG1vZGVsW3Byb3BlcnR5XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gU2V0IHRoZSBcImNoZWNrZWRcIiBhdHRyaWJ1dGUgb24gdGhlIGlucHV0IGVsZW1lbnRcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICBzZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsIHZhbHVlLCB2bm9kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInJhZGlvXCI6IHtcbiAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyBhIHJhZGlvIGJ1dHRvbiwgc2V0IHRoZSBcImNoZWNrZWRcIiBhdHRyaWJ1dGUgYmFzZWQgb24gdGhlIHZhbHVlIG9mIHRoZSBtb2RlbCBwcm9wZXJ0eVxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICAgIHNldEF0dHJpYnV0ZShcImNoZWNrZWRcIiwgbW9kZWxbcHJvcGVydHldID09PSB2bm9kZS5kb20udmFsdWUsIHZub2RlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgLy8gRm9yIGFsbCBvdGhlciBpbnB1dCB0eXBlcywgc2V0IHRoZSBcInZhbHVlXCIgYXR0cmlidXRlIGJhc2VkIG9uIHRoZSB2YWx1ZSBvZiB0aGUgbW9kZWwgcHJvcGVydHlcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICBzZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBtb2RlbFtwcm9wZXJ0eV0sIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodm5vZGUudGFnID09PSBcInNlbGVjdFwiKSB7XG4gICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyBhIHNlbGVjdCBlbGVtZW50LCB1c2UgdGhlIFwiY2xpY2tcIiBldmVudCBieSBkZWZhdWx0XG4gICAgICBldmVudCA9IFwib25jbGlja1wiO1xuICAgICAgaWYgKHZub2RlLnByb3BzLm11bHRpcGxlKSB7XG4gICAgICAgIC8vIElmIHRoZSBzZWxlY3QgZWxlbWVudCBhbGxvd3MgbXVsdGlwbGUgc2VsZWN0aW9ucywgdXBkYXRlIHRoZSBtb2RlbCBwcm9wZXJ0eSB3aXRoIGFuIGFycmF5IG9mIHNlbGVjdGVkIHZhbHVlc1xuICAgICAgICBoYW5kbGVyID0gKGU6IEV2ZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikgPT4ge1xuICAgICAgICAgIGNvbnN0IHZhbCA9IChlLnRhcmdldCBhcyB1bmtub3duIGFzIERvbUVsZW1lbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+KS52YWx1ZTtcbiAgICAgICAgICBpZiAoZS5jdHJsS2V5KSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgQ3RybCBrZXkgaXMgcHJlc3NlZCwgYWRkIG9yIHJlbW92ZSB0aGUgdmFsdWUgZnJvbSB0aGUgYXJyYXlcbiAgICAgICAgICAgIGNvbnN0IGlkeCA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZhbCk7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0ucHVzaCh2YWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgQ3RybCBrZXkgaXMgbm90IHByZXNzZWQsIHNldCB0aGUgbW9kZWwgcHJvcGVydHkgdG8gYW4gYXJyYXkgd2l0aCB0aGUgc2VsZWN0ZWQgdmFsdWVcbiAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5zcGxpY2UoMCwgbW9kZWxbcHJvcGVydHldLmxlbmd0aCk7XG4gICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0ucHVzaCh2YWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gU2V0IHRoZSBcInNlbGVjdGVkXCIgYXR0cmlidXRlIG9uIHRoZSBvcHRpb25zIGJhc2VkIG9uIHdoZXRoZXIgdGhleSBhcmUgaW4gdGhlIG1vZGVsIHByb3BlcnR5IGFycmF5XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudGFnID09PSBcIm9wdGlvblwiKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IFwidmFsdWVcIiBpbiBjaGlsZC5wcm9wcyA/IGNoaWxkLnByb3BzLnZhbHVlIDogY2hpbGQuY2hpbGRyZW4uam9pbihcIlwiKS50cmltKCk7XG4gICAgICAgICAgICBjaGlsZC5wcm9wcy5zZWxlY3RlZCA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIHRoZSBzZWxlY3QgZWxlbWVudCBkb2VzIG5vdCBhbGxvdyBtdWx0aXBsZSBzZWxlY3Rpb25zLCBzZXQgdGhlIFwic2VsZWN0ZWRcIiBhdHRyaWJ1dGUgb24gdGhlIG9wdGlvbnMgYmFzZWQgb24gdGhlIHZhbHVlIG9mIHRoZSBtb2RlbCBwcm9wZXJ0eVxuICAgICAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZDogVm5vZGVXaXRoRG9tKSA9PiB7XG4gICAgICAgICAgaWYgKGNoaWxkLnRhZyA9PT0gXCJvcHRpb25cIikge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBcInZhbHVlXCIgaW4gY2hpbGQucHJvcHMgPyBjaGlsZC5wcm9wcy52YWx1ZSA6IGNoaWxkLmNoaWxkcmVuLmpvaW4oXCJcIikudHJpbSgpO1xuICAgICAgICAgICAgY2hpbGQucHJvcHMuc2VsZWN0ZWQgPSB2YWx1ZSA9PT0gbW9kZWxbcHJvcGVydHldO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2bm9kZS50YWcgPT09IFwidGV4dGFyZWFcIikge1xuICAgICAgLy8gU2V0IHRoZSB0ZXh0YXJlYSdzIGNvbnRlbnQgdG8gdGhlIHZhbHVlIG9mIHRoZSBtb2RlbCBwcm9wZXJ0eVxuICAgICAgdm5vZGUuY2hpbGRyZW4gPSBbbW9kZWxbcHJvcGVydHldXTtcbiAgICB9XG5cbiAgICAvLyBXZSBhc3N1bWUgdGhhdCB0aGUgcHJldiBoYW5kbGVyIGlmIGFueSB3aWxsIG5vdCBiZSBjaGFuZ2VkIGJ5IHRoZSB1c2VyIGFjcm9zcyBwYXRjaHNcbiAgICBjb25zdCBwcmV2SGFuZGxlciA9IHZub2RlLnByb3BzW2V2ZW50XTtcblxuICAgIC8vIFNldCB0aGUgZXZlbnQgaGFuZGxlciBvbiB0aGUgZWxlbWVudFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHNldEF0dHJpYnV0ZShcbiAgICAgIGV2ZW50LFxuICAgICAgKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgIGhhbmRsZXIoZSk7XG5cbiAgICAgICAgLy8gSWYgdGhlIHByZXZpb3VzIGhhbmRsZXIgaXMgZGVmaW5lZCwgY2FsbCBpdCBhZnRlciB0aGUgbW9kZWwgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgICBpZiAocHJldkhhbmRsZXIpIHtcbiAgICAgICAgICBwcmV2SGFuZGxlcihlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHZub2RlXG4gICAgKTtcbiAgfSxcblxuICBcInYtY2xhc3NcIjogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHZub2RlLmRvbS5jbGFzc05hbWUgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2bm9kZS5kb20uY2xhc3NOYW1lID0gdmFsdWUuam9pbihcIiBcIik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IHZub2RlLmRvbS5jbGFzc0xpc3Q7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWUpIHtcbiAgICAgICAgY29uc3QgdmFsID0gdHlwZW9mIHZhbHVlW25hbWVdID09PSBcImZ1bmN0aW9uXCIgPyAodmFsdWVbbmFtZV0gYXMgRnVuY3Rpb24pKCkgOiB2YWx1ZVtuYW1lXTtcbiAgICAgICAgY2xhc3NMaXN0LnRvZ2dsZShuYW1lLCB2YWwpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvLyBGcmVxdWVudCB1c2VkIHByb3BlcnRpZXNcbiAgY2xhc3ModmFsdWUsIHZub2RlKSB7XG4gICAgaWYgKHZub2RlLmRvbS5jbGFzc05hbWUgIT09IHZhbHVlKSB7XG4gICAgICBpZiAodm5vZGUuaXNTVkcpIHtcbiAgICAgICAgdm5vZGUuZG9tLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdm5vZGUuZG9tLmNsYXNzTmFtZSA9IHZhbHVlO1xuICAgIH1cbiAgfSxcblxuICBjbGFzc05hbWUodmFsdWUsIHZub2RlKSB7XG4gICAgZGlyZWN0aXZlcy5jbGFzcyh2YWx1ZSwgdm5vZGUpO1xuICB9LFxuXG4gIGlkOiAodmFsdWUsIHZub2RlKSA9PiB7XG4gICAgaWYgKHZub2RlLmRvbS5pZCAhPT0gdmFsdWUpIHtcbiAgICAgIGlmICh2bm9kZS5pc1NWRykge1xuICAgICAgICB2bm9kZS5kb20uc2V0QXR0cmlidXRlKFwiaWRcIiwgdmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2bm9kZS5kb20uaWQgPSB2YWx1ZTtcbiAgICB9XG4gIH0sXG5cbiAgc3R5bGU6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAodm5vZGUuaXNTVkcpIHtcbiAgICAgICAgdm5vZGUuZG9tLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdm5vZGUuZG9tLnN0eWxlID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGlmICh2bm9kZS5pc1NWRykge1xuICAgICAgICB2bm9kZS5kb20uc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bm9kZS5kb20uc3R5bGUgPSBcIlwiO1xuICAgICAgfVxuICAgICAgY29uc3QgZG9tU3R5bGUgPSB2bm9kZS5kb20uc3R5bGU7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWUpIHtcbiAgICAgICAgZG9tU3R5bGVbbmFtZV0gPSB2YWx1ZVtuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXJlY3RpdmUobmFtZTogc3RyaW5nLCBkaXJlY3RpdmU6IERpcmVjdGl2ZSkge1xuICBjb25zdCBkaXJlY3RpdmVOYW1lID0gYHYtJHtuYW1lfWA7XG4gIGRpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV0gPSBkaXJlY3RpdmU7XG4gIHJlc2VydmVkUHJvcHMuYWRkKGRpcmVjdGl2ZU5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0UHJvcE5hbWVSZXNlcnZlZChuYW1lOiBzdHJpbmcpIHtcbiAgcmVzZXJ2ZWRQcm9wcy5hZGQobmFtZSk7XG59XG5cbmNvbnN0IGV2ZW50TGlzdGVuZXJOYW1lcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG5mdW5jdGlvbiBldmVudExpc3RlbmVyKGU6IEV2ZW50KSB7XG4gIGN1cnJlbnQuZXZlbnQgPSBlO1xuICBsZXQgZG9tID0gZS50YXJnZXQgYXMgdW5rbm93biBhcyBEb21FbGVtZW50O1xuICBjb25zdCBuYW1lID0gYG9uJHtlLnR5cGV9YDtcblxuICB3aGlsZSAoZG9tKSB7XG4gICAgY29uc3Qgb2xkVm5vZGUgPSBkb20udm5vZGUgYXMgVm5vZGVXaXRoRG9tO1xuICAgIGlmIChvbGRWbm9kZSAmJiBvbGRWbm9kZS5wcm9wc1tuYW1lXSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgb2xkVm5vZGUucHJvcHNbbmFtZV0oZSwgb2xkVm5vZGUpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgY3VycmVudC5ldmVudCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICghZS5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICB1cGRhdGUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZG9tID0gZG9tLnBhcmVudE5vZGUgYXMgRG9tRWxlbWVudDtcbiAgfVxuXG4gIGN1cnJlbnQuZXZlbnQgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBzaGFyZWRTZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55LCBuZXdWbm9kZTogVm5vZGVXaXRoRG9tKTogdm9pZCB8IGJvb2xlYW4ge1xuICBjb25zdCBuZXdWbm9kZURvbSA9IG5ld1Zub2RlLmRvbTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgaWYgKCFldmVudExpc3RlbmVyTmFtZXMuaGFzKG5hbWUpKSB7XG4gICAgICAvLyBXZSBhdHRhY2ggdGhlIGRlbGVnYXRlZCBldmVudCBsaXN0ZW5lciB0byB0aGUgbWFpbiB2bm9kZSBkb20gZWxlbWVudCwgd2hpY2ggaXMgdGhlIHJvb3Qgb2YgdGhlIGNvbXBvbmVudFxuICAgICAgKG1haW5Wbm9kZSBhcyBWbm9kZVdpdGhEb20pLmRvbS5hZGRFdmVudExpc3RlbmVyKG5hbWUuc2xpY2UoMiksIGV2ZW50TGlzdGVuZXIpO1xuICAgICAgZXZlbnRMaXN0ZW5lck5hbWVzLmFkZChuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFuZXdWbm9kZS5pc1NWRyAmJiBuYW1lIGluIG5ld1Zub2RlRG9tKSB7XG4gICAgbmV3Vm5vZGVEb21bbmFtZV0gPSB2YWx1ZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodmFsdWUgPT09IGZhbHNlKSB7XG4gICAgbmV3Vm5vZGVEb20ucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9IGVsc2Uge1xuICAgIG5ld1Zub2RlRG9tLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnksIG5ld1Zub2RlOiBWbm9kZVdpdGhEb20pOiB2b2lkIHtcbiAgaWYgKCFyZXNlcnZlZFByb3BzLmhhcyhuYW1lKSkge1xuICAgIG5ld1Zub2RlLnByb3BzW25hbWVdID0gdmFsdWU7XG4gICAgc2hhcmVkU2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlLCBuZXdWbm9kZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUF0dHJpYnV0ZXMobmV3Vm5vZGU6IFZub2RlV2l0aERvbSwgb2xkVm5vZGU/OiBWbm9kZVdpdGhEb20pOiB2b2lkIHtcbiAgY29uc3Qgdm5vZGVEb20gPSBuZXdWbm9kZS5kb207XG4gIGNvbnN0IHZub2RlUHJvcHMgPSBuZXdWbm9kZS5wcm9wcztcbiAgdm5vZGVEb20udm5vZGUgPSBuZXdWbm9kZTtcblxuICBpZiAob2xkVm5vZGUpIHtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gb2xkVm5vZGUucHJvcHMpIHtcbiAgICAgIGlmIChuYW1lIGluIHZub2RlUHJvcHMgPT09IGZhbHNlICYmICFldmVudExpc3RlbmVyTmFtZXMuaGFzKG5hbWUpICYmICFyZXNlcnZlZFByb3BzLmhhcyhuYW1lKSkge1xuICAgICAgICBpZiAoIW5ld1Zub2RlLmlzU1ZHICYmIG5hbWUgaW4gdm5vZGVEb20pIHtcbiAgICAgICAgICB2bm9kZURvbVtuYW1lXSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdm5vZGVEb20ucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yIChjb25zdCBuYW1lIGluIHZub2RlUHJvcHMpIHtcbiAgICBpZiAoZGlyZWN0aXZlc1tuYW1lXSkge1xuICAgICAgaWYgKGRpcmVjdGl2ZXNbbmFtZV0odm5vZGVQcm9wc1tuYW1lXSwgbmV3Vm5vZGUsIG9sZFZub2RlPy5wcm9wcykgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKCFyZXNlcnZlZFByb3BzLmhhcyhuYW1lKSkge1xuICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKG5hbWUsIHZub2RlUHJvcHNbbmFtZV0sIG5ld1Zub2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnOiBzdHJpbmcsIGlzU1ZHOiBib29sZWFuKTogRG9tRWxlbWVudCB7XG4gIHJldHVybiBpc1NWR1xuICAgID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgdGFnKVxuICAgIDogKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKSBhcyBEb21FbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gZmxhdFRyZWUobmV3Vm5vZGU6IFZub2RlV2l0aERvbSkge1xuICBsZXQgY2hpbGRyZW46IENoaWxkcmVuID0gW107XG4gIGNvbnN0IG5ld0NoaWxkcmVuID0gbmV3Vm5vZGUuY2hpbGRyZW47XG4gIG5ld1Zub2RlLmhhc0tleXMgPSBmYWxzZTtcblxuICBpZiAoXCJ2LWZvclwiIGluIG5ld1Zub2RlLnByb3BzID09PSBmYWxzZSkge1xuICAgIGZvciAobGV0IGwgPSBuZXdDaGlsZHJlbi5sZW5ndGggLSAxOyBsID49IDA7IGwtLSkge1xuICAgICAgY2hpbGRyZW4ucHVzaChuZXdDaGlsZHJlbltsXSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNoaWxkcmVuID0gW107XG4gICAgY29uc3Qgc2V0ID0gbmV3Vm5vZGUucHJvcHNbXCJ2LWZvclwiXTtcbiAgICBjb25zdCBjYWxsYmFjayA9IG5ld1Zub2RlLmNoaWxkcmVuWzBdO1xuXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJ2LWZvciBkaXJlY3RpdmUgbXVzdCBoYXZlIGEgY2FsbGJhY2sgZnVuY3Rpb24gYXMgY2hpbGRyZW5cIik7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuXG4gICAgLy8gVGhpcyBpcyBkb25lIHRvIHByZXNlcnZlIHRoZSBjb3JyZWN0IGNhbGwgb3JkZXIgb2YgdGhlIGNoaWxkcmVuXG4gICAgY29uc3QgdG1wOiBhbnlbXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2V0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0bXAucHVzaChjYWxsYmFjayhzZXRbaV0sIGkpKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IHRtcC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY2hpbGRyZW4ucHVzaCh0bXBbaV0pO1xuICAgIH1cbiAgfVxuXG4gIG5ld1Zub2RlLm9sZENoaWxkQ29tcG9uZW50cyA9IG5ld1Zub2RlLmNoaWxkQ29tcG9uZW50cztcbiAgaWYgKG5ld1Zub2RlLmNoaWxkQ29tcG9uZW50cykge1xuICAgIG5ld1Zub2RlLmNoaWxkQ29tcG9uZW50cyA9IG5ldyBTZXQoKTtcbiAgfVxuXG4gIGNvbnN0IG91dDogQ2hpbGRyZW4gPSBbXTtcblxuICB3aGlsZSAoY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgY29uc3QgbmV3Q2hpbGQgPSBjaGlsZHJlbi5wb3AoKTtcblxuICAgIGlmIChuZXdDaGlsZCA9PSBudWxsKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShuZXdDaGlsZCkpIHtcbiAgICAgIGZvciAobGV0IGwgPSBuZXdDaGlsZC5sZW5ndGggLSAxOyBsID49IDA7IGwtLSkge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKG5ld0NoaWxkW2xdKTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChuZXdDaGlsZCBpbnN0YW5jZW9mIFZub2RlKSB7XG4gICAgICBuZXdDaGlsZC5wcm9wcyA9IG5ld0NoaWxkLnByb3BzIHx8IHt9O1xuICAgICAgbmV3Q2hpbGQuaXNTVkcgPSBuZXdWbm9kZS5pc1NWRyB8fCBuZXdDaGlsZC50YWcgPT09IFwic3ZnXCI7XG5cbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQudGFnICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IChjdXJyZW50LmNvbXBvbmVudCA9IG5ld0NoaWxkLnRhZyk7XG4gICAgICAgIG5ld1Zub2RlLmNoaWxkQ29tcG9uZW50cyA9IG5ld1Zub2RlLmNoaWxkQ29tcG9uZW50cyB8fCBuZXcgU2V0KCk7XG4gICAgICAgIG5ld1Zub2RlLmNoaWxkQ29tcG9uZW50cy5hZGQoY29tcG9uZW50KTtcblxuICAgICAgICBjaGlsZHJlbi5wdXNoKFxuICAgICAgICAgIChpc1BPSk9Db21wb25lbnQoY29tcG9uZW50KSA/IGNvbXBvbmVudC52aWV3IDogY29tcG9uZW50KS5iaW5kKGNvbXBvbmVudCkobmV3Q2hpbGQucHJvcHMsIG5ld0NoaWxkLmNoaWxkcmVuKVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBuZXdWbm9kZS5oYXNLZXlzID0gbmV3Vm5vZGUuaGFzS2V5cyB8fCBcImtleVwiIGluIG5ld0NoaWxkLnByb3BzO1xuICAgICAgb3V0LnB1c2gobmV3Q2hpbGQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgb3V0LnB1c2gobmV3Q2hpbGQpO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc05ld0NoaWxkKG5ld0NoaWxkOiBWbm9kZVdpdGhEb20sIHBhcmVudFZub2RlOiBWbm9kZVdpdGhEb20sIG9sZERvbT86IERvbUVsZW1lbnQpIHtcbiAgaWYgKG9sZERvbSkge1xuICAgIG5ld0NoaWxkLmRvbSA9IGNyZWF0ZUVsZW1lbnQobmV3Q2hpbGQudGFnLCBuZXdDaGlsZC5pc1NWRyBhcyBib29sZWFuKTtcbiAgICBzdHJpY3RSZXBsYWNlQ2hpbGQocGFyZW50Vm5vZGUuZG9tLCBuZXdDaGlsZC5kb20sIG9sZERvbSk7XG4gIH0gZWxzZSB7XG4gICAgbmV3Q2hpbGQuZG9tID0gcGFyZW50Vm5vZGUuZG9tLmFwcGVuZENoaWxkKGNyZWF0ZUVsZW1lbnQobmV3Q2hpbGQudGFnLCBuZXdDaGlsZC5pc1NWRyBhcyBib29sZWFuKSk7XG4gIH1cbiAgdXBkYXRlQXR0cmlidXRlcyhuZXdDaGlsZCk7XG4gIGlmIChcInYtdGV4dFwiIGluIG5ld0NoaWxkLnByb3BzKSB7XG4gICAgbmV3Q2hpbGQuZG9tLnRleHRDb250ZW50ID0gbmV3Q2hpbGQucHJvcHNbXCJ2LXRleHRcIl07XG4gICAgY2FsbFNldChuZXdDaGlsZC5vbmNyZWF0ZSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY3VycmVudC5vbGRWbm9kZSA9IG51bGw7XG4gIGN1cnJlbnQudm5vZGUgPSBuZXdDaGlsZDtcblxuICBjb25zdCBjaGlsZHJlbiA9IGZsYXRUcmVlKG5ld0NoaWxkKTtcbiAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgIG5ld0NoaWxkLmRvbS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgY2FsbFNldChuZXdDaGlsZC5vbmNyZWF0ZSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoY2hpbGRyZW5baV0gaW5zdGFuY2VvZiBWbm9kZSA9PT0gZmFsc2UpIHtcbiAgICAgIG5ld0NoaWxkLmRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZHJlbltpXSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHByb2Nlc3NOZXdDaGlsZChjaGlsZHJlbltpXSBhcyBWbm9kZVdpdGhEb20sIG5ld0NoaWxkKTtcbiAgfVxuICBjYWxsU2V0KG5ld0NoaWxkLm9uY3JlYXRlKTtcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHBhdGNoKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sIG9sZFZub2RlOiBWbm9kZVdpdGhEb20gfCBudWxsKTogdm9pZCB7XG4gIGN1cnJlbnQub2xkVm5vZGUgPSBvbGRWbm9kZTtcbiAgY3VycmVudC52bm9kZSA9IG5ld1Zub2RlO1xuICBjb25zdCBjaGlsZHJlbiA9IGZsYXRUcmVlKG5ld1Zub2RlKTtcbiAgY29uc3QgZG9tID0gbmV3Vm5vZGUuZG9tO1xuXG4gIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoZG9tLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBjaGlsZE5vZGVzID0gQXJyYXkuZnJvbShkb20uY2hpbGROb2RlcykgYXMgYW55W107XG4gICAgICBmb3IgKGxldCBpID0gY2hpbGROb2Rlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBuID0gY2hpbGROb2Rlc1tpXTtcbiAgICAgICAgaWYgKG4gJiYgbi5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgIHN0cmljdFJlbW92ZU5vZGUobik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbj8ucmVtb3ZlPy4oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjYWxsU2V0KG5ld1Zub2RlLm9uY3JlYXRlKTtcbiAgICBjYWxsU2V0KG5ld1Zub2RlLm9udXBkYXRlKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjaGlsZE5vZGVzID0gZG9tLmNoaWxkTm9kZXMgYXMgdW5rbm93biBhcyBEb21FbGVtZW50W107XG4gIGNvbnN0IG9sZENoaWxkcmVuTGVuZ3RoID0gY2hpbGROb2Rlcy5sZW5ndGg7XG4gIGNvbnN0IGNoaWxkcmVuTGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuICBpZiAob2xkQ2hpbGRyZW5MZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG5ld0NoaWxkID0gY2hpbGRyZW5baV0gYXMgVm5vZGVXaXRoRG9tO1xuICAgICAgaWYgKG5ld0NoaWxkIGluc3RhbmNlb2YgVm5vZGUgPT09IGZhbHNlKSB7XG4gICAgICAgIGRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuZXdDaGlsZCkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHByb2Nlc3NOZXdDaGlsZChuZXdDaGlsZCwgbmV3Vm5vZGUpO1xuICAgIH1cbiAgICBjYWxsU2V0KG5ld1Zub2RlLm9uY3JlYXRlKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgb2xkVHJlZSA9IGNoaWxkTm9kZXMgYXMgdW5rbm93biBhcyBEb21FbGVtZW50W107XG4gIGNvbnN0IG9sZEtleWVkTGlzdDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuXG4gIGlmIChuZXdWbm9kZS5oYXNLZXlzKSB7XG4gICAgY29uc3QgbmV3T2xkVHJlZSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gb2xkVHJlZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIG5ld09sZFRyZWVbaV0gPSBvbGRUcmVlW2ldO1xuICAgICAgY29uc3Qgb2xkVm5vZGUgPSBvbGRUcmVlW2ldLnZub2RlIGFzIFZub2RlV2l0aERvbTtcbiAgICAgIG9sZEtleWVkTGlzdFshb2xkVm5vZGUgfHwgXCJrZXlcIiBpbiBvbGRWbm9kZS5wcm9wcyA9PT0gZmFsc2UgPyBpIDogKG9sZFZub2RlLnByb3BzLmtleSBhcyBzdHJpbmcpXSA9IGk7XG4gICAgfVxuICAgIG9sZFRyZWUgPSBuZXdPbGRUcmVlO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCBuZXdDaGlsZCA9IGNoaWxkcmVuW2ldIGFzIFZub2RlV2l0aERvbTtcblxuICAgIGlmIChuZXdDaGlsZCBpbnN0YW5jZW9mIFZub2RlID09PSBmYWxzZSkge1xuICAgICAgY29uc3Qgb2xkQ2hpbGQgPSBvbGRUcmVlW2ldO1xuICAgICAgaWYgKCFvbGRDaGlsZCkge1xuICAgICAgICBkb20uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3Q2hpbGQpKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChvbGRDaGlsZC5ub2RlVHlwZSAhPT0gMykge1xuICAgICAgICBzdHJpY3RSZXBsYWNlQ2hpbGQoZG9tLCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuZXdDaGlsZCksIG9sZENoaWxkKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgIGlmIChvbGRDaGlsZC5ub2RlVmFsdWUgIT0gbmV3Q2hpbGQpIHtcbiAgICAgICAgb2xkQ2hpbGQubm9kZVZhbHVlID0gbmV3Q2hpbGQ7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBvbGRDaGlsZCA9IG9sZFRyZWVbbmV3Vm5vZGUuaGFzS2V5cyA/IG9sZEtleWVkTGlzdFsobmV3Q2hpbGQucHJvcHMua2V5IGFzIGFueSkgfHwgaV0gOiBpXSBhcyBEb21FbGVtZW50O1xuXG4gICAgaWYgKCFvbGRDaGlsZCB8fCBuZXdDaGlsZC50YWcgIT09IG9sZENoaWxkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIHByb2Nlc3NOZXdDaGlsZChuZXdDaGlsZCwgbmV3Vm5vZGUsIGNoaWxkTm9kZXNbaV0gYXMgRG9tRWxlbWVudCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBuZXdDaGlsZC5kb20gPSBvbGRDaGlsZDtcbiAgICBjb25zdCBjdXJyZW50Q2hpbGQgPSBjaGlsZE5vZGVzW2ldO1xuICAgIGNvbnN0IG9sZENoaWxkVm5vZGUgPSBvbGRDaGlsZC52bm9kZSBhcyBWbm9kZVdpdGhEb207XG4gICAgaWYgKCFjdXJyZW50Q2hpbGQpIHtcbiAgICAgIGRvbS5hcHBlbmRDaGlsZChvbGRDaGlsZCk7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50Q2hpbGQgIT09IG9sZENoaWxkKSB7XG4gICAgICBkb20ucmVwbGFjZUNoaWxkKG9sZENoaWxkLCBjdXJyZW50Q2hpbGQpO1xuICAgIH1cblxuICAgIGlmIChcInYta2VlcFwiIGluIG5ld0NoaWxkLnByb3BzICYmIG9sZENoaWxkVm5vZGUpIHtcbiAgICAgIGlmIChvbGRDaGlsZFZub2RlLnByb3BzW1widi1rZWVwXCJdID09PSBuZXdDaGlsZC5wcm9wc1tcInYta2VlcFwiXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb2xkUHJvcHMgPSBjaGlsZE5vZGVzW2kgKyAxXT8udm5vZGU/LnByb3BzO1xuICAgICAgaWYgKG9sZFByb3BzICYmIFwia2V5XCIgaW4gb2xkUHJvcHMgPT09IGZhbHNlICYmIG9sZFByb3BzW1widi1rZWVwXCJdID09PSBuZXdDaGlsZC5wcm9wc1tcInYta2VlcFwiXSkge1xuICAgICAgICBzdHJpY3RSZW1vdmVOb2RlKG9sZENoaWxkKTtcbiAgICAgICAgb2xkVHJlZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUF0dHJpYnV0ZXMobmV3Q2hpbGQgYXMgVm5vZGVXaXRoRG9tLCBvbGRDaGlsZFZub2RlKTtcblxuICAgIGlmIChcInYtdGV4dFwiIGluIG5ld0NoaWxkLnByb3BzKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICBpZiAob2xkQ2hpbGQudGV4dENvbnRlbnQgIT0gbmV3Q2hpbGQucHJvcHNbXCJ2LXRleHRcIl0pIHtcbiAgICAgICAgb2xkQ2hpbGQudGV4dENvbnRlbnQgPSBuZXdDaGlsZC5wcm9wc1tcInYtdGV4dFwiXTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNhbGxTZXQob2xkQ2hpbGRWbm9kZT8ub25jbGVhbnVwKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICBwYXRjaChuZXdDaGlsZCBhcyBWbm9kZVdpdGhEb20sIG9sZENoaWxkVm5vZGUgfHwgbnVsbCk7XG4gIH1cblxuICBmb3IgKGxldCBpID0gY2hpbGROb2Rlcy5sZW5ndGgsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPiBsOyBpLS0pIHtcbiAgICBjb25zdCB0b1JlbW92ZSA9IGNoaWxkTm9kZXNbaSAtIDFdO1xuICAgIGlmICh0b1JlbW92ZSAmJiB0b1JlbW92ZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgc3RyaWN0UmVtb3ZlTm9kZSh0b1JlbW92ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRvUmVtb3ZlPy5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICAvLyBJbiBoZXJlIHdlIGNvdWxkIGhhdmUgbmV3IGNoaWxkcmVuIG9yL2FuZCBwYXRjaGVkIGNoaWxkcmVuXG4gIC8vIFNvIHdlIG5lZWQgdG8gY2FsbCB0aGUgb25jcmVhdGUgYW5kIG9udXBkYXRlIGNhbGxiYWNrc1xuICBjYWxsU2V0KG5ld1Zub2RlLm9uY3JlYXRlKTtcbiAgY2FsbFNldChuZXdWbm9kZS5vbnVwZGF0ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVWbm9kZSh2bm9kZTogVm5vZGVXaXRoRG9tLCBzaG91bGRDbGVhbnVwID0gdHJ1ZSk6IHN0cmluZyB8IHZvaWQge1xuICB2bm9kZS5wcm9wcyA9IHZub2RlLnByb3BzIHx8IHt9O1xuICBpZiAoc2hvdWxkQ2xlYW51cCkge1xuICAgIC8vIFRoZSBjbGVhbiB1cCBtdXN0IGJlIGZyb20gdGhlIG9sZCB2bm9kZVxuICAgIC8vIGFuZCBpbiBoZXJlIHRoZSB2bm9kZSBpcyB0aGUgb2xkIG9uZVxuICAgIC8vIHNvLCB3ZSBuZWVkIHRvIGNhbGwgdGhlIGNsZWFudXAgYmVmb3JlIHRoZSBwYXRjaFxuICAgIC8vIGluc2lkZSAgdGhlIHBhdGNoIHRoZSBjbGVhbiB1cCB3aWxsIGJlIGNhbGxlZCBvbmx5IGZvciB0aGUgb2xkIGNoaWxkcmVuXG4gICAgY2FsbFNldCh2bm9kZS5vbmNsZWFudXApO1xuICB9XG4gIC8vIENsb25lIHRoZSBvbGQgb24gcmVtb3ZlIHNldCB0byBjYWxsIGl0IGFmdGVyIHRoZSBwYXRjaFxuICBjb25zdCBvbGRPblJlbW92ZVNldCA9IHZub2RlLm9ucmVtb3ZlID8gbmV3IFNldCh2bm9kZS5vbnJlbW92ZSkgOiBudWxsO1xuICBjdXJyZW50LnZub2RlID0gdm5vZGU7XG4gIHBhdGNoKHZub2RlLCBzaG91bGRDbGVhbnVwID8gdm5vZGUgOiBudWxsKTtcbiAgY2FsbFNldChvbGRPblJlbW92ZVNldCk7XG4gIGlzTW91bnRlZCA9IHRydWU7XG4gIGN1cnJlbnQub2xkVm5vZGUgPSBudWxsO1xuICBjdXJyZW50LnZub2RlID0gbnVsbDtcbiAgY3VycmVudC5jb21wb25lbnQgPSBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKCk6IHN0cmluZyB7XG4gIGlmIChtYWluVm5vZGUpIHtcbiAgICBtYWluVm5vZGUuY2hpbGRyZW4gPSBbbWFpbkNvbXBvbmVudF07XG4gICAgLy8gSWYgdGhlIHVwZGF0ZVZub2RlIG1ldGhvZCBpcyBjYWxsZWQgZnJvbSBvdXRzaWRlIHRoZSBtYWluIGxpYiAoZS5nLiBmcm9tIGEgZGlyZWN0aXZlKVxuICAgIC8vIGl0IGFsd2F5cyBiZSBjb25zaWRlcmVkIGFzIG1vdW50ZWQsIHNvIHRoZSBjbGVhbnVwIHdpbGwgYmUgY2FsbGVkIGJlZm9yZSB0aGUgcGF0Y2hcbiAgICAvLyBCdXQgaW4gaGVyZSwgd2UgbmVlZCB0byBwYXNzIHRoZSBzaG91bGRDbGVhbnVwIGFzIGZhbHNlIGlmIHRoZSBhcHAgaXMgbm90IG1vdW50ZWRcbiAgICB1cGRhdGVWbm9kZShtYWluVm5vZGUgYXMgVm5vZGVXaXRoRG9tLCBpc01vdW50ZWQpO1xuICAgIGlmIChpc05vZGVKcykge1xuICAgICAgcmV0dXJuIG1haW5Wbm9kZS5kb20uaW5uZXJIVE1MO1xuICAgIH1cbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cblxubGV0IGRlYm91bmNlZFVwZGF0ZVRpbWVvdXQ6IGFueTtcbmNvbnN0IGRlYm91bmNlZFVwZGF0ZU1ldGhvZCA9IGlzTm9kZUpzID8gdXBkYXRlIDogKCkgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZWRVcGRhdGUodGltZW91dCA9IDQyKSB7XG4gIGlmIChjdXJyZW50LmV2ZW50KSB7XG4gICAgY3VycmVudC5ldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG4gIGNsZWFyVGltZW91dChkZWJvdW5jZWRVcGRhdGVUaW1lb3V0KTtcbiAgZGVib3VuY2VkVXBkYXRlVGltZW91dCA9IHNldFRpbWVvdXQoZGVib3VuY2VkVXBkYXRlTWV0aG9kLCB0aW1lb3V0KTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIGlmICghbWFpblZub2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAoY29uc3QgbmFtZSBvZiBldmVudExpc3RlbmVyTmFtZXMpIHtcbiAgICBtYWluVm5vZGUuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZS5zbGljZSgyKSwgZXZlbnRMaXN0ZW5lcik7XG4gIH1cbiAgZXZlbnRMaXN0ZW5lck5hbWVzLmNsZWFyKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bm1vdW50KCkge1xuICBpZiAobWFpblZub2RlKSB7XG4gICAgbWFpbkNvbXBvbmVudCA9IHYoKCkgPT4gbnVsbCwge30pIGFzIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlO1xuICAgIGNvbnN0IHJlc3VsdCA9IHVwZGF0ZSgpO1xuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICBtYWluQ29tcG9uZW50ID0gbnVsbDtcbiAgICBtYWluVm5vZGUgPSBudWxsO1xuICAgIGlzTW91bnRlZCA9IGZhbHNlO1xuICAgIGN1cnJlbnQudm5vZGUgPSBudWxsO1xuICAgIGN1cnJlbnQuY29tcG9uZW50ID0gbnVsbDtcbiAgICBjdXJyZW50LmV2ZW50ID0gbnVsbDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcmV0dXJuIFwiXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VudChkb206IHN0cmluZyB8IERvbUVsZW1lbnQsIGNvbXBvbmVudDogVmFseXJpYW5Db21wb25lbnQgfCBWbm9kZUNvbXBvbmVudEludGVyZmFjZSB8IGFueSkge1xuICBjb25zdCBjb250YWluZXIgPVxuICAgIHR5cGVvZiBkb20gPT09IFwic3RyaW5nXCIgPyAoaXNOb2RlSnMgPyBjcmVhdGVFbGVtZW50KGRvbSwgZG9tID09PSBcInN2Z1wiKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZG9tKSkgOiBkb207XG5cbiAgaWYgKG1haW5Wbm9kZSAmJiBtYWluVm5vZGUuZG9tICE9PSBjb250YWluZXIpIHtcbiAgICByZW1vdmVFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgaWYgKGlzQ29tcG9uZW50KGNvbXBvbmVudCkpIHtcbiAgICBtYWluQ29tcG9uZW50ID0gdihjb21wb25lbnQsIHt9LCBbXSkgYXMgVm5vZGVDb21wb25lbnRJbnRlcmZhY2U7XG4gIH0gZWxzZSBpZiAoaXNWbm9kZUNvbXBvbmVudChjb21wb25lbnQpKSB7XG4gICAgbWFpbkNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgfSBlbHNlIHtcbiAgICBtYWluQ29tcG9uZW50ID0gdigoKSA9PiBjb21wb25lbnQsIHt9LCBbXSkgYXMgVm5vZGVDb21wb25lbnRJbnRlcmZhY2U7XG4gIH1cblxuICBtYWluVm5vZGUgPSBoaWRyYXRlRG9tVG9Wbm9kZShjb250YWluZXIpIGFzIFZub2RlV2l0aERvbTtcbiAgcmV0dXJuIHVwZGF0ZSgpO1xufVxuIl0sIm1hcHBpbmdzIjoiTUF3Q08sSUFBTUEsRUFBV0MsUUFBMkIsb0JBQVpDLFNBQTJCQSxRQUFRQyxVQUFZRCxRQUFRQyxTQUFTQyxNQUUxRkMsRUFBTixNQUNMLFdBQUFDLENBQ1NDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBWEFDLEtBQUFaLE1BQ0FZLEtBQUFYLFFBQ0FXLEtBQUFWLFdBQ0FVLEtBQUFULE1BQ0FTLEtBQUFSLFFBQ0FRLEtBQUFQLHFCQUNBTyxLQUFBTixrQkFDQU0sS0FBQUwsVUFDQUssS0FBQUosV0FDQUksS0FBQUgsWUFDQUcs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