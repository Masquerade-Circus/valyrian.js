//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2xpYi9pbmRleC50cyJdLCJuYW1lcyI6WyJDb21wb25lbnRTdHJpbmciLCJUZXh0U3RyaW5nIiwiaXNOb2RlSnMiLCJCb29sZWFuIiwicHJvY2VzcyIsInZlcnNpb25zIiwibm9kZSIsIlVuZCIsIlZub2RlIiwidGFnIiwicHJvcHMiLCJjaGlsZHJlbiIsInRoaXMiLCJpc0NvbXBvbmVudCIsImNvbXBvbmVudCIsImlzVm5vZGVDb21wb25lbnQiLCJ2bm9kZSIsImNyZWF0ZURvbUVsZW1lbnQiLCJpc1NWRyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRWxlbWVudCIsImRvbVRvVm5vZGUiLCJkb20iLCJub2RlVHlwZSIsInYiLCJub2RlVmFsdWUiLCJpIiwiY2hpbGROb2RlcyIsImxlbmd0aCIsImNoaWxkIiwicHVzaCIsImZvckVhY2giLCJjYWxsIiwiYXR0cmlidXRlcyIsInByb3AiLCJub2RlTmFtZSIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsInRydXN0IiwiaHRtbFN0cmluZyIsImRpdiIsImlubmVySFRNTCIsInRyaW0iLCJtYXAiLCJpdGVtIiwicmVzZXJ2ZWRQcm9wcyIsImtleSIsInN0YXRlIiwib25jcmVhdGUiLCJvbnVwZGF0ZSIsIm9ucmVtb3ZlIiwic2hvdWxkdXBkYXRlIiwiZXZlbnRMaXN0ZW5lck5hbWVzIiwib25DbGVhbnVwTGlzdCIsIm9uTW91bnRMaXN0Iiwib25VcGRhdGVMaXN0Iiwib25Vbm1vdW50TGlzdCIsImN1cnJlbnQiLCJldmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsIm5hbWUiLCJ0eXBlIiwiZGVmYXVsdFByZXZlbnRlZCIsInVwZGF0ZSIsInBhcmVudE5vZGUiLCJjYWxsQ2FsbGJhY2tMaXN0IiwibGlzdCIsIm1haW5Wbm9kZSIsIm9sZFZub2RlIiwicGF0Y2giLCJpc01vdW50ZWQiLCJ1bm1vdW50IiwiZW1wdHlWbm9kZSIsInNoYXJlZFNldEF0dHJpYnV0ZSIsInZhbHVlIiwiZGlyZWN0aXZlcyIsImNvbnRhaW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJzbGljZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZXMiLCJuZXdWbm9kZSIsIm5ld1RyZWUiLCJvbGRUcmVlIiwiY2hpbGRWbm9kZSIsInJlc3VsdCIsInZpZXciLCJzcGxpY2UiLCJBcnJheSIsImlzQXJyYXkiLCJvbGRUcmVlTGVuZ3RoIiwibmV3VHJlZUxlbmd0aCIsIm9sZEtleWVkTGlzdCIsIm5ld0tleWVkTGlzdCIsIm9sZENoaWxkVm5vZGUiLCJzaG91bGRQYXRjaCIsImFwcGVuZENoaWxkIiwicmVwbGFjZUNoaWxkIiwicmVtb3ZlQ2hpbGQiLCJuZXdDaGlsZFZub2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJ0ZXh0Q29udGVudCIsImhpZGVEaXJlY3RpdmUiLCJ0ZXN0IiwiYm9vbCIsIm5ld2RvbSIsInNldCIsInN0eWxlIiwiZGlzcGxheSIsImNsYXNzZXMiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJodG1sIiwibW9kZWwiLCJwcm9wZXJ0eSIsImV2ZW50IiwiaGFuZGxlciIsInZhbCIsImlkeCIsImluZGV4T2YiLCJtdWx0aXBsZSIsImN0cmxLZXkiLCJ2YWx1ZTIiLCJqb2luIiwic2VsZWN0ZWQiLCJwbHVnaW5zIiwiTWFwIiwidGFnT3JDb21wb25lbnQiLCJmcmFnbWVudCIsImlzVm5vZGUiLCJvYmplY3QiLCJvbkNsZWFudXAiLCJjYWxsYmFjayIsIm9uVW5tb3VudCIsIm9uTW91bnQiLCJvblVwZGF0ZSIsIm1vdW50Iiwidm5vZGVDb21wb25lbnQiLCJhcHBDb250YWluZXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiRXJyb3IiLCJkaXJlY3RpdmUiLCJkaXJlY3RpdmUyIiwiZnVsbE5hbWUiLCJ1c2UiLCJwbHVnaW4iLCJvcHRpb25zIiwiaGFzIiwiZ2V0Il0sIm1hcHBpbmdzIjoiTUFxQkEsSUFBTUEsRUFBa0IsZ0JBQ2xCQyxFQUFhLFFBQ2JDLEVBQVdDLFFBQTJCLG9CQUFa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InNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lICovXG4vKiBlc2xpbnQtZGlzYWJsZSBzb25hcmpzL2NvZ25pdGl2ZS1jb21wbGV4aXR5ICovXG4vKioqIFZub2RlICoqKi9cblxuaW1wb3J0IHtcbiAgQ2hpbGRyZW4sXG4gIEN1cnJlbnQsXG4gIERpcmVjdGl2ZSxcbiAgRGlyZWN0aXZlcyxcbiAgRG9tRWxlbWVudCxcbiAgSVZub2RlLFxuICBQbHVnaW4sXG4gIFByb3BzLFxuICBSZXNlcnZlZFByb3BzLFxuICBWYWx5cmlhbixcbiAgVmFseXJpYW5Db21wb25lbnQsXG4gIFZub2RlQ29tcG9uZW50LFxuICBWbm9kZVdpdGhEb21cbn0gZnJvbSBcIi4vaW50ZXJmYWNlc1wiO1xuXG4vKioqIENvbnN0YW50cyAqKiovXG5jb25zdCBDb21wb25lbnRTdHJpbmcgPSBcIl9fY29tcG9uZW50X19cIjtcbmNvbnN0IFRleHRTdHJpbmcgPSBcIiN0ZXh0XCI7XG5jb25zdCBpc05vZGVKcyA9IEJvb2xlYW4odHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUpO1xuY29uc3QgVW5kID0gdW5kZWZpbmVkO1xuXG4vKioqIFZub2RlICoqKi9cblxuY29uc3QgVm5vZGUgPSBmdW5jdGlvbiBWbm9kZSh0aGlzOiBJVm5vZGUsIHRhZzogc3RyaW5nLCBwcm9wczogUHJvcHMsIGNoaWxkcmVuOiBDaGlsZHJlbikge1xuICB0aGlzLnByb3BzID0gcHJvcHM7XG4gIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgdGhpcy50YWcgPSB0YWc7XG59IGFzIHVua25vd24gYXMgSVZub2RlO1xuXG5mdW5jdGlvbiBpc1Zub2RlKG9iamVjdD86IHVua25vd24gfCBJVm5vZGUpOiBvYmplY3QgaXMgSVZub2RlIHtcbiAgcmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIFZub2RlO1xufVxuXG5mdW5jdGlvbiBpc0NvbXBvbmVudChjb21wb25lbnQ/OiB1bmtub3duIHwgVmFseXJpYW5Db21wb25lbnQpOiBjb21wb25lbnQgaXMgVmFseXJpYW5Db21wb25lbnQge1xuICByZXR1cm4gdHlwZW9mIGNvbXBvbmVudCA9PT0gXCJmdW5jdGlvblwiIHx8ICh0eXBlb2YgY29tcG9uZW50ID09PSBcIm9iamVjdFwiICYmIGNvbXBvbmVudCAhPT0gbnVsbCAmJiBcInZpZXdcIiBpbiBjb21wb25lbnQpO1xufVxuXG5mdW5jdGlvbiBpc1Zub2RlQ29tcG9uZW50KHZub2RlPzogdW5rbm93biB8IFZub2RlQ29tcG9uZW50KTogdm5vZGUgaXMgVm5vZGVDb21wb25lbnQge1xuICByZXR1cm4gdm5vZGUgaW5zdGFuY2VvZiBWbm9kZSAmJiB2bm9kZS50YWcgPT09IENvbXBvbmVudFN0cmluZztcbn1cblxuLyoqKiBVdGlsICoqKi9cblxuZnVuY3Rpb24gY3JlYXRlRG9tRWxlbWVudCh0YWc6IHN0cmluZywgaXNTVkc6IGJvb2xlYW4gPSBmYWxzZSkge1xuICByZXR1cm4gaXNTVkcgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB0YWcpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xufVxuXG5mdW5jdGlvbiBkb21Ub1Zub2RlKGRvbTogRG9tRWxlbWVudCk6IHZvaWQgfCBWbm9kZVdpdGhEb20ge1xuICBpZiAoZG9tLm5vZGVUeXBlID09PSAzKSB7XG4gICAgbGV0IHZub2RlID0gdihUZXh0U3RyaW5nLCB7fSwgW10pO1xuICAgIHZub2RlLm5vZGVWYWx1ZSA9IGRvbS5ub2RlVmFsdWUgYXMgc3RyaW5nO1xuICAgIHZub2RlLmRvbSA9IGRvbTtcbiAgICByZXR1cm4gdm5vZGUgYXMgVm5vZGVXaXRoRG9tO1xuICB9XG5cbiAgaWYgKGRvbS5ub2RlVHlwZSA9PT0gMSkge1xuICAgIGxldCBjaGlsZHJlbiA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZG9tLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjaGlsZCA9IGRvbVRvVm5vZGUoZG9tLmNoaWxkTm9kZXNbaV0gYXMgRG9tRWxlbWVudCk7XG4gICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHByb3BzOiBQcm9wcyA9IHt9O1xuICAgIFtdLmZvckVhY2guY2FsbChkb20uYXR0cmlidXRlcywgKHByb3A6IEF0dHIpID0+IChwcm9wc1twcm9wLm5vZGVOYW1lXSA9IHByb3Aubm9kZVZhbHVlKSk7XG5cbiAgICBsZXQgdm5vZGUgPSB2KGRvbS50YWdOYW1lLnRvTG93ZXJDYXNlKCksIHByb3BzLCAuLi5jaGlsZHJlbik7XG4gICAgdm5vZGUuZG9tID0gZG9tO1xuICAgIHJldHVybiB2bm9kZSBhcyBWbm9kZVdpdGhEb207XG4gIH1cbn1cblxuY29uc3QgdHJ1c3QgPSAoaHRtbFN0cmluZzogc3RyaW5nKTogQ2hpbGRyZW4gPT4ge1xuICBsZXQgZGl2ID0gY3JlYXRlRG9tRWxlbWVudChcImRpdlwiKTtcbiAgZGl2LmlubmVySFRNTCA9IGh0bWxTdHJpbmcudHJpbSgpO1xuXG4gIHJldHVybiBbXS5tYXAuY2FsbChkaXYuY2hpbGROb2RlcywgKGl0ZW0pID0+IGRvbVRvVm5vZGUoaXRlbSkpIGFzIENoaWxkcmVuO1xufTtcblxuY29uc3QgcmVzZXJ2ZWRQcm9wczogUmVzZXJ2ZWRQcm9wcyA9IHtcbiAga2V5OiB0cnVlLFxuICBzdGF0ZTogdHJ1ZSxcbiAgb25jcmVhdGU6IHRydWUsXG4gIG9udXBkYXRlOiB0cnVlLFxuICBvbnJlbW92ZTogdHJ1ZSxcbiAgc2hvdWxkdXBkYXRlOiB0cnVlLFxuICBcInYtb25jZVwiOiB0cnVlLFxuXG4gIC8vIEJ1aWx0IGluIGRpcmVjdGl2ZXNcbiAgXCJ2LWlmXCI6IHRydWUsXG4gIFwidi11bmxlc3NcIjogdHJ1ZSxcbiAgXCJ2LWZvclwiOiB0cnVlLFxuICBcInYtc2hvd1wiOiB0cnVlLFxuICBcInYtY2xhc3NcIjogdHJ1ZSxcbiAgXCJ2LWh0bWxcIjogdHJ1ZSxcbiAgXCJ2LW1vZGVsXCI6IHRydWVcbn07XG5cbi8qKiogTW91bnQgKioqL1xuXG5jb25zdCBldmVudExpc3RlbmVyTmFtZXM6IFJlY29yZDxzdHJpbmcsIHRydWU+ID0ge307XG5sZXQgb25DbGVhbnVwTGlzdDogRnVuY3Rpb25bXSA9IFtdO1xubGV0IG9uTW91bnRMaXN0OiBGdW5jdGlvbltdID0gW107XG5sZXQgb25VcGRhdGVMaXN0OiBGdW5jdGlvbltdID0gW107XG5sZXQgb25Vbm1vdW50TGlzdDogRnVuY3Rpb25bXSA9IFtdO1xuY29uc3QgY3VycmVudDogQ3VycmVudCA9IHt9O1xuZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcihlOiBFdmVudCkge1xuICBsZXQgZG9tID0gZS50YXJnZXQgYXMgRG9tRWxlbWVudDtcbiAgbGV0IG5hbWUgPSBgdi1vbiR7ZS50eXBlfWA7XG4gIHdoaWxlIChkb20pIHtcbiAgICBpZiAoZG9tW25hbWVdKSB7XG4gICAgICBkb21bbmFtZV0oZSwgZG9tKTtcbiAgICAgIGlmICghZS5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgIHVwZGF0ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkb20gPSBkb20ucGFyZW50Tm9kZSBhcyBEb21FbGVtZW50O1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uQ2xlYW51cChjYWxsYmFjazogRnVuY3Rpb24pOiB2b2lkIHtcbiAgaWYgKG9uQ2xlYW51cExpc3QuaW5kZXhPZihjYWxsYmFjaykgPT09IC0xKSB7XG4gICAgb25DbGVhbnVwTGlzdC5wdXNoKGNhbGxiYWNrKTtcbiAgfVxufVxuZnVuY3Rpb24gb25Vbm1vdW50KGNhbGxiYWNrOiBGdW5jdGlvbik6IHZvaWQge1xuICBpZiAob25Vbm1vdW50TGlzdC5pbmRleE9mKGNhbGxiYWNrKSA9PT0gLTEpIHtcbiAgICBvblVubW91bnRMaXN0LnB1c2goY2FsbGJhY2spO1xuICB9XG59XG5mdW5jdGlvbiBvbk1vdW50KGNhbGxiYWNrOiBGdW5jdGlvbik6IHZvaWQge1xuICBpZiAob25Nb3VudExpc3QuaW5kZXhPZihjYWxsYmFjaykgPT09IC0xKSB7XG4gICAgb25Nb3VudExpc3QucHVzaChjYWxsYmFjayk7XG4gIH1cbn1cbmZ1bmN0aW9uIG9uVXBkYXRlKGNhbGxiYWNrOiBGdW5jdGlvbik6IHZvaWQge1xuICBpZiAob25VcGRhdGVMaXN0LmluZGV4T2YoY2FsbGJhY2spID09PSAtMSkge1xuICAgIG9uVXBkYXRlTGlzdC5wdXNoKGNhbGxiYWNrKTtcbiAgfVxufVxuXG4vKlxuICAqIE1vdW50cyBhIGNvbXBvbmVudCB0byB0aGUgRE9NXG4gIG1vdW50KCcjYXBwJywgKCkgPT4gPGRpdj5IZWxsbyB3b3JsZDwvZGl2Pik7IC8vIEFwcCBpcyBhIEZ1bmN0aW9uYWwgQ29tcG9uZW50XG4gIG1vdW50KCcjYXBwJywgeyB2aWV3OiAoKSA9PiA8ZGl2PkhlbGxvIHdvcmxkPC9kaXY+IH0pOyAvLyBBcHAgaXMgYSBQT0pPIGNvbXBvbmVudCB3aXRoIGEgdmlldyBtZXRob2RcbiAgbW91bnQoJyNhcHAnLCBjbGFzc0luc3RhbmNlKTsgLy8gQXBwIGlzIGEgY2xhc3MgaW5zdGFuY2Ugd2l0aCBhIHZpZXcgbWV0aG9kXG4gIG1vdW50KCcjYXBwJywgPEFwcD48ZGl2PkhlbGxvIHdvcmxkPC9kaXY+PC9BcHA+KTsgLy8gQXBwIGlzIGEgVm5vZGUgY29tcG9uZW50IChWbm9kZSB3aXRoIHRhZyBfX2NvbXBvbmVudF9fKVxuKi9cblxuZnVuY3Rpb24gbW91bnQoY29udGFpbmVyOiBEb21FbGVtZW50IHwgc3RyaW5nLCBjb21wb25lbnQ6IFZhbHlyaWFuQ29tcG9uZW50IHwgSVZub2RlKTogdm9pZCB8IHN0cmluZyB7XG4gIGxldCBhcHBDb250YWluZXIgPSBudWxsO1xuXG4gIGlmIChpc05vZGVKcykge1xuICAgIGFwcENvbnRhaW5lciA9IHR5cGVvZiBjb250YWluZXIgPT09IFwic3RyaW5nXCIgPyBjcmVhdGVEb21FbGVtZW50KGNvbnRhaW5lciA9PT0gXCJzdmdcIiA/IFwic3ZnXCIgOiBcImRpdlwiLCBjb250YWluZXIgPT09IFwic3ZnXCIpIDogY29udGFpbmVyO1xuICB9IGVsc2Uge1xuICAgIGFwcENvbnRhaW5lciA9IHR5cGVvZiBjb250YWluZXIgPT09IFwic3RyaW5nXCIgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbnRhaW5lcilbMF0gOiBjb250YWluZXI7XG4gIH1cblxuICBpZiAoIWFwcENvbnRhaW5lcikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnRhaW5lciBub3QgZm91bmRcIik7XG4gIH1cblxuICBsZXQgdm5vZGVDb21wb25lbnQ6IFZub2RlQ29tcG9uZW50IHwgSVZub2RlO1xuXG4gIGlmIChpc1Zub2RlQ29tcG9uZW50KGNvbXBvbmVudCkpIHtcbiAgICB2bm9kZUNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgfSBlbHNlIGlmIChpc0NvbXBvbmVudChjb21wb25lbnQpKSB7XG4gICAgdm5vZGVDb21wb25lbnQgPSB2KGNvbXBvbmVudCwge30pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvbXBvbmVudCBtdXN0IGJlIGEgVmFseXJpYW4gQ29tcG9uZW50IG9yIGEgVm5vZGUgY29tcG9uZW50XCIpO1xuICB9XG5cbiAgaWYgKHYuaXNNb3VudGVkKSB7XG4gICAgdW5tb3VudCgpO1xuICB9XG5cbiAgdi5jb21wb25lbnQgPSB2bm9kZUNvbXBvbmVudCBhcyBWbm9kZUNvbXBvbmVudDtcbiAgdi5jb250YWluZXIgPSBhcHBDb250YWluZXI7XG4gIHYubWFpblZub2RlID0gZG9tVG9Wbm9kZShhcHBDb250YWluZXIpIGFzIFZub2RlV2l0aERvbTtcblxuICAvLyB1cGRhdGVcbiAgcmV0dXJuIHVwZGF0ZSgpO1xufVxuXG5mdW5jdGlvbiBjYWxsQ2FsbGJhY2tMaXN0KGxpc3Q6IEZ1bmN0aW9uW10pOiB2b2lkIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgbGlzdFtpXSgpO1xuICB9XG4gIGxpc3QgPSBbXTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlKCk6IHZvaWQgfCBzdHJpbmcge1xuICBpZiAodi5jb21wb25lbnQgJiYgdi5tYWluVm5vZGUpIHtcbiAgICBvbkNsZWFudXBMaXN0Lmxlbmd0aCAmJiBjYWxsQ2FsbGJhY2tMaXN0KG9uQ2xlYW51cExpc3QpO1xuICAgIGxldCBvbGRWbm9kZTogVm5vZGVXaXRoRG9tIHwgbnVsbCA9IHYubWFpblZub2RlIGFzIFZub2RlV2l0aERvbTtcbiAgICB2Lm1haW5Wbm9kZSA9IG5ldyBWbm9kZSh2Lm1haW5Wbm9kZS50YWcsIHYubWFpblZub2RlLnByb3BzLCBbdi5jb21wb25lbnRdKSBhcyBWbm9kZVdpdGhEb207XG4gICAgdi5tYWluVm5vZGUuZG9tID0gb2xkVm5vZGUuZG9tO1xuICAgIHBhdGNoKHYubWFpblZub2RlLCBvbGRWbm9kZSk7XG4gICAgb2xkVm5vZGUgPSBudWxsO1xuICAgIGlmICh2LmlzTW91bnRlZCA9PT0gZmFsc2UpIHtcbiAgICAgIG9uTW91bnRMaXN0Lmxlbmd0aCAmJiBjYWxsQ2FsbGJhY2tMaXN0KG9uTW91bnRMaXN0KTtcbiAgICAgIHYuaXNNb3VudGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25VcGRhdGVMaXN0Lmxlbmd0aCAmJiBjYWxsQ2FsbGJhY2tMaXN0KG9uVXBkYXRlTGlzdCk7XG4gICAgfVxuXG4gICAgaWYgKGlzTm9kZUpzKSB7XG4gICAgICByZXR1cm4gdi5tYWluVm5vZGUuZG9tLmlubmVySFRNTDtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdW5tb3VudCgpOiB2b2lkIHwgc3RyaW5nIHtcbiAgaWYgKHYuaXNNb3VudGVkICYmIHYubWFpblZub2RlICYmIHYuY29tcG9uZW50KSB7XG4gICAgb25DbGVhbnVwTGlzdC5sZW5ndGggJiYgY2FsbENhbGxiYWNrTGlzdChvbkNsZWFudXBMaXN0KTtcbiAgICBvblVubW91bnRMaXN0Lmxlbmd0aCAmJiBjYWxsQ2FsbGJhY2tMaXN0KG9uVW5tb3VudExpc3QpO1xuICAgIGxldCBvbGRWbm9kZTogVm5vZGVXaXRoRG9tIHwgbnVsbCA9IHYubWFpblZub2RlIGFzIFZub2RlV2l0aERvbTtcbiAgICB2Lm1haW5Wbm9kZSA9IG5ldyBWbm9kZSh2Lm1haW5Wbm9kZS50YWcsIHYubWFpblZub2RlLnByb3BzLCBbXSkgYXMgVm5vZGVXaXRoRG9tO1xuICAgIHYubWFpblZub2RlLmRvbSA9IG9sZFZub2RlLmRvbTtcbiAgICB2Lm1haW5Wbm9kZS5pc1NWRyA9IG9sZFZub2RlLmlzU1ZHO1xuICAgIHBhdGNoKHYubWFpblZub2RlLCBvbGRWbm9kZSk7XG4gICAgb2xkVm5vZGUgPSBudWxsO1xuICAgIHYuY29tcG9uZW50ID0gbnVsbDtcbiAgICB2LmlzTW91bnRlZCA9IGZhbHNlO1xuICAgIGlmIChpc05vZGVKcykge1xuICAgICAgcmV0dXJuIHYubWFpblZub2RlLmRvbS5pbm5lckhUTUw7XG4gICAgfVxuICB9XG59XG5cbmxldCBlbXB0eVZub2RlID0gbmV3IFZub2RlKFwiX19lbXB0eV9fXCIsIHt9LCBbXSk7XG5cbmZ1bmN0aW9uIG9ucmVtb3ZlKHZub2RlOiBJVm5vZGUpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2bm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIHZub2RlLmNoaWxkcmVuW2ldLnRhZyAhPT0gVGV4dFN0cmluZyAmJiBvbnJlbW92ZSh2bm9kZS5jaGlsZHJlbltpXSk7XG4gIH1cblxuICB2bm9kZS5wcm9wcy5vbnJlbW92ZSAmJiB2bm9kZS5wcm9wcy5vbnJlbW92ZSh2bm9kZSk7XG59XG5cbmZ1bmN0aW9uIHNoYXJlZFNldEF0dHJpYnV0ZShwcm9wOiBzdHJpbmcsIHZhbHVlOiBhbnksIHZub2RlOiBWbm9kZVdpdGhEb20sIG9sZFZub2RlPzogVm5vZGVXaXRoRG9tKTogdm9pZCB8IGJvb2xlYW4ge1xuICAvLyBJdCBpcyBhIHJlc2VydmVkIHByb3BcbiAgaWYgKHJlc2VydmVkUHJvcHNbcHJvcF0pIHtcbiAgICAvLyBJZiBpdCBpcyBhIGRpcmVjdGl2ZSBuYW1lIGNhbGwgdGhlIGRpcmVjdGl2ZVxuICAgIGlmIChkaXJlY3RpdmVzW3Byb3BdKSB7XG4gICAgICByZXR1cm4gZGlyZWN0aXZlc1twcm9wXSh2bm9kZS5wcm9wc1twcm9wXSwgdm5vZGUsIG9sZFZub2RlKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJdCBpcyBub3QgYSByZXNlcnZlZCBwcm9wIHNvIHdlIGFkZCBpdCB0byB0aGUgZG9tXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGlmIChwcm9wIGluIGV2ZW50TGlzdGVuZXJOYW1lcyA9PT0gZmFsc2UpIHtcbiAgICAgIGV2ZW50TGlzdGVuZXJOYW1lc1twcm9wXSA9IHRydWU7XG4gICAgICAodi5jb250YWluZXIgYXMgRG9tRWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcihwcm9wLnNsaWNlKDIpLCBldmVudExpc3RlbmVyKTtcbiAgICB9XG4gICAgdm5vZGUuZG9tW2B2LSR7cHJvcH1gXSA9IHZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChwcm9wIGluIHZub2RlLmRvbSAmJiB2bm9kZS5pc1NWRyA9PT0gZmFsc2UpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgaWYgKHZub2RlLmRvbVtwcm9wXSAhPSB2YWx1ZSkge1xuICAgICAgdm5vZGUuZG9tW3Byb3BdID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFVzZSBzZXQgYXR0cmlidXRlXG4gIGlmICghb2xkVm5vZGUgfHwgb2xkVm5vZGUucHJvcHNbcHJvcF0gIT09IHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgdm5vZGUuZG9tLnJlbW92ZUF0dHJpYnV0ZShwcm9wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm5vZGUuZG9tLnNldEF0dHJpYnV0ZShwcm9wLCB2YWx1ZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnksIHZub2RlOiBWbm9kZVdpdGhEb20sIG9sZFZub2RlPzogVm5vZGVXaXRoRG9tKSB7XG4gIHZub2RlLnByb3BzW25hbWVdID0gdmFsdWU7XG5cbiAgc2hhcmVkU2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlLCB2bm9kZSwgb2xkVm5vZGUpO1xufVxuXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzKHZub2RlOiBWbm9kZVdpdGhEb20sIG9sZFZub2RlPzogVm5vZGVXaXRoRG9tKSB7XG4gIGZvciAobGV0IHByb3AgaW4gdm5vZGUucHJvcHMpIHtcbiAgICBpZiAoc2hhcmVkU2V0QXR0cmlidXRlKHByb3AsIHZub2RlLnByb3BzW3Byb3BdLCB2bm9kZSwgb2xkVm5vZGUpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGlmIChvbGRWbm9kZSkge1xuICAgIGZvciAobGV0IHByb3AgaW4gb2xkVm5vZGUucHJvcHMpIHtcbiAgICAgIGlmIChwcm9wIGluIHZub2RlLnByb3BzID09PSBmYWxzZSAmJiB0eXBlb2Ygb2xkVm5vZGUucHJvcHNbcHJvcF0gIT09IFwiZnVuY3Rpb25cIiAmJiBwcm9wIGluIHJlc2VydmVkUHJvcHMgPT09IGZhbHNlKSB7XG4gICAgICAgIGlmIChwcm9wIGluIG9sZFZub2RlLmRvbSAmJiB2bm9kZS5pc1NWRyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBvbGRWbm9kZS5kb21bcHJvcF0gPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9sZFZub2RlLmRvbS5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHBhdGNoKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sIG9sZFZub2RlOiBWbm9kZVdpdGhEb20gfCBJVm5vZGUgPSBlbXB0eVZub2RlKSB7XG4gIGN1cnJlbnQudm5vZGUgPSBuZXdWbm9kZTtcbiAgY3VycmVudC5vbGRWbm9kZSA9IG9sZFZub2RlID09PSBlbXB0eVZub2RlID8gVW5kIDogKG9sZFZub2RlIGFzIFZub2RlV2l0aERvbSk7XG4gIGxldCBuZXdUcmVlID0gbmV3Vm5vZGUuY2hpbGRyZW47XG4gIGxldCBvbGRUcmVlID0gb2xkVm5vZGUuY2hpbGRyZW47XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdUcmVlLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGNoaWxkVm5vZGUgPSBuZXdUcmVlW2ldO1xuICAgIGlmIChjaGlsZFZub2RlIGluc3RhbmNlb2YgVm5vZGUpIHtcbiAgICAgIGlmIChjaGlsZFZub2RlLnRhZyAhPT0gVGV4dFN0cmluZykge1xuICAgICAgICBpZiAoY2hpbGRWbm9kZS50YWcgPT09IENvbXBvbmVudFN0cmluZykge1xuICAgICAgICAgIGxldCBjb21wb25lbnQgPSBjaGlsZFZub2RlLmNvbXBvbmVudCBhcyBWYWx5cmlhbkNvbXBvbmVudDtcbiAgICAgICAgICBjdXJyZW50LmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gKFwidmlld1wiIGluIGNvbXBvbmVudCA/IGNvbXBvbmVudC52aWV3IDogY29tcG9uZW50KS5jYWxsKGNvbXBvbmVudCwgY2hpbGRWbm9kZS5wcm9wcywgLi4uY2hpbGRWbm9kZS5jaGlsZHJlbik7XG5cbiAgICAgICAgICBuZXdUcmVlLnNwbGljZShpLS0sIDEsIHJlc3VsdCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRWbm9kZS5pc1NWRyA9IG5ld1Zub2RlLmlzU1ZHIHx8IGNoaWxkVm5vZGUudGFnID09PSBcInN2Z1wiO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjaGlsZFZub2RlKSkge1xuICAgICAgbmV3VHJlZS5zcGxpY2UoaS0tLCAxLCAuLi5jaGlsZFZub2RlKTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkVm5vZGUgPT09IG51bGwgfHwgY2hpbGRWbm9kZSA9PT0gVW5kKSB7XG4gICAgICBuZXdUcmVlLnNwbGljZShpLS0sIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdUcmVlW2ldID0gbmV3IFZub2RlKFRleHRTdHJpbmcsIHt9LCBbXSk7XG4gICAgICBuZXdUcmVlW2ldLm5vZGVWYWx1ZSA9IGNoaWxkVm5vZGU7XG4gICAgfVxuICB9XG5cbiAgbGV0IG9sZFRyZWVMZW5ndGggPSBvbGRUcmVlLmxlbmd0aDtcbiAgbGV0IG5ld1RyZWVMZW5ndGggPSBuZXdUcmVlLmxlbmd0aDtcblxuICAvLyBJZiBuZXcgdHJlZSBpcyBlbXB0eSwgcmVtb3ZlIGFsbCBvbGQgbm9kZXNcbiAgaWYgKG5ld1RyZWVMZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9sZFRyZWVMZW5ndGg7IGkrKykge1xuICAgICAgb2xkVHJlZVtpXS50YWcgIT09IFRleHRTdHJpbmcgJiYgb25yZW1vdmUob2xkVHJlZVtpXSk7XG4gICAgfVxuXG4gICAgbmV3Vm5vZGUuZG9tLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJZiB0aGUgdHJlZSBpcyBrZXllZCBsaXN0IGFuZCBpcyBub3QgZmlyc3QgcmVuZGVyIGFuZCBvbGQgdHJlZSBpcyBrZXllZCBsaXN0IHRvb1xuICBpZiAob2xkVHJlZUxlbmd0aCAmJiBcImtleVwiIGluIG5ld1RyZWVbMF0ucHJvcHMgJiYgXCJrZXlcIiBpbiBvbGRUcmVlWzBdLnByb3BzKSB7XG4gICAgbGV0IG9sZEtleWVkTGlzdDogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2xkVHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgICBvbGRLZXllZExpc3Rbb2xkVHJlZVtpXS5wcm9wcy5rZXldID0gaTtcbiAgICB9XG5cbiAgICBsZXQgbmV3S2V5ZWRMaXN0OiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdUcmVlTGVuZ3RoOyBpKyspIHtcbiAgICAgIG5ld0tleWVkTGlzdFtuZXdUcmVlW2ldLnByb3BzLmtleV0gPSBpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY2hpbGRWbm9kZSA9IG5ld1RyZWVbaV07XG4gICAgICBsZXQgb2xkQ2hpbGRWbm9kZSA9IG9sZFRyZWVbb2xkS2V5ZWRMaXN0W2NoaWxkVm5vZGUucHJvcHMua2V5XV07XG4gICAgICBsZXQgc2hvdWxkUGF0Y2ggPSB0cnVlO1xuXG4gICAgICBpZiAob2xkQ2hpbGRWbm9kZSkge1xuICAgICAgICBjaGlsZFZub2RlLmRvbSA9IG9sZENoaWxkVm5vZGUuZG9tO1xuICAgICAgICBpZiAoXCJ2LW9uY2VcIiBpbiBjaGlsZFZub2RlLnByb3BzIHx8IChjaGlsZFZub2RlLnByb3BzLnNob3VsZHVwZGF0ZSAmJiBjaGlsZFZub2RlLnByb3BzLnNob3VsZHVwZGF0ZShjaGlsZFZub2RlLCBvbGRDaGlsZFZub2RlKSA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgLy8gc2tpcCB0aGlzIHBhdGNoXG4gICAgICAgICAgY2hpbGRWbm9kZS5jaGlsZHJlbiA9IG9sZENoaWxkVm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgc2hvdWxkUGF0Y2ggPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRBdHRyaWJ1dGVzKGNoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICAgIGlmICh2LmlzTW91bnRlZCkge1xuICAgICAgICAgICAgY2hpbGRWbm9kZS5wcm9wcy5vbnVwZGF0ZSAmJiBjaGlsZFZub2RlLnByb3BzLm9udXBkYXRlKGNoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlICYmIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUoY2hpbGRWbm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZFZub2RlLmRvbSA9IGNyZWF0ZURvbUVsZW1lbnQoY2hpbGRWbm9kZS50YWcsIGNoaWxkVm5vZGUuaXNTVkcpO1xuICAgICAgICBzZXRBdHRyaWJ1dGVzKGNoaWxkVm5vZGUpO1xuICAgICAgICBjaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlICYmIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUoY2hpbGRWbm9kZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZXdWbm9kZS5kb20uY2hpbGROb2Rlc1tpXSA9PT0gVW5kKSB7XG4gICAgICAgIG5ld1Zub2RlLmRvbS5hcHBlbmRDaGlsZChjaGlsZFZub2RlLmRvbSk7XG4gICAgICB9IGVsc2UgaWYgKG5ld1Zub2RlLmRvbS5jaGlsZE5vZGVzW2ldICE9PSBjaGlsZFZub2RlLmRvbSkge1xuICAgICAgICBvbGRUcmVlW2ldICYmIG5ld0tleWVkTGlzdFtvbGRUcmVlW2ldLnByb3BzLmtleV0gPT09IFVuZCAmJiBvbnJlbW92ZShvbGRUcmVlW2ldKTtcbiAgICAgICAgbmV3Vm5vZGUuZG9tLnJlcGxhY2VDaGlsZChjaGlsZFZub2RlLmRvbSwgbmV3Vm5vZGUuZG9tLmNoaWxkTm9kZXNbaV0pO1xuICAgICAgfVxuXG4gICAgICBzaG91bGRQYXRjaCAmJiBwYXRjaChjaGlsZFZub2RlLCBvbGRDaGlsZFZub2RlKTtcbiAgICB9XG5cbiAgICAvLyBGb3IgdGhlIHJlc3Qgb2YgdGhlIGNoaWxkcmVuLCB3ZSBzaG91bGQgcmVtb3ZlIHRoZW1cbiAgICBmb3IgKGxldCBpID0gbmV3VHJlZUxlbmd0aDsgaSA8IG9sZFRyZWVMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG5ld0tleWVkTGlzdFtvbGRUcmVlW2ldLnByb3BzLmtleV0gPT09IFVuZCkge1xuICAgICAgICBsZXQgb2xkQ2hpbGRWbm9kZSA9IG9sZFRyZWVbaV07XG4gICAgICAgIG9ucmVtb3ZlKG9sZENoaWxkVm5vZGUpO1xuICAgICAgICBvbGRDaGlsZFZub2RlLmRvbS5wYXJlbnROb2RlICYmIG9sZENoaWxkVm5vZGUuZG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQob2xkQ2hpbGRWbm9kZS5kb20pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIElmIG5ldyB0cmVlIGFuZCBvbGQgdHJlZSBoYXZlIG1vcmUgdGhhbiBvbmUgY2hpbGQsIHdlIHNob3VsZCB1cGRhdGUgdGhlIGRvbVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1RyZWVMZW5ndGg7IGkrKykge1xuICAgIGxldCBuZXdDaGlsZFZub2RlID0gbmV3VHJlZVtpXTtcblxuICAgIC8vIE9sZCBjaGlsZCBleGlzdHNcbiAgICBpZiAoaSA8IG9sZFRyZWVMZW5ndGgpIHtcbiAgICAgIGxldCBvbGRDaGlsZFZub2RlID0gb2xkVHJlZVtpXTtcbiAgICAgIC8vIE5ldyBjaGlsZCBpcyBhIHRleHQgbm9kZVxuICAgICAgaWYgKG5ld0NoaWxkVm5vZGUudGFnID09PSBUZXh0U3RyaW5nKSB7XG4gICAgICAgIC8vIE9sZCBjaGlsZCBpcyBhIHRleHQgbm9kZVxuICAgICAgICBpZiAob2xkQ2hpbGRWbm9kZS50YWcgPT09IFRleHRTdHJpbmcpIHtcbiAgICAgICAgICBuZXdDaGlsZFZub2RlLmRvbSA9IG9sZENoaWxkVm5vZGUuZG9tO1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICBpZiAobmV3Q2hpbGRWbm9kZS5kb20ubm9kZVZhbHVlICE9IG5ld0NoaWxkVm5vZGUubm9kZVZhbHVlKSB7XG4gICAgICAgICAgICBuZXdDaGlsZFZub2RlLmRvbS5ub2RlVmFsdWUgPSBuZXdDaGlsZFZub2RlLm5vZGVWYWx1ZSBhcyBzdHJpbmc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT2xkIGNoaWxkIGlzIGEgbm9ybWFsIG5vZGVcbiAgICAgICAgbmV3Q2hpbGRWbm9kZS5kb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuZXdDaGlsZFZub2RlLm5vZGVWYWx1ZSBhcyBzdHJpbmcpIGFzIHVua25vd24gYXMgRG9tRWxlbWVudDtcbiAgICAgICAgb25yZW1vdmUob2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgIG5ld1Zub2RlLmRvbS5yZXBsYWNlQ2hpbGQobmV3Q2hpbGRWbm9kZS5kb20sIG9sZENoaWxkVm5vZGUuZG9tKTtcblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gTmV3IGNoaWxkIGlzIGEgbm9ybWFsIG5vZGVcbiAgICAgIC8vIE9sZCBjaGlsZCBpcyB0aGUgc2FtZSB0eXBlIGFzIG5ldyBjaGlsZFxuICAgICAgaWYgKG9sZENoaWxkVm5vZGUudGFnID09PSBuZXdDaGlsZFZub2RlLnRhZykge1xuICAgICAgICBuZXdDaGlsZFZub2RlLmRvbSA9IG9sZENoaWxkVm5vZGUuZG9tO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgdi1vbmNlIGRpcmVjdGl2ZSBvciBhIHNob3VsZHVwZGF0ZSBtZXRob2QgdGhhdCByZXR1cm5zIGZhbHNlLCB3ZSBza2lwIHRoZSB1cGRhdGVcbiAgICAgICAgaWYgKG5ld0NoaWxkVm5vZGUucHJvcHNbXCJ2LW9uY2VcIl0gfHwgKG5ld0NoaWxkVm5vZGUucHJvcHMuc2hvdWxkdXBkYXRlICYmIG5ld0NoaWxkVm5vZGUucHJvcHMuc2hvdWxkdXBkYXRlKG5ld0NoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpID09PSBmYWxzZSkpIHtcbiAgICAgICAgICBuZXdDaGlsZFZub2RlLmNoaWxkcmVuID0gb2xkQ2hpbGRWbm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlIHVwZGF0ZSB0aGUgZG9tIGVsZW1lbnRcbiAgICAgICAgc2V0QXR0cmlidXRlcyhuZXdDaGlsZFZub2RlLCBvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgaWYgKHYuaXNNb3VudGVkKSB7XG4gICAgICAgICAgbmV3Q2hpbGRWbm9kZS5wcm9wcy5vbnVwZGF0ZSAmJiBuZXdDaGlsZFZub2RlLnByb3BzLm9udXBkYXRlKG5ld0NoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0NoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgbmV3Q2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShuZXdDaGlsZFZub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhdGNoKG5ld0NoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gT2xkIGNoaWxkIGlzIG9mIGEgZGlmZmVyZW50IHR5cGUgdGhhbiBuZXcgY2hpbGRcbiAgICAgIG5ld0NoaWxkVm5vZGUuZG9tID0gY3JlYXRlRG9tRWxlbWVudChuZXdDaGlsZFZub2RlLnRhZywgbmV3Q2hpbGRWbm9kZS5pc1NWRyk7XG4gICAgICBzZXRBdHRyaWJ1dGVzKG5ld0NoaWxkVm5vZGUpO1xuICAgICAgb2xkQ2hpbGRWbm9kZS50YWcgIT09IFRleHRTdHJpbmcgJiYgb25yZW1vdmUob2xkQ2hpbGRWbm9kZSk7XG4gICAgICBuZXdDaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlICYmIG5ld0NoaWxkVm5vZGUucHJvcHMub25jcmVhdGUobmV3Q2hpbGRWbm9kZSk7XG4gICAgICBuZXdWbm9kZS5kb20ucmVwbGFjZUNoaWxkKG5ld0NoaWxkVm5vZGUuZG9tLCBvbGRDaGlsZFZub2RlLmRvbSk7XG4gICAgICBwYXRjaChuZXdDaGlsZFZub2RlLCBlbXB0eVZub2RlKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIE9sZCBjaGlsZCBkb2VzIG5vdCBleGlzdHNcbiAgICAvLyBOZXcgY2hpbGQgaXMgYSB0ZXh0IG5vZGVcbiAgICBpZiAobmV3Q2hpbGRWbm9kZS50YWcgPT09IFRleHRTdHJpbmcpIHtcbiAgICAgIG5ld0NoaWxkVm5vZGUuZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3Q2hpbGRWbm9kZS5ub2RlVmFsdWUgYXMgc3RyaW5nKSBhcyB1bmtub3duIGFzIERvbUVsZW1lbnQ7XG4gICAgICBuZXdWbm9kZS5kb20uYXBwZW5kQ2hpbGQobmV3Q2hpbGRWbm9kZS5kb20pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gTmV3IGNoaWxkIGlzIGEgbm9ybWFsIG5vZGVcbiAgICBuZXdDaGlsZFZub2RlLmRvbSA9IGNyZWF0ZURvbUVsZW1lbnQobmV3Q2hpbGRWbm9kZS50YWcsIG5ld0NoaWxkVm5vZGUuaXNTVkcpO1xuICAgIHNldEF0dHJpYnV0ZXMobmV3Q2hpbGRWbm9kZSk7XG4gICAgbmV3Vm5vZGUuZG9tLmFwcGVuZENoaWxkKG5ld0NoaWxkVm5vZGUuZG9tKTtcbiAgICBuZXdDaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlICYmIG5ld0NoaWxkVm5vZGUucHJvcHMub25jcmVhdGUobmV3Q2hpbGRWbm9kZSk7XG4gICAgcGF0Y2gobmV3Q2hpbGRWbm9kZSwgZW1wdHlWbm9kZSk7XG4gIH1cblxuICAvLyBGb3IgdGhlIHJlc3Qgb2YgdGhlIGNoaWxkcmVuLCB3ZSBzaG91bGQgcmVtb3ZlIHRoZW1cbiAgZm9yIChsZXQgaSA9IG5ld1RyZWVMZW5ndGg7IGkgPCBvbGRUcmVlTGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgb2xkQ2hpbGRWbm9kZSA9IG9sZFRyZWVbaV07XG4gICAgb2xkQ2hpbGRWbm9kZS50YWcgIT09IFRleHRTdHJpbmcgJiYgb25yZW1vdmUob2xkQ2hpbGRWbm9kZSk7XG4gICAgb2xkQ2hpbGRWbm9kZS5kb20ucGFyZW50Tm9kZSAmJiBvbGRDaGlsZFZub2RlLmRvbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9sZENoaWxkVm5vZGUuZG9tKTtcbiAgfVxufVxuXG4vKioqIERpcmVjdGl2ZXMgKioqL1xuXG5mdW5jdGlvbiBkaXJlY3RpdmUobmFtZTogc3RyaW5nLCBkaXJlY3RpdmU6IERpcmVjdGl2ZSkge1xuICBsZXQgZnVsbE5hbWUgPSBgdi0ke25hbWV9YDtcbiAgZGlyZWN0aXZlc1tmdWxsTmFtZV0gPSBkaXJlY3RpdmU7XG4gIHJlc2VydmVkUHJvcHNbZnVsbE5hbWVdID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaGlkZURpcmVjdGl2ZSh0ZXN0OiBib29sZWFuKTogRGlyZWN0aXZlIHtcbiAgcmV0dXJuIChib29sOiBib29sZWFuLCB2bm9kZTogSVZub2RlLCBvbGRWbm9kZT86IElWbm9kZSkgPT4ge1xuICAgIGxldCB2YWx1ZSA9IHRlc3QgPyBib29sIDogIWJvb2w7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBsZXQgbmV3ZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7XG4gICAgICBpZiAob2xkVm5vZGUgJiYgb2xkVm5vZGUuZG9tICYmIG9sZFZub2RlLmRvbS5wYXJlbnROb2RlKSB7XG4gICAgICAgIG9sZFZub2RlLnRhZyAhPT0gVGV4dFN0cmluZyAmJiBvbnJlbW92ZShvbGRWbm9kZSk7XG4gICAgICAgIG9sZFZub2RlLmRvbS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdkb20sIG9sZFZub2RlLmRvbSk7XG4gICAgICB9XG4gICAgICB2bm9kZS50YWcgPSBUZXh0U3RyaW5nO1xuICAgICAgdm5vZGUuY2hpbGRyZW4gPSBbXTtcbiAgICAgIHZub2RlLnByb3BzID0ge307XG4gICAgICB2bm9kZS5kb20gPSBuZXdkb20gYXMgdW5rbm93biBhcyBEb21FbGVtZW50O1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfTtcbn1cblxuY29uc3QgZGlyZWN0aXZlczogRGlyZWN0aXZlcyA9IHtcbiAgXCJ2LWlmXCI6IGhpZGVEaXJlY3RpdmUoZmFsc2UpLFxuICBcInYtdW5sZXNzXCI6IGhpZGVEaXJlY3RpdmUodHJ1ZSksXG4gIFwidi1mb3JcIjogKHNldDogdW5rbm93bltdLCB2bm9kZTogVm5vZGVXaXRoRG9tKSA9PiB7XG4gICAgdm5vZGUuY2hpbGRyZW4gPSBzZXQubWFwKHZub2RlLmNoaWxkcmVuWzBdKTtcbiAgfSxcbiAgXCJ2LXNob3dcIjogKGJvb2w6IGJvb2xlYW4sIHZub2RlOiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICAodm5vZGUuZG9tIGFzIHVua25vd24gYXMgeyBzdHlsZTogeyBkaXNwbGF5OiBzdHJpbmcgfSB9KS5zdHlsZS5kaXNwbGF5ID0gYm9vbCA/IFwiXCIgOiBcIm5vbmVcIjtcbiAgfSxcbiAgXCJ2LWNsYXNzXCI6IChjbGFzc2VzOiB7IFt4OiBzdHJpbmddOiBib29sZWFuIH0sIHZub2RlOiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICBmb3IgKGxldCBuYW1lIGluIGNsYXNzZXMpIHtcbiAgICAgICh2bm9kZS5kb20gYXMgRG9tRWxlbWVudCkuY2xhc3NMaXN0LnRvZ2dsZShuYW1lLCBjbGFzc2VzW25hbWVdKTtcbiAgICB9XG4gIH0sXG4gIFwidi1odG1sXCI6IChodG1sOiBzdHJpbmcsIHZub2RlOiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICB2bm9kZS5jaGlsZHJlbiA9IFt0cnVzdChodG1sKV07XG4gIH0sXG4gIFwidi1tb2RlbFwiOiAoW21vZGVsLCBwcm9wZXJ0eSwgZXZlbnRdOiBhbnlbXSwgdm5vZGU6IFZub2RlV2l0aERvbSwgb2xkVm5vZGU/OiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICBsZXQgdmFsdWU7XG4gICAgbGV0IGhhbmRsZXI7XG4gICAgaWYgKHZub2RlLnRhZyA9PT0gXCJpbnB1dFwiKSB7XG4gICAgICBldmVudCA9IGV2ZW50IHx8IFwib25pbnB1dFwiO1xuICAgICAgc3dpdGNoICh2bm9kZS5wcm9wcy50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJjaGVja2JveFwiOiB7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobW9kZWxbcHJvcGVydHldKSkge1xuICAgICAgICAgICAgaGFuZGxlciA9IChlOiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgICBsZXQgdmFsID0gKGUudGFyZ2V0IGFzIERvbUVsZW1lbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+KS52YWx1ZTtcbiAgICAgICAgICAgICAgbGV0IGlkeCA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZhbCk7XG4gICAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YWx1ZSA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZub2RlLmRvbS52YWx1ZSkgIT09IC0xO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIHZub2RlLnByb3BzKSB7XG4gICAgICAgICAgICBoYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAobW9kZWxbcHJvcGVydHldID09PSB2bm9kZS5wcm9wcy52YWx1ZSkge1xuICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XSA9IG51bGw7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldID0gdm5vZGUucHJvcHMudmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YWx1ZSA9IG1vZGVsW3Byb3BlcnR5XSA9PT0gdm5vZGUucHJvcHMudmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZXIgPSAoKSA9PiAobW9kZWxbcHJvcGVydHldID0gIW1vZGVsW3Byb3BlcnR5XSk7XG4gICAgICAgICAgICB2YWx1ZSA9IG1vZGVsW3Byb3BlcnR5XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLCB2YWx1ZSwgdm5vZGUsIG9sZFZub2RlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwicmFkaW9cIjoge1xuICAgICAgICAgIHNldEF0dHJpYnV0ZShcImNoZWNrZWRcIiwgbW9kZWxbcHJvcGVydHldID09PSB2bm9kZS5kb20udmFsdWUsIHZub2RlLCBvbGRWbm9kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIHNldEF0dHJpYnV0ZShcInZhbHVlXCIsIG1vZGVsW3Byb3BlcnR5XSwgdm5vZGUsIG9sZFZub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodm5vZGUudGFnID09PSBcInNlbGVjdFwiKSB7XG4gICAgICBldmVudCA9IGV2ZW50IHx8IFwib25jbGlja1wiO1xuICAgICAgaWYgKHZub2RlLnByb3BzLm11bHRpcGxlKSB7XG4gICAgICAgIGhhbmRsZXIgPSAoZTogRXZlbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSA9PiB7XG4gICAgICAgICAgbGV0IHZhbCA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWU7XG4gICAgICAgICAgaWYgKGUuY3RybEtleSkge1xuICAgICAgICAgICAgbGV0IGlkeCA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZhbCk7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0ucHVzaCh2YWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKDAsIG1vZGVsW3Byb3BlcnR5XS5sZW5ndGgpO1xuICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnB1c2godmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBJVm5vZGUpID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudGFnID09PSBcIm9wdGlvblwiKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBcInZhbHVlXCIgaW4gY2hpbGQucHJvcHMgPyBjaGlsZC5wcm9wcy52YWx1ZSA6IGNoaWxkLmNoaWxkcmVuLmpvaW4oXCJcIikudHJpbSgpO1xuICAgICAgICAgICAgY2hpbGQucHJvcHMuc2VsZWN0ZWQgPSBtb2RlbFtwcm9wZXJ0eV0uaW5kZXhPZih2YWx1ZSkgIT09IC0xO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZDogSVZub2RlKSA9PiB7XG4gICAgICAgICAgaWYgKGNoaWxkLnRhZyA9PT0gXCJvcHRpb25cIikge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gXCJ2YWx1ZVwiIGluIGNoaWxkLnByb3BzID8gY2hpbGQucHJvcHMudmFsdWUgOiBjaGlsZC5jaGlsZHJlbi5qb2luKFwiXCIpLnRyaW0oKTtcbiAgICAgICAgICAgIGNoaWxkLnByb3BzLnNlbGVjdGVkID0gdmFsdWUgPT09IG1vZGVsW3Byb3BlcnR5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodm5vZGUudGFnID09PSBcInRleHRhcmVhXCIpIHtcbiAgICAgIGV2ZW50ID0gZXZlbnQgfHwgXCJvbmlucHV0XCI7XG4gICAgICB2bm9kZS5jaGlsZHJlbiA9IFttb2RlbFtwcm9wZXJ0eV1dO1xuICAgIH1cblxuICAgIGlmICghdm5vZGUucHJvcHNbZXZlbnRdKSB7XG4gICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgaGFuZGxlciA9IChlOiBFdmVudCkgPT4gKG1vZGVsW3Byb3BlcnR5XSA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWUpO1xuICAgICAgfVxuICAgICAgc2V0QXR0cmlidXRlKGV2ZW50LCBoYW5kbGVyLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqKiBQbHVnaW5zICoqKi9cbmNvbnN0IHBsdWdpbnMgPSBuZXcgTWFwPFBsdWdpbiwgYW55PigpO1xuXG5mdW5jdGlvbiB1c2UocGx1Z2luOiBQbHVnaW4sIG9wdGlvbnM/OiBSZWNvcmQ8c3RyaW5nIHwgbnVtYmVyIHwgc3ltYm9sLCBhbnk+KTogdm9pZCB8IGFueSB7XG4gIGlmIChwbHVnaW5zLmhhcyhwbHVnaW4pKSB7XG4gICAgcmV0dXJuIHBsdWdpbnMuZ2V0KHBsdWdpbik7XG4gIH1cblxuICBsZXQgcmVzdWx0ID0gcGx1Z2luKHYsIG9wdGlvbnMpO1xuICBwbHVnaW5zLnNldChwbHVnaW4sIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKiogSHlwZXJzY3JpcHQgKioqL1xuXG5jb25zdCB2OiBWYWx5cmlhbiA9IGZ1bmN0aW9uIHYodGFnT3JDb21wb25lbnQ6IHN0cmluZyB8IFZhbHlyaWFuQ29tcG9uZW50LCBwcm9wczogUHJvcHMsIC4uLmNoaWxkcmVuOiBDaGlsZHJlbik6IElWbm9kZSB8IFZub2RlQ29tcG9uZW50IHtcbiAgaWYgKHR5cGVvZiB0YWdPckNvbXBvbmVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBuZXcgVm5vZGUodGFnT3JDb21wb25lbnQsIHByb3BzIHx8IHt9LCBjaGlsZHJlbik7XG4gIH1cblxuICBjb25zdCB2bm9kZSA9IG5ldyBWbm9kZShcIl9fY29tcG9uZW50X19cIiwgcHJvcHMgfHwge30sIGNoaWxkcmVuKTtcbiAgdm5vZGUuY29tcG9uZW50ID0gdGFnT3JDb21wb25lbnQ7XG4gIHJldHVybiB2bm9kZSBhcyBWbm9kZUNvbXBvbmVudDtcbn07XG5cbnYuZnJhZ21lbnQgPSAocHJvcHM6IFByb3BzLCAuLi5jaGlsZHJlbjogQ2hpbGRyZW4pOiBDaGlsZHJlbiA9PiB7XG4gIHJldHVybiBjaGlsZHJlbjtcbn07XG5cbi8qKiogViBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzICoqKi9cbi8vIFRoaXMgaXMgaW50ZW5kZWQgdG8gbWFrZSB0aGUgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBhdmFpbGFibGUgZm9yIHBsdWdpbnNcbnYuY3VycmVudCA9IGN1cnJlbnQ7XG5cbnYuZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXM7XG5cbnYucmVzZXJ2ZWRQcm9wcyA9IHJlc2VydmVkUHJvcHM7XG5cbnYuaXNWbm9kZSA9IGlzVm5vZGU7XG52LmlzQ29tcG9uZW50ID0gaXNDb21wb25lbnQ7XG52LmlzVm5vZGVDb21wb25lbnQgPSBpc1Zub2RlQ29tcG9uZW50O1xuXG52LmlzTW91bnRlZCA9IGZhbHNlO1xudi5pc05vZGVKcyA9IGlzTm9kZUpzO1xudi50cnVzdCA9IHRydXN0O1xuXG52Lm9uQ2xlYW51cCA9IG9uQ2xlYW51cDtcbnYub25Vbm1vdW50ID0gb25Vbm1vdW50O1xudi5vbk1vdW50ID0gb25Nb3VudDtcbnYub25VcGRhdGUgPSBvblVwZGF0ZTtcblxudi5tb3VudCA9IG1vdW50O1xudi51bm1vdW50ID0gdW5tb3VudDtcbnYudXBkYXRlID0gdXBkYXRlO1xuXG52LnNldEF0dHJpYnV0ZSA9IHNldEF0dHJpYnV0ZTtcbnYuZGlyZWN0aXZlID0gZGlyZWN0aXZlO1xudi51c2UgPSB1c2U7XG5cbmV4cG9ydCBkZWZhdWx0IHY7XG4iXX0=