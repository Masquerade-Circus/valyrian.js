//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc05vZGVKcyIsIkJvb2xlYW4iLCJwcm9jZXNzIiwidmVyc2lvbnMiLCJub2RlIiwiVm5vZGUiLCJjb25zdHJ1Y3RvciIsInRhZyIsInByb3BzIiwiY2hpbGRyZW4iLCJkb20iLCJpc1NWRyIsInRoaXMiLCJpc1BPSk9Db21wb25lbnQiLCJjb21wb25lbnQiLCJpc0NvbXBvbmVudCIsImlzVm5vZGUiLCJvYmplY3QiLCJpc1Zub2RlQ29tcG9uZW50IiwidiIsInRhZ09yQ29tcG9uZW50IiwiaGlkcmF0ZURvbVRvVm5vZGUiLCJub2RlVHlwZSIsIm5vZGVWYWx1ZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJpIiwibCIsImNoaWxkTm9kZXMiLCJsZW5ndGgiLCJjaGlsZERvbSIsInB1c2giLCJjaGlsZFZub2RlIiwiYXR0cmlidXRlcyIsImF0dHIiLCJ2bm9kZSIsInRydXN0IiwiaHRtbFN0cmluZyIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRyaW0iLCJBcnJheSIsImZyb20iLCJtYXAiLCJmcmFnbWVudCIsIl8iLCJtYWluQ29tcG9uZW50IiwibWFpblZub2RlIiwiaXNNb3VudGVkIiwiY3VycmVudCIsImV2ZW50IiwicmVzZXJ2ZWRQcm9wcyIsIlNldCIsIm9uQ2xlYW51cFNldCIsIm9uTW91bnRTZXQiLCJvblVwZGF0ZVNldCIsIm9uVW5tb3VudFNldCIsIm9uQ2xlYW51cCIsImNhbGxiYWNrIiwiYWRkIiwiY2FsbFNldCIsInNldCIsImNsZWFyIiwiZGlyZWN0aXZlcyIsInZhbHVlIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiYm9vbCIsInN0eWxlIiwiZGlzcGxheSIsIm1vZGVsIiwicHJvcGVydHkiLCJuYW1lIiwiaGFuZGxlciIsImUiLCJ0YXJnZXQiLCJ0eXBlIiwiaXNBcnJheSIsInZhbCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJzaGFyZWRTZXRBdHRyaWJ1dGUiLCJtdWx0aXBsZSIsImN0cmxLZXkiLCJmb3JFYWNoIiwiY2hpbGQiLCJqb2luIiwic2VsZWN0ZWQiLCJwcmV2SGFuZGxlciIsIm9sZFByb3BzIiwiY2xlYW51cCIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInNldEF0dHJpYnV0ZSIsImNsYXNzIiwiaWQiLCJkb21TdHlsZSIsImRlYm91bmNlZFVwZGF0ZVRpbWVvdXQiLCJldmVudExpc3RlbmVyTmFtZXMiLCJldmVudExpc3RlbmVyIiwib2xkVm5vZGUiLCJkZWZhdWx0UHJldmVudGVkIiwidXBkYXRlIiwibmV3Vm5vZGUiLCJuZXdWbm9kZURvbSIsInJlbW92ZUF0dHJpYnV0ZSIsImhhcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzbGljZSIsInVwZGF0ZUF0dHJpYnV0ZXMiLCJ2bm9kZURvbSIsInZub2RlUHJvcHMiLCJjcmVhdGVFbGVtZW50TlMiLCJmbGF0VHJlZSIsIm9yaWdpbmFsQ2hpbGRyZW4iLCJjb25zb2xlIiwid2FybiIsIm5ld0NoaWxkIiwidmlldyIsImJpbmQiLCJjcmVhdGVOZXdFbGVtZW50Iiwib2xkQ2hpbGQiLCJhcHBlbmRDaGlsZCIsInRleHRDb250ZW50IiwicGF0Y2giLCJvbGREb21DaGlsZHJlbiIsIm9sZENoaWxkcmVuTGVuZ3RoIiwiY2hpbGRyZW5MZW5ndGgiLCJzaG91bGRQYXRjaEtleWVkIiwib2xkVHJlZSIsIm9sZEtleWVkTGlzdCIsImtleSIsImN1cnJlbnRDaGlsZCIsInJlbW92ZSIsInBhdGNoS2V5ZWQiLCJpc1RleHQiLCJuZXh0T2xkQ2hpbGQiLCJ1cGRhdGVWbm9kZSIsImRlYm91bmNlZFVwZGF0ZU1ldGhvZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInRpbWVvdXQiLCJwcmV2ZW50RGVmYXVsdCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJkaXJlY3RpdmUiLCJkaXJlY3RpdmVOYW1lIiwiY29udGFpbmVyIiwicXVlcnlTZWxlY3RvciIsInJlc3VsdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJSZWZsZWN0IiwiZGVsZXRlUHJvcGVydHkiXSwic291cmNlcyI6WyIuLi9saWIvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgKi9cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgdmFyIGRvY3VtZW50OiBEb2N1bWVudDtcbiAgbmFtZXNwYWNlIEpTWCB7XG4gICAgaW50ZXJmYWNlIEludHJpbnNpY0VsZW1lbnRzIGV4dGVuZHMgRGVmYXVsdFJlY29yZCB7fVxuICAgIHR5cGUgRWxlbWVudCA9IFJldHVyblR5cGU8XG4gICAgICB0eXBlb2YgdiB8ICgoLi4uYXJnczogYW55KSA9PiBzdHJpbmcgfCBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkIHwgYm9vbGVhbiB8IFByb21pc2U8YW55PilcbiAgICA+O1xuICAgIHR5cGUgQ29tcG9uZW50UmV0dXJuVHlwZSA9IHN0cmluZyB8IG51bWJlciB8IG51bGwgfCB1bmRlZmluZWQgfCBib29sZWFuIHwgRWxlbWVudCB8IEVsZW1lbnRbXTtcbiAgfVxufVxuXG5pbnRlcmZhY2UgRGVmYXVsdFJlY29yZCBleHRlbmRzIFJlY29yZDxzdHJpbmcgfCBudW1iZXIgfCBzeW1ib2wsIGFueT4ge31cblxuZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0aWVzIGV4dGVuZHMgRGVmYXVsdFJlY29yZCB7XG4gIGtleT86IHN0cmluZyB8IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEb21FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgRGVmYXVsdFJlY29yZCB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBvbmVudCBleHRlbmRzIERlZmF1bHRSZWNvcmQge1xuICAocHJvcHM6IFByb3BlcnRpZXMsIGNoaWxkcmVuOiBhbnlbXSk6IFZub2RlIHwgYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBPSk9Db21wb25lbnQgZXh0ZW5kcyBEZWZhdWx0UmVjb3JkIHtcbiAgdmlldzogQ29tcG9uZW50O1xufVxuXG5leHBvcnQgdHlwZSBWYWx5cmlhbkNvbXBvbmVudCA9IENvbXBvbmVudCB8IFBPSk9Db21wb25lbnQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVm5vZGVDb21wb25lbnRJbnRlcmZhY2UgZXh0ZW5kcyBWbm9kZSB7XG4gIHRhZzogVmFseXJpYW5Db21wb25lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hpbGRyZW4gZXh0ZW5kcyBBcnJheTxWbm9kZSB8IFZub2RlQ29tcG9uZW50SW50ZXJmYWNlIHwgVmFseXJpYW5Db21wb25lbnQgfCBhbnk+IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlyZWN0aXZlIHtcbiAgKHZhbHVlOiBhbnksIHZub2RlOiBWbm9kZVdpdGhEb20sIG9sZFByb3BzOiBQcm9wZXJ0aWVzIHwgbnVsbCk6IGZhbHNlIHwgdm9pZCB8IGFueTtcbn1cblxuZXhwb3J0IGNvbnN0IGlzTm9kZUpzID0gQm9vbGVhbih0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzLnZlcnNpb25zICYmIHByb2Nlc3MudmVyc2lvbnMubm9kZSk7XG5cbmV4cG9ydCBjbGFzcyBWbm9kZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyB0YWc6IHN0cmluZyB8IENvbXBvbmVudCB8IFBPSk9Db21wb25lbnQsXG4gICAgcHVibGljIHByb3BzOiBudWxsIHwgUHJvcGVydGllcyxcbiAgICBwdWJsaWMgY2hpbGRyZW46IENoaWxkcmVuLFxuICAgIHB1YmxpYyBkb20/OiBEb21FbGVtZW50LFxuICAgIHB1YmxpYyBpc1NWRz86IGJvb2xlYW5cbiAgKSB7fVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZub2RlV2l0aERvbSBleHRlbmRzIFZub2RlIHtcbiAgdGFnOiBzdHJpbmc7XG4gIGRvbTogRG9tRWxlbWVudDtcbiAgcHJvcHM6IFByb3BlcnRpZXM7XG59XG5cbmV4cG9ydCBjb25zdCBpc1BPSk9Db21wb25lbnQgPSAoY29tcG9uZW50OiB1bmtub3duKTogY29tcG9uZW50IGlzIFBPSk9Db21wb25lbnQgPT5cbiAgQm9vbGVhbihjb21wb25lbnQgJiYgdHlwZW9mIGNvbXBvbmVudCA9PT0gXCJvYmplY3RcIiAmJiBcInZpZXdcIiBpbiBjb21wb25lbnQpO1xuXG5leHBvcnQgY29uc3QgaXNDb21wb25lbnQgPSAoY29tcG9uZW50OiB1bmtub3duKTogY29tcG9uZW50IGlzIENvbXBvbmVudCA9PlxuICBCb29sZWFuKHR5cGVvZiBjb21wb25lbnQgPT09IFwiZnVuY3Rpb25cIiB8fCBpc1BPSk9Db21wb25lbnQoY29tcG9uZW50KSk7XG5leHBvcnQgY29uc3QgaXNWbm9kZSA9IChvYmplY3Q/OiB1bmtub3duKTogb2JqZWN0IGlzIFZub2RlID0+IG9iamVjdCBpbnN0YW5jZW9mIFZub2RlO1xuXG5leHBvcnQgY29uc3QgaXNWbm9kZUNvbXBvbmVudCA9IChvYmplY3Q/OiB1bmtub3duKTogb2JqZWN0IGlzIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlID0+IHtcbiAgcmV0dXJuIGlzVm5vZGUob2JqZWN0KSAmJiBpc0NvbXBvbmVudChvYmplY3QudGFnKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB2KHRhZ09yQ29tcG9uZW50OiBzdHJpbmcgfCBWYWx5cmlhbkNvbXBvbmVudCwgcHJvcHM6IFByb3BlcnRpZXMgfCBudWxsLCAuLi5jaGlsZHJlbjogQ2hpbGRyZW4pIHtcbiAgcmV0dXJuIG5ldyBWbm9kZSh0YWdPckNvbXBvbmVudCwgcHJvcHMsIGNoaWxkcmVuKTtcbn1cblxudi5mcmFnbWVudCA9IChfOiBQcm9wZXJ0aWVzLCAuLi5jaGlsZHJlbjogQ2hpbGRyZW4pID0+IGNoaWxkcmVuO1xuXG5leHBvcnQgZnVuY3Rpb24gaGlkcmF0ZURvbVRvVm5vZGUoZG9tOiBhbnkpOiBWbm9kZVdpdGhEb20gfCB2b2lkIHtcbiAgaWYgKGRvbS5ub2RlVHlwZSA9PT0gMykge1xuICAgIHJldHVybiBkb20ubm9kZVZhbHVlO1xuICB9XG5cbiAgaWYgKGRvbS5ub2RlVHlwZSA9PT0gMSkge1xuICAgIGNvbnN0IHRhZyA9IGRvbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IHByb3BzID0ge30gYXMgUHJvcGVydGllcztcbiAgICBjb25zdCBjaGlsZHJlbiA9IFtdIGFzIENoaWxkcmVuO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBkb20uY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoaWxkRG9tID0gZG9tLmNoaWxkTm9kZXNbaV07XG4gICAgICBpZiAoY2hpbGREb20ubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZERvbS5ub2RlVmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZERvbS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICBjb25zdCBjaGlsZFZub2RlID0gaGlkcmF0ZURvbVRvVm5vZGUoY2hpbGREb20pO1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGNoaWxkVm5vZGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBkb20uYXR0cmlidXRlcztcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGF0dHJpYnV0ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBhdHRyID0gYXR0cmlidXRlc1tpXTtcbiAgICAgIHByb3BzW2F0dHIubm9kZU5hbWVdID0gYXR0ci5ub2RlVmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3Qgdm5vZGUgPSBuZXcgVm5vZGUodGFnLCBwcm9wcywgY2hpbGRyZW4pO1xuICAgIHZub2RlLmRvbSA9IGRvbTtcbiAgICBkb20udm5vZGUgPSB2bm9kZTtcbiAgICB2bm9kZS5pc1NWRyA9IHRhZyA9PT0gXCJzdmdcIjtcbiAgICByZXR1cm4gdm5vZGUgYXMgVm5vZGVXaXRoRG9tO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cnVzdChodG1sU3RyaW5nOiBzdHJpbmcpIHtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZGl2LmlubmVySFRNTCA9IGh0bWxTdHJpbmcudHJpbSgpO1xuICByZXR1cm4gQXJyYXkuZnJvbShkaXYuY2hpbGROb2RlcykubWFwKGhpZHJhdGVEb21Ub1Zub2RlKTtcbn1cblxubGV0IG1haW5Db21wb25lbnQ6IFZub2RlQ29tcG9uZW50SW50ZXJmYWNlIHwgbnVsbCA9IG51bGw7XG5sZXQgbWFpblZub2RlOiBWbm9kZVdpdGhEb20gfCBudWxsID0gbnVsbDtcbmxldCBpc01vdW50ZWQgPSBmYWxzZTtcblxuZXhwb3J0IGNvbnN0IGN1cnJlbnQgPSB7XG4gIHZub2RlOiBudWxsIGFzIFZub2RlIHwgbnVsbCxcbiAgY29tcG9uZW50OiBudWxsIGFzIFZhbHlyaWFuQ29tcG9uZW50IHwgbnVsbCxcbiAgZXZlbnQ6IG51bGwgYXMgRXZlbnQgfCBudWxsXG59O1xuXG5leHBvcnQgY29uc3QgcmVzZXJ2ZWRQcm9wcyA9IG5ldyBTZXQ8c3RyaW5nPihbXG4gIFwia2V5XCIsXG4gIFwic3RhdGVcIixcbiAgXCJ2LWtlZXBcIixcbiAgXCJ2LXRleHRcIixcbiAgXCJ2LWlmXCIsXG4gIFwidi1mb3JcIixcbiAgXCJ2LXNob3dcIixcbiAgXCJ2LWNsYXNzXCIsXG4gIFwidi1odG1sXCIsXG4gIFwidi1tb2RlbFwiLFxuICBcInYtY3JlYXRlXCIsXG4gIFwidi11cGRhdGVcIixcbiAgXCJ2LWNsZWFudXBcIlxuXSk7XG5cbmNvbnN0IG9uQ2xlYW51cFNldCA9IG5ldyBTZXQ8RnVuY3Rpb24+KCk7XG5jb25zdCBvbk1vdW50U2V0ID0gbmV3IFNldDxGdW5jdGlvbj4oKTtcbmNvbnN0IG9uVXBkYXRlU2V0ID0gbmV3IFNldDxGdW5jdGlvbj4oKTtcbmNvbnN0IG9uVW5tb3VudFNldCA9IG5ldyBTZXQ8RnVuY3Rpb24+KCk7XG5leHBvcnQgY29uc3Qgb25Nb3VudCA9IChjYWxsYmFjazogRnVuY3Rpb24pID0+ICFpc01vdW50ZWQgJiYgb25Nb3VudFNldC5hZGQoY2FsbGJhY2spO1xuZXhwb3J0IGNvbnN0IG9uVXBkYXRlID0gKGNhbGxiYWNrOiBGdW5jdGlvbikgPT4gb25VcGRhdGVTZXQuYWRkKGNhbGxiYWNrKTtcbmV4cG9ydCBjb25zdCBvbkNsZWFudXAgPSAoY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiBvbkNsZWFudXBTZXQuYWRkKGNhbGxiYWNrKTtcbmV4cG9ydCBjb25zdCBvblVubW91bnQgPSAoY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiAhaXNNb3VudGVkICYmIG9uVW5tb3VudFNldC5hZGQoY2FsbGJhY2spO1xuY29uc3QgY2FsbFNldCA9IChzZXQ6IFNldDxGdW5jdGlvbj4pID0+IHtcbiAgZm9yIChjb25zdCBjYWxsYmFjayBvZiBzZXQpIHtcbiAgICBjYWxsYmFjaygpO1xuICB9XG4gIHNldC5jbGVhcigpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRpcmVjdGl2ZXM6IFJlY29yZDxzdHJpbmcsIERpcmVjdGl2ZT4gPSB7XG4gIFwidi1pZlwiOiAodmFsdWUsIHZub2RlKSA9PiB7XG4gICAgaWYgKCFCb29sZWFuKHZhbHVlKSkge1xuICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IHZub2RlLmRvbT8ucGFyZW50Tm9kZTtcbiAgICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICAgIHBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpLCB2bm9kZS5kb20pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuXG4gIFwidi1zaG93XCI6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICBjb25zdCBib29sID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgKFxuICAgICAgdm5vZGUuZG9tIGFzIHVua25vd24gYXMge1xuICAgICAgICBzdHlsZTogeyBkaXNwbGF5OiBzdHJpbmcgfTtcbiAgICAgIH1cbiAgICApLnN0eWxlLmRpc3BsYXkgPSBib29sID8gXCJcIiA6IFwibm9uZVwiO1xuICB9LFxuXG4gIFwidi1odG1sXCI6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICB2bm9kZS5jaGlsZHJlbiA9IHRydXN0KHZhbHVlIGFzIHN0cmluZyk7XG4gIH0sXG5cbiAgLy8gVGhlIFwidi1tb2RlbFwiIGRpcmVjdGl2ZSBiaW5kcyB0aGUgdmFsdWUgb2YgYW4gaW5wdXQgZWxlbWVudCB0byBhIG1vZGVsIHByb3BlcnR5XG4gIFwidi1tb2RlbFwiOiAobW9kZWwsIHZub2RlKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICAgIGlmIChcIm5hbWVcIiBpbiB2bm9kZS5wcm9wcyA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgdmFsdWU7XG4gICAgY29uc3QgcHJvcGVydHkgPSB2bm9kZS5wcm9wcy5uYW1lO1xuICAgIGxldCBldmVudCA9IFwib25pbnB1dFwiO1xuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiB1cGRhdGVzIHRoZSBtb2RlbCBwcm9wZXJ0eSB3aGVuIHRoZSBpbnB1dCBlbGVtZW50J3MgdmFsdWUgY2hhbmdlc1xuICAgIGxldCBoYW5kbGVyID0gKGU6IEV2ZW50KSA9PiAobW9kZWxbcHJvcGVydHldID0gKGUudGFyZ2V0IGFzIERvbUVsZW1lbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+KS52YWx1ZSk7XG4gICAgaWYgKHZub2RlLnRhZyA9PT0gXCJpbnB1dFwiKSB7XG4gICAgICAvLyBEZXBlbmRpbmcgb24gdGhlIHR5cGUgb2YgaW5wdXQgZWxlbWVudCwgdXNlIGEgZGlmZmVyZW50IGhhbmRsZXIgZnVuY3Rpb25cbiAgICAgIHN3aXRjaCAodm5vZGUucHJvcHMudHlwZSkge1xuICAgICAgICBjYXNlIFwiY2hlY2tib3hcIjoge1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG1vZGVsW3Byb3BlcnR5XSkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBtb2RlbCBwcm9wZXJ0eSBpcyBhbiBhcnJheSwgYWRkIG9yIHJlbW92ZSB0aGUgdmFsdWUgZnJvbSB0aGUgYXJyYXkgd2hlbiB0aGUgY2hlY2tib3ggaXMgY2hlY2tlZCBvciB1bmNoZWNrZWRcbiAgICAgICAgICAgIGhhbmRsZXIgPSAoZTogRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgdmFsID0gKGUudGFyZ2V0IGFzIERvbUVsZW1lbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+KS52YWx1ZTtcbiAgICAgICAgICAgICAgY29uc3QgaWR4ID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsKTtcbiAgICAgICAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0ucHVzaCh2YWwpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBpbiB0aGUgYXJyYXksIHNldCB0aGUgY2hlY2tib3ggdG8gYmUgY2hlY2tlZFxuICAgICAgICAgICAgdmFsdWUgPSBtb2RlbFtwcm9wZXJ0eV0uaW5kZXhPZih2bm9kZS5kb20udmFsdWUpICE9PSAtMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiB2bm9kZS5wcm9wcykge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGlucHV0IGVsZW1lbnQgaGFzIGEgXCJ2YWx1ZVwiIGF0dHJpYnV0ZSwgdXNlIGl0IHRvIGRldGVybWluZSB0aGUgY2hlY2tlZCBzdGF0ZVxuICAgICAgICAgICAgaGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKG1vZGVsW3Byb3BlcnR5XSA9PT0gdm5vZGUucHJvcHMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0gPSBudWxsO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XSA9IHZub2RlLnByb3BzLnZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFsdWUgPSBtb2RlbFtwcm9wZXJ0eV0gPT09IHZub2RlLnByb3BzLnZhbHVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBcInZhbHVlXCIgYXR0cmlidXRlLCB1c2UgYSBib29sZWFuIHZhbHVlIGZvciB0aGUgbW9kZWwgcHJvcGVydHlcbiAgICAgICAgICAgIGhhbmRsZXIgPSAoKSA9PiAobW9kZWxbcHJvcGVydHldID0gIW1vZGVsW3Byb3BlcnR5XSk7XG4gICAgICAgICAgICB2YWx1ZSA9IG1vZGVsW3Byb3BlcnR5XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gU2V0IHRoZSBcImNoZWNrZWRcIiBhdHRyaWJ1dGUgb24gdGhlIGlucHV0IGVsZW1lbnRcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICBzaGFyZWRTZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsIHZhbHVlLCB2bm9kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInJhZGlvXCI6IHtcbiAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyBhIHJhZGlvIGJ1dHRvbiwgc2V0IHRoZSBcImNoZWNrZWRcIiBhdHRyaWJ1dGUgYmFzZWQgb24gdGhlIHZhbHVlIG9mIHRoZSBtb2RlbCBwcm9wZXJ0eVxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICAgIHNoYXJlZFNldEF0dHJpYnV0ZShcImNoZWNrZWRcIiwgbW9kZWxbcHJvcGVydHldID09PSB2bm9kZS5kb20udmFsdWUsIHZub2RlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgLy8gRm9yIGFsbCBvdGhlciBpbnB1dCB0eXBlcywgc2V0IHRoZSBcInZhbHVlXCIgYXR0cmlidXRlIGJhc2VkIG9uIHRoZSB2YWx1ZSBvZiB0aGUgbW9kZWwgcHJvcGVydHlcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICBzaGFyZWRTZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBtb2RlbFtwcm9wZXJ0eV0sIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodm5vZGUudGFnID09PSBcInNlbGVjdFwiKSB7XG4gICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyBhIHNlbGVjdCBlbGVtZW50LCB1c2UgdGhlIFwiY2xpY2tcIiBldmVudCBieSBkZWZhdWx0XG4gICAgICBldmVudCA9IFwib25jbGlja1wiO1xuICAgICAgaWYgKHZub2RlLnByb3BzLm11bHRpcGxlKSB7XG4gICAgICAgIC8vIElmIHRoZSBzZWxlY3QgZWxlbWVudCBhbGxvd3MgbXVsdGlwbGUgc2VsZWN0aW9ucywgdXBkYXRlIHRoZSBtb2RlbCBwcm9wZXJ0eSB3aXRoIGFuIGFycmF5IG9mIHNlbGVjdGVkIHZhbHVlc1xuICAgICAgICBoYW5kbGVyID0gKGU6IEV2ZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikgPT4ge1xuICAgICAgICAgIGNvbnN0IHZhbCA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWU7XG4gICAgICAgICAgaWYgKGUuY3RybEtleSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIEN0cmwga2V5IGlzIHByZXNzZWQsIGFkZCBvciByZW1vdmUgdGhlIHZhbHVlIGZyb20gdGhlIGFycmF5XG4gICAgICAgICAgICBjb25zdCBpZHggPSBtb2RlbFtwcm9wZXJ0eV0uaW5kZXhPZih2YWwpO1xuICAgICAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnB1c2godmFsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlIEN0cmwga2V5IGlzIG5vdCBwcmVzc2VkLCBzZXQgdGhlIG1vZGVsIHByb3BlcnR5IHRvIGFuIGFycmF5IHdpdGggdGhlIHNlbGVjdGVkIHZhbHVlXG4gICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKDAsIG1vZGVsW3Byb3BlcnR5XS5sZW5ndGgpO1xuICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnB1c2godmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIFNldCB0aGUgXCJzZWxlY3RlZFwiIGF0dHJpYnV0ZSBvbiB0aGUgb3B0aW9ucyBiYXNlZCBvbiB3aGV0aGVyIHRoZXkgYXJlIGluIHRoZSBtb2RlbCBwcm9wZXJ0eSBhcnJheVxuICAgICAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZDogVm5vZGVXaXRoRG9tKSA9PiB7XG4gICAgICAgICAgaWYgKGNoaWxkLnRhZyA9PT0gXCJvcHRpb25cIikge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBcInZhbHVlXCIgaW4gY2hpbGQucHJvcHMgPyBjaGlsZC5wcm9wcy52YWx1ZSA6IGNoaWxkLmNoaWxkcmVuLmpvaW4oXCJcIikudHJpbSgpO1xuICAgICAgICAgICAgY2hpbGQucHJvcHMuc2VsZWN0ZWQgPSBtb2RlbFtwcm9wZXJ0eV0uaW5kZXhPZih2YWx1ZSkgIT09IC0xO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiB0aGUgc2VsZWN0IGVsZW1lbnQgZG9lcyBub3QgYWxsb3cgbXVsdGlwbGUgc2VsZWN0aW9ucywgc2V0IHRoZSBcInNlbGVjdGVkXCIgYXR0cmlidXRlIG9uIHRoZSBvcHRpb25zIGJhc2VkIG9uIHRoZSB2YWx1ZSBvZiB0aGUgbW9kZWwgcHJvcGVydHlcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgICAgICAgIGlmIChjaGlsZC50YWcgPT09IFwib3B0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gXCJ2YWx1ZVwiIGluIGNoaWxkLnByb3BzID8gY2hpbGQucHJvcHMudmFsdWUgOiBjaGlsZC5jaGlsZHJlbi5qb2luKFwiXCIpLnRyaW0oKTtcbiAgICAgICAgICAgIGNoaWxkLnByb3BzLnNlbGVjdGVkID0gdmFsdWUgPT09IG1vZGVsW3Byb3BlcnR5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodm5vZGUudGFnID09PSBcInRleHRhcmVhXCIpIHtcbiAgICAgIC8vIFNldCB0aGUgdGV4dGFyZWEncyBjb250ZW50IHRvIHRoZSB2YWx1ZSBvZiB0aGUgbW9kZWwgcHJvcGVydHlcbiAgICAgIHZub2RlLmNoaWxkcmVuID0gW21vZGVsW3Byb3BlcnR5XV07XG4gICAgfVxuXG4gICAgLy8gV2UgYXNzdW1lIHRoYXQgdGhlIHByZXYgaGFuZGxlciBpZiBhbnkgd2lsbCBub3QgYmUgY2hhbmdlZCBieSB0aGUgdXNlciBhY3Jvc3MgcGF0Y2hzXG4gICAgY29uc3QgcHJldkhhbmRsZXIgPSB2bm9kZS5wcm9wc1tldmVudF07XG5cbiAgICAvLyBTZXQgdGhlIGV2ZW50IGhhbmRsZXIgb24gdGhlIGVsZW1lbnRcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICBzaGFyZWRTZXRBdHRyaWJ1dGUoXG4gICAgICBldmVudCxcbiAgICAgIChlOiBFdmVudCkgPT4ge1xuICAgICAgICBoYW5kbGVyKGUpO1xuXG4gICAgICAgIC8vIElmIHRoZSBwcmV2aW91cyBoYW5kbGVyIGlzIGRlZmluZWQsIGNhbGwgaXQgYWZ0ZXIgdGhlIG1vZGVsIGhhcyBiZWVuIHVwZGF0ZWRcbiAgICAgICAgaWYgKHByZXZIYW5kbGVyKSB7XG4gICAgICAgICAgcHJldkhhbmRsZXIoZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB2bm9kZVxuICAgICk7XG4gIH0sXG5cbiAgXCJ2LWNyZWF0ZVwiOiAoY2FsbGJhY2ssIHZub2RlLCBvbGRQcm9wcykgPT4ge1xuICAgIGlmICghb2xkUHJvcHMpIHtcbiAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsYmFjayh2bm9kZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgY2xlYW51cCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIG9uQ2xlYW51cChjbGVhbnVwKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgXCJ2LXVwZGF0ZVwiOiAoY2FsbGJhY2ssIHZub2RlLCBvbGRQcm9wcykgPT4ge1xuICAgIGlmIChvbGRQcm9wcykge1xuICAgICAgY29uc3QgY2xlYW51cCA9IGNhbGxiYWNrKHZub2RlLCBvbGRQcm9wcyk7XG5cbiAgICAgIGlmICh0eXBlb2YgY2xlYW51cCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIG9uQ2xlYW51cChjbGVhbnVwKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgXCJ2LWNsZWFudXBcIjogKGNhbGxiYWNrLCB2bm9kZSkgPT4ge1xuICAgIG9uQ2xlYW51cCgoKSA9PiBjYWxsYmFjayh2bm9kZSkpO1xuICB9LFxuXG4gIFwidi1jbGFzc1wiOiAodmFsdWUsIHZub2RlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdm5vZGUuZG9tLmNsYXNzTmFtZSA9IHZhbHVlO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHZub2RlLmRvbS5jbGFzc05hbWUgPSB2YWx1ZS5qb2luKFwiIFwiKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgY29uc3QgY2xhc3NMaXN0ID0gdm5vZGUuZG9tLmNsYXNzTGlzdDtcbiAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB2YWx1ZSkge1xuICAgICAgICBjb25zdCB2YWwgPSB0eXBlb2YgdmFsdWVbbmFtZV0gPT09IFwiZnVuY3Rpb25cIiA/ICh2YWx1ZVtuYW1lXSBhcyBGdW5jdGlvbikoKSA6IHZhbHVlW25hbWVdO1xuICAgICAgICBjbGFzc0xpc3QudG9nZ2xlKG5hbWUsIHZhbCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8vIEZyZXF1ZW50IHVzZWQgcHJvcGVydGllc1xuICBjbGFzcyh2YWx1ZSwgdm5vZGUpIHtcbiAgICBpZiAodm5vZGUuZG9tLmNsYXNzTmFtZSAhPT0gdmFsdWUpIHtcbiAgICAgIGlmICh2bm9kZS5pc1NWRykge1xuICAgICAgICB2bm9kZS5kb20uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgdmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2bm9kZS5kb20uY2xhc3NOYW1lID0gdmFsdWU7XG4gICAgfVxuICB9LFxuXG4gIGNsYXNzTmFtZSh2YWx1ZSwgdm5vZGUpIHtcbiAgICBkaXJlY3RpdmVzLmNsYXNzKHZhbHVlLCB2bm9kZSwgbnVsbCk7XG4gIH0sXG5cbiAgaWQ6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICBpZiAodm5vZGUuZG9tLmlkICE9PSB2YWx1ZSkge1xuICAgICAgaWYgKHZub2RlLmlzU1ZHKSB7XG4gICAgICAgIHZub2RlLmRvbS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZub2RlLmRvbS5pZCA9IHZhbHVlO1xuICAgIH1cbiAgfSxcblxuICBzdHlsZTogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGlmICh2bm9kZS5pc1NWRykge1xuICAgICAgICB2bm9kZS5kb20uc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgdmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2bm9kZS5kb20uc3R5bGUgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgaWYgKHZub2RlLmlzU1ZHKSB7XG4gICAgICAgIHZub2RlLmRvbS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcIlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZub2RlLmRvbS5zdHlsZSA9IFwiXCI7XG4gICAgICB9XG4gICAgICBjb25zdCBkb21TdHlsZSA9IHZub2RlLmRvbS5zdHlsZTtcbiAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB2YWx1ZSkge1xuICAgICAgICBkb21TdHlsZVtuYW1lXSA9IHZhbHVlW25hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRpcmVjdGl2ZShuYW1lOiBzdHJpbmcsIGRpcmVjdGl2ZTogRGlyZWN0aXZlKSB7XG4gIGNvbnN0IGRpcmVjdGl2ZU5hbWUgPSBgdi0ke25hbWV9YDtcbiAgZGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSA9IGRpcmVjdGl2ZTtcbiAgcmVzZXJ2ZWRQcm9wcy5hZGQoZGlyZWN0aXZlTmFtZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRQcm9wTmFtZVJlc2VydmVkKG5hbWU6IHN0cmluZykge1xuICByZXNlcnZlZFByb3BzLmFkZChuYW1lKTtcbn1cblxuY29uc3QgZXZlbnRMaXN0ZW5lck5hbWVzID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbmZ1bmN0aW9uIGV2ZW50TGlzdGVuZXIoZTogRXZlbnQpIHtcbiAgY3VycmVudC5ldmVudCA9IGU7XG4gIGxldCBkb20gPSBlLnRhcmdldCBhcyBEb21FbGVtZW50O1xuICBjb25zdCBuYW1lID0gYG9uJHtlLnR5cGV9YDtcblxuICB3aGlsZSAoZG9tKSB7XG4gICAgY29uc3Qgb2xkVm5vZGUgPSBkb20udm5vZGUgYXMgVm5vZGVXaXRoRG9tO1xuICAgIGlmIChvbGRWbm9kZSAmJiBvbGRWbm9kZS5wcm9wc1tuYW1lXSkge1xuICAgICAgb2xkVm5vZGUucHJvcHNbbmFtZV0oZSwgb2xkVm5vZGUpO1xuXG4gICAgICBpZiAoIWUuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgdXBkYXRlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvbSA9IGRvbS5wYXJlbnROb2RlIGFzIERvbUVsZW1lbnQ7XG4gIH1cblxuICBjdXJyZW50LmV2ZW50ID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gc2hhcmVkU2V0QXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSwgbmV3Vm5vZGU6IFZub2RlV2l0aERvbSk6IHZvaWQgfCBib29sZWFuIHtcbiAgY29uc3QgbmV3Vm5vZGVEb20gPSBuZXdWbm9kZS5kb207XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGlmICghZXZlbnRMaXN0ZW5lck5hbWVzLmhhcyhuYW1lKSkge1xuICAgICAgLy8gV2UgYXR0YWNoIHRoZSBkZWxlZ2F0ZWQgZXZlbnQgbGlzdGVuZXIgdG8gdGhlIG1haW4gdm5vZGUgZG9tIGVsZW1lbnQsIHdoaWNoIGlzIHRoZSByb290IG9mIHRoZSBjb21wb25lbnRcbiAgICAgIChtYWluVm5vZGUgYXMgVm5vZGVXaXRoRG9tKS5kb20uYWRkRXZlbnRMaXN0ZW5lcihuYW1lLnNsaWNlKDIpLCBldmVudExpc3RlbmVyKTtcbiAgICAgIGV2ZW50TGlzdGVuZXJOYW1lcy5hZGQobmFtZSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghbmV3Vm5vZGUuaXNTVkcgJiYgbmFtZSBpbiBuZXdWbm9kZURvbSkge1xuICAgIG5ld1Zub2RlRG9tW25hbWVdID0gdmFsdWU7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHZhbHVlID09PSBmYWxzZSkge1xuICAgIG5ld1Zub2RlRG9tLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfSBlbHNlIHtcbiAgICBuZXdWbm9kZURvbS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55LCBuZXdWbm9kZTogVm5vZGVXaXRoRG9tKTogdm9pZCB7XG4gIGlmICghcmVzZXJ2ZWRQcm9wcy5oYXMobmFtZSkpIHtcbiAgICBuZXdWbm9kZS5wcm9wc1tuYW1lXSA9IHZhbHVlO1xuICAgIHNoYXJlZFNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgbmV3Vm5vZGUpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVBdHRyaWJ1dGVzKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sIG9sZFByb3BzOiBQcm9wZXJ0aWVzIHwgbnVsbCk6IHZvaWQge1xuICBjb25zdCB2bm9kZURvbSA9IG5ld1Zub2RlLmRvbTtcbiAgY29uc3Qgdm5vZGVQcm9wcyA9IG5ld1Zub2RlLnByb3BzO1xuICB2bm9kZURvbS52bm9kZSA9IG5ld1Zub2RlO1xuXG4gIGlmIChvbGRQcm9wcykge1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBvbGRQcm9wcykge1xuICAgICAgaWYgKG5hbWUgaW4gdm5vZGVQcm9wcyA9PT0gZmFsc2UgJiYgIWV2ZW50TGlzdGVuZXJOYW1lcy5oYXMobmFtZSkgJiYgIXJlc2VydmVkUHJvcHMuaGFzKG5hbWUpKSB7XG4gICAgICAgIGlmICghbmV3Vm5vZGUuaXNTVkcgJiYgbmFtZSBpbiB2bm9kZURvbSkge1xuICAgICAgICAgIHZub2RlRG9tW25hbWVdID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2bm9kZURvbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3IgKGNvbnN0IG5hbWUgaW4gdm5vZGVQcm9wcykge1xuICAgIGlmIChkaXJlY3RpdmVzW25hbWVdKSB7XG4gICAgICBpZiAoZGlyZWN0aXZlc1tuYW1lXSh2bm9kZVByb3BzW25hbWVdLCBuZXdWbm9kZSwgb2xkUHJvcHMpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmICghcmVzZXJ2ZWRQcm9wcy5oYXMobmFtZSkpIHtcbiAgICAgIHNoYXJlZFNldEF0dHJpYnV0ZShuYW1lLCB2bm9kZVByb3BzW25hbWVdLCBuZXdWbm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZzogc3RyaW5nLCBpc1NWRzogYm9vbGVhbik6IERvbUVsZW1lbnQge1xuICByZXR1cm4gaXNTVkdcbiAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHRhZylcbiAgICA6IChkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZykgYXMgRG9tRWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIGZsYXRUcmVlKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20pIHtcbiAgY3VycmVudC52bm9kZSA9IG5ld1Zub2RlO1xuXG4gIGxldCBpID0gMDtcbiAgY29uc3Qgb3JpZ2luYWxDaGlsZHJlbiA9IG5ld1Zub2RlLmNoaWxkcmVuO1xuICBsZXQgY2hpbGRyZW4gPSBvcmlnaW5hbENoaWxkcmVuO1xuXG4gIGlmIChcInYtZm9yXCIgaW4gbmV3Vm5vZGUucHJvcHMpIHtcbiAgICBjaGlsZHJlbiA9IFtdO1xuICAgIGNvbnN0IHNldCA9IG5ld1Zub2RlLnByb3BzW1widi1mb3JcIl07XG4gICAgY29uc3QgbCA9IHNldC5sZW5ndGg7XG4gICAgY29uc3QgY2FsbGJhY2sgPSBuZXdWbm9kZS5jaGlsZHJlblswXTtcblxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgY29uc29sZS53YXJuKFwidi1mb3IgZGlyZWN0aXZlIG11c3QgaGF2ZSBhIGNhbGxiYWNrIGZ1bmN0aW9uIGFzIGNoaWxkcmVuXCIpO1xuICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjaGlsZHJlbltpXSA9IGNhbGxiYWNrKHNldFtpXSwgaSk7XG4gICAgfVxuICB9XG5cbiAgd2hpbGUgKGkgPCBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICBjb25zdCBuZXdDaGlsZCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgaWYgKG5ld0NoaWxkID09IG51bGwpIHtcbiAgICAgIGlmIChjaGlsZHJlbiA9PT0gb3JpZ2luYWxDaGlsZHJlbikge1xuICAgICAgICBjaGlsZHJlbiA9IFsuLi5vcmlnaW5hbENoaWxkcmVuXTtcbiAgICAgIH1cbiAgICAgIGNoaWxkcmVuLnNwbGljZShpLCAxKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KG5ld0NoaWxkKSkge1xuICAgICAgaWYgKGNoaWxkcmVuID09PSBvcmlnaW5hbENoaWxkcmVuKSB7XG4gICAgICAgIGNoaWxkcmVuID0gWy4uLm9yaWdpbmFsQ2hpbGRyZW5dO1xuICAgICAgfVxuICAgICAgY2hpbGRyZW4uc3BsaWNlKGksIDEsIC4uLm5ld0NoaWxkKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChuZXdDaGlsZCBpbnN0YW5jZW9mIFZub2RlKSB7XG4gICAgICBuZXdDaGlsZC5wcm9wcyA9IG5ld0NoaWxkLnByb3BzIHx8IHt9O1xuICAgICAgbmV3Q2hpbGQuaXNTVkcgPSBuZXdWbm9kZS5pc1NWRyB8fCBuZXdDaGlsZC50YWcgPT09IFwic3ZnXCI7XG5cbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQudGFnICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmIChjaGlsZHJlbiA9PT0gb3JpZ2luYWxDaGlsZHJlbikge1xuICAgICAgICAgIGNoaWxkcmVuID0gWy4uLm9yaWdpbmFsQ2hpbGRyZW5dO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gKGN1cnJlbnQuY29tcG9uZW50ID0gbmV3Q2hpbGQudGFnKTtcblxuICAgICAgICBjaGlsZHJlbltpXSA9IChpc1BPSk9Db21wb25lbnQoY29tcG9uZW50KSA/IGNvbXBvbmVudC52aWV3IDogY29tcG9uZW50KS5iaW5kKGNvbXBvbmVudCkoXG4gICAgICAgICAgbmV3Q2hpbGQucHJvcHMsXG4gICAgICAgICAgbmV3Q2hpbGQuY2hpbGRyZW5cbiAgICAgICAgKTtcblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpKys7XG4gIH1cblxuICByZXR1cm4gY2hpbGRyZW47XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0VsZW1lbnQobmV3Q2hpbGQ6IFZub2RlV2l0aERvbSwgbmV3Vm5vZGU6IFZub2RlV2l0aERvbSwgb2xkQ2hpbGQ6IERvbUVsZW1lbnQgfCBudWxsKSB7XG4gIGNvbnN0IGRvbSA9IGNyZWF0ZUVsZW1lbnQobmV3Q2hpbGQudGFnLCBuZXdDaGlsZC5pc1NWRyBhcyBib29sZWFuKTtcbiAgaWYgKG9sZENoaWxkKSB7XG4gICAgbmV3Vm5vZGUuZG9tLnJlcGxhY2VDaGlsZChkb20sIG9sZENoaWxkKTtcbiAgfSBlbHNlIHtcbiAgICBuZXdWbm9kZS5kb20uYXBwZW5kQ2hpbGQoZG9tKTtcbiAgfVxuICBuZXdDaGlsZC5kb20gPSBkb207XG4gIHVwZGF0ZUF0dHJpYnV0ZXMobmV3Q2hpbGQsIG51bGwpO1xuICBpZiAoXCJ2LXRleHRcIiBpbiBuZXdDaGlsZC5wcm9wcykge1xuICAgIG5ld0NoaWxkLmRvbS50ZXh0Q29udGVudCA9IG5ld0NoaWxkLnByb3BzW1widi10ZXh0XCJdO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNoaWxkcmVuID0gZmxhdFRyZWUobmV3Q2hpbGQpO1xuICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgbmV3Q2hpbGQuZG9tLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmIChjaGlsZHJlbltpXSBpbnN0YW5jZW9mIFZub2RlID09PSBmYWxzZSkge1xuICAgICAgbmV3Q2hpbGQuZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNoaWxkcmVuW2ldKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY3JlYXRlTmV3RWxlbWVudChjaGlsZHJlbltpXSwgbmV3Q2hpbGQsIG51bGwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhdGNoS2V5ZWQobmV3Vm5vZGU6IFZub2RlV2l0aERvbSwgY2hpbGRyZW46IENoaWxkcmVuKSB7XG4gIGNvbnN0IG9sZFRyZWUgPSBbLi4uQXJyYXkuZnJvbShuZXdWbm9kZS5kb20uY2hpbGROb2RlcyldIGFzIHVua25vd24gYXMgRG9tRWxlbWVudFtdO1xuICBjb25zdCBjaGlsZE5vZGVzID0gbmV3Vm5vZGUuZG9tLmNoaWxkTm9kZXM7XG4gIGNvbnN0IG9sZEtleWVkTGlzdDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0gb2xkVHJlZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCBvbGRWbm9kZSA9IG9sZFRyZWVbaV0udm5vZGUgYXMgVm5vZGVXaXRoRG9tO1xuICAgIGlmICghb2xkVm5vZGUgfHwgXCJrZXlcIiBpbiBvbGRWbm9kZS5wcm9wcyA9PT0gZmFsc2UpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBvbGRLZXllZExpc3Rbb2xkVm5vZGUucHJvcHMua2V5IGFzIHN0cmluZ10gPSBpO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCBuZXdDaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGNvbnN0IG9sZENoaWxkID0gb2xkVHJlZVtvbGRLZXllZExpc3RbbmV3Q2hpbGQucHJvcHMua2V5IGFzIHN0cmluZ11dO1xuXG4gICAgaWYgKCFvbGRDaGlsZCkge1xuICAgICAgY3JlYXRlTmV3RWxlbWVudChuZXdDaGlsZCwgbmV3Vm5vZGUsIGNoaWxkTm9kZXNbaV0gYXMgRG9tRWxlbWVudCB8IG51bGwpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgbmV3Q2hpbGQuZG9tID0gb2xkQ2hpbGQ7XG4gICAgY29uc3QgY3VycmVudENoaWxkID0gY2hpbGROb2Rlc1tpXTtcbiAgICBpZiAoIWN1cnJlbnRDaGlsZCkge1xuICAgICAgbmV3Vm5vZGUuZG9tLmFwcGVuZENoaWxkKG9sZENoaWxkKTtcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRDaGlsZCAhPT0gb2xkQ2hpbGQpIHtcbiAgICAgIG5ld1Zub2RlLmRvbS5yZXBsYWNlQ2hpbGQob2xkQ2hpbGQsIGN1cnJlbnRDaGlsZCk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgXCJ2LWtlZXBcIiBpbiBuZXdDaGlsZC5wcm9wcyA9PT0gZmFsc2UgfHxcbiAgICAgICFvbGRDaGlsZC52bm9kZSB8fFxuICAgICAgb2xkQ2hpbGQucHJvcHNbXCJ2LWtlZXBcIl0gIT09IG5ld0NoaWxkLnByb3BzW1widi1rZWVwXCJdXG4gICAgKSB7XG4gICAgICB1cGRhdGVBdHRyaWJ1dGVzKG5ld0NoaWxkIGFzIFZub2RlV2l0aERvbSwgb2xkQ2hpbGQudm5vZGUucHJvcHMpO1xuXG4gICAgICBpZiAoXCJ2LXRleHRcIiBpbiBuZXdDaGlsZC5wcm9wcykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgIGlmIChvbGRDaGlsZC50ZXh0Q29udGVudCAhPSBuZXdDaGlsZC5wcm9wc1tcInYtdGV4dFwiXSkge1xuICAgICAgICAgIG9sZENoaWxkLnRleHRDb250ZW50ID0gbmV3Q2hpbGQucHJvcHNbXCJ2LXRleHRcIl07XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIHBhdGNoKG5ld0NoaWxkIGFzIFZub2RlV2l0aERvbSk7XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IGNoaWxkcmVuLmxlbmd0aCwgbCA9IGNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY2hpbGROb2Rlc1tjaGlsZE5vZGVzLmxlbmd0aCAtIDFdPy5yZW1vdmUoKTtcbiAgfVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gcGF0Y2gobmV3Vm5vZGU6IFZub2RlV2l0aERvbSk6IHZvaWQge1xuICBjb25zdCBjaGlsZHJlbiA9IGZsYXRUcmVlKG5ld1Zub2RlKTtcblxuICBjb25zdCBkb20gPSBuZXdWbm9kZS5kb207XG5cbiAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChkb20uY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIGRvbS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG9sZERvbUNoaWxkcmVuID0gZG9tLmNoaWxkTm9kZXMgYXMgdW5rbm93biBhcyBEb21FbGVtZW50W107XG4gIGNvbnN0IG9sZENoaWxkcmVuTGVuZ3RoID0gb2xkRG9tQ2hpbGRyZW4ubGVuZ3RoO1xuICBjb25zdCBjaGlsZHJlbkxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgaWYgKG9sZENoaWxkcmVuTGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY2hpbGRyZW5baV0gaW5zdGFuY2VvZiBWbm9kZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNoaWxkcmVuW2ldKSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY3JlYXRlTmV3RWxlbWVudChjaGlsZHJlbltpXSwgbmV3Vm5vZGUsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgc2hvdWxkUGF0Y2hLZXllZCA9IHRydWU7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgIGlmIChjaGlsZHJlbltpXSBpbnN0YW5jZW9mIFZub2RlID09PSBmYWxzZSB8fCAhKFwia2V5XCIgaW4gY2hpbGRyZW5baV0ucHJvcHMpKSB7XG4gICAgICBzaG91bGRQYXRjaEtleWVkID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgaWYgKHNob3VsZFBhdGNoS2V5ZWQpIHtcbiAgICBwYXRjaEtleWVkKG5ld1Zub2RlLCBjaGlsZHJlbik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgbmV3Q2hpbGQgPSBjaGlsZHJlbltpXSBhcyBWbm9kZVdpdGhEb207XG4gICAgY29uc3QgaXNUZXh0ID0gbmV3Q2hpbGQgaW5zdGFuY2VvZiBWbm9kZSA9PT0gZmFsc2U7XG4gICAgY29uc3Qgb2xkQ2hpbGQgPSBvbGREb21DaGlsZHJlbltpXTtcblxuICAgIGlmICghb2xkQ2hpbGQpIHtcbiAgICAgIGlmIChpc1RleHQpIHtcbiAgICAgICAgbmV3Vm5vZGUuZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5ld0NoaWxkIGFzIHVua25vd24gYXMgc3RyaW5nKSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjcmVhdGVOZXdFbGVtZW50KG5ld0NoaWxkIGFzIFZub2RlV2l0aERvbSwgbmV3Vm5vZGUsIG51bGwpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGlzVGV4dCkge1xuICAgICAgaWYgKG9sZENoaWxkLm5vZGVUeXBlICE9PSAzKSB7XG4gICAgICAgIG5ld1Zub2RlLmRvbS5yZXBsYWNlQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3Q2hpbGQgYXMgdW5rbm93biBhcyBzdHJpbmcpLCBvbGRDaGlsZCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICBpZiAob2xkQ2hpbGQubm9kZVZhbHVlICE9IChuZXdDaGlsZCBhcyB1bmtub3duIGFzIHN0cmluZykpIHtcbiAgICAgICAgb2xkQ2hpbGQubm9kZVZhbHVlID0gbmV3Q2hpbGQgYXMgdW5rbm93biBhcyBzdHJpbmc7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoXCJ2LWtlZXBcIiBpbiBuZXdDaGlsZC5wcm9wcykge1xuICAgICAgaWYgKG9sZENoaWxkLnZub2RlICYmIG9sZENoaWxkLnZub2RlLnByb3BzW1widi1rZWVwXCJdID09PSBuZXdDaGlsZC5wcm9wc1tcInYta2VlcFwiXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV4dE9sZENoaWxkID0gb2xkRG9tQ2hpbGRyZW5baSArIDFdO1xuICAgICAgaWYgKG5leHRPbGRDaGlsZCAmJiBuZXh0T2xkQ2hpbGQudm5vZGUgJiYgbmV4dE9sZENoaWxkLnZub2RlLnByb3BzW1widi1rZWVwXCJdID09PSBuZXdDaGlsZC5wcm9wc1tcInYta2VlcFwiXSkge1xuICAgICAgICBvbGRDaGlsZC5yZW1vdmUoKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5ld0NoaWxkLnRhZyAhPT0gb2xkQ2hpbGQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgY3JlYXRlTmV3RWxlbWVudChuZXdDaGlsZCwgbmV3Vm5vZGUsIG9sZENoaWxkKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIG5ld0NoaWxkLmRvbSA9IG9sZENoaWxkO1xuICAgIHVwZGF0ZUF0dHJpYnV0ZXMobmV3Q2hpbGQsIG9sZENoaWxkLnZub2RlID8gb2xkQ2hpbGQudm5vZGUucHJvcHMgOiBudWxsKTtcbiAgICBpZiAoXCJ2LXRleHRcIiBpbiBuZXdDaGlsZC5wcm9wcykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgaWYgKG5ld0NoaWxkLmRvbS50ZXh0Q29udGVudCAhPSBuZXdDaGlsZC5wcm9wc1tcInYtdGV4dFwiXSkge1xuICAgICAgICBuZXdDaGlsZC5kb20udGV4dENvbnRlbnQgPSBuZXdDaGlsZC5wcm9wc1tcInYtdGV4dFwiXTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBwYXRjaChuZXdDaGlsZCk7XG4gIH1cblxuICBmb3IgKGxldCBpID0gY2hpbGRyZW5MZW5ndGgsIGwgPSBvbGREb21DaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBvbGREb21DaGlsZHJlbltpXT8ucmVtb3ZlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVZub2RlKHZub2RlOiBWbm9kZVdpdGhEb20pOiBzdHJpbmcgfCB2b2lkIHtcbiAgY2FsbFNldChvbkNsZWFudXBTZXQpO1xuICB2bm9kZS5wcm9wcyA9IHZub2RlLnByb3BzIHx8IHt9O1xuICBwYXRjaCh2bm9kZSk7XG4gIGNhbGxTZXQoaXNNb3VudGVkID8gb25VcGRhdGVTZXQgOiBvbk1vdW50U2V0KTtcbiAgaXNNb3VudGVkID0gdHJ1ZTtcbiAgY3VycmVudC52bm9kZSA9IG51bGw7XG4gIGN1cnJlbnQuY29tcG9uZW50ID0gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZSgpOiBzdHJpbmcge1xuICBpZiAobWFpblZub2RlKSB7XG4gICAgbWFpblZub2RlLmNoaWxkcmVuID0gW21haW5Db21wb25lbnRdO1xuICAgIHVwZGF0ZVZub2RlKG1haW5Wbm9kZSBhcyBWbm9kZVdpdGhEb20pO1xuICAgIGlmIChpc05vZGVKcykge1xuICAgICAgcmV0dXJuIG1haW5Wbm9kZS5kb20uaW5uZXJIVE1MO1xuICAgIH1cbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cblxubGV0IGRlYm91bmNlZFVwZGF0ZVRpbWVvdXQ6IGFueTtcbmNvbnN0IGRlYm91bmNlZFVwZGF0ZU1ldGhvZCA9IGlzTm9kZUpzID8gdXBkYXRlIDogKCkgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZWRVcGRhdGUodGltZW91dCA9IDQyKSB7XG4gIGlmIChjdXJyZW50LmV2ZW50KSB7XG4gICAgY3VycmVudC5ldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG4gIGNsZWFyVGltZW91dChkZWJvdW5jZWRVcGRhdGVUaW1lb3V0KTtcbiAgZGVib3VuY2VkVXBkYXRlVGltZW91dCA9IHNldFRpbWVvdXQoZGVib3VuY2VkVXBkYXRlTWV0aG9kLCB0aW1lb3V0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVubW91bnQoKSB7XG4gIGlmIChtYWluVm5vZGUpIHtcbiAgICBtYWluQ29tcG9uZW50ID0gdigoKSA9PiBudWxsLCB7fSkgYXMgVm5vZGVDb21wb25lbnRJbnRlcmZhY2U7XG4gICAgY29uc3QgcmVzdWx0ID0gdXBkYXRlKCk7XG4gICAgY2FsbFNldChvblVubW91bnRTZXQpO1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBldmVudExpc3RlbmVyTmFtZXMpIHtcbiAgICAgIG1haW5Wbm9kZS5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLnNsaWNlKDIpLnRvTG93ZXJDYXNlKCksIGV2ZW50TGlzdGVuZXIpO1xuICAgICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShldmVudExpc3RlbmVyTmFtZXMsIG5hbWUpO1xuICAgIH1cblxuICAgIG1haW5Db21wb25lbnQgPSBudWxsO1xuICAgIG1haW5Wbm9kZSA9IG51bGw7XG4gICAgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgY3VycmVudC52bm9kZSA9IG51bGw7XG4gICAgY3VycmVudC5jb21wb25lbnQgPSBudWxsO1xuICAgIGN1cnJlbnQuZXZlbnQgPSBudWxsO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gXCJcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdW50KGRvbTogc3RyaW5nIHwgRG9tRWxlbWVudCwgY29tcG9uZW50OiBWYWx5cmlhbkNvbXBvbmVudCB8IFZub2RlQ29tcG9uZW50SW50ZXJmYWNlIHwgYW55KSB7XG4gIGNvbnN0IGNvbnRhaW5lciA9XG4gICAgdHlwZW9mIGRvbSA9PT0gXCJzdHJpbmdcIiA/IChpc05vZGVKcyA/IGNyZWF0ZUVsZW1lbnQoZG9tLCBkb20gPT09IFwic3ZnXCIpIDogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihkb20pKSA6IGRvbTtcblxuICBpZiAoaXNDb21wb25lbnQoY29tcG9uZW50KSkge1xuICAgIG1haW5Db21wb25lbnQgPSB2KGNvbXBvbmVudCwge30sIFtdKSBhcyBWbm9kZUNvbXBvbmVudEludGVyZmFjZTtcbiAgfSBlbHNlIGlmIChpc1Zub2RlQ29tcG9uZW50KGNvbXBvbmVudCkpIHtcbiAgICBtYWluQ29tcG9uZW50ID0gY29tcG9uZW50O1xuICB9IGVsc2Uge1xuICAgIG1haW5Db21wb25lbnQgPSB2KCgpID0+IGNvbXBvbmVudCwge30sIFtdKSBhcyBWbm9kZUNvbXBvbmVudEludGVyZmFjZTtcbiAgfVxuXG4gIG1haW5Wbm9kZSA9IGhpZHJhdGVEb21Ub1Zub2RlKGNvbnRhaW5lcikgYXMgVm5vZGVXaXRoRG9tO1xuICByZXR1cm4gdXBkYXRlKCk7XG59XG4iXSwibWFwcGluZ3MiOiJNQXdDTyxJQUFNQSxFQUFXQyxRQUEyQixvQkFBWkMsU0FBMkJBLFFBQVFDLFVBQVlELFFBQVFDLFNBQVNDLE1BRTFGQyxFQUFOLE1BQ0wsV0FBQUMsQ0FDU0MsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FKQUMsS0FBQUwsTUFDQUssS0FBQUosUUFDQUksS0FBQUgsV0FDQUcsS0FBQUYsTUFDQUUsS0FBQUQsT0FDTixHQVNRRSxFQUFtQkMsR0FDOUJiLFFBQVFhLEdBQWtDLGlCQUFkQSxHQUEwQixTQUFVQSxHQUVyREMsRUFBZUQsR0FDMUJiLFFBQTZCLG1CQUFkYSxHQUE0QkQsRUFBZ0JDLElBQ2hERSxFQUFXQyxHQUFzQ0EsYUFBa0JaLEVBRW5FYSxFQUFvQkQsR0FDeEJELEVBQVFDLElBQVdGLEVBQVlFLEVBQU9WLEtBR3hDLFNBQVNZLEVBQUVDLEVBQTRDWixLQUE2QkMsR0FDekYsT0FBTyxJQUFJSixFQUFNZSxFQUFnQlosRUFBT0MsRUFDMUMsQ0FJTyxTQUFTWSxFQUFrQlgsR0FDaEMsR0FBcUIsSUFBakJBLEVBQUlZLFNBQ04sT0FBT1osRUFBSWEsVUFHYixHQUFxQixJQUFqQmIsRUFBSVksU0FBZ0IsQ0FDdEIsTUFBTWYsRUFBTUcsRUFBSWMsU0FBU0MsY0FDbkJqQixFQUFRLENBQUMsRUFDVEMsRUFBVyxHQUVqQixRQUFTaUIsRUFBSSxFQUFHQyxFQUFJakIsRUFBSWtCLFdBQVdDLE9BQVFILEVBQUlDLEVBQUdELElBQUssQ0FDckQsTUFBTUksRUFBV3BCLEVBQUlrQixXQUFXRixHQUNoQyxHQUEwQixJQUF0QkksRUFBU1IsU0FDWGIsRUFBU3NCLEtBQUtELEVBQVNQLGdCQUN6QixHQUFpQyxJQUF0Qk8sRUFBU1IsU0FBZ0IsQ0FDbEMsTUFBTVUsRUFBYVgsRUFBa0JTLEdBQ3JDckIsRUFBU3NCLEtBQUtDLEVBQ2hCLENBQ0YsQ0FFQSxNQUFNQyxFQUFhdkIsRUFBSXVCLFdBQ3ZCLFFBQVNQLEVBQUksRUFBR0MsRUFBSU0sRUFBV0osT0FBUUgsRUFBSUMsRUFBR0QsSUFBSyxDQUNqRCxNQUFNUSxFQUFPRCxFQUFXUCxHQUN4QmxCLEVBQU0wQixFQUFLVixVQUFZVSxFQUFLWCxTQUM5QixDQUVBLE1BQU1ZLEVBQVEsSUFBSTlCLEVBQU1FLEVBQUtDLEVBQU9DLEdBSXBDLE9BSEEwQixFQUFNekIsSUFBTUEsRUFDWkEsRUFBSXlCLE1BQVFBLEVBQ1pBLEVBQU14QixNQUFnQixRQUFSSixFQUNQNEIsQ0FDVCxDQUNGLENBRU8sU0FBU0MsRUFBTUMsR0FDcEIsTUFBTUMsRUFBTUMsU0FBU0MsY0FBYyxPQUVuQyxPQURBRixFQUFJRyxVQUFZSixFQUFXSyxPQUNwQkMsTUFBTUMsS0FBS04sRUFBSVYsWUFBWWlCLElBQUl4QixFQUN4QyxDQXhDQUYsRUFBRTJCLFNBQVcsQ0FBQ0MsS0FBa0J0QyxJQUF1QkEsRUEwQ3ZELElBQUl1QyxFQUFnRCxLQUNoREMsRUFBaUMsS0FDakNDLEdBQVksRUFFSEMsRUFBVSxDQUNyQmhCLE1BQU8sS0FDUHJCLFVBQVcsS0FDWHNDLE1BQU8sTUFHSUMsRUFBZ0IsSUFBSUMsSUFBWSxDQUMzQyxNQUNBLFFBQ0EsU0FDQSxTQUNBLE9BQ0EsUUFDQSxTQUNBLFVBQ0EsU0FDQSxVQUNBLFdBQ0EsV0FDQSxjQUdJQyxFQUFlLElBQUlELElBQ25CRSxFQUFhLElBQUlGLElBQ2pCRyxFQUFjLElBQUlILElBQ2xCSSxFQUFlLElBQUlKLElBR1pLLEVBQWFDLEdBQXVCTCxFQUFhTSxJQUFJRCxHQUU1REUsRUFBV0MsSUFDZixVQUFXSCxLQUFZRyxFQUNyQkgsSUFFRkcsRUFBSUMsT0FBTSxFQUdDQyxFQUF3QyxDQUNuRCxPQUFRLENBQUNDLEVBQU8vQixLQUNkLElBQUtsQyxRQUFRaUUsR0FBUSxDQUNuQixNQUFNQyxFQUFhaEMsRUFBTXpCLEtBQUt5RCxXQUs5QixPQUpJQSxHQUNGQSxFQUFXQyxhQUFhN0IsU0FBUzhCLGVBQWUsSUFBS2xDLEVBQU16QixNQUd0RCxDQUNULEdBR0YsU0FBVSxDQUFDd0QsRUFBTy9CLEtBQ2hCLE1BQU1tQyxFQUFPckUsUUFBUWlFLEdBRW5CL0IsRUFBTXpCLElBR042RCxNQUFNQyxRQUFVRixFQUFPLEdBQUssUUFHaEMsU0FBVSxDQUFDSixFQUFPL0IsS0FDaEJBLEVBQU0xQixTQUFXMkIsRUFBTThCLEVBQWUsRUFJeEMsVUFBVyxDQUFDTyxFQUFPdEMsS0FFakIsR0FBSSxTQUFVQSxFQUFNM0IsUUFBVSxFQUM1QixPQUdGLElBQUkwRCxFQUNKLE1BQU1RLEVBQVd2QyxFQUFNM0IsTUFBTW1FLEtBQzdCLElBQUl2QixFQUFRLFVBR1J3QixFQUFXQyxHQUFjSixFQUFNQyxHQUFhRyxFQUFFQyxPQUE0Q1osTUFDOUYsR0FBa0IsVUFBZC9CLEVBQU01QixJQUVSLE9BQVE0QixFQUFNM0IsTUFBTXVFLE1BQ2xCLElBQUssV0FDQ3BDLE1BQU1xQyxRQUFRUCxFQUFNQyxLQUV0QkUsRUFBV0MsSUFDVCxNQUFNSSxFQUFPSixFQUFFQyxPQUE0Q1osTUFDckRnQixFQUFNVCxFQUFNQyxHQUFVUyxRQUFRRixJQUN4QixJQUFSQyxFQUNGVCxFQUFNQyxHQUFVM0MsS0FBS2tELEdBRXJCUixFQUFNQyxHQUFVVSxPQUFPRixFQUFLLEVBQzlCLEVBR0ZoQixHQUFxRCxJQUE3Q08sRUFBTUMsR0FBVVMsUUFBUWhELEVBQU16QixJQUFJd0QsUUFDakMsVUFBVy9CLEVBQU0zQixPQUUxQm9FLEVBQVUsS0FDSkgsRUFBTUMsS0FBY3ZDLEVBQU0zQixNQUFNMEQsTUFDbENPLEVBQU1DLEdBQVksS0FFbEJELEVBQU1DLEdBQVl2QyxFQUFNM0IsTUFBTTBELEtBQ2hDLEVBRUZBLEVBQVFPLEVBQU1DLEtBQWN2QyxFQUFNM0IsTUFBTTBELFFBR3hDVSxFQUFVLElBQU9ILEVBQU1DLElBQWFELEVBQU1DLEdBQzFDUixFQUFRTyxFQUFNQyxJQUloQlcsRUFBbUIsVUFBV25CLEVBQU8vQixHQUNyQyxNQUVGLElBQUssUUFHSGtELEVBQW1CLFVBQVdaLEVBQU1DLEtBQWN2QyxFQUFNekIsSUFBSXdELE1BQU8vQixHQUNuRSxNQUVGLFFBR0VrRCxFQUFtQixRQUFTWixFQUFNQyxHQUFXdkMsT0FHMUIsV0FBZEEsRUFBTTVCLEtBRWY2QyxFQUFRLFVBQ0pqQixFQUFNM0IsTUFBTThFLFVBRWRWLEVBQVdDLElBQ1QsTUFBTUksRUFBT0osRUFBRUMsT0FBNENaLE1BQzNELEdBQUlXLEVBQUVVLFFBQVMsQ0FFYixNQUFNTCxFQUFNVCxFQUFNQyxHQUFVUyxRQUFRRixJQUN4QixJQUFSQyxFQUNGVCxFQUFNQyxHQUFVM0MsS0FBS2tELEdBRXJCUixFQUFNQyxHQUFVVSxPQUFPRixFQUFLLEVBRWhDLE1BRUVULEVBQU1DLEdBQVVVLE9BQU8sRUFBR1gsRUFBTUMsR0FBVTdDLFFBQzFDNEMsRUFBTUMsR0FBVTNDLEtBQUtrRCxFQUN2QixFQUdGOUMsRUFBTTFCLFNBQVMrRSxRQUFTQyxJQUN0QixHQUFrQixXQUFkQSxFQUFNbEYsSUFBa0IsQ0FDMUIsTUFBTTJELEVBQVEsVUFBV3VCLEVBQU1qRixNQUFRaUYsRUFBTWpGLE1BQU0wRCxNQUFRdUIsRUFBTWhGLFNBQVNpRixLQUFLLElBQUloRCxPQUNuRitDLEVBQU1qRixNQUFNbUYsVUFBOEMsSUFBbkNsQixFQUFNQyxHQUFVUyxRQUFRakIsRUFDakQsS0FJRi9CLEVBQU0xQixTQUFTK0UsUUFBU0MsSUFDdEIsR0FBa0IsV0FBZEEsRUFBTWxGLElBQWtCLENBQzFCLE1BQU0yRCxFQUFRLFVBQVd1QixFQUFNakYsTUFBUWlGLEVBQU1qRixNQUFNMEQsTUFBUXVCLEVBQU1oRixTQUFTaUYsS0FBSyxJQUFJaEQsT0FDbkYrQyxFQUFNakYsTUFBTW1GLFNBQVd6QixJQUFVTyxFQUFNQyxFQUN6QyxLQUdtQixhQUFkdkMsRUFBTTVCLE1BRWY0QixFQUFNMUIsU0FBVyxDQUFDZ0UsRUFBTUMsS0FJMUIsTUFBTWtCLEVBQWN6RCxFQUFNM0IsTUFBTTRDLEdBSWhDaUMsRUFDRWpDLEVBQ0N5QixJQUNDRCxFQUFRQyxHQUdKZSxHQUNGQSxFQUFZZixFQUNkLEVBRUYxQyxFQUNGLEVBR0YsV0FBWSxDQUFDeUIsRUFBVXpCLEVBQU8wRCxLQUM1QixJQUFLQSxFQUFVLENBQ2IsTUFBTUMsRUFBVWxDLEVBQVN6QixHQUVGLG1CQUFaMkQsR0FDVG5DLEVBQVVtQyxFQUVkLEdBR0YsV0FBWSxDQUFDbEMsRUFBVXpCLEVBQU8wRCxLQUM1QixHQUFJQSxFQUFVLENBQ1osTUFBTUMsRUFBVWxDLEVBQVN6QixFQUFPMEQsR0FFVCxtQkFBWkMsR0FDVG5DLEVBQVVtQyxFQUVkLEdBR0YsWUFBYSxDQUFDbEMsRUFBVXpCLEtBQ3RCd0IsRUFBVSxJQUFNQyxFQUFTekIsR0FBTSxFQUdqQyxVQUFXLENBQUMrQixFQUFPL0IsS0FDakIsR0FBcUIsaUJBQVYrQixFQUNUL0IsRUFBTXpCLElBQUlxRixVQUFZN0IsT0FDeEIsR0FBV3ZCLE1BQU1xQyxRQUFRZCxHQUN2Qi9CLEVBQU16QixJQUFJcUYsVUFBWTdCLEVBQU13QixLQUFLLFVBQ25DLEdBQTRCLGlCQUFWeEIsRUFBb0IsQ0FDcEMsTUFBTThCLEVBQVk3RCxFQUFNekIsSUFBSXNGLFVBQzVCLFVBQVdyQixLQUFRVCxFQUFPLENBQ3hCLE1BQU1lLEVBQTZCLG1CQUFoQmYsRUFBTVMsR0FBd0JULEVBQU1TLEtBQXVCVCxFQUFNUyxHQUNwRnFCLEVBQVVDLE9BQU90QixFQUFNTSxFQUN6QixDQUNGLEdBSUYsTUFBTWYsRUFBTy9CLEdBQ1gsR0FBSUEsRUFBTXpCLElBQUlxRixZQUFjN0IsRUFBTyxDQUNqQyxHQUFJL0IsRUFBTXhCLE1BRVIsWUFEQXdCLEVBQU16QixJQUFJd0YsYUFBYSxRQUFTaEMsR0FHbEMvQixFQUFNekIsSUFBSXFGLFVBQVk3QixDQUN4QixDQUNGLEVBRUEsU0FBQTZCLENBQVU3QixFQUFPL0IsR0FDZjhCLEVBQVdrQyxNQUFNakMsRUFBTy9CLEVBQU8sS0FDakMsRUFFQWlFLEdBQUksQ0FBQ2xDLEVBQU8vQixLQUNWLEdBQUlBLEVBQU16QixJQUFJMEYsS0FBT2xDLEVBQU8sQ0FDMUIsR0FBSS9CLEVBQU14QixNQUVSLFlBREF3QixFQUFNekIsSUFBSXdGLGFBQWEsS0FBTWhDLEdBRy9CL0IsRUFBTXpCLElBQUkwRixHQUFLbEMsQ0FDakIsR0FHRkssTUFBTyxDQUFDTCxFQUFPL0IsS0FDYixHQUFxQixpQkFBVitCLEVBQW9CLENBQzdCLEdBQUkvQixFQUFNeEIsTUFFUixZQURBd0IsRUFBTXpCLElBQUl3RixhQUFhLFFBQVNoQyxHQUdsQy9CLEVBQU16QixJQUFJNkQsTUFBUUwsQ0FDcEIsU0FBNEIsaUJBQVZBLEVBQW9CLENBQ2hDL0IsRUFBTXhCLE1BQ1J3QixFQUFNekIsSUFBSXdGLGFBQWEsUUFBUyxJQUVoQy9ELEVBQU16QixJQUFJNkQsTUFBUSxHQUVwQixNQUFNOEIsRUFBV2xFLEVBQU16QixJQUFJNkQsTUFDM0IsVUFBV0ksS0FBUVQsRUFDakJtQyxFQUFTMUIsR0FBUVQsRUFBTVMsRUFFM0IsSUFjSixJQTRXSTJCLEVBNVdFQyxFQUFxQixJQUFJakQsSUFFL0IsU0FBU2tELEVBQWMzQixHQUNyQjFCLEVBQVFDLE1BQVF5QixFQUNoQixJQUFJbkUsRUFBTW1FLEVBQUVDLE9BQ1osTUFBTUgsRUFBTyxLQUFLRSxFQUFFRSxPQUVwQixLQUFPckUsR0FBSyxDQUNWLE1BQU0rRixFQUFXL0YsRUFBSXlCLE1BQ3JCLEdBQUlzRSxHQUFZQSxFQUFTakcsTUFBTW1FLEdBTzdCLE9BTkE4QixFQUFTakcsTUFBTW1FLEdBQU1FLEVBQUc0QixRQUVuQjVCLEVBQUU2QixrQkFFTEMsS0FJSmpHLEVBQU1BLEVBQUl5RCxVQUNaLENBRUFoQixFQUFRQyxNQUFRLElBQ2xCLENBRUEsU0FBU2lDLEVBQW1CVixFQUFjVCxFQUFZMEMsR0FDcEQsTUFBTUMsRUFBY0QsRUFBU2xHLElBQ1IsbUJBQVZ3RCxFQVNOMEMsRUFBU2pHLFNBQVNnRSxLQUFRa0MsSUFLakIsSUFBVjNDLEVBQ0YyQyxFQUFZQyxnQkFBZ0JuQyxHQUU1QmtDLEVBQVlYLGFBQWF2QixFQUFNVCxHQVAvQjJDLEVBQVlsQyxHQUFRVCxFQVRmcUMsRUFBbUJRLElBQUlwQyxLQUV6QjFCLEVBQTJCdkMsSUFBSXNHLGlCQUFpQnJDLEVBQUtzQyxNQUFNLEdBQUlULEdBQ2hFRCxFQUFtQjFDLElBQUljLEdBZTdCLENBU08sU0FBU3VDLEVBQWlCTixFQUF3QmYsR0FDdkQsTUFBTXNCLEVBQVdQLEVBQVNsRyxJQUNwQjBHLEVBQWFSLEVBQVNwRyxNQUc1QixHQUZBMkcsRUFBU2hGLE1BQVF5RSxFQUViZixFQUNGLFVBQVdsQixLQUFRa0IsRUFDYmxCLEtBQVF5QyxJQUFlLEdBQVViLEVBQW1CUSxJQUFJcEMsSUFBVXRCLEVBQWMwRCxJQUFJcEMsTUFDakZpQyxFQUFTakcsT0FBU2dFLEtBQVF3QyxFQUM3QkEsRUFBU3hDLEdBQVEsS0FFakJ3QyxFQUFTTCxnQkFBZ0JuQyxJQU1qQyxVQUFXQSxLQUFReUMsRUFDakIsR0FBSW5ELEVBQVdVLElBQ2IsSUFBK0QsSUFBM0RWLEVBQVdVLEdBQU15QyxFQUFXekMsR0FBT2lDLEVBQVVmLEdBQy9DLFdBS0N4QyxFQUFjMEQsSUFBSXBDLElBQ3JCVSxFQUFtQlYsRUFBTXlDLEVBQVd6QyxHQUFPaUMsRUFHakQsQ0FFTyxTQUFTcEUsRUFBY2pDLEVBQWFJLEdBQ3pDLE9BQU9BLEVBQ0g0QixTQUFTOEUsZ0JBQWdCLDZCQUE4QjlHLEdBQ3REZ0MsU0FBU0MsY0FBY2pDLEVBQzlCLENBRUEsU0FBUytHLEVBQVNWLEdBQ2hCekQsRUFBUWhCLE1BQVF5RSxFQUVoQixJQUFJbEYsRUFBSSxFQUNSLE1BQU02RixFQUFtQlgsRUFBU25HLFNBQ2xDLElBQUlBLEVBQVc4RyxFQUVmLEdBQUksVUFBV1gsRUFBU3BHLE1BQU8sQ0FDN0JDLEVBQVcsR0FDWCxNQUFNc0QsRUFBTTZDLEVBQVNwRyxNQUFNLFNBQ3JCbUIsRUFBSW9DLEVBQUlsQyxPQUNSK0IsRUFBV2dELEVBQVNuRyxTQUFTLEdBRW5DLEdBQXdCLG1CQUFibUQsRUFFVCxPQURBNEQsUUFBUUMsS0FBSyw2REFDTmhILEVBR1QsUUFBU2lCLEVBQUksRUFBR0EsRUFBSUMsRUFBR0QsSUFDckJqQixFQUFTaUIsR0FBS2tDLEVBQVNHLEVBQUlyQyxHQUFJQSxFQUVuQyxDQUVBLEtBQU9BLEVBQUlqQixFQUFTb0IsUUFBUSxDQUMxQixNQUFNNkYsRUFBV2pILEVBQVNpQixHQUUxQixHQUFnQixNQUFaZ0csRUFRSixHQUFJL0UsTUFBTXFDLFFBQVEwQyxHQUNaakgsSUFBYThHLElBQ2Y5RyxFQUFXLElBQUk4RyxJQUVqQjlHLEVBQVMyRSxPQUFPMUQsRUFBRyxLQUFNZ0csUUFJM0IsR0FBSUEsYUFBb0JySCxJQUN0QnFILEVBQVNsSCxNQUFRa0gsRUFBU2xILE9BQVMsQ0FBQyxFQUNwQ2tILEVBQVMvRyxNQUFRaUcsRUFBU2pHLE9BQTBCLFFBQWpCK0csRUFBU25ILElBRWhCLGlCQUFqQm1ILEVBQVNuSCxLQUp0QixDQUtRRSxJQUFhOEcsSUFDZjlHLEVBQVcsSUFBSThHLElBR2pCLE1BQU16RyxFQUFhcUMsRUFBUXJDLFVBQVk0RyxFQUFTbkgsSUFFaERFLEVBQVNpQixJQUFNYixFQUFnQkMsR0FBYUEsRUFBVTZHLEtBQU83RyxHQUFXOEcsS0FBSzlHLEVBQW5FLENBQ1I0RyxFQUFTbEgsTUFDVGtILEVBQVNqSCxTQUtmLE1BRUFpQixTQW5DTWpCLElBQWE4RyxJQUNmOUcsRUFBVyxJQUFJOEcsSUFFakI5RyxFQUFTMkUsT0FBTzFELEVBQUcsRUFpQ3ZCLENBRUEsT0FBT2pCLENBQ1QsQ0FFQSxTQUFTb0gsRUFBaUJILEVBQXdCZCxFQUF3QmtCLEdBQ3hFLE1BQU1wSCxFQUFNOEIsRUFBY2tGLEVBQVNuSCxJQUFLbUgsRUFBUy9HLE9BUWpELEdBUEltSCxFQUNGbEIsRUFBU2xHLElBQUkwRCxhQUFhMUQsRUFBS29ILEdBRS9CbEIsRUFBU2xHLElBQUlxSCxZQUFZckgsR0FFM0JnSCxFQUFTaEgsSUFBTUEsRUFDZndHLEVBQWlCUSxFQUFVLE1BQ3ZCLFdBQVlBLEVBQVNsSCxNQUV2QixZQURBa0gsRUFBU2hILElBQUlzSCxZQUFjTixFQUFTbEgsTUFBTSxXQUk1QyxNQUFNQyxFQUFXNkcsRUFBU0ksR0FDMUIsR0FBd0IsSUFBcEJqSCxFQUFTb0IsT0FLYixRQUFTSCxFQUFJLEVBQUdDLEVBQUlsQixFQUFTb0IsT0FBUUgsRUFBSUMsRUFBR0QsSUFDdENqQixFQUFTaUIsYUFBY3JCLElBQVUsRUFJckN3SCxFQUFpQnBILEVBQVNpQixHQUFJZ0csRUFBVSxNQUh0Q0EsRUFBU2hILElBQUlxSCxZQUFZeEYsU0FBUzhCLGVBQWU1RCxFQUFTaUIsVUFONURnRyxFQUFTaEgsSUFBSXNILFlBQWMsRUFXL0IsQ0F5REEsU0FBU0MsRUFBTXJCLEdBQ2IsTUFBTW5HLEVBQVc2RyxFQUFTVixHQUVwQmxHLEVBQU1rRyxFQUFTbEcsSUFFckIsR0FBd0IsSUFBcEJELEVBQVNvQixPQUlYLFlBSEluQixFQUFJa0IsV0FBV0MsU0FDakJuQixFQUFJc0gsWUFBYyxLQUt0QixNQUFNRSxFQUFpQnhILEVBQUlrQixXQUNyQnVHLEVBQW9CRCxFQUFlckcsT0FDbkN1RyxFQUFpQjNILEVBQVNvQixPQUNoQyxHQUEwQixJQUF0QnNHLEVBQXlCLENBQzNCLFFBQVN6RyxFQUFJLEVBQUdBLEVBQUkwRyxFQUFnQjFHLElBQzlCakIsRUFBU2lCLGFBQWNyQixJQUFVLEVBSXJDd0gsRUFBaUJwSCxFQUFTaUIsR0FBSWtGLEVBQVUsTUFIdENsRyxFQUFJcUgsWUFBWXhGLFNBQVM4QixlQUFlNUQsRUFBU2lCLEtBS3JELE1BQ0YsQ0FFQSxJQUFJMkcsR0FBbUIsRUFDdkIsUUFBUzNHLEVBQUksRUFBR0EsRUFBSTBHLEVBQWdCMUcsSUFDbEMsR0FBSWpCLEVBQVNpQixhQUFjckIsSUFBVSxLQUFXLFFBQVNJLEVBQVNpQixHQUFHbEIsT0FBUSxDQUMzRTZILEdBQW1CLEVBQ25CLEtBQ0YsQ0FFRixHQUFJQSxHQXhGTixTQUFvQnpCLEVBQXdCbkcsR0FDMUMsTUFBTTZILEVBQVUsSUFBSTNGLE1BQU1DLEtBQUtnRSxFQUFTbEcsSUFBSWtCLGFBQ3RDQSxFQUFhZ0YsRUFBU2xHLElBQUlrQixXQUMxQjJHLEVBQXVDLENBQUMsRUFFOUMsUUFBUzdHLEVBQUksRUFBR0MsRUFBSTJHLEVBQVF6RyxPQUFRSCxFQUFJQyxFQUFHRCxJQUFLLENBQzlDLE1BQU0rRSxFQUFXNkIsRUFBUTVHLEdBQUdTLE1BQ3ZCc0UsR0FBWSxRQUFTQSxFQUFTakcsT0FBVSxJQUc3QytILEVBQWE5QixFQUFTakcsTUFBTWdJLEtBQWlCOUcsRUFDL0MsQ0FFQSxRQUFTQSxFQUFJLEVBQUdDLEVBQUlsQixFQUFTb0IsT0FBUUgsRUFBSUMsRUFBR0QsSUFBSyxDQUMvQyxNQUFNZ0csRUFBV2pILEVBQVNpQixHQUNwQm9HLEVBQVdRLEVBQVFDLEVBQWFiLEVBQVNsSCxNQUFNZ0ksTUFFckQsSUFBS1YsRUFBVSxDQUNiRCxFQUFpQkgsRUFBVWQsRUFBVWhGLEVBQVdGLElBQ2hELFFBQ0YsQ0FFQWdHLEVBQVNoSCxJQUFNb0gsRUFDZixNQUFNVyxFQUFlN0csRUFBV0YsR0FPaEMsR0FOSytHLEVBRU1BLElBQWlCWCxHQUMxQmxCLEVBQVNsRyxJQUFJMEQsYUFBYTBELEVBQVVXLEdBRnBDN0IsRUFBU2xHLElBQUlxSCxZQUFZRCxHQU16QixXQUFZSixFQUFTbEgsT0FBVSxJQUM5QnNILEVBQVMzRixPQUNWMkYsRUFBU3RILE1BQU0sWUFBY2tILEVBQVNsSCxNQUFNLFVBQzVDLENBR0EsR0FGQTBHLEVBQWlCUSxFQUEwQkksRUFBUzNGLE1BQU0zQixPQUV0RCxXQUFZa0gsRUFBU2xILE1BQU8sQ0FFMUJzSCxFQUFTRSxhQUFlTixFQUFTbEgsTUFBTSxZQUN6Q3NILEVBQVNFLFlBQWNOLEVBQVNsSCxNQUFNLFdBRXhDLFFBQ0YsQ0FFQXlILEVBQU1QLEVBQ1IsQ0FDRixDQUVBLFFBQVNoRyxFQUFJakIsRUFBU29CLE9BQVFGLEVBQUlDLEVBQVdDLE9BQVFILEVBQUlDLEVBQUdELElBQzFERSxFQUFXQSxFQUFXQyxPQUFTLElBQUk2RyxRQUV2QyxDQXFDSUMsQ0FBVy9CLEVBQVVuRyxPQUR2QixDQUtBLFFBQVNpQixFQUFJLEVBQUdBLEVBQUkwRyxFQUFnQjFHLElBQUssQ0FDdkMsTUFBTWdHLEVBQVdqSCxFQUFTaUIsR0FDcEJrSCxFQUFTbEIsYUFBb0JySCxJQUFVLEVBQ3ZDeUgsRUFBV0ksRUFBZXhHLEdBRWhDLEdBQUtvRyxFQVVMLEdBQUljLEVBQUosQ0FDRSxHQUEwQixJQUF0QmQsRUFBU3hHLFNBQWdCLENBQzNCc0YsRUFBU2xHLElBQUkwRCxhQUFhN0IsU0FBUzhCLGVBQWVxRCxHQUFnQ0ksR0FDbEYsUUFDRixDQUdJQSxFQUFTdkcsV0FBY21HLElBQ3pCSSxFQUFTdkcsVUFBWW1HLEVBR3pCLEtBWEEsQ0FhQSxHQUFJLFdBQVlBLEVBQVNsSCxNQUFPLENBQzlCLEdBQUlzSCxFQUFTM0YsT0FBUzJGLEVBQVMzRixNQUFNM0IsTUFBTSxZQUFja0gsRUFBU2xILE1BQU0sVUFDdEUsU0FHRixNQUFNcUksRUFBZVgsRUFBZXhHLEVBQUksR0FDeEMsR0FBSW1ILEdBQWdCQSxFQUFhMUcsT0FBUzBHLEVBQWExRyxNQUFNM0IsTUFBTSxZQUFja0gsRUFBU2xILE1BQU0sVUFBVyxDQUN6R3NILEVBQVNZLFNBQ1QsUUFDRixDQUNGLENBRUloQixFQUFTbkgsTUFBUXVILEVBQVN0RyxTQUFTQyxlQUt2Q2lHLEVBQVNoSCxJQUFNb0gsRUFDZlosRUFBaUJRLEVBQVVJLEVBQVMzRixNQUFRMkYsRUFBUzNGLE1BQU0zQixNQUFRLE1BQy9ELFdBQVlrSCxFQUFTbEgsTUFFbkJrSCxFQUFTaEgsSUFBSXNILGFBQWVOLEVBQVNsSCxNQUFNLFlBQzdDa0gsRUFBU2hILElBQUlzSCxZQUFjTixFQUFTbEgsTUFBTSxXQUk5Q3lILEVBQU1QLElBYkpHLEVBQWlCSCxFQUFVZCxFQUFVa0IsRUFmdkMsS0FyQkEsQ0FDRSxHQUFJYyxFQUFRLENBQ1ZoQyxFQUFTbEcsSUFBSXFILFlBQVl4RixTQUFTOEIsZUFBZXFELElBQ2pELFFBQ0YsQ0FFQUcsRUFBaUJILEVBQTBCZCxFQUFVLEtBRXZELENBMENGLENBRUEsUUFBU2xGLEVBQUkwRyxFQUFnQnpHLEVBQUl1RyxFQUFlckcsT0FBUUgsRUFBSUMsRUFBR0QsSUFDN0R3RyxFQUFleEcsSUFBSWdILFFBNURyQixDQThERixDQUVPLFNBQVNJLEVBQVkzRyxHQUMxQjJCLEVBQVFQLEdBQ1JwQixFQUFNM0IsTUFBUTJCLEVBQU0zQixPQUFTLENBQUMsRUFDOUJ5SCxFQUFNOUYsR0FDTjJCLEVBQVFaLEVBQVlPLEVBQWNELEdBQ2xDTixHQUFZLEVBQ1pDLEVBQVFoQixNQUFRLEtBQ2hCZ0IsRUFBUXJDLFVBQVksSUFDdEIsQ0FFTyxTQUFTNkYsSUFDZCxPQUFJMUQsSUFDRkEsRUFBVXhDLFNBQVcsQ0FBQ3VDLEdBQ3RCOEYsRUFBWTdGLEdBQ1JqRCxHQUNLaUQsRUFBVXZDLElBQUkrQixVQUdsQixFQUNULENBR0EsSUFBTXNHLEVBQXdCL0ksRUFBVzJHLEVBQVMsSUFBTXFDLHNCQUFzQnJDLEcseURBRXZFLFNBQXlCc0MsRUFBVSxJQUNwQzlGLEVBQVFDLE9BQ1ZELEVBQVFDLE1BQU04RixpQkFFaEJDLGFBQWE3QyxHQUNiQSxFQUF5QjhDLFdBQVdMLEVBQXVCRSxFQUM3RCxFLFVBL1hPLFNBQW1CdEUsRUFBYzBFLEdBQ3RDLE1BQU1DLEVBQWdCLEtBQUszRSxJQUMzQlYsRUFBV3FGLEdBQWlCRCxFQUM1QmhHLEVBQWNRLElBQUl5RixFQUNwQixFLCtHQW1aTyxTQUFlNUksRUFBMEJJLEdBQzlDLE1BQU15SSxFQUNXLGlCQUFSN0ksRUFBb0JWLEVBQVd3QyxFQUFjOUIsRUFBYSxRQUFSQSxHQUFpQjZCLFNBQVNpSCxjQUFjOUksR0FBUUEsRUFXM0csT0FSRXNDLEVBREVqQyxFQUFZRCxHQUNFSyxFQUFFTCxFQUFXLENBQUMsRUFBRyxJQUN4QkksRUFBaUJKLEdBQ1ZBLEVBRUFLLEVBQUUsSUFBTUwsRUFBVyxDQUFDLEVBQUcsSUFHekNtQyxFQUFZNUIsRUFBa0JrSSxHQUN2QjVDLEdBQ1QsRSxvQkF4cEJ3Qi9DLElBQXdCVixHQUFhTSxFQUFXSyxJQUFJRCxHLFVBR2xEQSxJQUF3QlYsR0FBYVEsRUFBYUcsSUFBSUQsRyxTQUZ2REEsR0FBdUJILEVBQVlJLElBQUlELEcsNkJBMlN6RCxTQUFzQmUsRUFBY1QsRUFBWTBDLEdBQ2hEdkQsRUFBYzBELElBQUlwQyxLQUNyQmlDLEVBQVNwRyxNQUFNbUUsR0FBUVQsRUFDdkJtQixFQUFtQlYsRUFBTVQsRUFBTzBDLEdBRXBDLEUsb0JBeERPLFNBQTZCakMsR0FDbEN0QixFQUFjUSxJQUFJYyxFQUNwQixFLGdCQXlYTyxXQUNMLEdBQUkxQixFQUFXLENBQ2JELEVBQWdCN0IsRUFBRSxJQUFNLEtBQU0sQ0FBQyxHQUMvQixNQUFNc0ksRUFBUzlDLElBQ2Y3QyxFQUFRSixHQUNSLFVBQVdpQixLQUFRNEIsRUFDakJ0RCxFQUFVdkMsSUFBSWdKLG9CQUFvQi9FLEVBQUtzQyxNQUFNLEdBQUd4RixjQUFlK0UsR0FDL0RtRCxRQUFRQyxlQUFlckQsRUFBb0I1QixHQVM3QyxPQU5BM0IsRUFBZ0IsS0FDaEJDLEVBQVksS0FDWkMsR0FBWSxFQUNaQyxFQUFRaEIsTUFBUSxLQUNoQmdCLEVBQVFyQyxVQUFZLEtBQ3BCcUMsRUFBUUMsTUFBUSxLQUNUcUcsQ0FDVCxDQUVBLE1BQU8sRUFDVCxFIn0=