//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc05vZGVKcyIsIkJvb2xlYW4iLCJwcm9jZXNzIiwidmVyc2lvbnMiLCJub2RlIiwiVm5vZGUiLCJjb25zdHJ1Y3RvciIsInRhZyIsInByb3BzIiwiY2hpbGRyZW4iLCJkb20iLCJpc1NWRyIsInRoaXMiLCJpc1BPSk9Db21wb25lbnQiLCJjb21wb25lbnQiLCJpc0NvbXBvbmVudCIsImlzVm5vZGUiLCJvYmplY3QiLCJpc1Zub2RlQ29tcG9uZW50IiwidiIsInRhZ09yQ29tcG9uZW50IiwiaGlkcmF0ZURvbVRvVm5vZGUiLCJub2RlVHlwZSIsIm5vZGVWYWx1ZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJpIiwibCIsImNoaWxkTm9kZXMiLCJsZW5ndGgiLCJjaGlsZERvbSIsInB1c2giLCJjaGlsZFZub2RlIiwiYXR0cmlidXRlcyIsImF0dHIiLCJ2bm9kZSIsInRydXN0IiwiaHRtbFN0cmluZyIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRyaW0iLCJBcnJheSIsImZyb20iLCJtYXAiLCJmcmFnbWVudCIsIl8iLCJtYWluQ29tcG9uZW50IiwibWFpblZub2RlIiwiaXNNb3VudGVkIiwiY3VycmVudCIsImV2ZW50IiwicmVzZXJ2ZWRQcm9wcyIsIlNldCIsIm9uQ2xlYW51cFNldCIsIm9uTW91bnRTZXQiLCJvblVwZGF0ZVNldCIsIm9uVW5tb3VudFNldCIsIm9uQ2xlYW51cCIsImNhbGxiYWNrIiwiYWRkIiwiY2FsbFNldCIsInNldCIsImNsZWFyIiwiZGlyZWN0aXZlcyIsInZhbHVlIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiYm9vbCIsInN0eWxlIiwiZGlzcGxheSIsIm1vZGVsIiwicHJvcGVydHkiLCJuYW1lIiwiaGFuZGxlciIsImUiLCJ0YXJnZXQiLCJ0eXBlIiwiaXNBcnJheSIsInZhbCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJzaGFyZWRTZXRBdHRyaWJ1dGUiLCJtdWx0aXBsZSIsImN0cmxLZXkiLCJmb3JFYWNoIiwiY2hpbGQiLCJqb2luIiwic2VsZWN0ZWQiLCJwcmV2SGFuZGxlciIsIm9sZFByb3BzIiwiY2xlYW51cCIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInNldEF0dHJpYnV0ZSIsImNsYXNzIiwiaWQiLCJkb21TdHlsZSIsImRlYm91bmNlZFVwZGF0ZVRpbWVvdXQiLCJldmVudExpc3RlbmVyTmFtZXMiLCJldmVudExpc3RlbmVyIiwiZGVmYXVsdFByZXZlbnRlZCIsInVwZGF0ZSIsIm5ld1Zub2RlIiwibmV3Vm5vZGVEb20iLCJyZW1vdmVBdHRyaWJ1dGUiLCJoYXMiLCJhZGRFdmVudExpc3RlbmVyIiwic2xpY2UiLCJ1cGRhdGVBdHRyaWJ1dGVzIiwidm5vZGVEb20iLCJ2bm9kZVByb3BzIiwiY3JlYXRlRWxlbWVudE5TIiwiZmxhdFRyZWUiLCJuZXdDaGlsZCIsIm9yaWdpbmFsQ2hpbGRyZW4iLCJ2aWV3IiwiYmluZCIsImNyZWF0ZU5ld0VsZW1lbnQiLCJvbGRDaGlsZCIsImFwcGVuZENoaWxkIiwidGV4dENvbnRlbnQiLCJwYXRjaCIsIm9sZERvbUNoaWxkcmVuIiwib2xkQ2hpbGRyZW5MZW5ndGgiLCJmaXJzdE9sZFByb3BzIiwiZmlyc3RWbm9kZSIsIm9sZFRyZWUiLCJvbGRLZXllZExpc3QiLCJuZXdLZXllZExpc3QiLCJrZXkiLCJjdXJyZW50Q2hpbGQiLCJyZW1vdmUiLCJwYXRjaEtleWVkIiwiY2hpbGRyZW5MZW5ndGgiLCJpc1RleHQiLCJuZXh0T2xkQ2hpbGQiLCJ1cGRhdGVWbm9kZSIsImNsZWFyRGVib3VuY2VkVXBkYXRlTWV0aG9kIiwiY2xlYXJUaW1lb3V0IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJzZXREZWJvdW5jZWRVcGRhdGVNZXRob2QiLCJzZXRUaW1lb3V0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZGlyZWN0aXZlIiwiZGlyZWN0aXZlTmFtZSIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJyZXN1bHQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUmVmbGVjdCIsImRlbGV0ZVByb3BlcnR5Il0sInNvdXJjZXMiOlsiLi4vbGliL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG5kZWNsYXJlIGdsb2JhbCB7XG4gIHZhciBkb2N1bWVudDogRG9jdW1lbnQ7XG4gIG5hbWVzcGFjZSBKU1gge1xuICAgIGludGVyZmFjZSBJbnRyaW5zaWNFbGVtZW50cyBleHRlbmRzIERlZmF1bHRSZWNvcmQge31cbiAgICB0eXBlIEVsZW1lbnQgPSBSZXR1cm5UeXBlPFxuICAgICAgdHlwZW9mIHYgfCAoKC4uLmFyZ3M6IGFueSkgPT4gc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZCB8IGJvb2xlYW4gfCBQcm9taXNlPGFueT4pXG4gICAgPjtcbiAgICB0eXBlIENvbXBvbmVudFJldHVyblR5cGUgPSBzdHJpbmcgfCBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkIHwgYm9vbGVhbiB8IEVsZW1lbnQgfCBFbGVtZW50W107XG4gIH1cbn1cblxuaW50ZXJmYWNlIERlZmF1bHRSZWNvcmQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nIHwgbnVtYmVyIHwgc3ltYm9sLCBhbnk+IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcGVydGllcyBleHRlbmRzIERlZmF1bHRSZWNvcmQge1xuICBrZXk/OiBzdHJpbmcgfCBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9tRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIERlZmF1bHRSZWNvcmQge31cblxuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnQgZXh0ZW5kcyBEZWZhdWx0UmVjb3JkIHtcbiAgKHByb3BzOiBQcm9wZXJ0aWVzLCBjaGlsZHJlbjogYW55W10pOiBWbm9kZSB8IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQT0pPQ29tcG9uZW50IGV4dGVuZHMgRGVmYXVsdFJlY29yZCB7XG4gIHZpZXc6IENvbXBvbmVudDtcbn1cblxuZXhwb3J0IHR5cGUgVmFseXJpYW5Db21wb25lbnQgPSBDb21wb25lbnQgfCBQT0pPQ29tcG9uZW50O1xuXG5leHBvcnQgaW50ZXJmYWNlIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlIGV4dGVuZHMgVm5vZGUge1xuICB0YWc6IFZhbHlyaWFuQ29tcG9uZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoaWxkcmVuIGV4dGVuZHMgQXJyYXk8Vm5vZGUgfCBWbm9kZUNvbXBvbmVudEludGVyZmFjZSB8IFZhbHlyaWFuQ29tcG9uZW50IHwgYW55PiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdGl2ZSB7XG4gICh2YWx1ZTogYW55LCB2bm9kZTogVm5vZGVXaXRoRG9tLCBvbGRQcm9wczogUHJvcGVydGllcyB8IG51bGwpOiBmYWxzZSB8IHZvaWQgfCBhbnk7XG59XG5cbmV4cG9ydCBjb25zdCBpc05vZGVKcyA9IEJvb2xlYW4odHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUpO1xuXG5leHBvcnQgY2xhc3MgVm5vZGUge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgdGFnOiBzdHJpbmcgfCBDb21wb25lbnQgfCBQT0pPQ29tcG9uZW50LFxuICAgIHB1YmxpYyBwcm9wczogbnVsbCB8IFByb3BlcnRpZXMsXG4gICAgcHVibGljIGNoaWxkcmVuOiBDaGlsZHJlbixcbiAgICBwdWJsaWMgZG9tPzogRG9tRWxlbWVudCxcbiAgICBwdWJsaWMgaXNTVkc/OiBib29sZWFuXG4gICkge31cbn1cblxuZXhwb3J0IGludGVyZmFjZSBWbm9kZVdpdGhEb20gZXh0ZW5kcyBWbm9kZSB7XG4gIHRhZzogc3RyaW5nO1xuICBkb206IERvbUVsZW1lbnQ7XG4gIHByb3BzOiBQcm9wZXJ0aWVzO1xufVxuXG5leHBvcnQgY29uc3QgaXNQT0pPQ29tcG9uZW50ID0gKGNvbXBvbmVudDogdW5rbm93bik6IGNvbXBvbmVudCBpcyBQT0pPQ29tcG9uZW50ID0+XG4gIEJvb2xlYW4oY29tcG9uZW50ICYmIHR5cGVvZiBjb21wb25lbnQgPT09IFwib2JqZWN0XCIgJiYgXCJ2aWV3XCIgaW4gY29tcG9uZW50KTtcblxuZXhwb3J0IGNvbnN0IGlzQ29tcG9uZW50ID0gKGNvbXBvbmVudDogdW5rbm93bik6IGNvbXBvbmVudCBpcyBDb21wb25lbnQgPT5cbiAgQm9vbGVhbih0eXBlb2YgY29tcG9uZW50ID09PSBcImZ1bmN0aW9uXCIgfHwgaXNQT0pPQ29tcG9uZW50KGNvbXBvbmVudCkpO1xuZXhwb3J0IGNvbnN0IGlzVm5vZGUgPSAob2JqZWN0PzogdW5rbm93bik6IG9iamVjdCBpcyBWbm9kZSA9PiBvYmplY3QgaW5zdGFuY2VvZiBWbm9kZTtcblxuZXhwb3J0IGNvbnN0IGlzVm5vZGVDb21wb25lbnQgPSAob2JqZWN0PzogdW5rbm93bik6IG9iamVjdCBpcyBWbm9kZUNvbXBvbmVudEludGVyZmFjZSA9PiB7XG4gIHJldHVybiBpc1Zub2RlKG9iamVjdCkgJiYgaXNDb21wb25lbnQob2JqZWN0LnRhZyk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdih0YWdPckNvbXBvbmVudDogc3RyaW5nIHwgVmFseXJpYW5Db21wb25lbnQsIHByb3BzOiBQcm9wZXJ0aWVzIHwgbnVsbCwgLi4uY2hpbGRyZW46IENoaWxkcmVuKSB7XG4gIHJldHVybiBuZXcgVm5vZGUodGFnT3JDb21wb25lbnQsIHByb3BzLCBjaGlsZHJlbik7XG59XG5cbnYuZnJhZ21lbnQgPSAoXzogUHJvcGVydGllcywgLi4uY2hpbGRyZW46IENoaWxkcmVuKSA9PiBjaGlsZHJlbjtcblxuZXhwb3J0IGZ1bmN0aW9uIGhpZHJhdGVEb21Ub1Zub2RlKGRvbTogYW55KTogVm5vZGVXaXRoRG9tIHwgdm9pZCB7XG4gIGlmIChkb20ubm9kZVR5cGUgPT09IDMpIHtcbiAgICByZXR1cm4gZG9tLm5vZGVWYWx1ZTtcbiAgfVxuXG4gIGlmIChkb20ubm9kZVR5cGUgPT09IDEpIHtcbiAgICBjb25zdCB0YWcgPSBkb20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBwcm9wcyA9IHt9IGFzIFByb3BlcnRpZXM7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBbXSBhcyBDaGlsZHJlbjtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gZG9tLmNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZERvbSA9IGRvbS5jaGlsZE5vZGVzW2ldO1xuICAgICAgaWYgKGNoaWxkRG9tLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGREb20ubm9kZVZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGREb20ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgY29uc3QgY2hpbGRWbm9kZSA9IGhpZHJhdGVEb21Ub1Zub2RlKGNoaWxkRG9tKTtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZFZub2RlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gZG9tLmF0dHJpYnV0ZXM7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3QgYXR0ciA9IGF0dHJpYnV0ZXNbaV07XG4gICAgICBwcm9wc1thdHRyLm5vZGVOYW1lXSA9IGF0dHIubm9kZVZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0IHZub2RlID0gbmV3IFZub2RlKHRhZywgcHJvcHMsIGNoaWxkcmVuKTtcbiAgICB2bm9kZS5kb20gPSBkb207XG4gICAgdm5vZGUuaXNTVkcgPSB0YWcgPT09IFwic3ZnXCI7XG4gICAgcmV0dXJuIHZub2RlIGFzIFZub2RlV2l0aERvbTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJ1c3QoaHRtbFN0cmluZzogc3RyaW5nKSB7XG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGRpdi5pbm5lckhUTUwgPSBodG1sU3RyaW5nLnRyaW0oKTtcbiAgcmV0dXJuIEFycmF5LmZyb20oZGl2LmNoaWxkTm9kZXMpLm1hcChoaWRyYXRlRG9tVG9Wbm9kZSk7XG59XG5cbmxldCBtYWluQ29tcG9uZW50OiBWbm9kZUNvbXBvbmVudEludGVyZmFjZSB8IG51bGwgPSBudWxsO1xubGV0IG1haW5Wbm9kZTogVm5vZGVXaXRoRG9tIHwgbnVsbCA9IG51bGw7XG5sZXQgaXNNb3VudGVkID0gZmFsc2U7XG5cbmV4cG9ydCBjb25zdCBjdXJyZW50ID0ge1xuICB2bm9kZTogbnVsbCBhcyBWbm9kZSB8IG51bGwsXG4gIGNvbXBvbmVudDogbnVsbCBhcyBWYWx5cmlhbkNvbXBvbmVudCB8IG51bGwsXG4gIGV2ZW50OiBudWxsIGFzIEV2ZW50IHwgbnVsbFxufTtcblxuZXhwb3J0IGNvbnN0IHJlc2VydmVkUHJvcHMgPSBuZXcgU2V0PHN0cmluZz4oW1xuICBcImtleVwiLFxuICBcInN0YXRlXCIsXG4gIFwidi1rZWVwXCIsXG4gIFwidi10ZXh0XCIsXG4gIFwidi1pZlwiLFxuICBcInYtZm9yXCIsXG4gIFwidi1zaG93XCIsXG4gIFwidi1jbGFzc1wiLFxuICBcInYtaHRtbFwiLFxuICBcInYtbW9kZWxcIixcbiAgXCJ2LWNyZWF0ZVwiLFxuICBcInYtdXBkYXRlXCIsXG4gIFwidi1jbGVhbnVwXCJcbl0pO1xuXG5jb25zdCBvbkNsZWFudXBTZXQgPSBuZXcgU2V0PEZ1bmN0aW9uPigpO1xuY29uc3Qgb25Nb3VudFNldCA9IG5ldyBTZXQ8RnVuY3Rpb24+KCk7XG5jb25zdCBvblVwZGF0ZVNldCA9IG5ldyBTZXQ8RnVuY3Rpb24+KCk7XG5jb25zdCBvblVubW91bnRTZXQgPSBuZXcgU2V0PEZ1bmN0aW9uPigpO1xuZXhwb3J0IGNvbnN0IG9uTW91bnQgPSAoY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiAhaXNNb3VudGVkICYmIG9uTW91bnRTZXQuYWRkKGNhbGxiYWNrKTtcbmV4cG9ydCBjb25zdCBvblVwZGF0ZSA9IChjYWxsYmFjazogRnVuY3Rpb24pID0+IG9uVXBkYXRlU2V0LmFkZChjYWxsYmFjayk7XG5leHBvcnQgY29uc3Qgb25DbGVhbnVwID0gKGNhbGxiYWNrOiBGdW5jdGlvbikgPT4gb25DbGVhbnVwU2V0LmFkZChjYWxsYmFjayk7XG5leHBvcnQgY29uc3Qgb25Vbm1vdW50ID0gKGNhbGxiYWNrOiBGdW5jdGlvbikgPT4gIWlzTW91bnRlZCAmJiBvblVubW91bnRTZXQuYWRkKGNhbGxiYWNrKTtcbmNvbnN0IGNhbGxTZXQgPSAoc2V0OiBTZXQ8RnVuY3Rpb24+KSA9PiB7XG4gIGZvciAoY29uc3QgY2FsbGJhY2sgb2Ygc2V0KSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxuICBzZXQuY2xlYXIoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkaXJlY3RpdmVzOiBSZWNvcmQ8c3RyaW5nLCBEaXJlY3RpdmU+ID0ge1xuICBcInYtaWZcIjogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIGlmICghQm9vbGVhbih2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IHBhcmVudE5vZGUgPSB2bm9kZS5kb20/LnBhcmVudE5vZGU7XG4gICAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgICBwYXJlbnROb2RlLnJlcGxhY2VDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSwgdm5vZGUuZG9tKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICBcInYtc2hvd1wiOiAodmFsdWUsIHZub2RlKSA9PiB7XG4gICAgY29uc3QgYm9vbCA9IEJvb2xlYW4odmFsdWUpO1xuICAgIChcbiAgICAgIHZub2RlLmRvbSBhcyB1bmtub3duIGFzIHtcbiAgICAgICAgc3R5bGU6IHsgZGlzcGxheTogc3RyaW5nIH07XG4gICAgICB9XG4gICAgKS5zdHlsZS5kaXNwbGF5ID0gYm9vbCA/IFwiXCIgOiBcIm5vbmVcIjtcbiAgfSxcblxuICBcInYtaHRtbFwiOiAodmFsdWUsIHZub2RlKSA9PiB7XG4gICAgdm5vZGUuY2hpbGRyZW4gPSB0cnVzdCh2YWx1ZSBhcyBzdHJpbmcpO1xuICB9LFxuXG4gIC8vIFRoZSBcInYtbW9kZWxcIiBkaXJlY3RpdmUgYmluZHMgdGhlIHZhbHVlIG9mIGFuIGlucHV0IGVsZW1lbnQgdG8gYSBtb2RlbCBwcm9wZXJ0eVxuICBcInYtbW9kZWxcIjogKG1vZGVsLCB2bm9kZSkgPT4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcbiAgICBpZiAoXCJuYW1lXCIgaW4gdm5vZGUucHJvcHMgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHZhbHVlO1xuICAgIGNvbnN0IHByb3BlcnR5ID0gdm5vZGUucHJvcHMubmFtZTtcbiAgICBsZXQgZXZlbnQgPSBcIm9uaW5wdXRcIjtcblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gdXBkYXRlcyB0aGUgbW9kZWwgcHJvcGVydHkgd2hlbiB0aGUgaW5wdXQgZWxlbWVudCdzIHZhbHVlIGNoYW5nZXNcbiAgICBsZXQgaGFuZGxlciA9IChlOiBFdmVudCkgPT4gKG1vZGVsW3Byb3BlcnR5XSA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWUpO1xuICAgIGlmICh2bm9kZS50YWcgPT09IFwiaW5wdXRcIikge1xuICAgICAgLy8gRGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIGlucHV0IGVsZW1lbnQsIHVzZSBhIGRpZmZlcmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICBzd2l0Y2ggKHZub2RlLnByb3BzLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6IHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtb2RlbFtwcm9wZXJ0eV0pKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgbW9kZWwgcHJvcGVydHkgaXMgYW4gYXJyYXksIGFkZCBvciByZW1vdmUgdGhlIHZhbHVlIGZyb20gdGhlIGFycmF5IHdoZW4gdGhlIGNoZWNrYm94IGlzIGNoZWNrZWQgb3IgdW5jaGVja2VkXG4gICAgICAgICAgICBoYW5kbGVyID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbCA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWU7XG4gICAgICAgICAgICAgIGNvbnN0IGlkeCA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZhbCk7XG4gICAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBJZiB0aGUgdmFsdWUgaXMgaW4gdGhlIGFycmF5LCBzZXQgdGhlIGNoZWNrYm94IHRvIGJlIGNoZWNrZWRcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2Yodm5vZGUuZG9tLnZhbHVlKSAhPT0gLTE7XG4gICAgICAgICAgfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gdm5vZGUucHJvcHMpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbnB1dCBlbGVtZW50IGhhcyBhIFwidmFsdWVcIiBhdHRyaWJ1dGUsIHVzZSBpdCB0byBkZXRlcm1pbmUgdGhlIGNoZWNrZWQgc3RhdGVcbiAgICAgICAgICAgIGhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChtb2RlbFtwcm9wZXJ0eV0gPT09IHZub2RlLnByb3BzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldID0gbnVsbDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0gPSB2bm9kZS5wcm9wcy52YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldID09PSB2bm9kZS5wcm9wcy52YWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gXCJ2YWx1ZVwiIGF0dHJpYnV0ZSwgdXNlIGEgYm9vbGVhbiB2YWx1ZSBmb3IgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgICAgICBoYW5kbGVyID0gKCkgPT4gKG1vZGVsW3Byb3BlcnR5XSA9ICFtb2RlbFtwcm9wZXJ0eV0pO1xuICAgICAgICAgICAgdmFsdWUgPSBtb2RlbFtwcm9wZXJ0eV07XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFNldCB0aGUgXCJjaGVja2VkXCIgYXR0cmlidXRlIG9uIHRoZSBpbnB1dCBlbGVtZW50XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLCB2YWx1ZSwgdm5vZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJyYWRpb1wiOiB7XG4gICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgYSByYWRpbyBidXR0b24sIHNldCB0aGUgXCJjaGVja2VkXCIgYXR0cmlidXRlIGJhc2VkIG9uIHRoZSB2YWx1ZSBvZiB0aGUgbW9kZWwgcHJvcGVydHlcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICBzaGFyZWRTZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsIG1vZGVsW3Byb3BlcnR5XSA9PT0gdm5vZGUuZG9tLnZhbHVlLCB2bm9kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIC8vIEZvciBhbGwgb3RoZXIgaW5wdXQgdHlwZXMsIHNldCB0aGUgXCJ2YWx1ZVwiIGF0dHJpYnV0ZSBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKFwidmFsdWVcIiwgbW9kZWxbcHJvcGVydHldLCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZub2RlLnRhZyA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgYSBzZWxlY3QgZWxlbWVudCwgdXNlIHRoZSBcImNsaWNrXCIgZXZlbnQgYnkgZGVmYXVsdFxuICAgICAgZXZlbnQgPSBcIm9uY2xpY2tcIjtcbiAgICAgIGlmICh2bm9kZS5wcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICAvLyBJZiB0aGUgc2VsZWN0IGVsZW1lbnQgYWxsb3dzIG11bHRpcGxlIHNlbGVjdGlvbnMsIHVwZGF0ZSB0aGUgbW9kZWwgcHJvcGVydHkgd2l0aCBhbiBhcnJheSBvZiBzZWxlY3RlZCB2YWx1ZXNcbiAgICAgICAgaGFuZGxlciA9IChlOiBFdmVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pID0+IHtcbiAgICAgICAgICBjb25zdCB2YWwgPSAoZS50YXJnZXQgYXMgRG9tRWxlbWVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pLnZhbHVlO1xuICAgICAgICAgIGlmIChlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBDdHJsIGtleSBpcyBwcmVzc2VkLCBhZGQgb3IgcmVtb3ZlIHRoZSB2YWx1ZSBmcm9tIHRoZSBhcnJheVxuICAgICAgICAgICAgY29uc3QgaWR4ID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsKTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBDdHJsIGtleSBpcyBub3QgcHJlc3NlZCwgc2V0IHRoZSBtb2RlbCBwcm9wZXJ0eSB0byBhbiBhcnJheSB3aXRoIHRoZSBzZWxlY3RlZCB2YWx1ZVxuICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnNwbGljZSgwLCBtb2RlbFtwcm9wZXJ0eV0ubGVuZ3RoKTtcbiAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBTZXQgdGhlIFwic2VsZWN0ZWRcIiBhdHRyaWJ1dGUgb24gdGhlIG9wdGlvbnMgYmFzZWQgb24gd2hldGhlciB0aGV5IGFyZSBpbiB0aGUgbW9kZWwgcHJvcGVydHkgYXJyYXlcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgICAgICAgIGlmIChjaGlsZC50YWcgPT09IFwib3B0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gXCJ2YWx1ZVwiIGluIGNoaWxkLnByb3BzID8gY2hpbGQucHJvcHMudmFsdWUgOiBjaGlsZC5jaGlsZHJlbi5qb2luKFwiXCIpLnRyaW0oKTtcbiAgICAgICAgICAgIGNoaWxkLnByb3BzLnNlbGVjdGVkID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsdWUpICE9PSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhlIHNlbGVjdCBlbGVtZW50IGRvZXMgbm90IGFsbG93IG11bHRpcGxlIHNlbGVjdGlvbnMsIHNldCB0aGUgXCJzZWxlY3RlZFwiIGF0dHJpYnV0ZSBvbiB0aGUgb3B0aW9ucyBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudGFnID09PSBcIm9wdGlvblwiKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IFwidmFsdWVcIiBpbiBjaGlsZC5wcm9wcyA/IGNoaWxkLnByb3BzLnZhbHVlIDogY2hpbGQuY2hpbGRyZW4uam9pbihcIlwiKS50cmltKCk7XG4gICAgICAgICAgICBjaGlsZC5wcm9wcy5zZWxlY3RlZCA9IHZhbHVlID09PSBtb2RlbFtwcm9wZXJ0eV07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZub2RlLnRhZyA9PT0gXCJ0ZXh0YXJlYVwiKSB7XG4gICAgICAvLyBTZXQgdGhlIHRleHRhcmVhJ3MgY29udGVudCB0byB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICB2bm9kZS5jaGlsZHJlbiA9IFttb2RlbFtwcm9wZXJ0eV1dO1xuICAgIH1cblxuICAgIC8vIFdlIGFzc3VtZSB0aGF0IHRoZSBwcmV2IGhhbmRsZXIgaWYgYW55IHdpbGwgbm90IGJlIGNoYW5nZWQgYnkgdGhlIHVzZXIgYWNyb3NzIHBhdGNoc1xuICAgIGNvbnN0IHByZXZIYW5kbGVyID0gdm5vZGUucHJvcHNbZXZlbnRdO1xuXG4gICAgLy8gU2V0IHRoZSBldmVudCBoYW5kbGVyIG9uIHRoZSBlbGVtZW50XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgc2hhcmVkU2V0QXR0cmlidXRlKFxuICAgICAgZXZlbnQsXG4gICAgICAoZTogRXZlbnQpID0+IHtcbiAgICAgICAgaGFuZGxlcihlKTtcblxuICAgICAgICAvLyBJZiB0aGUgcHJldmlvdXMgaGFuZGxlciBpcyBkZWZpbmVkLCBjYWxsIGl0IGFmdGVyIHRoZSBtb2RlbCBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICAgIGlmIChwcmV2SGFuZGxlcikge1xuICAgICAgICAgIHByZXZIYW5kbGVyKGUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdm5vZGVcbiAgICApO1xuICB9LFxuXG4gIFwidi1jcmVhdGVcIjogKGNhbGxiYWNrLCB2bm9kZSwgb2xkUHJvcHMpID0+IHtcbiAgICBpZiAoIW9sZFByb3BzKSB7XG4gICAgICBjb25zdCBjbGVhbnVwID0gY2FsbGJhY2sodm5vZGUpO1xuXG4gICAgICBpZiAodHlwZW9mIGNsZWFudXAgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBvbkNsZWFudXAoY2xlYW51cCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIFwidi11cGRhdGVcIjogKGNhbGxiYWNrLCB2bm9kZSwgb2xkUHJvcHMpID0+IHtcbiAgICBpZiAob2xkUHJvcHMpIHtcbiAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsYmFjayh2bm9kZSwgb2xkUHJvcHMpO1xuXG4gICAgICBpZiAodHlwZW9mIGNsZWFudXAgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBvbkNsZWFudXAoY2xlYW51cCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIFwidi1jbGVhbnVwXCI6IChjYWxsYmFjaywgdm5vZGUpID0+IHtcbiAgICBvbkNsZWFudXAoKCkgPT4gY2FsbGJhY2sodm5vZGUpKTtcbiAgfSxcblxuICBcInYtY2xhc3NcIjogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHZub2RlLmRvbS5jbGFzc05hbWUgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2bm9kZS5kb20uY2xhc3NOYW1lID0gdmFsdWUuam9pbihcIiBcIik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IHZub2RlLmRvbS5jbGFzc0xpc3Q7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWUpIHtcbiAgICAgICAgY29uc3QgdmFsID0gdHlwZW9mIHZhbHVlW25hbWVdID09PSBcImZ1bmN0aW9uXCIgPyAodmFsdWVbbmFtZV0gYXMgRnVuY3Rpb24pKCkgOiB2YWx1ZVtuYW1lXTtcbiAgICAgICAgY2xhc3NMaXN0LnRvZ2dsZShuYW1lLCB2YWwpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvLyBGcmVxdWVudCB1c2VkIHByb3BlcnRpZXNcbiAgY2xhc3ModmFsdWUsIHZub2RlKSB7XG4gICAgaWYgKHZub2RlLmRvbS5jbGFzc05hbWUgIT09IHZhbHVlKSB7XG4gICAgICBpZiAodm5vZGUuaXNTVkcpIHtcbiAgICAgICAgdm5vZGUuZG9tLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdm5vZGUuZG9tLmNsYXNzTmFtZSA9IHZhbHVlO1xuICAgIH1cbiAgfSxcblxuICBjbGFzc05hbWUodmFsdWUsIHZub2RlKSB7XG4gICAgZGlyZWN0aXZlcy5jbGFzcyh2YWx1ZSwgdm5vZGUsIG51bGwpO1xuICB9LFxuXG4gIGlkOiAodmFsdWUsIHZub2RlKSA9PiB7XG4gICAgaWYgKHZub2RlLmRvbS5pZCAhPT0gdmFsdWUpIHtcbiAgICAgIGlmICh2bm9kZS5pc1NWRykge1xuICAgICAgICB2bm9kZS5kb20uc2V0QXR0cmlidXRlKFwiaWRcIiwgdmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2bm9kZS5kb20uaWQgPSB2YWx1ZTtcbiAgICB9XG4gIH0sXG5cbiAgc3R5bGU6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAodm5vZGUuaXNTVkcpIHtcbiAgICAgICAgdm5vZGUuZG9tLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdm5vZGUuZG9tLnN0eWxlID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGlmICh2bm9kZS5pc1NWRykge1xuICAgICAgICB2bm9kZS5kb20uc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bm9kZS5kb20uc3R5bGUgPSBcIlwiO1xuICAgICAgfVxuICAgICAgY29uc3QgZG9tU3R5bGUgPSB2bm9kZS5kb20uc3R5bGU7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWUpIHtcbiAgICAgICAgZG9tU3R5bGVbbmFtZV0gPSB2YWx1ZVtuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXJlY3RpdmUobmFtZTogc3RyaW5nLCBkaXJlY3RpdmU6IERpcmVjdGl2ZSkge1xuICBjb25zdCBkaXJlY3RpdmVOYW1lID0gYHYtJHtuYW1lfWA7XG4gIGRpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV0gPSBkaXJlY3RpdmU7XG4gIHJlc2VydmVkUHJvcHMuYWRkKGRpcmVjdGl2ZU5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0UHJvcE5hbWVSZXNlcnZlZChuYW1lOiBzdHJpbmcpIHtcbiAgcmVzZXJ2ZWRQcm9wcy5hZGQobmFtZSk7XG59XG5cbmNvbnN0IGV2ZW50TGlzdGVuZXJOYW1lcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG5mdW5jdGlvbiBldmVudExpc3RlbmVyKGU6IEV2ZW50KSB7XG4gIGN1cnJlbnQuZXZlbnQgPSBlO1xuICBsZXQgZG9tID0gZS50YXJnZXQgYXMgRG9tRWxlbWVudDtcbiAgY29uc3QgbmFtZSA9IGBvbiR7ZS50eXBlfWA7XG5cbiAgd2hpbGUgKGRvbSkge1xuICAgIGNvbnN0IG9sZFByb3BzID0gZG9tLnByb3BzO1xuICAgIGlmIChvbGRQcm9wcyAmJiBvbGRQcm9wc1tuYW1lXSkge1xuICAgICAgb2xkUHJvcHNbbmFtZV0oZSwgZG9tKTtcblxuICAgICAgaWYgKCFlLmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgIHVwZGF0ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkb20gPSBkb20ucGFyZW50Tm9kZSBhcyBEb21FbGVtZW50O1xuICB9XG5cbiAgY3VycmVudC5ldmVudCA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIHNoYXJlZFNldEF0dHJpYnV0ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnksIG5ld1Zub2RlOiBWbm9kZVdpdGhEb20pOiB2b2lkIHwgYm9vbGVhbiB7XG4gIGNvbnN0IG5ld1Zub2RlRG9tID0gbmV3Vm5vZGUuZG9tO1xuICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBpZiAoIWV2ZW50TGlzdGVuZXJOYW1lcy5oYXMobmFtZSkpIHtcbiAgICAgIC8vIFdlIGF0dGFjaCB0aGUgZGVsZWdhdGVkIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBtYWluIHZub2RlIGRvbSBlbGVtZW50LCB3aGljaCBpcyB0aGUgcm9vdCBvZiB0aGUgY29tcG9uZW50XG4gICAgICAobWFpblZub2RlIGFzIFZub2RlV2l0aERvbSkuZG9tLmFkZEV2ZW50TGlzdGVuZXIobmFtZS5zbGljZSgyKSwgZXZlbnRMaXN0ZW5lcik7XG4gICAgICBldmVudExpc3RlbmVyTmFtZXMuYWRkKG5hbWUpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIW5ld1Zub2RlLmlzU1ZHICYmIG5hbWUgaW4gbmV3Vm5vZGVEb20pIHtcbiAgICBuZXdWbm9kZURvbVtuYW1lXSA9IHZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICBuZXdWbm9kZURvbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgbmV3Vm5vZGVEb20uc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSwgbmV3Vm5vZGU6IFZub2RlV2l0aERvbSk6IHZvaWQge1xuICBpZiAoIXJlc2VydmVkUHJvcHMuaGFzKG5hbWUpKSB7XG4gICAgbmV3Vm5vZGUucHJvcHNbbmFtZV0gPSB2YWx1ZTtcbiAgICBzaGFyZWRTZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUsIG5ld1Zub2RlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQXR0cmlidXRlcyhuZXdWbm9kZTogVm5vZGVXaXRoRG9tLCBvbGRQcm9wczogUHJvcGVydGllcyB8IG51bGwpOiB2b2lkIHtcbiAgY29uc3Qgdm5vZGVEb20gPSBuZXdWbm9kZS5kb207XG4gIGNvbnN0IHZub2RlUHJvcHMgPSBuZXdWbm9kZS5wcm9wcztcblxuICBpZiAob2xkUHJvcHMpIHtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gb2xkUHJvcHMpIHtcbiAgICAgIGlmIChuYW1lIGluIHZub2RlUHJvcHMgPT09IGZhbHNlICYmICFldmVudExpc3RlbmVyTmFtZXMuaGFzKG5hbWUpICYmICFyZXNlcnZlZFByb3BzLmhhcyhuYW1lKSkge1xuICAgICAgICBpZiAoIW5ld1Zub2RlLmlzU1ZHICYmIG5hbWUgaW4gdm5vZGVEb20pIHtcbiAgICAgICAgICB2bm9kZURvbVtuYW1lXSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdm5vZGVEb20ucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yIChjb25zdCBuYW1lIGluIHZub2RlUHJvcHMpIHtcbiAgICBpZiAoZGlyZWN0aXZlc1tuYW1lXSkge1xuICAgICAgaWYgKGRpcmVjdGl2ZXNbbmFtZV0odm5vZGVQcm9wc1tuYW1lXSwgbmV3Vm5vZGUsIG9sZFByb3BzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoIXJlc2VydmVkUHJvcHMuaGFzKG5hbWUpKSB7XG4gICAgICBzaGFyZWRTZXRBdHRyaWJ1dGUobmFtZSwgdm5vZGVQcm9wc1tuYW1lXSwgbmV3Vm5vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWc6IHN0cmluZywgaXNTVkc6IGJvb2xlYW4pOiBEb21FbGVtZW50IHtcbiAgcmV0dXJuIGlzU1ZHXG4gICAgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB0YWcpXG4gICAgOiAoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpIGFzIERvbUVsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBmbGF0VHJlZShuZXdWbm9kZTogVm5vZGVXaXRoRG9tKSB7XG4gIGN1cnJlbnQudm5vZGUgPSBuZXdWbm9kZTtcblxuICBpZiAoXCJ2LWZvclwiIGluIG5ld1Zub2RlLnByb3BzKSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBbXTtcbiAgICBjb25zdCBzZXQgPSBuZXdWbm9kZS5wcm9wc1tcInYtZm9yXCJdO1xuICAgIGNvbnN0IGwgPSBzZXQubGVuZ3RoO1xuICAgIGNvbnN0IGNhbGxiYWNrID0gbmV3Vm5vZGUuY2hpbGRyZW5bMF07XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3QgbmV3Q2hpbGQgPSBjYWxsYmFjayhzZXRbaV0sIGkpO1xuICAgICAgaWYgKG5ld0NoaWxkIGluc3RhbmNlb2YgVm5vZGUpIHtcbiAgICAgICAgbmV3Q2hpbGQucHJvcHMgPSBuZXdDaGlsZC5wcm9wcyB8fCB7fTtcbiAgICAgICAgbmV3Q2hpbGQuaXNTVkcgPSBuZXdWbm9kZS5pc1NWRyB8fCBuZXdDaGlsZC50YWcgPT09IFwic3ZnXCI7XG4gICAgICB9XG4gICAgICBjaGlsZHJlbltpXSA9IG5ld0NoaWxkO1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuXG4gIGxldCBpID0gMDtcbiAgY29uc3Qgb3JpZ2luYWxDaGlsZHJlbiA9IG5ld1Zub2RlLmNoaWxkcmVuO1xuICBsZXQgY2hpbGRyZW4gPSBvcmlnaW5hbENoaWxkcmVuO1xuXG4gIHdoaWxlIChpIDwgY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgY29uc3QgbmV3Q2hpbGQgPSBjaGlsZHJlbltpXTtcblxuICAgIGlmIChuZXdDaGlsZCA9PSBudWxsKSB7XG4gICAgICBpZiAoY2hpbGRyZW4gPT09IG9yaWdpbmFsQ2hpbGRyZW4pIHtcbiAgICAgICAgY2hpbGRyZW4gPSBbLi4ub3JpZ2luYWxDaGlsZHJlbl07XG4gICAgICB9XG4gICAgICBjaGlsZHJlbi5zcGxpY2UoaSwgMSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShuZXdDaGlsZCkpIHtcbiAgICAgIGlmIChjaGlsZHJlbiA9PT0gb3JpZ2luYWxDaGlsZHJlbikge1xuICAgICAgICBjaGlsZHJlbiA9IFsuLi5vcmlnaW5hbENoaWxkcmVuXTtcbiAgICAgIH1cbiAgICAgIGNoaWxkcmVuLnNwbGljZShpLCAxLCAuLi5uZXdDaGlsZCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAobmV3Q2hpbGQgaW5zdGFuY2VvZiBWbm9kZSkge1xuICAgICAgbmV3Q2hpbGQucHJvcHMgPSBuZXdDaGlsZC5wcm9wcyB8fCB7fTtcbiAgICAgIG5ld0NoaWxkLmlzU1ZHID0gbmV3Vm5vZGUuaXNTVkcgfHwgbmV3Q2hpbGQudGFnID09PSBcInN2Z1wiO1xuXG4gICAgICBpZiAodHlwZW9mIG5ld0NoaWxkLnRhZyAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoY2hpbGRyZW4gPT09IG9yaWdpbmFsQ2hpbGRyZW4pIHtcbiAgICAgICAgICBjaGlsZHJlbiA9IFsuLi5vcmlnaW5hbENoaWxkcmVuXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IChjdXJyZW50LmNvbXBvbmVudCA9IG5ld0NoaWxkLnRhZyk7XG5cbiAgICAgICAgY2hpbGRyZW5baV0gPSAoaXNQT0pPQ29tcG9uZW50KGNvbXBvbmVudCkgPyBjb21wb25lbnQudmlldyA6IGNvbXBvbmVudCkuYmluZChjb21wb25lbnQpKFxuICAgICAgICAgIG5ld0NoaWxkLnByb3BzLFxuICAgICAgICAgIG5ld0NoaWxkLmNoaWxkcmVuXG4gICAgICAgICk7XG5cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaSsrO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkcmVuO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVOZXdFbGVtZW50KG5ld0NoaWxkOiBWbm9kZVdpdGhEb20sIG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sIG9sZENoaWxkOiBEb21FbGVtZW50IHwgbnVsbCkge1xuICBjb25zdCBkb20gPSBjcmVhdGVFbGVtZW50KG5ld0NoaWxkLnRhZywgbmV3Q2hpbGQuaXNTVkcgYXMgYm9vbGVhbik7XG4gIGlmIChvbGRDaGlsZCkge1xuICAgIG5ld1Zub2RlLmRvbS5yZXBsYWNlQ2hpbGQoZG9tLCBvbGRDaGlsZCk7XG4gIH0gZWxzZSB7XG4gICAgbmV3Vm5vZGUuZG9tLmFwcGVuZENoaWxkKGRvbSk7XG4gIH1cbiAgbmV3Q2hpbGQuZG9tID0gZG9tO1xuICB1cGRhdGVBdHRyaWJ1dGVzKG5ld0NoaWxkLCBudWxsKTtcbiAgbmV3Q2hpbGQuZG9tLnByb3BzID0gbmV3Q2hpbGQucHJvcHM7XG4gIGlmIChcInYtdGV4dFwiIGluIG5ld0NoaWxkLnByb3BzKSB7XG4gICAgbmV3Q2hpbGQuZG9tLnRleHRDb250ZW50ID0gbmV3Q2hpbGQucHJvcHNbXCJ2LXRleHRcIl07XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgY2hpbGRyZW4gPSBmbGF0VHJlZShuZXdDaGlsZCk7XG4gIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICBuZXdDaGlsZC5kb20udGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKGNoaWxkcmVuW2ldIGluc3RhbmNlb2YgVm5vZGUgPT09IGZhbHNlKSB7XG4gICAgICBuZXdDaGlsZC5kb20uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY2hpbGRyZW5baV0pKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjcmVhdGVOZXdFbGVtZW50KGNoaWxkcmVuW2ldLCBuZXdDaGlsZCwgbnVsbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGF0Y2hLZXllZChuZXdWbm9kZTogVm5vZGVXaXRoRG9tLCBjaGlsZHJlbjogQ2hpbGRyZW4pIHtcbiAgY29uc3Qgb2xkVHJlZSA9IFsuLi5BcnJheS5mcm9tKG5ld1Zub2RlLmRvbS5jaGlsZE5vZGVzKV0gYXMgdW5rbm93biBhcyBEb21FbGVtZW50W107XG4gIGNvbnN0IGNoaWxkTm9kZXMgPSBuZXdWbm9kZS5kb20uY2hpbGROb2RlcztcbiAgY29uc3Qgb2xkS2V5ZWRMaXN0OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gIGNvbnN0IG5ld0tleWVkTGlzdDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0gb2xkVHJlZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCBvbGRQcm9wcyA9IG9sZFRyZWVbaV0ucHJvcHM7XG4gICAgaWYgKG9sZFByb3BzKSB7XG4gICAgICBvbGRLZXllZExpc3Rbb2xkUHJvcHMua2V5IGFzIHN0cmluZ10gPSBpO1xuICAgIH1cblxuICAgIGlmIChpIDwgY2hpbGRyZW4ubGVuZ3RoICYmIGNoaWxkcmVuW2ldIGluc3RhbmNlb2YgVm5vZGUpIHtcbiAgICAgIG5ld0tleWVkTGlzdFtjaGlsZHJlbltpXS5wcm9wcy5rZXkgYXMgc3RyaW5nXSA9IGk7XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCBuZXdDaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGNvbnN0IG9sZENoaWxkID0gb2xkVHJlZVtvbGRLZXllZExpc3RbbmV3Q2hpbGQucHJvcHMua2V5IGFzIHN0cmluZ11dO1xuXG4gICAgaWYgKCFvbGRDaGlsZCkge1xuICAgICAgY3JlYXRlTmV3RWxlbWVudChuZXdDaGlsZCwgbmV3Vm5vZGUsIGNoaWxkTm9kZXNbaV0gYXMgRG9tRWxlbWVudCB8IG51bGwpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgbmV3Q2hpbGQuZG9tID0gb2xkQ2hpbGQ7XG4gICAgY29uc3QgY3VycmVudENoaWxkID0gY2hpbGROb2Rlc1tpXTtcbiAgICBpZiAoIWN1cnJlbnRDaGlsZCkge1xuICAgICAgbmV3Vm5vZGUuZG9tLmFwcGVuZENoaWxkKG9sZENoaWxkKTtcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRDaGlsZCAhPT0gb2xkQ2hpbGQpIHtcbiAgICAgIG5ld1Zub2RlLmRvbS5yZXBsYWNlQ2hpbGQob2xkQ2hpbGQsIGN1cnJlbnRDaGlsZCk7XG4gICAgfVxuXG4gICAgaWYgKFwidi1rZWVwXCIgaW4gbmV3Q2hpbGQucHJvcHMgPT09IGZhbHNlIHx8IG9sZENoaWxkLnByb3BzW1widi1rZWVwXCJdICE9PSBuZXdDaGlsZC5wcm9wc1tcInYta2VlcFwiXSkge1xuICAgICAgdXBkYXRlQXR0cmlidXRlcyhuZXdDaGlsZCBhcyBWbm9kZVdpdGhEb20sIG9sZENoaWxkLnByb3BzKTtcbiAgICAgIG9sZENoaWxkLnByb3BzID0gbmV3Q2hpbGQucHJvcHM7XG5cbiAgICAgIGlmIChcInYtdGV4dFwiIGluIG5ld0NoaWxkLnByb3BzKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgaWYgKG9sZENoaWxkLnRleHRDb250ZW50ICE9IG5ld0NoaWxkLnByb3BzW1widi10ZXh0XCJdKSB7XG4gICAgICAgICAgb2xkQ2hpbGQudGV4dENvbnRlbnQgPSBuZXdDaGlsZC5wcm9wc1tcInYtdGV4dFwiXTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgcGF0Y2gobmV3Q2hpbGQgYXMgVm5vZGVXaXRoRG9tKTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBpID0gY2hpbGRyZW4ubGVuZ3RoLCBsID0gY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjaGlsZE5vZGVzW2ldPy5yZW1vdmUoKTtcbiAgfVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gcGF0Y2gobmV3Vm5vZGU6IFZub2RlV2l0aERvbSk6IHZvaWQge1xuICBjb25zdCBjaGlsZHJlbiA9IGZsYXRUcmVlKG5ld1Zub2RlKTtcblxuICBjb25zdCBkb20gPSBuZXdWbm9kZS5kb207XG5cbiAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChkb20uY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIGRvbS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG9sZERvbUNoaWxkcmVuID0gZG9tLmNoaWxkTm9kZXMgYXMgdW5rbm93biBhcyBEb21FbGVtZW50W107XG4gIGNvbnN0IG9sZENoaWxkcmVuTGVuZ3RoID0gb2xkRG9tQ2hpbGRyZW4ubGVuZ3RoO1xuICBpZiAob2xkQ2hpbGRyZW5MZW5ndGggPiAwKSB7XG4gICAgY29uc3QgZmlyc3RPbGRQcm9wcyA9IG9sZERvbUNoaWxkcmVuWzBdLnByb3BzO1xuICAgIGNvbnN0IGZpcnN0Vm5vZGUgPSBjaGlsZHJlblswXSBhcyBWbm9kZVdpdGhEb207XG4gICAgaWYgKGZpcnN0T2xkUHJvcHMgJiYgZmlyc3RWbm9kZSBpbnN0YW5jZW9mIFZub2RlICYmIFwia2V5XCIgaW4gZmlyc3RWbm9kZS5wcm9wcyAmJiBcImtleVwiIGluIGZpcnN0T2xkUHJvcHMpIHtcbiAgICAgIHBhdGNoS2V5ZWQobmV3Vm5vZGUsIGNoaWxkcmVuKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBjb25zdCBjaGlsZHJlbkxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgaWYgKG9sZENoaWxkcmVuTGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY2hpbGRyZW5baV0gaW5zdGFuY2VvZiBWbm9kZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNoaWxkcmVuW2ldKSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY3JlYXRlTmV3RWxlbWVudChjaGlsZHJlbltpXSwgbmV3Vm5vZGUsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBuZXdDaGlsZCA9IGNoaWxkcmVuW2ldIGFzIFZub2RlV2l0aERvbTtcbiAgICBjb25zdCBpc1RleHQgPSBuZXdDaGlsZCBpbnN0YW5jZW9mIFZub2RlID09PSBmYWxzZTtcbiAgICBjb25zdCBvbGRDaGlsZCA9IG9sZERvbUNoaWxkcmVuW2ldO1xuXG4gICAgaWYgKCFvbGRDaGlsZCkge1xuICAgICAgaWYgKGlzVGV4dCkge1xuICAgICAgICBuZXdWbm9kZS5kb20uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3Q2hpbGQgYXMgdW5rbm93biBhcyBzdHJpbmcpKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNyZWF0ZU5ld0VsZW1lbnQobmV3Q2hpbGQgYXMgVm5vZGVXaXRoRG9tLCBuZXdWbm9kZSwgbnVsbCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoaXNUZXh0KSB7XG4gICAgICBpZiAob2xkQ2hpbGQubm9kZVR5cGUgIT09IDMpIHtcbiAgICAgICAgbmV3Vm5vZGUuZG9tLnJlcGxhY2VDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuZXdDaGlsZCBhcyB1bmtub3duIGFzIHN0cmluZyksIG9sZENoaWxkKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgIGlmIChvbGRDaGlsZC5ub2RlVmFsdWUgIT0gKG5ld0NoaWxkIGFzIHVua25vd24gYXMgc3RyaW5nKSkge1xuICAgICAgICBvbGRDaGlsZC5ub2RlVmFsdWUgPSBuZXdDaGlsZCBhcyB1bmtub3duIGFzIHN0cmluZztcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChcInYta2VlcFwiIGluIG5ld0NoaWxkLnByb3BzKSB7XG4gICAgICBpZiAob2xkQ2hpbGQucHJvcHMgJiYgb2xkQ2hpbGQucHJvcHNbXCJ2LWtlZXBcIl0gPT09IG5ld0NoaWxkLnByb3BzW1widi1rZWVwXCJdKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXh0T2xkQ2hpbGQgPSBvbGREb21DaGlsZHJlbltpICsgMV07XG4gICAgICBpZiAobmV4dE9sZENoaWxkICYmIG5leHRPbGRDaGlsZC5wcm9wcyAmJiBuZXh0T2xkQ2hpbGQucHJvcHNbXCJ2LWtlZXBcIl0gPT09IG5ld0NoaWxkLnByb3BzW1widi1rZWVwXCJdKSB7XG4gICAgICAgIG9sZENoaWxkLnJlbW92ZSgpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmV3Q2hpbGQudGFnICE9PSBvbGRDaGlsZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjcmVhdGVOZXdFbGVtZW50KG5ld0NoaWxkLCBuZXdWbm9kZSwgb2xkQ2hpbGQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgbmV3Q2hpbGQuZG9tID0gb2xkQ2hpbGQ7XG4gICAgdXBkYXRlQXR0cmlidXRlcyhuZXdDaGlsZCwgb2xkQ2hpbGQucHJvcHMgfHwgbnVsbCk7XG4gICAgb2xkQ2hpbGQucHJvcHMgPSBuZXdDaGlsZC5wcm9wcztcbiAgICBpZiAoXCJ2LXRleHRcIiBpbiBuZXdDaGlsZC5wcm9wcykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgaWYgKG5ld0NoaWxkLmRvbS50ZXh0Q29udGVudCAhPSBuZXdDaGlsZC5wcm9wc1tcInYtdGV4dFwiXSkge1xuICAgICAgICBuZXdDaGlsZC5kb20udGV4dENvbnRlbnQgPSBuZXdDaGlsZC5wcm9wc1tcInYtdGV4dFwiXTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBwYXRjaChuZXdDaGlsZCk7XG4gIH1cblxuICBmb3IgKGxldCBpID0gY2hpbGRyZW5MZW5ndGgsIGwgPSBvbGREb21DaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBvbGREb21DaGlsZHJlbltpXT8ucmVtb3ZlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVZub2RlKHZub2RlOiBWbm9kZVdpdGhEb20pOiBzdHJpbmcgfCB2b2lkIHtcbiAgY2FsbFNldChvbkNsZWFudXBTZXQpO1xuICB2bm9kZS5wcm9wcyA9IHZub2RlLnByb3BzIHx8IHt9O1xuICBwYXRjaCh2bm9kZSk7XG4gIGNhbGxTZXQoaXNNb3VudGVkID8gb25VcGRhdGVTZXQgOiBvbk1vdW50U2V0KTtcbiAgaXNNb3VudGVkID0gdHJ1ZTtcbiAgY3VycmVudC52bm9kZSA9IG51bGw7XG4gIGN1cnJlbnQuY29tcG9uZW50ID0gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZSgpOiBzdHJpbmcge1xuICBpZiAobWFpblZub2RlKSB7XG4gICAgbWFpblZub2RlLmNoaWxkcmVuID0gW21haW5Db21wb25lbnRdO1xuICAgIHVwZGF0ZVZub2RlKG1haW5Wbm9kZSBhcyBWbm9kZVdpdGhEb20pO1xuICAgIGlmIChpc05vZGVKcykge1xuICAgICAgcmV0dXJuIG1haW5Wbm9kZS5kb20uaW5uZXJIVE1MO1xuICAgIH1cbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cblxubGV0IGRlYm91bmNlZFVwZGF0ZVRpbWVvdXQ6IGFueTtcblxuY29uc3QgY2xlYXJEZWJvdW5jZWRVcGRhdGVNZXRob2QgPSBpc05vZGVKcyA/IGNsZWFyVGltZW91dCA6IGNhbmNlbEFuaW1hdGlvbkZyYW1lO1xuY29uc3Qgc2V0RGVib3VuY2VkVXBkYXRlTWV0aG9kID0gaXNOb2RlSnMgPyAoKSA9PiBzZXRUaW1lb3V0KHVwZGF0ZSwgNSkgOiAoKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlZFVwZGF0ZSgpIHtcbiAgY2xlYXJEZWJvdW5jZWRVcGRhdGVNZXRob2QoZGVib3VuY2VkVXBkYXRlVGltZW91dCk7XG4gIGRlYm91bmNlZFVwZGF0ZVRpbWVvdXQgPSBzZXREZWJvdW5jZWRVcGRhdGVNZXRob2QoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVubW91bnQoKSB7XG4gIGlmIChtYWluVm5vZGUpIHtcbiAgICBtYWluQ29tcG9uZW50ID0gdigoKSA9PiBudWxsLCB7fSkgYXMgVm5vZGVDb21wb25lbnRJbnRlcmZhY2U7XG4gICAgY29uc3QgcmVzdWx0ID0gdXBkYXRlKCk7XG4gICAgY2FsbFNldChvblVubW91bnRTZXQpO1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBldmVudExpc3RlbmVyTmFtZXMpIHtcbiAgICAgIG1haW5Wbm9kZS5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLnNsaWNlKDIpLnRvTG93ZXJDYXNlKCksIGV2ZW50TGlzdGVuZXIpO1xuICAgICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShldmVudExpc3RlbmVyTmFtZXMsIG5hbWUpO1xuICAgIH1cblxuICAgIG1haW5Db21wb25lbnQgPSBudWxsO1xuICAgIG1haW5Wbm9kZSA9IG51bGw7XG4gICAgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgY3VycmVudC52bm9kZSA9IG51bGw7XG4gICAgY3VycmVudC5jb21wb25lbnQgPSBudWxsO1xuICAgIGN1cnJlbnQuZXZlbnQgPSBudWxsO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gXCJcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdW50KGRvbTogc3RyaW5nIHwgRG9tRWxlbWVudCwgY29tcG9uZW50OiBWYWx5cmlhbkNvbXBvbmVudCB8IFZub2RlQ29tcG9uZW50SW50ZXJmYWNlIHwgYW55KSB7XG4gIGNvbnN0IGNvbnRhaW5lciA9XG4gICAgdHlwZW9mIGRvbSA9PT0gXCJzdHJpbmdcIiA/IChpc05vZGVKcyA/IGNyZWF0ZUVsZW1lbnQoZG9tLCBkb20gPT09IFwic3ZnXCIpIDogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihkb20pKSA6IGRvbTtcblxuICBpZiAoaXNDb21wb25lbnQoY29tcG9uZW50KSkge1xuICAgIG1haW5Db21wb25lbnQgPSB2KGNvbXBvbmVudCwge30sIFtdKSBhcyBWbm9kZUNvbXBvbmVudEludGVyZmFjZTtcbiAgfSBlbHNlIGlmIChpc1Zub2RlQ29tcG9uZW50KGNvbXBvbmVudCkpIHtcbiAgICBtYWluQ29tcG9uZW50ID0gY29tcG9uZW50O1xuICB9IGVsc2Uge1xuICAgIG1haW5Db21wb25lbnQgPSB2KCgpID0+IGNvbXBvbmVudCwge30sIFtdKSBhcyBWbm9kZUNvbXBvbmVudEludGVyZmFjZTtcbiAgfVxuXG4gIG1haW5Wbm9kZSA9IGhpZHJhdGVEb21Ub1Zub2RlKGNvbnRhaW5lcikgYXMgVm5vZGVXaXRoRG9tO1xuICByZXR1cm4gdXBkYXRlKCk7XG59XG4iXSwibWFwcGluZ3MiOiJNQXdDTyxJQUFNQSxFQUFXQyxRQUEyQixvQkFBWkMsU0FBMkJBLFFBQVFDLFVBQVlELFFBQVFDLFNBQVNDLE1BRTFGQyxFQUFOLE1BQ0wsV0FBQUMsQ0FDU0MsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FKQUMsS0FBQUwsTUFDQUssS0FBQUosUUFDQUksS0FBQUgsV0FDQUcsS0FBQUYsTUFDQUUsS0FBQUQsT0FDTixHQVNRRSxFQUFtQkMsR0FDOUJiLFFBQVFhLEdBQWtDLGlCQUFkQSxHQUEwQixTQUFVQSxHQUVyREMsRUFBZUQsR0FDMUJiLFFBQTZCLG1CQUFkYSxHQUE0QkQsRUFBZ0JDLElBQ2hERSxFQUFXQyxHQUFzQ0EsYUFBa0JaLEVBRW5FYSxFQUFvQkQsR0FDeEJELEVBQVFDLElBQVdGLEVBQVlFLEVBQU9WLEtBR3hDLFNBQVNZLEVBQUVDLEVBQTRDWixLQUE2QkMsR0FDekYsT0FBTyxJQUFJSixFQUFNZSxFQUFnQlosRUFBT0MsRUFDMUMsQ0FJTyxTQUFTWSxFQUFrQlgsR0FDaEMsR0FBcUIsSUFBakJBLEVBQUlZLFNBQ04sT0FBT1osRUFBSWEsVUFHYixHQUFxQixJQUFqQmIsRUFBSVksU0FBZ0IsQ0FDdEIsTUFBTWYsRUFBTUcsRUFBSWMsU0FBU0MsY0FDbkJqQixFQUFRLENBQUMsRUFDVEMsRUFBVyxHQUVqQixRQUFTaUIsRUFBSSxFQUFHQyxFQUFJakIsRUFBSWtCLFdBQVdDLE9BQVFILEVBQUlDLEVBQUdELElBQUssQ0FDckQsTUFBTUksRUFBV3BCLEVBQUlr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