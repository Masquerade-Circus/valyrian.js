//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2xpYi9pbmRleC50cyJdLCJuYW1lcyI6WyJDb21wb25lbnRTdHJpbmciLCJUZXh0U3RyaW5nIiwiaXNOb2RlSnMiLCJCb29sZWFuIiwicHJvY2VzcyIsInZlcnNpb25zIiwibm9kZSIsIlZhbHlyaWFuU3ltYm9sIiwiU3ltYm9sIiwiVW5kIiwiVm5vZGUiLCJ0YWciLCJwcm9wcyIsImNoaWxkcmVuIiwidGhpcyIsImlzVm5vZGUiLCJvYmplY3QiLCJpc0NvbXBvbmVudCIsImNvbXBvbmVudCIsImlzVm5vZGVDb21wb25lbnQiLCJ2bm9kZSIsImNyZWF0ZURvbUVsZW1lbnQiLCJpc1NWRyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRWxlbWVudCIsImRvbVRvVm5vZGUiLCJkb20iLCJ2IiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwiQXJyYXkiLCJmcm9tIiwiY2hpbGROb2RlcyIsImZpbHRlciIsImNoaWxkIiwibm9kZVR5cGUiLCJtYXAiLCJ0ZXh0Iiwibm9kZVZhbHVlIiwiU3RyaW5nIiwiZm9yRWFjaCIsImNhbGwiLCJhdHRyaWJ1dGVzIiwicHJvcCIsIm5vZGVOYW1lIiwidHJ1c3QiLCJodG1sU3RyaW5nIiwiZGl2IiwiaW5uZXJIVE1MIiwidHJpbSIsIml0ZW0iLCJyZXNlcnZlZFByb3BzIiwia2V5Iiwic3RhdGUiLCJvbmNyZWF0ZSIsIm9udXBkYXRlIiwib25yZW1vdmUiLCJzaG91bGR1cGRhdGUiLCJjdXJyZW50Iiwib25DbGVhbnVwIiwiY2FsbGJhY2siLCJhcHAiLCJpbmRleE9mIiwicHVzaCIsIm9uVW5tb3VudCIsIm9uTW91bnQiLCJvblVwZGF0ZSIsIm1vdW50IiwiY29udGFpbmVyIiwidm5vZGVDb21wb25lbnQiLCJhcHBDb250YWluZXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiRXJyb3IiLCJ1bm1vdW50IiwiZXZlbnRMaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJuYW1lIiwidHlwZSIsImRlZmF1bHRQcmV2ZW50ZWQiLCJ1cGRhdGUiLCJwYXJlbnROb2RlIiwiaXNNb3VudGVkIiwiZXZlbnRMaXN0ZW5lck5hbWVzIiwibWFpblZub2RlIiwiY2FsbENsZWFudXAiLCJ2YWx5cmlhbkFwcCIsImkiLCJsZW5ndGgiLCJvbGRWbm9kZSIsInBhdGNoIiwiY2FsbE1vdW50IiwiY2FsbFVwZGF0ZSIsImNhbGxVbm1vdW50IiwiUmVmbGVjdCIsImRlbGV0ZVByb3BlcnR5IiwiZW1wdHlWbm9kZSIsInNoYXJlZFNldEF0dHJpYnV0ZSIsInZhbHVlIiwiZGlyZWN0aXZlcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzbGljZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZXMiLCJuZXdWbm9kZSIsIm5ld1RyZWUiLCJvbGRUcmVlIiwiY2hpbGRWbm9kZSIsInJlc3VsdCIsInZpZXciLCJzcGxpY2UiLCJpc0FycmF5Iiwib2xkVHJlZUxlbmd0aCIsIm5ld1RyZWVMZW5ndGgiLCJvbGRLZXllZExpc3QiLCJuZXdLZXllZExpc3QiLCJvbGRDaGlsZFZub2RlIiwic2hvdWxkUGF0Y2giLCJhcHBlbmRDaGlsZCIsInJlcGxhY2VDaGlsZCIsInJlbW92ZUNoaWxkIiwibmV3Q2hpbGRWbm9kZSIsImNyZWF0ZVRleHROb2RlIiwidGV4dENvbnRlbnQiLCJkaXJlY3RpdmUiLCJkaXJlY3RpdmUyIiwiZnVsbE5hbWUiLCJoaWRlRGlyZWN0aXZlIiwidGVzdCIsImJvb2wiLCJuZXdkb20iLCJzZXQiLCJzdHlsZSIsImRpc3BsYXkiLCJjbGFzc2VzIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiaHRtbCIsIm1vZGVsIiwicHJvcGVydHkiLCJldmVudCIsImhhbmRsZXIiLCJ2YWwiLCJpZHgiLCJtdWx0aXBsZSIsImN0cmxLZXkiLCJ2YWx1ZTIiLCJqb2luIiwic2VsZWN0ZWQiLCJwbHVnaW5zIiwiTWFwIiwidXNlIiwicGx1Z2luIiwib3B0aW9ucyIsImhhcyIsImdldCIsInRhZ09yQ29tcG9uZW50IiwiZnJhZ21l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LEVBQVduRSxHQUFjZ0UsRUFBTUMsR0FBYWpFLEVBQUVDLE9BQTRDc0IsT0FFNUZLLEVBQWFzQyxFQUFPQyxFQUFTM0gsRUFBT3NFLE1BTXBDNkQsRUFBVSxJQUFJQyxJQUViLFNBQUFDLEVBQWFDLEVBQWdCQyxHQUNsQyxHQUFJSixFQUFRSyxJQUFJRixHQUNkLE9BQU9ILEVBQVFNLElBQUlILEdBR3JCLElBQUk1QyxFQUFTNEMsRUFBTzlILEVBQUcrSCxHQUV2QixPQURBSixFQUFRbEIsSUFBSXFCLEVBQVE1QyxHQUNiQSxFQUtGLElBQU1sRixFQUFjLFNBQVdrSSxFQUE0Q2xKLEtBQWlCQyxHQUNqRyxHQUE4QixpQkFBbkJpSixFQUNULE9BQU8sSUFBSXBKLEVBQU1vSixFQUFnQmxKLEdBQVMsR0FBSUMsR0FHaEQsTUFBTU8sRUFBUSxJQUFJVixFQUFNLGdCQUFpQkUsR0FBUyxHQUFJQyxHQUV0RCxPQURBTyxFQUFNRixVQUFZNEksRUFDWDFJLEdBR1RRLEVBQUVtSSxTQUFXLENBQUNuSixLQUFpQkMsSUFDdEJBLEVBS1RlLEVBQUUrQixRQUFVQSxFQUVaL0IsRUFBRXdFLFdBQWFBLEVBRWZ4RSxFQUFFd0IsY0FBZ0JBLEVBRWxCeEIsRUFBRWIsUUFBVUEsRUFDWmEsRUFBRVgsWUFBY0EsRUFDaEJXLEVBQUVULGlCQUFtQkEsRUFFckJTLEVBQUUxQixTQUFXQSxFQUNiMEIsRUFBRWtCLE1BQVFBLEVBRVZsQixFQUFFZ0MsVUFBWUEsRUFDZGhDLEVBQUVxQyxVQUFZQSxFQUNkckMsRUFBRXNDLFFBQVVBLEVBQ1p0QyxFQUFFdUMsU0FBV0EsRUFFYnZDLEVBQUV3QyxNQUFRQSxFQUNWeEMsRUFBRThDLFFBQVVBLEVBQ1o5QyxFQUFFcUQsT0FBU0EsRUFFWHJELEVBQUU0RSxhQUFlQSxFQUNqQjVFLEVBQUVrRyxVQUFZQSxFQUNkbEcsRUFBRTZILElBQU1BIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKiBWbm9kZSAqKiovXG5cbmltcG9ydCB7XG4gIENoaWxkcmVuLFxuICBDdXJyZW50LFxuICBEaXJlY3RpdmUsXG4gIERpcmVjdGl2ZXMsXG4gIERvbUVsZW1lbnQsXG4gIElWbm9kZSxcbiAgTW91bnRlZFZhbHlyaWFuQXBwLFxuICBQbHVnaW4sXG4gIFByb3BzLFxuICBSZXNlcnZlZFByb3BzLFxuICBWYWx5cmlhbixcbiAgVmFseXJpYW5BcHAsXG4gIFZhbHlyaWFuQ29tcG9uZW50LFxuICBWbm9kZUNvbXBvbmVudCxcbiAgVm5vZGVXaXRoRG9tXG59IGZyb20gXCIuL2ludGVyZmFjZXNcIjtcblxuLyoqKiBDb25zdGFudHMgKioqL1xuY29uc3QgQ29tcG9uZW50U3RyaW5nID0gXCJfX2NvbXBvbmVudF9fXCI7XG5jb25zdCBUZXh0U3RyaW5nID0gXCIjdGV4dFwiO1xuZXhwb3J0IGNvbnN0IGlzTm9kZUpzID0gQm9vbGVhbih0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzLnZlcnNpb25zICYmIHByb2Nlc3MudmVyc2lvbnMubm9kZSk7XG5jb25zdCBWYWx5cmlhblN5bWJvbCA9IFN5bWJvbChcIlZhbHlyaWFuXCIpO1xuY29uc3QgVW5kID0gdW5kZWZpbmVkO1xuXG4vKioqIFZub2RlICoqKi9cblxuZXhwb3J0IGNvbnN0IFZub2RlID0gZnVuY3Rpb24gVm5vZGUodGhpczogSVZub2RlLCB0YWc6IHN0cmluZywgcHJvcHM6IFByb3BzLCBjaGlsZHJlbjogQ2hpbGRyZW4pIHtcbiAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gIHRoaXMudGFnID0gdGFnO1xufSBhcyB1bmtub3duIGFzIElWbm9kZTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzVm5vZGUob2JqZWN0PzogdW5rbm93biB8IElWbm9kZSk6IG9iamVjdCBpcyBJVm5vZGUge1xuICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgVm5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbXBvbmVudChjb21wb25lbnQ/OiB1bmtub3duIHwgVmFseXJpYW5Db21wb25lbnQpOiBjb21wb25lbnQgaXMgVmFseXJpYW5Db21wb25lbnQge1xuICByZXR1cm4gdHlwZW9mIGNvbXBvbmVudCA9PT0gXCJmdW5jdGlvblwiIHx8ICh0eXBlb2YgY29tcG9uZW50ID09PSBcIm9iamVjdFwiICYmIGNvbXBvbmVudCAhPT0gbnVsbCAmJiBcInZpZXdcIiBpbiBjb21wb25lbnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWbm9kZUNvbXBvbmVudCh2bm9kZT86IHVua25vd24gfCBWbm9kZUNvbXBvbmVudCk6IHZub2RlIGlzIFZub2RlQ29tcG9uZW50IHtcbiAgcmV0dXJuIHZub2RlIGluc3RhbmNlb2YgVm5vZGUgJiYgdm5vZGUudGFnID09PSBDb21wb25lbnRTdHJpbmc7XG59XG5cbi8qKiogVXRpbCAqKiovXG5cbmZ1bmN0aW9uIGNyZWF0ZURvbUVsZW1lbnQodGFnOiBzdHJpbmcsIGlzU1ZHOiBib29sZWFuID0gZmFsc2UpIHtcbiAgcmV0dXJuIGlzU1ZHID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgdGFnKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbn1cblxuZnVuY3Rpb24gZG9tVG9Wbm9kZShkb206IERvbUVsZW1lbnQpOiBWbm9kZVdpdGhEb20ge1xuICBsZXQgdm5vZGUgPSB2KFxuICAgIGRvbS50YWdOYW1lLnRvTG93ZXJDYXNlKCksXG4gICAge30sXG4gICAgLi4uQXJyYXkuZnJvbShkb20uY2hpbGROb2RlcylcbiAgICAgIC5maWx0ZXIoKGNoaWxkKSA9PiAoY2hpbGQgYXMgRG9tRWxlbWVudCkubm9kZVR5cGUgPT09IDEgfHwgKGNoaWxkIGFzIERvbUVsZW1lbnQpLm5vZGVUeXBlID09PSAzKVxuICAgICAgLm1hcCgoY2hpbGQpID0+IHtcbiAgICAgICAgaWYgKChjaGlsZCBhcyBEb21FbGVtZW50KS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiBkb21Ub1Zub2RlKGNoaWxkIGFzIERvbUVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRleHQgPSBuZXcgVm5vZGUoVGV4dFN0cmluZywge30sIFtdKTtcbiAgICAgICAgdGV4dC5ub2RlVmFsdWUgPSBTdHJpbmcoKGNoaWxkIGFzIERvbUVsZW1lbnQpLm5vZGVWYWx1ZSk7XG4gICAgICAgIHRleHQuZG9tID0gY2hpbGQgYXMgRG9tRWxlbWVudDtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICB9KVxuICApO1xuICBbXS5mb3JFYWNoLmNhbGwoZG9tLmF0dHJpYnV0ZXMsIChwcm9wOiBBdHRyKSA9PiAodm5vZGUucHJvcHNbcHJvcC5ub2RlTmFtZV0gPSBwcm9wLm5vZGVWYWx1ZSkpO1xuICB2bm9kZS5kb20gPSBkb207XG4gIHJldHVybiB2bm9kZSBhcyBWbm9kZVdpdGhEb207XG59XG5cbmV4cG9ydCBjb25zdCB0cnVzdCA9IChodG1sU3RyaW5nOiBzdHJpbmcpOiBDaGlsZHJlbiA9PiB7XG4gIGxldCBkaXYgPSBjcmVhdGVEb21FbGVtZW50KFwiZGl2XCIpO1xuICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZy50cmltKCk7XG5cbiAgcmV0dXJuIFtdLm1hcC5jYWxsKGRpdi5jaGlsZE5vZGVzLCAoaXRlbSkgPT4gZG9tVG9Wbm9kZShpdGVtKSkgYXMgQ2hpbGRyZW47XG59O1xuXG5jb25zdCByZXNlcnZlZFByb3BzOiBSZXNlcnZlZFByb3BzID0ge1xuICBrZXk6IHRydWUsXG4gIHN0YXRlOiB0cnVlLFxuICBvbmNyZWF0ZTogdHJ1ZSxcbiAgb251cGRhdGU6IHRydWUsXG4gIG9ucmVtb3ZlOiB0cnVlLFxuICBzaG91bGR1cGRhdGU6IHRydWUsXG4gIFwidi1vbmNlXCI6IHRydWUsXG5cbiAgLy8gQnVpbHQgaW4gZGlyZWN0aXZlc1xuICBcInYtaWZcIjogdHJ1ZSxcbiAgXCJ2LXVubGVzc1wiOiB0cnVlLFxuICBcInYtZm9yXCI6IHRydWUsXG4gIFwidi1zaG93XCI6IHRydWUsXG4gIFwidi1jbGFzc1wiOiB0cnVlLFxuICBcInYtaHRtbFwiOiB0cnVlXG59O1xuXG4vKioqIE1vdW50ICoqKi9cblxuY29uc3QgY3VycmVudDogQ3VycmVudCA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gb25DbGVhbnVwKGNhbGxiYWNrOiBGdW5jdGlvbikge1xuICBpZiAoY3VycmVudC5hcHA/Lm9uQ2xlYW51cC5pbmRleE9mKGNhbGxiYWNrKSA9PT0gLTEpIHtcbiAgICBjdXJyZW50LmFwcD8ub25DbGVhbnVwLnB1c2goY2FsbGJhY2spO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvblVubW91bnQoY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gIGlmIChjdXJyZW50LmFwcD8ub25Vbm1vdW50LmluZGV4T2YoY2FsbGJhY2spID09PSAtMSkge1xuICAgIGN1cnJlbnQuYXBwPy5vblVubW91bnQucHVzaChjYWxsYmFjayk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uTW91bnQoY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gIGlmIChjdXJyZW50LmFwcD8ub25Nb3VudC5pbmRleE9mKGNhbGxiYWNrKSA9PT0gLTEpIHtcbiAgICBjdXJyZW50LmFwcD8ub25Nb3VudC5wdXNoKGNhbGxiYWNrKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gb25VcGRhdGUoY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gIGlmIChjdXJyZW50LmFwcD8ub25VcGRhdGUuaW5kZXhPZihjYWxsYmFjaykgPT09IC0xKSB7XG4gICAgY3VycmVudC5hcHA/Lm9uVXBkYXRlLnB1c2goY2FsbGJhY2spO1xuICB9XG59XG5cbi8qXG4gICogTW91bnRzIGEgY29tcG9uZW50IHRvIHRoZSBET01cbiAgbW91bnQoJyNhcHAnLCAoKSA9PiA8ZGl2PkhlbGxvIHdvcmxkPC9kaXY+KTsgLy8gQXBwIGlzIGEgRnVuY3Rpb25hbCBDb21wb25lbnRcbiAgbW91bnQoJyNhcHAnLCB7IHZpZXc6ICgpID0+IDxkaXY+SGVsbG8gd29ybGQ8L2Rpdj4gfSk7IC8vIEFwcCBpcyBhIFBPSk8gY29tcG9uZW50IHdpdGggYSB2aWV3IG1ldGhvZFxuICBtb3VudCgnI2FwcCcsIGNsYXNzSW5zdGFuY2UpOyAvLyBBcHAgaXMgYSBjbGFzcyBpbnN0YW5jZSB3aXRoIGEgdmlldyBtZXRob2RcbiAgbW91bnQoJyNhcHAnLCA8QXBwPjxkaXY+SGVsbG8gd29ybGQ8L2Rpdj48L0FwcD4pOyAvLyBBcHAgaXMgYSBWbm9kZSBjb21wb25lbnQgKFZub2RlIHdpdGggdGFnIF9fY29tcG9uZW50X18pXG4qL1xuXG5leHBvcnQgZnVuY3Rpb24gbW91bnQoY29udGFpbmVyOiBEb21FbGVtZW50IHwgc3RyaW5nLCBjb21wb25lbnQ6IFZhbHlyaWFuQ29tcG9uZW50IHwgSVZub2RlKTogdm9pZCB8IHN0cmluZyB7XG4gIGxldCBhcHBDb250YWluZXIgPSBudWxsO1xuXG4gIGlmIChpc05vZGVKcykge1xuICAgIGFwcENvbnRhaW5lciA9IHR5cGVvZiBjb250YWluZXIgPT09IFwic3RyaW5nXCIgPyBjcmVhdGVEb21FbGVtZW50KGNvbnRhaW5lciA9PT0gXCJzdmdcIiA/IFwic3ZnXCIgOiBcImRpdlwiLCBjb250YWluZXIgPT09IFwic3ZnXCIpIDogY29udGFpbmVyO1xuICB9IGVsc2Uge1xuICAgIGFwcENvbnRhaW5lciA9IHR5cGVvZiBjb250YWluZXIgPT09IFwic3RyaW5nXCIgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbnRhaW5lcilbMF0gOiBjb250YWluZXI7XG4gIH1cblxuICBpZiAoIWFwcENvbnRhaW5lcikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnRhaW5lciBub3QgZm91bmRcIik7XG4gIH1cblxuICBsZXQgdm5vZGVDb21wb25lbnQ6IFZub2RlQ29tcG9uZW50IHwgSVZub2RlO1xuXG4gIGlmIChpc1Zub2RlQ29tcG9uZW50KGNvbXBvbmVudCkpIHtcbiAgICB2bm9kZUNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgfSBlbHNlIGlmIChpc0NvbXBvbmVudChjb21wb25lbnQpKSB7XG4gICAgdm5vZGVDb21wb25lbnQgPSB2KGNvbXBvbmVudCwge30pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvbXBvbmVudCBtdXN0IGJlIGEgVmFseXJpYW4gQ29tcG9uZW50IG9yIGEgVm5vZGUgY29tcG9uZW50XCIpO1xuICB9XG5cbiAgaWYgKGNvbXBvbmVudFtWYWx5cmlhblN5bWJvbF0pIHtcbiAgICB1bm1vdW50KGNvbXBvbmVudCk7XG4gIH0gZWxzZSB7XG4gICAgY29tcG9uZW50W1ZhbHlyaWFuU3ltYm9sXSA9IHtcbiAgICAgIGlzTW91bnRlZDogZmFsc2UsXG4gICAgICBldmVudExpc3RlbmVyTmFtZXM6IHt9LFxuICAgICAgb25DbGVhbnVwOiBbXSxcbiAgICAgIG9uTW91bnQ6IFtdLFxuICAgICAgb25VcGRhdGU6IFtdLFxuICAgICAgb25Vbm1vdW50OiBbXVxuICAgIH07XG4gICAgZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcihlOiBFdmVudCkge1xuICAgICAgbGV0IGRvbSA9IGUudGFyZ2V0IGFzIERvbUVsZW1lbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgICAgbGV0IG5hbWUgPSBgdi1vbiR7ZS50eXBlfWA7XG4gICAgICB3aGlsZSAoZG9tKSB7XG4gICAgICAgIGlmIChkb21bbmFtZV0pIHtcbiAgICAgICAgICBkb21bbmFtZV0oZSwgZG9tKTtcbiAgICAgICAgICBpZiAoIWUuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgdXBkYXRlKGNvbXBvbmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkb20gPSBkb20ucGFyZW50Tm9kZSBhcyBEb21FbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnRbVmFseXJpYW5TeW1ib2xdLmV2ZW50TGlzdGVuZXIgPSBldmVudExpc3RlbmVyO1xuICB9XG5cbiAgY29tcG9uZW50W1ZhbHlyaWFuU3ltYm9sXS5jb21wb25lbnQgPSB2bm9kZUNvbXBvbmVudDtcbiAgY29tcG9uZW50W1ZhbHlyaWFuU3ltYm9sXS5jb250YWluZXIgPSBhcHBDb250YWluZXI7XG4gIGNvbXBvbmVudFtWYWx5cmlhblN5bWJvbF0ubWFpblZub2RlID0gZG9tVG9Wbm9kZShhcHBDb250YWluZXIpO1xuXG4gIC8vIHVwZGF0ZVxuICByZXR1cm4gdXBkYXRlKGNvbXBvbmVudCk7XG59XG5cbmZ1bmN0aW9uIGNhbGxDbGVhbnVwKHZhbHlyaWFuQXBwOiBWYWx5cmlhbkFwcCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHlyaWFuQXBwLm9uQ2xlYW51cC5sZW5ndGg7IGkrKykge1xuICAgIHZhbHlyaWFuQXBwLm9uQ2xlYW51cFtpXSgpO1xuICB9XG4gIHZhbHlyaWFuQXBwLm9uQ2xlYW51cCA9IFtdO1xufVxuXG5mdW5jdGlvbiBjYWxsVW5tb3VudCh2YWx5cmlhbkFwcDogVmFseXJpYW5BcHApIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx5cmlhbkFwcC5vblVubW91bnQubGVuZ3RoOyBpKyspIHtcbiAgICB2YWx5cmlhbkFwcC5vblVubW91bnRbaV0oKTtcbiAgfVxuICB2YWx5cmlhbkFwcC5vblVubW91bnQgPSBbXTtcbn1cblxuZnVuY3Rpb24gY2FsbE1vdW50KHZhbHlyaWFuQXBwOiBWYWx5cmlhbkFwcCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHlyaWFuQXBwLm9uTW91bnQubGVuZ3RoOyBpKyspIHtcbiAgICB2YWx5cmlhbkFwcC5vbk1vdW50W2ldKCk7XG4gIH1cbiAgdmFseXJpYW5BcHAub25Nb3VudCA9IFtdO1xufVxuXG5mdW5jdGlvbiBjYWxsVXBkYXRlKHZhbHlyaWFuQXBwOiBWYWx5cmlhbkFwcCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHlyaWFuQXBwLm9uVXBkYXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFseXJpYW5BcHAub25VcGRhdGVbaV0oKTtcbiAgfVxuICB2YWx5cmlhbkFwcC5vblVwZGF0ZSA9IFtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKGNvbXBvbmVudD86IFZhbHlyaWFuQ29tcG9uZW50IHwgSVZub2RlKTogdm9pZCB8IHN0cmluZyB7XG4gIGlmIChjb21wb25lbnQgJiYgY29tcG9uZW50W1ZhbHlyaWFuU3ltYm9sXSkge1xuICAgIGxldCB2YWx5cmlhbkFwcCA9IGNvbXBvbmVudFtWYWx5cmlhblN5bWJvbF07XG4gICAgY3VycmVudC5hcHAgPSB2YWx5cmlhbkFwcDtcbiAgICB2YWx5cmlhbkFwcC5vbkNsZWFudXAubGVuZ3RoICYmIGNhbGxDbGVhbnVwKHZhbHlyaWFuQXBwKTtcbiAgICBsZXQgb2xkVm5vZGU6IFZub2RlV2l0aERvbSB8IG51bGwgPSB2YWx5cmlhbkFwcC5tYWluVm5vZGUgYXMgVm5vZGVXaXRoRG9tO1xuICAgIHZhbHlyaWFuQXBwLm1haW5Wbm9kZSA9IG5ldyBWbm9kZSh2YWx5cmlhbkFwcC5tYWluVm5vZGUudGFnLCB2YWx5cmlhbkFwcC5tYWluVm5vZGUucHJvcHMsIFt2YWx5cmlhbkFwcC5jb21wb25lbnRdKSBhcyBWbm9kZVdpdGhEb207XG4gICAgdmFseXJpYW5BcHAubWFpblZub2RlLmRvbSA9IG9sZFZub2RlLmRvbTtcbiAgICBwYXRjaCh2YWx5cmlhbkFwcC5tYWluVm5vZGUsIG9sZFZub2RlLCB2YWx5cmlhbkFwcCk7XG4gICAgb2xkVm5vZGUgPSBudWxsO1xuICAgIGlmICh2YWx5cmlhbkFwcC5pc01vdW50ZWQgPT09IGZhbHNlKSB7XG4gICAgICB2YWx5cmlhbkFwcC5vbk1vdW50Lmxlbmd0aCAmJiBjYWxsTW91bnQodmFseXJpYW5BcHApO1xuICAgICAgdmFseXJpYW5BcHAuaXNNb3VudGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFseXJpYW5BcHAub25VcGRhdGUubGVuZ3RoICYmIGNhbGxVcGRhdGUodmFseXJpYW5BcHApO1xuICAgIH1cblxuICAgIGlmIChpc05vZGVKcykge1xuICAgICAgcmV0dXJuIHZhbHlyaWFuQXBwLm1haW5Wbm9kZS5kb20uaW5uZXJIVE1MO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5tb3VudChjb21wb25lbnQ/OiBWYWx5cmlhbkNvbXBvbmVudCB8IElWbm9kZSk6IHZvaWQgfCBzdHJpbmcge1xuICBpZiAoIWNvbXBvbmVudCB8fCAhY29tcG9uZW50W1ZhbHlyaWFuU3ltYm9sXSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCB2YWx5cmlhbkFwcCA9IGNvbXBvbmVudFtWYWx5cmlhblN5bWJvbF0gYXMgTW91bnRlZFZhbHlyaWFuQXBwO1xuXG4gIGlmICh2YWx5cmlhbkFwcC5pc01vdW50ZWQpIHtcbiAgICB2YWx5cmlhbkFwcC5vbkNsZWFudXAubGVuZ3RoICYmIGNhbGxDbGVhbnVwKHZhbHlyaWFuQXBwKTtcbiAgICB2YWx5cmlhbkFwcC5vblVubW91bnQubGVuZ3RoICYmIGNhbGxVbm1vdW50KHZhbHlyaWFuQXBwKTtcbiAgICBsZXQgb2xkVm5vZGU6IFZub2RlV2l0aERvbSB8IG51bGwgPSB2YWx5cmlhbkFwcC5tYWluVm5vZGUgYXMgVm5vZGVXaXRoRG9tO1xuICAgIHZhbHlyaWFuQXBwLm1haW5Wbm9kZSA9IG5ldyBWbm9kZSh2YWx5cmlhbkFwcC5tYWluVm5vZGUudGFnLCB2YWx5cmlhbkFwcC5tYWluVm5vZGUucHJvcHMsIFtdKSBhcyBWbm9kZVdpdGhEb207XG4gICAgdmFseXJpYW5BcHAubWFpblZub2RlLmRvbSA9IG9sZFZub2RlLmRvbTtcbiAgICB2YWx5cmlhbkFwcC5tYWluVm5vZGUuaXNTVkcgPSBvbGRWbm9kZS5pc1NWRztcbiAgICBwYXRjaCh2YWx5cmlhbkFwcC5tYWluVm5vZGUsIG9sZFZub2RlLCB2YWx5cmlhbkFwcCk7XG4gICAgb2xkVm5vZGUgPSBudWxsO1xuXG4gICAgaWYgKGlzTm9kZUpzKSB7XG4gICAgICByZXR1cm4gdmFseXJpYW5BcHAubWFpblZub2RlLmRvbS5pbm5lckhUTUw7XG4gICAgfVxuXG4gICAgKHZhbHlyaWFuQXBwIGFzIGFueSkgPSBudWxsO1xuICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkoY29tcG9uZW50LCBWYWx5cmlhblN5bWJvbCk7XG4gIH1cbn1cblxubGV0IGVtcHR5Vm5vZGUgPSBuZXcgVm5vZGUoXCJfX2VtcHR5X19cIiwge30sIFtdKTtcblxuZnVuY3Rpb24gb25yZW1vdmUodm5vZGU6IElWbm9kZSkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgdm5vZGUuY2hpbGRyZW5baV0udGFnICE9PSBUZXh0U3RyaW5nICYmIG9ucmVtb3ZlKHZub2RlLmNoaWxkcmVuW2ldKTtcbiAgfVxuXG4gIHZub2RlLnByb3BzLm9ucmVtb3ZlICYmIHZub2RlLnByb3BzLm9ucmVtb3ZlKHZub2RlKTtcbn1cblxuZnVuY3Rpb24gc2hhcmVkU2V0QXR0cmlidXRlKHByb3A6IHN0cmluZywgdmFsdWU6IGFueSwgdm5vZGU6IFZub2RlV2l0aERvbSwgb2xkVm5vZGU/OiBWbm9kZVdpdGhEb20pOiB2b2lkIHwgYm9vbGVhbiB7XG4gIC8vIEl0IGlzIGEgcmVzZXJ2ZWQgcHJvcFxuICBpZiAocmVzZXJ2ZWRQcm9wc1twcm9wXSkge1xuICAgIC8vIElmIGl0IGlzIGEgZGlyZWN0aXZlIG5hbWUgY2FsbCB0aGUgZGlyZWN0aXZlXG4gICAgaWYgKGRpcmVjdGl2ZXNbcHJvcF0pIHtcbiAgICAgIHJldHVybiBkaXJlY3RpdmVzW3Byb3BdKHZub2RlLnByb3BzW3Byb3BdLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEl0IGlzIG5vdCBhIHJlc2VydmVkIHByb3Agc28gd2UgYWRkIGl0IHRvIHRoZSBkb21cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgbGV0IHZhbHlyaWFuQXBwID0gY3VycmVudC5hcHAgYXMgTW91bnRlZFZhbHlyaWFuQXBwO1xuICAgIGlmIChwcm9wIGluIHZhbHlyaWFuQXBwLmV2ZW50TGlzdGVuZXJOYW1lcyA9PT0gZmFsc2UpIHtcbiAgICAgIHZhbHlyaWFuQXBwLmV2ZW50TGlzdGVuZXJOYW1lc1twcm9wXSA9IHRydWU7XG4gICAgICB2YWx5cmlhbkFwcC5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihwcm9wLnNsaWNlKDIpLCB2YWx5cmlhbkFwcC5ldmVudExpc3RlbmVyKTtcbiAgICB9XG4gICAgdm5vZGUuZG9tW2B2LSR7cHJvcH1gXSA9IHZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChwcm9wIGluIHZub2RlLmRvbSAmJiB2bm9kZS5pc1NWRyA9PT0gZmFsc2UpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgaWYgKHZub2RlLmRvbVtwcm9wXSAhPSB2YWx1ZSkge1xuICAgICAgdm5vZGUuZG9tW3Byb3BdID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFVzZSBzZXQgYXR0cmlidXRlXG4gIGlmICghb2xkVm5vZGUgfHwgb2xkVm5vZGUucHJvcHNbcHJvcF0gIT09IHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgdm5vZGUuZG9tLnJlbW92ZUF0dHJpYnV0ZShwcm9wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm5vZGUuZG9tLnNldEF0dHJpYnV0ZShwcm9wLCB2YWx1ZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55LCB2bm9kZTogVm5vZGVXaXRoRG9tLCBvbGRWbm9kZT86IFZub2RlV2l0aERvbSkge1xuICB2bm9kZS5wcm9wc1tuYW1lXSA9IHZhbHVlO1xuXG4gIHNoYXJlZFNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgdm5vZGUsIG9sZFZub2RlKTtcbn1cblxuZnVuY3Rpb24gc2V0QXR0cmlidXRlcyh2bm9kZTogVm5vZGVXaXRoRG9tLCBvbGRWbm9kZT86IFZub2RlV2l0aERvbSkge1xuICBmb3IgKGxldCBwcm9wIGluIHZub2RlLnByb3BzKSB7XG4gICAgaWYgKHNoYXJlZFNldEF0dHJpYnV0ZShwcm9wLCB2bm9kZS5wcm9wc1twcm9wXSwgdm5vZGUsIG9sZFZub2RlKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBpZiAob2xkVm5vZGUpIHtcbiAgICBmb3IgKGxldCBwcm9wIGluIG9sZFZub2RlLnByb3BzKSB7XG4gICAgICBpZiAocHJvcCBpbiB2bm9kZS5wcm9wcyA9PT0gZmFsc2UgJiYgdHlwZW9mIG9sZFZub2RlLnByb3BzW3Byb3BdICE9PSBcImZ1bmN0aW9uXCIgJiYgcHJvcCBpbiByZXNlcnZlZFByb3BzID09PSBmYWxzZSkge1xuICAgICAgICBpZiAocHJvcCBpbiBvbGRWbm9kZS5kb20gJiYgdm5vZGUuaXNTVkcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgb2xkVm5vZGUuZG9tW3Byb3BdID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbGRWbm9kZS5kb20ucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiBwYXRjaChuZXdWbm9kZTogVm5vZGVXaXRoRG9tLCBvbGRWbm9kZTogVm5vZGVXaXRoRG9tIHwgSVZub2RlID0gZW1wdHlWbm9kZSwgdmFseXJpYW5BcHA6IE1vdW50ZWRWYWx5cmlhbkFwcCkge1xuICBjdXJyZW50LnZub2RlID0gbmV3Vm5vZGU7XG4gIGN1cnJlbnQub2xkVm5vZGUgPSBvbGRWbm9kZSA9PT0gZW1wdHlWbm9kZSA/IFVuZCA6IChvbGRWbm9kZSBhcyBWbm9kZVdpdGhEb20pO1xuICBsZXQgbmV3VHJlZSA9IG5ld1Zub2RlLmNoaWxkcmVuO1xuICBsZXQgb2xkVHJlZSA9IG9sZFZub2RlLmNoaWxkcmVuO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VHJlZS5sZW5ndGg7IGkrKykge1xuICAgIGxldCBjaGlsZFZub2RlID0gbmV3VHJlZVtpXTtcbiAgICBpZiAoY2hpbGRWbm9kZSBpbnN0YW5jZW9mIFZub2RlKSB7XG4gICAgICBpZiAoY2hpbGRWbm9kZS50YWcgIT09IFRleHRTdHJpbmcpIHtcbiAgICAgICAgaWYgKGNoaWxkVm5vZGUudGFnID09PSBDb21wb25lbnRTdHJpbmcpIHtcbiAgICAgICAgICBsZXQgY29tcG9uZW50ID0gY2hpbGRWbm9kZS5jb21wb25lbnQgYXMgVmFseXJpYW5Db21wb25lbnQ7XG4gICAgICAgICAgY3VycmVudC5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IChcInZpZXdcIiBpbiBjb21wb25lbnQgPyBjb21wb25lbnQudmlldyA6IGNvbXBvbmVudCkuY2FsbChjb21wb25lbnQsIGNoaWxkVm5vZGUucHJvcHMsIC4uLmNoaWxkVm5vZGUuY2hpbGRyZW4pO1xuXG4gICAgICAgICAgbmV3VHJlZS5zcGxpY2UoaS0tLCAxLCByZXN1bHQpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkVm5vZGUuaXNTVkcgPSBuZXdWbm9kZS5pc1NWRyB8fCBjaGlsZFZub2RlLnRhZyA9PT0gXCJzdmdcIjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRWbm9kZSkpIHtcbiAgICAgIG5ld1RyZWUuc3BsaWNlKGktLSwgMSwgLi4uY2hpbGRWbm9kZSk7XG4gICAgfSBlbHNlIGlmIChjaGlsZFZub2RlID09PSBudWxsIHx8IGNoaWxkVm5vZGUgPT09IFVuZCkge1xuICAgICAgbmV3VHJlZS5zcGxpY2UoaS0tLCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3VHJlZVtpXSA9IG5ldyBWbm9kZShUZXh0U3RyaW5nLCB7fSwgW10pO1xuICAgICAgbmV3VHJlZVtpXS5ub2RlVmFsdWUgPSBjaGlsZFZub2RlO1xuICAgIH1cbiAgfVxuXG4gIGxldCBvbGRUcmVlTGVuZ3RoID0gb2xkVHJlZS5sZW5ndGg7XG4gIGxldCBuZXdUcmVlTGVuZ3RoID0gbmV3VHJlZS5sZW5ndGg7XG5cbiAgLy8gSWYgbmV3IHRyZWUgaXMgZW1wdHksIHJlbW92ZSBhbGwgb2xkIG5vZGVzXG4gIGlmIChuZXdUcmVlTGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbGRUcmVlTGVuZ3RoOyBpKyspIHtcbiAgICAgIG9sZFRyZWVbaV0udGFnICE9PSBUZXh0U3RyaW5nICYmIG9ucmVtb3ZlKG9sZFRyZWVbaV0pO1xuICAgIH1cblxuICAgIG5ld1Zub2RlLmRvbS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSWYgdGhlIHRyZWUgaXMga2V5ZWQgbGlzdCBhbmQgaXMgbm90IGZpcnN0IHJlbmRlciBhbmQgb2xkIHRyZWUgaXMga2V5ZWQgbGlzdCB0b29cbiAgaWYgKG9sZFRyZWVMZW5ndGggJiYgXCJrZXlcIiBpbiBuZXdUcmVlWzBdLnByb3BzICYmIFwia2V5XCIgaW4gb2xkVHJlZVswXS5wcm9wcykge1xuICAgIGxldCBvbGRLZXllZExpc3Q6IHtba2V5OiBzdHJpbmddOiBudW1iZXJ9ID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbGRUcmVlTGVuZ3RoOyBpKyspIHtcbiAgICAgIG9sZEtleWVkTGlzdFtvbGRUcmVlW2ldLnByb3BzLmtleV0gPSBpO1xuICAgIH1cblxuICAgIGxldCBuZXdLZXllZExpc3Q6IHtba2V5OiBzdHJpbmddOiBudW1iZXJ9ID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdUcmVlTGVuZ3RoOyBpKyspIHtcbiAgICAgIG5ld0tleWVkTGlzdFtuZXdUcmVlW2ldLnByb3BzLmtleV0gPSBpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgY2hpbGRWbm9kZSA9IG5ld1RyZWVbaV07XG4gICAgICBsZXQgb2xkQ2hpbGRWbm9kZSA9IG9sZFRyZWVbb2xkS2V5ZWRMaXN0W2NoaWxkVm5vZGUucHJvcHMua2V5XV07XG4gICAgICBsZXQgc2hvdWxkUGF0Y2ggPSB0cnVlO1xuXG4gICAgICBpZiAob2xkQ2hpbGRWbm9kZSkge1xuICAgICAgICBjaGlsZFZub2RlLmRvbSA9IG9sZENoaWxkVm5vZGUuZG9tO1xuICAgICAgICBpZiAoXCJ2LW9uY2VcIiBpbiBjaGlsZFZub2RlLnByb3BzIHx8IChjaGlsZFZub2RlLnByb3BzLnNob3VsZHVwZGF0ZSAmJiBjaGlsZFZub2RlLnByb3BzLnNob3VsZHVwZGF0ZShjaGlsZFZub2RlLCBvbGRDaGlsZFZub2RlKSA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgLy8gc2tpcCB0aGlzIHBhdGNoXG4gICAgICAgICAgY2hpbGRWbm9kZS5jaGlsZHJlbiA9IG9sZENoaWxkVm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgc2hvdWxkUGF0Y2ggPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRBdHRyaWJ1dGVzKGNoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICAgIGlmICh2YWx5cmlhbkFwcC5pc01vdW50ZWQpIHtcbiAgICAgICAgICAgIGNoaWxkVm5vZGUucHJvcHMub251cGRhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5vbnVwZGF0ZShjaGlsZFZub2RlLCBvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZSAmJiBjaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlKGNoaWxkVm5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGRWbm9kZS5kb20gPSBjcmVhdGVEb21FbGVtZW50KGNoaWxkVm5vZGUudGFnLCBjaGlsZFZub2RlLmlzU1ZHKTtcbiAgICAgICAgc2V0QXR0cmlidXRlcyhjaGlsZFZub2RlKTtcbiAgICAgICAgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZSAmJiBjaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlKGNoaWxkVm5vZGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAobmV3Vm5vZGUuZG9tLmNoaWxkTm9kZXNbaV0gPT09IFVuZCkge1xuICAgICAgICBuZXdWbm9kZS5kb20uYXBwZW5kQ2hpbGQoY2hpbGRWbm9kZS5kb20pO1xuICAgICAgfSBlbHNlIGlmIChuZXdWbm9kZS5kb20uY2hpbGROb2Rlc1tpXSAhPT0gY2hpbGRWbm9kZS5kb20pIHtcbiAgICAgICAgb2xkVHJlZVtpXSAmJiBuZXdLZXllZExpc3Rbb2xkVHJlZVtpXS5wcm9wcy5rZXldID09PSBVbmQgJiYgb25yZW1vdmUob2xkVHJlZVtpXSk7XG4gICAgICAgIG5ld1Zub2RlLmRvbS5yZXBsYWNlQ2hpbGQoY2hpbGRWbm9kZS5kb20sIG5ld1Zub2RlLmRvbS5jaGlsZE5vZGVzW2ldKTtcbiAgICAgIH1cblxuICAgICAgc2hvdWxkUGF0Y2ggJiYgcGF0Y2goY2hpbGRWbm9kZSwgb2xkQ2hpbGRWbm9kZSwgdmFseXJpYW5BcHApO1xuICAgIH1cblxuICAgIC8vIEZvciB0aGUgcmVzdCBvZiB0aGUgY2hpbGRyZW4sIHdlIHNob3VsZCByZW1vdmUgdGhlbVxuICAgIGZvciAobGV0IGkgPSBuZXdUcmVlTGVuZ3RoOyBpIDwgb2xkVHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobmV3S2V5ZWRMaXN0W29sZFRyZWVbaV0ucHJvcHMua2V5XSA9PT0gVW5kKSB7XG4gICAgICAgIGxldCBvbGRDaGlsZFZub2RlID0gb2xkVHJlZVtpXTtcbiAgICAgICAgb25yZW1vdmUob2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgIG9sZENoaWxkVm5vZGUuZG9tLnBhcmVudE5vZGUgJiYgb2xkQ2hpbGRWbm9kZS5kb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvbGRDaGlsZFZub2RlLmRvbSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSWYgbmV3IHRyZWUgYW5kIG9sZCB0cmVlIGhhdmUgbW9yZSB0aGFuIG9uZSBjaGlsZCwgd2Ugc2hvdWxkIHVwZGF0ZSB0aGUgZG9tXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG5ld0NoaWxkVm5vZGUgPSBuZXdUcmVlW2ldO1xuXG4gICAgLy8gT2xkIGNoaWxkIGV4aXN0c1xuICAgIGlmIChpIDwgb2xkVHJlZUxlbmd0aCkge1xuICAgICAgbGV0IG9sZENoaWxkVm5vZGUgPSBvbGRUcmVlW2ldO1xuICAgICAgLy8gTmV3IGNoaWxkIGlzIGEgdGV4dCBub2RlXG4gICAgICBpZiAobmV3Q2hpbGRWbm9kZS50YWcgPT09IFRleHRTdHJpbmcpIHtcbiAgICAgICAgLy8gT2xkIGNoaWxkIGlzIGEgdGV4dCBub2RlXG4gICAgICAgIGlmIChvbGRDaGlsZFZub2RlLnRhZyA9PT0gVGV4dFN0cmluZykge1xuICAgICAgICAgIG5ld0NoaWxkVm5vZGUuZG9tID0gb2xkQ2hpbGRWbm9kZS5kb207XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgIGlmIChuZXdDaGlsZFZub2RlLmRvbS5ub2RlVmFsdWUgIT0gbmV3Q2hpbGRWbm9kZS5ub2RlVmFsdWUpIHtcbiAgICAgICAgICAgIG5ld0NoaWxkVm5vZGUuZG9tLm5vZGVWYWx1ZSA9IG5ld0NoaWxkVm5vZGUubm9kZVZhbHVlIGFzIHN0cmluZztcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPbGQgY2hpbGQgaXMgYSBub3JtYWwgbm9kZVxuICAgICAgICBuZXdDaGlsZFZub2RlLmRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5ld0NoaWxkVm5vZGUubm9kZVZhbHVlIGFzIHN0cmluZykgYXMgdW5rbm93biBhcyBEb21FbGVtZW50O1xuICAgICAgICBvbnJlbW92ZShvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgbmV3Vm5vZGUuZG9tLnJlcGxhY2VDaGlsZChuZXdDaGlsZFZub2RlLmRvbSwgb2xkQ2hpbGRWbm9kZS5kb20pO1xuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBOZXcgY2hpbGQgaXMgYSBub3JtYWwgbm9kZVxuICAgICAgLy8gT2xkIGNoaWxkIGlzIHRoZSBzYW1lIHR5cGUgYXMgbmV3IGNoaWxkXG4gICAgICBpZiAob2xkQ2hpbGRWbm9kZS50YWcgPT09IG5ld0NoaWxkVm5vZGUudGFnKSB7XG4gICAgICAgIG5ld0NoaWxkVm5vZGUuZG9tID0gb2xkQ2hpbGRWbm9kZS5kb207XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSB2LW9uY2UgZGlyZWN0aXZlIG9yIGEgc2hvdWxkdXBkYXRlIG1ldGhvZCB0aGF0IHJldHVybnMgZmFsc2UsIHdlIHNraXAgdGhlIHVwZGF0ZVxuICAgICAgICBpZiAobmV3Q2hpbGRWbm9kZS5wcm9wc1tcInYtb25jZVwiXSB8fCAobmV3Q2hpbGRWbm9kZS5wcm9wcy5zaG91bGR1cGRhdGUgJiYgbmV3Q2hpbGRWbm9kZS5wcm9wcy5zaG91bGR1cGRhdGUobmV3Q2hpbGRWbm9kZSwgb2xkQ2hpbGRWbm9kZSkgPT09IGZhbHNlKSkge1xuICAgICAgICAgIG5ld0NoaWxkVm5vZGUuY2hpbGRyZW4gPSBvbGRDaGlsZFZub2RlLmNoaWxkcmVuO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2UgdXBkYXRlIHRoZSBkb20gZWxlbWVudFxuICAgICAgICBzZXRBdHRyaWJ1dGVzKG5ld0NoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICBpZiAodmFseXJpYW5BcHAuaXNNb3VudGVkKSB7XG4gICAgICAgICAgbmV3Q2hpbGRWbm9kZS5wcm9wcy5vbnVwZGF0ZSAmJiBuZXdDaGlsZFZub2RlLnByb3BzLm9udXBkYXRlKG5ld0NoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0NoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgbmV3Q2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShuZXdDaGlsZFZub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhdGNoKG5ld0NoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUsIHZhbHlyaWFuQXBwKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIE9sZCBjaGlsZCBpcyBvZiBhIGRpZmZlcmVudCB0eXBlIHRoYW4gbmV3IGNoaWxkXG4gICAgICBuZXdDaGlsZFZub2RlLmRvbSA9IGNyZWF0ZURvbUVsZW1lbnQobmV3Q2hpbGRWbm9kZS50YWcsIG5ld0NoaWxkVm5vZGUuaXNTVkcpO1xuICAgICAgc2V0QXR0cmlidXRlcyhuZXdDaGlsZFZub2RlKTtcbiAgICAgIG9sZENoaWxkVm5vZGUudGFnICE9PSBUZXh0U3RyaW5nICYmIG9ucmVtb3ZlKG9sZENoaWxkVm5vZGUpO1xuICAgICAgbmV3Q2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZSAmJiBuZXdDaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlKG5ld0NoaWxkVm5vZGUpO1xuICAgICAgbmV3Vm5vZGUuZG9tLnJlcGxhY2VDaGlsZChuZXdDaGlsZFZub2RlLmRvbSwgb2xkQ2hpbGRWbm9kZS5kb20pO1xuICAgICAgcGF0Y2gobmV3Q2hpbGRWbm9kZSwgZW1wdHlWbm9kZSwgdmFseXJpYW5BcHApO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gT2xkIGNoaWxkIGRvZXMgbm90IGV4aXN0c1xuICAgIC8vIE5ldyBjaGlsZCBpcyBhIHRleHQgbm9kZVxuICAgIGlmIChuZXdDaGlsZFZub2RlLnRhZyA9PT0gVGV4dFN0cmluZykge1xuICAgICAgbmV3Q2hpbGRWbm9kZS5kb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuZXdDaGlsZFZub2RlLm5vZGVWYWx1ZSBhcyBzdHJpbmcpIGFzIHVua25vd24gYXMgRG9tRWxlbWVudDtcbiAgICAgIG5ld1Zub2RlLmRvbS5hcHBlbmRDaGlsZChuZXdDaGlsZFZub2RlLmRvbSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBOZXcgY2hpbGQgaXMgYSBub3JtYWwgbm9kZVxuICAgIG5ld0NoaWxkVm5vZGUuZG9tID0gY3JlYXRlRG9tRWxlbWVudChuZXdDaGlsZFZub2RlLnRhZywgbmV3Q2hpbGRWbm9kZS5pc1NWRyk7XG4gICAgc2V0QXR0cmlidXRlcyhuZXdDaGlsZFZub2RlKTtcbiAgICBuZXdWbm9kZS5kb20uYXBwZW5kQ2hpbGQobmV3Q2hpbGRWbm9kZS5kb20pO1xuICAgIG5ld0NoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgbmV3Q2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShuZXdDaGlsZFZub2RlKTtcbiAgICBwYXRjaChuZXdDaGlsZFZub2RlLCBlbXB0eVZub2RlLCB2YWx5cmlhbkFwcCk7XG4gIH1cblxuICAvLyBGb3IgdGhlIHJlc3Qgb2YgdGhlIGNoaWxkcmVuLCB3ZSBzaG91bGQgcmVtb3ZlIHRoZW1cbiAgZm9yIChsZXQgaSA9IG5ld1RyZWVMZW5ndGg7IGkgPCBvbGRUcmVlTGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgb2xkQ2hpbGRWbm9kZSA9IG9sZFRyZWVbaV07XG4gICAgb2xkQ2hpbGRWbm9kZS50YWcgIT09IFRleHRTdHJpbmcgJiYgb25yZW1vdmUob2xkQ2hpbGRWbm9kZSk7XG4gICAgb2xkQ2hpbGRWbm9kZS5kb20ucGFyZW50Tm9kZSAmJiBvbGRDaGlsZFZub2RlLmRvbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9sZENoaWxkVm5vZGUuZG9tKTtcbiAgfVxufVxuXG4vKioqIERpcmVjdGl2ZXMgKioqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGlyZWN0aXZlKG5hbWU6IHN0cmluZywgZGlyZWN0aXZlOiBEaXJlY3RpdmUpIHtcbiAgbGV0IGZ1bGxOYW1lID0gYHYtJHtuYW1lfWA7XG4gIGRpcmVjdGl2ZXNbZnVsbE5hbWVdID0gZGlyZWN0aXZlO1xuICByZXNlcnZlZFByb3BzW2Z1bGxOYW1lXSA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIGhpZGVEaXJlY3RpdmUodGVzdDogYm9vbGVhbik6IERpcmVjdGl2ZSB7XG4gIHJldHVybiAoYm9vbDogYm9vbGVhbiwgdm5vZGU6IElWbm9kZSwgb2xkVm5vZGU/OiBJVm5vZGUpID0+IHtcbiAgICBsZXQgdmFsdWUgPSB0ZXN0ID8gYm9vbCA6ICFib29sO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgbGV0IG5ld2RvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO1xuICAgICAgaWYgKG9sZFZub2RlICYmIG9sZFZub2RlLmRvbSAmJiBvbGRWbm9kZS5kb20ucGFyZW50Tm9kZSkge1xuICAgICAgICBvbGRWbm9kZS50YWcgIT09IFRleHRTdHJpbmcgJiYgb25yZW1vdmUob2xkVm5vZGUpO1xuICAgICAgICBvbGRWbm9kZS5kb20ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3ZG9tLCBvbGRWbm9kZS5kb20pO1xuICAgICAgfVxuICAgICAgdm5vZGUudGFnID0gVGV4dFN0cmluZztcbiAgICAgIHZub2RlLmNoaWxkcmVuID0gW107XG4gICAgICB2bm9kZS5wcm9wcyA9IHt9O1xuICAgICAgdm5vZGUuZG9tID0gbmV3ZG9tIGFzIHVua25vd24gYXMgRG9tRWxlbWVudDtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IGRpcmVjdGl2ZXM6IERpcmVjdGl2ZXMgPSB7XG4gIFwidi1pZlwiOiBoaWRlRGlyZWN0aXZlKGZhbHNlKSxcbiAgXCJ2LXVubGVzc1wiOiBoaWRlRGlyZWN0aXZlKHRydWUpLFxuICBcInYtZm9yXCI6IChzZXQ6IHVua25vd25bXSwgdm5vZGU6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgIHZub2RlLmNoaWxkcmVuID0gc2V0Lm1hcCh2bm9kZS5jaGlsZHJlblswXSBhcyAodmFsdWU6IHVua25vd24pID0+IEZ1bmN0aW9uKTtcbiAgfSxcbiAgXCJ2LXNob3dcIjogKGJvb2w6IGJvb2xlYW4sIHZub2RlOiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICAodm5vZGUuZG9tIGFzIHVua25vd24gYXMgeyBzdHlsZTogeyBkaXNwbGF5OiBzdHJpbmcgfSB9KS5zdHlsZS5kaXNwbGF5ID0gYm9vbCA/IFwiXCIgOiBcIm5vbmVcIjtcbiAgfSxcbiAgXCJ2LWNsYXNzXCI6IChjbGFzc2VzOiB7IFt4OiBzdHJpbmddOiBib29sZWFuIH0sIHZub2RlOiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICBmb3IgKGxldCBuYW1lIGluIGNsYXNzZXMpIHtcbiAgICAgICh2bm9kZS5kb20gYXMgRG9tRWxlbWVudCkuY2xhc3NMaXN0LnRvZ2dsZShuYW1lLCBjbGFzc2VzW25hbWVdKTtcbiAgICB9XG4gIH0sXG4gIFwidi1odG1sXCI6IChodG1sOiBzdHJpbmcsIHZub2RlOiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICB2bm9kZS5jaGlsZHJlbiA9IFt0cnVzdChodG1sKV07XG4gIH0sXG4gIFwidi1tb2RlbFwiOiAoW21vZGVsLCBwcm9wZXJ0eSwgZXZlbnRdOiBhbnlbXSwgdm5vZGU6IFZub2RlV2l0aERvbSwgb2xkVm5vZGU/OiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICBsZXQgdmFsdWU7XG4gICAgbGV0IGhhbmRsZXI7XG4gICAgaWYgKHZub2RlLm5hbWUgPT09IFwiaW5wdXRcIikge1xuICAgICAgZXZlbnQgPSBldmVudCB8fCBcIm9uaW5wdXRcIjtcbiAgICAgIHN3aXRjaCAodm5vZGUucHJvcHMudHlwZSkge1xuICAgICAgICBjYXNlIFwiY2hlY2tib3hcIjoge1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG1vZGVsW3Byb3BlcnR5XSkpIHtcbiAgICAgICAgICAgIGhhbmRsZXIgPSAoZTogRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgbGV0IHZhbCA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWU7XG4gICAgICAgICAgICAgIGxldCBpZHggPSBtb2RlbFtwcm9wZXJ0eV0uaW5kZXhPZih2YWwpO1xuICAgICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFsdWUgPSBtb2RlbFtwcm9wZXJ0eV0uaW5kZXhPZih2bm9kZS5kb20udmFsdWUpICE9PSAtMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiB2bm9kZS5wcm9wcykge1xuICAgICAgICAgICAgaGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKG1vZGVsW3Byb3BlcnR5XSA9PT0gdm5vZGUucHJvcHMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0gPSBudWxsO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XSA9IHZub2RlLnByb3BzLnZhbHVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFsdWUgPSBtb2RlbFtwcm9wZXJ0eV0gPT09IHZub2RlLnByb3BzLnZhbHVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVyID0gKCkgPT4gKG1vZGVsW3Byb3BlcnR5XSA9ICFtb2RlbFtwcm9wZXJ0eV0pO1xuICAgICAgICAgICAgdmFsdWUgPSBtb2RlbFtwcm9wZXJ0eV07XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldEF0dHJpYnV0ZShcImNoZWNrZWRcIiwgdmFsdWUsIHZub2RlLCBvbGRWbm9kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInJhZGlvXCI6IHtcbiAgICAgICAgICBzZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsIG1vZGVsW3Byb3BlcnR5XSA9PT0gdm5vZGUuZG9tLnZhbHVlLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBzZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBtb2RlbFtwcm9wZXJ0eV0sIHZub2RlLCBvbGRWbm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZub2RlLm5hbWUgPT09IFwic2VsZWN0XCIpIHtcbiAgICAgIGV2ZW50ID0gZXZlbnQgfHwgXCJvbmNsaWNrXCI7XG4gICAgICBpZiAodm5vZGUucHJvcHMubXVsdGlwbGUpIHtcbiAgICAgICAgaGFuZGxlciA9IChlOiBFdmVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pID0+IHtcbiAgICAgICAgICBsZXQgdmFsID0gKGUudGFyZ2V0IGFzIERvbUVsZW1lbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+KS52YWx1ZTtcbiAgICAgICAgICBpZiAoZS5jdHJsS2V5KSB7XG4gICAgICAgICAgICBsZXQgaWR4ID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsKTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5zcGxpY2UoMCwgbW9kZWxbcHJvcGVydHldLmxlbmd0aCk7XG4gICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0ucHVzaCh2YWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IElWbm9kZSkgPT4ge1xuICAgICAgICAgIGlmIChjaGlsZC50YWcgPT09IFwib3B0aW9uXCIpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IFwidmFsdWVcIiBpbiBjaGlsZC5wcm9wcyA/IGNoaWxkLnByb3BzLnZhbHVlIDogY2hpbGQuY2hpbGRyZW4uam9pbihcIlwiKS50cmltKCk7XG4gICAgICAgICAgICBjaGlsZC5wcm9wcy5zZWxlY3RlZCA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBJVm5vZGUpID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudGFnID09PSBcIm9wdGlvblwiKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBcInZhbHVlXCIgaW4gY2hpbGQucHJvcHMgPyBjaGlsZC5wcm9wcy52YWx1ZSA6IGNoaWxkLmNoaWxkcmVuLmpvaW4oXCJcIikudHJpbSgpO1xuICAgICAgICAgICAgY2hpbGQucHJvcHMuc2VsZWN0ZWQgPSB2YWx1ZSA9PT0gbW9kZWxbcHJvcGVydHldO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2bm9kZS5uYW1lID09PSBcInRleHRhcmVhXCIpIHtcbiAgICAgIGV2ZW50ID0gZXZlbnQgfHwgXCJvbmlucHV0XCI7XG4gICAgICB2bm9kZS5jaGlsZHJlbiA9IFttb2RlbFtwcm9wZXJ0eV1dO1xuICAgIH1cblxuICAgIGlmICghdm5vZGUucHJvcHNbZXZlbnRdKSB7XG4gICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgaGFuZGxlciA9IChlOiBFdmVudCkgPT4gKG1vZGVsW3Byb3BlcnR5XSA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWUpO1xuICAgICAgfVxuICAgICAgc2V0QXR0cmlidXRlKGV2ZW50LCBoYW5kbGVyLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqKiBQbHVnaW5zICoqKi9cbmNvbnN0IHBsdWdpbnMgPSBuZXcgTWFwPFBsdWdpbiwgYW55PigpO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlKHBsdWdpbjogUGx1Z2luLCBvcHRpb25zPzogUmVjb3JkPHN0cmluZyB8IG51bWJlciB8IHN5bWJvbCwgYW55Pik6IHZvaWQgfCBhbnkge1xuICBpZiAocGx1Z2lucy5oYXMocGx1Z2luKSkge1xuICAgIHJldHVybiBwbHVnaW5zLmdldChwbHVnaW4pO1xuICB9XG5cbiAgbGV0IHJlc3VsdCA9IHBsdWdpbih2LCBvcHRpb25zKTtcbiAgcGx1Z2lucy5zZXQocGx1Z2luLCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKioqIEh5cGVyc2NyaXB0ICoqKi9cblxuZXhwb3J0IGNvbnN0IHY6IFZhbHlyaWFuID0gZnVuY3Rpb24gdih0YWdPckNvbXBvbmVudDogc3RyaW5nIHwgVmFseXJpYW5Db21wb25lbnQsIHByb3BzOiBQcm9wcywgLi4uY2hpbGRyZW46IENoaWxkcmVuKTogSVZub2RlIHwgVm5vZGVDb21wb25lbnQge1xuICBpZiAodHlwZW9mIHRhZ09yQ29tcG9uZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIG5ldyBWbm9kZSh0YWdPckNvbXBvbmVudCwgcHJvcHMgfHwge30sIGNoaWxkcmVuKTtcbiAgfVxuXG4gIGNvbnN0IHZub2RlID0gbmV3IFZub2RlKFwiX19jb21wb25lbnRfX1wiLCBwcm9wcyB8fCB7fSwgY2hpbGRyZW4pO1xuICB2bm9kZS5jb21wb25lbnQgPSB0YWdPckNvbXBvbmVudDtcbiAgcmV0dXJuIHZub2RlIGFzIFZub2RlQ29tcG9uZW50O1xufTtcblxudi5mcmFnbWVudCA9IChwcm9wczogUHJvcHMsIC4uLmNoaWxkcmVuOiBDaGlsZHJlbik6IENoaWxkcmVuID0+IHtcbiAgcmV0dXJuIGNoaWxkcmVuO1xufTtcblxuLyoqKiBWIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgKioqL1xuLy8gVGhpcyBpcyBpbnRlbmRlZCB0byBtYWtlIHRoZSBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIGF2YWlsYWJsZSBmb3IgcGx1Z2luc1xudi5jdXJyZW50ID0gY3VycmVudDtcblxudi5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcblxudi5yZXNlcnZlZFByb3BzID0gcmVzZXJ2ZWRQcm9wcztcblxudi5pc1Zub2RlID0gaXNWbm9kZTtcbnYuaXNDb21wb25lbnQgPSBpc0NvbXBvbmVudDtcbnYuaXNWbm9kZUNvbXBvbmVudCA9IGlzVm5vZGVDb21wb25lbnQ7XG5cbnYuaXNOb2RlSnMgPSBpc05vZGVKcztcbnYudHJ1c3QgPSB0cnVzdDtcblxudi5vbkNsZWFudXAgPSBvbkNsZWFudXA7XG52Lm9uVW5tb3VudCA9IG9uVW5tb3VudDtcbnYub25Nb3VudCA9IG9uTW91bnQ7XG52Lm9uVXBkYXRlID0gb25VcGRhdGU7XG5cbnYubW91bnQgPSBtb3VudDtcbnYudW5tb3VudCA9IHVubW91bnQ7XG52LnVwZGF0ZSA9IHVwZGF0ZTtcblxudi5zZXRBdHRyaWJ1dGUgPSBzZXRBdHRyaWJ1dGU7XG52LmRpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcbnYudXNlID0gdXNlO1xuIl19