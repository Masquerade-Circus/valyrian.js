//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc05vZGVKcyIsIkJvb2xlYW4iLCJwcm9jZXNzIiwidmVyc2lvbnMiLCJub2RlIiwiVm5vZGUiLCJjb25zdHJ1Y3RvciIsInRhZyIsInByb3BzIiwiY2hpbGRyZW4iLCJkb20iLCJpc1NWRyIsInRoaXMiLCJpc0NvbXBvbmVudCIsImNvbXBvbmVudCIsImlzVm5vZGUiLCJvYmplY3QiLCJpc1Zub2RlQ29tcG9uZW50IiwidiIsInRhZ09yQ29tcG9uZW50IiwiZG9tVG9Wbm9kZSIsIm5vZGVUeXBlIiwibm9kZVZhbHVlIiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsImkiLCJsIiwiY2hpbGROb2RlcyIsImxlbmd0aCIsImNoaWxkRG9tIiwicHVzaCIsImNoaWxkVm5vZGUiLCJhdHRyaWJ1dGVzIiwiYXR0ciIsInZub2RlIiwidHJ1c3QiLCJodG1sU3RyaW5nIiwiZGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaW5uZXJIVE1MIiwidHJpbSIsIkFycmF5IiwiZnJvbSIsIm1hcCIsImZyYWdtZW50IiwiXyIsIm1haW5Db21wb25lbnQiLCJtYWluVm5vZGUiLCJpc01vdW50ZWQiLCJjdXJyZW50IiwiZXZlbnQiLCJyZXNlcnZlZFByb3BzIiwiU2V0Iiwib25DbGVhbnVwU2V0Iiwib25Nb3VudFNldCIsIm9uVXBkYXRlU2V0Iiwib25Vbm1vdW50U2V0Iiwib25DbGVhbnVwIiwiY2FsbGJhY2siLCJhZGQiLCJjYWxsU2V0Iiwic2V0IiwiY2xlYXIiLCJoYW5kbGVWSWYiLCJzaG91bGRSZW5kZXIiLCJ2YWx1ZSIsInBhcmVudE5vZGUiLCJuZXdkb20iLCJjcmVhdGVUZXh0Tm9kZSIsInJlcGxhY2VDaGlsZCIsImRpcmVjdGl2ZXMiLCJib29sIiwic3R5bGUiLCJkaXNwbGF5IiwidmFsIiwibW9kZWwiLCJwcm9wZXJ0eSIsImhhbmRsZXIiLCJlIiwidGFyZ2V0IiwidHlwZSIsImlzQXJyYXkiLCJpZHgiLCJpbmRleE9mIiwic3BsaWNlIiwic2hhcmVkU2V0QXR0cmlidXRlIiwibXVsdGlwbGUiLCJjdHJsS2V5IiwiZm9yRWFjaCIsImNoaWxkIiwiam9pbiIsInNlbGVjdGVkIiwicHJldkhhbmRsZXIiLCJvbGRQcm9wcyIsImNsZWFudXAiLCJjbGFzc05hbWUiLCJjbGFzc0xpc3QiLCJuYW1lIiwidG9nZ2xlIiwiY2xhc3MiLCJpZCIsImRvbVN0eWxlIiwiZXZlbnRMaXN0ZW5lck5hbWVzIiwiZXZlbnRMaXN0ZW5lciIsImRlZmF1bHRQcmV2ZW50ZWQiLCJ1cGRhdGUiLCJuZXdWbm9kZSIsIm5ld1Zub2RlRG9tIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiaGFzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNsaWNlIiwiYWRkUHJvcGVydGllcyIsInZub2RlUHJvcHMiLCJ1cGRhdGVBdHRyaWJ1dGVzIiwidm5vZGVEb20iLCJyZW1vdmVBdHRyaWJ1dGVzIiwiY3JlYXRlRWxlbWVudE5TIiwiZmxhdFRyZWUiLCJuZXdDaGlsZCIsInZpZXciLCJiaW5kIiwiaGFuZGxlVkZvciIsImNyZWF0ZU5ld0VsZW1lbnQiLCJvbGRDaGlsZCIsImFwcGVuZENoaWxkIiwidGV4dENvbnRlbnQiLCJwYXRjaCIsIm9sZERvbUNoaWxkcmVuIiwib2xkQ2hpbGRyZW5MZW5ndGgiLCJmaXJzdE9sZFByb3BzIiwiZmlyc3RWbm9kZSIsIm9sZFRyZWUiLCJvbGRLZXllZExpc3QiLCJuZXdLZXllZExpc3QiLCJrZXkiLCJjdXJyZW50Q2hpbGQiLCJyZW1vdmUiLCJwYXRjaEtleWVkIiwiY2hpbGRyZW5MZW5ndGgiLCJuZXh0T2xkQ2hpbGQiLCJ1cGRhdGVWbm9kZSIsImRpcmVjdGl2ZSIsImRpcmVjdGl2ZU5hbWUiLCJjb250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwicmVzdWx0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlJlZmxlY3QiLCJkZWxldGVQcm9wZXJ0eSJdLCJzb3VyY2VzIjpbIi4uL2xpYi9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBzb25hcmpzL2NvZ25pdGl2ZS1jb21wbGV4aXR5ICovXG5kZWNsYXJlIGdsb2JhbCB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YXJzLW9uLXRvcCwgbm8tdmFyLCBuby11bnVzZWQtdmFyc1xuICB2YXIgZG9jdW1lbnQ6IERvY3VtZW50O1xufVxuXG5pbnRlcmZhY2UgRGVmYXVsdFJlY29yZCBleHRlbmRzIFJlY29yZDxzdHJpbmcgfCBudW1iZXIgfCBzeW1ib2wsIGFueT4ge31cblxubmFtZXNwYWNlIEpTWCB7XG4gIGludGVyZmFjZSBJbnRyaW5zaWNFbGVtZW50cyBleHRlbmRzIERlZmF1bHRSZWNvcmQge31cbn1cblxuZXhwb3J0IGludGVyZmFjZSBWbm9kZVByb3BlcnRpZXMgZXh0ZW5kcyBEZWZhdWx0UmVjb3JkIHtcbiAga2V5Pzogc3RyaW5nIHwgbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERvbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBEZWZhdWx0UmVjb3JkIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50IGV4dGVuZHMgRGVmYXVsdFJlY29yZCB7XG4gIChwcm9wczogVm5vZGVQcm9wZXJ0aWVzLCBjaGlsZHJlbjogYW55W10pOiBWbm9kZSB8IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQT0pPQ29tcG9uZW50IGV4dGVuZHMgRGVmYXVsdFJlY29yZCB7XG4gIHZpZXc6IENvbXBvbmVudDtcbn1cblxuZXhwb3J0IHR5cGUgVmFseXJpYW5Db21wb25lbnQgPSBDb21wb25lbnQgfCBQT0pPQ29tcG9uZW50O1xuXG5leHBvcnQgaW50ZXJmYWNlIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlIGV4dGVuZHMgVm5vZGUge1xuICB0YWc6IFZhbHlyaWFuQ29tcG9uZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoaWxkcmVuIGV4dGVuZHMgQXJyYXk8Vm5vZGUgfCBWbm9kZUNvbXBvbmVudEludGVyZmFjZSB8IFZhbHlyaWFuQ29tcG9uZW50IHwgYW55PiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdGl2ZSB7XG4gICh2YWx1ZTogYW55LCB2bm9kZTogVm5vZGVXaXRoRG9tLCBvbGRQcm9wczogVm5vZGVQcm9wZXJ0aWVzIHwgbnVsbCk6IHZvaWQgfCBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgaXNOb2RlSnMgPSBCb29sZWFuKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MudmVyc2lvbnMgJiYgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlKTtcblxuZXhwb3J0IGNsYXNzIFZub2RlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHRhZzogc3RyaW5nIHwgQ29tcG9uZW50IHwgUE9KT0NvbXBvbmVudCxcbiAgICBwdWJsaWMgcHJvcHM6IG51bGwgfCBWbm9kZVByb3BlcnRpZXMsXG4gICAgcHVibGljIGNoaWxkcmVuOiBDaGlsZHJlbixcbiAgICBwdWJsaWMgZG9tPzogRG9tRWxlbWVudCxcbiAgICBwdWJsaWMgaXNTVkc/OiBib29sZWFuXG4gICkge31cbn1cblxuZXhwb3J0IGludGVyZmFjZSBWbm9kZVdpdGhEb20gZXh0ZW5kcyBWbm9kZSB7XG4gIHRhZzogc3RyaW5nO1xuICBkb206IERvbUVsZW1lbnQ7XG4gIHByb3BzOiBWbm9kZVByb3BlcnRpZXM7XG59XG5cbmV4cG9ydCBjb25zdCBpc0NvbXBvbmVudCA9IChjb21wb25lbnQ6IHVua25vd24pOiBjb21wb25lbnQgaXMgQ29tcG9uZW50ID0+XG4gIEJvb2xlYW4odHlwZW9mIGNvbXBvbmVudCA9PT0gXCJmdW5jdGlvblwiIHx8IChjb21wb25lbnQgJiYgdHlwZW9mIGNvbXBvbmVudCA9PT0gXCJvYmplY3RcIiAmJiBcInZpZXdcIiBpbiBjb21wb25lbnQpKTtcbmV4cG9ydCBjb25zdCBpc1Zub2RlID0gKG9iamVjdD86IHVua25vd24pOiBvYmplY3QgaXMgVm5vZGUgPT4gb2JqZWN0IGluc3RhbmNlb2YgVm5vZGU7XG5cbmV4cG9ydCBjb25zdCBpc1Zub2RlQ29tcG9uZW50ID0gKG9iamVjdD86IHVua25vd24pOiBvYmplY3QgaXMgVm5vZGVDb21wb25lbnRJbnRlcmZhY2UgPT4ge1xuICByZXR1cm4gaXNWbm9kZShvYmplY3QpICYmIGlzQ29tcG9uZW50KG9iamVjdC50YWcpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHYodGFnT3JDb21wb25lbnQ6IHN0cmluZyB8IENvbXBvbmVudCwgcHJvcHM6IFZub2RlUHJvcGVydGllcywgLi4uY2hpbGRyZW46IENoaWxkcmVuKSB7XG4gIHJldHVybiBuZXcgVm5vZGUodGFnT3JDb21wb25lbnQsIHByb3BzLCBjaGlsZHJlbik7XG59XG5cbnYuZnJhZ21lbnQgPSAoXzogVm5vZGVQcm9wZXJ0aWVzLCAuLi5jaGlsZHJlbjogQ2hpbGRyZW4pID0+IGNoaWxkcmVuO1xuXG5leHBvcnQgZnVuY3Rpb24gZG9tVG9Wbm9kZShkb206IGFueSk6IFZub2RlV2l0aERvbSB8IHZvaWQge1xuICBpZiAoZG9tLm5vZGVUeXBlID09PSAzKSB7XG4gICAgcmV0dXJuIGRvbS5ub2RlVmFsdWU7XG4gIH1cblxuICBpZiAoZG9tLm5vZGVUeXBlID09PSAxKSB7XG4gICAgY29uc3QgdGFnID0gZG9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgcHJvcHMgPSB7fSBhcyBWbm9kZVByb3BlcnRpZXM7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBbXSBhcyBDaGlsZHJlbjtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gZG9tLmNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZERvbSA9IGRvbS5jaGlsZE5vZGVzW2ldO1xuICAgICAgaWYgKGNoaWxkRG9tLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGREb20ubm9kZVZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGREb20ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgY29uc3QgY2hpbGRWbm9kZSA9IGRvbVRvVm5vZGUoY2hpbGREb20pO1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGNoaWxkVm5vZGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBkb20uYXR0cmlidXRlcztcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGF0dHJpYnV0ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBhdHRyID0gYXR0cmlidXRlc1tpXTtcbiAgICAgIHByb3BzW2F0dHIubm9kZU5hbWVdID0gYXR0ci5ub2RlVmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3Qgdm5vZGUgPSBuZXcgVm5vZGUodGFnLCBwcm9wcywgY2hpbGRyZW4pO1xuICAgIHZub2RlLmRvbSA9IGRvbTtcbiAgICB2bm9kZS5pc1NWRyA9IHRhZyA9PT0gXCJzdmdcIjtcbiAgICByZXR1cm4gdm5vZGUgYXMgVm5vZGVXaXRoRG9tO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cnVzdChodG1sU3RyaW5nOiBzdHJpbmcpIHtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZGl2LmlubmVySFRNTCA9IGh0bWxTdHJpbmcudHJpbSgpO1xuICByZXR1cm4gQXJyYXkuZnJvbShkaXYuY2hpbGROb2RlcykubWFwKGRvbVRvVm5vZGUpO1xufVxuXG5sZXQgbWFpbkNvbXBvbmVudDogVm5vZGVDb21wb25lbnRJbnRlcmZhY2UgfCBudWxsID0gbnVsbDtcbmxldCBtYWluVm5vZGU6IFZub2RlV2l0aERvbSB8IG51bGwgPSBudWxsO1xubGV0IGlzTW91bnRlZCA9IGZhbHNlO1xuXG5leHBvcnQgY29uc3QgY3VycmVudCA9IHtcbiAgdm5vZGU6IG51bGwgYXMgVm5vZGUgfCBudWxsLFxuICBjb21wb25lbnQ6IG51bGwgYXMgVmFseXJpYW5Db21wb25lbnQgfCBudWxsLFxuICBldmVudDogbnVsbCBhcyBFdmVudCB8IG51bGxcbn07XG5cbmV4cG9ydCBjb25zdCByZXNlcnZlZFByb3BzID0gbmV3IFNldDxzdHJpbmc+KFtcbiAgXCJrZXlcIixcbiAgXCJzdGF0ZVwiLFxuICBcInYta2VlcFwiLFxuICBcInYtdGV4dFwiLFxuICBcInYtaWZcIixcbiAgXCJ2LWZvclwiLFxuICBcInYtc2hvd1wiLFxuICBcInYtY2xhc3NcIixcbiAgXCJ2LWh0bWxcIixcbiAgXCJ2LW1vZGVsXCIsXG4gIFwidi1jcmVhdGVcIixcbiAgXCJ2LXVwZGF0ZVwiLFxuICBcInYtY2xlYW51cFwiXG5dKTtcblxuY29uc3Qgb25DbGVhbnVwU2V0ID0gbmV3IFNldDxGdW5jdGlvbj4oKTtcbmNvbnN0IG9uTW91bnRTZXQgPSBuZXcgU2V0PEZ1bmN0aW9uPigpO1xuY29uc3Qgb25VcGRhdGVTZXQgPSBuZXcgU2V0PEZ1bmN0aW9uPigpO1xuY29uc3Qgb25Vbm1vdW50U2V0ID0gbmV3IFNldDxGdW5jdGlvbj4oKTtcbmV4cG9ydCBjb25zdCBvbk1vdW50ID0gKGNhbGxiYWNrOiBGdW5jdGlvbikgPT4gIWlzTW91bnRlZCAmJiBvbk1vdW50U2V0LmFkZChjYWxsYmFjayk7XG5leHBvcnQgY29uc3Qgb25VcGRhdGUgPSAoY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiBvblVwZGF0ZVNldC5hZGQoY2FsbGJhY2spO1xuZXhwb3J0IGNvbnN0IG9uQ2xlYW51cCA9IChjYWxsYmFjazogRnVuY3Rpb24pID0+IG9uQ2xlYW51cFNldC5hZGQoY2FsbGJhY2spO1xuZXhwb3J0IGNvbnN0IG9uVW5tb3VudCA9IChjYWxsYmFjazogRnVuY3Rpb24pID0+ICFpc01vdW50ZWQgJiYgb25Vbm1vdW50U2V0LmFkZChjYWxsYmFjayk7XG5jb25zdCBjYWxsU2V0ID0gKHNldDogU2V0PEZ1bmN0aW9uPikgPT4ge1xuICBmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIHNldCkge1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cbiAgc2V0LmNsZWFyKCk7XG59O1xuXG5jb25zdCBoYW5kbGVWSWYgPSAoc2hvdWxkUmVuZGVyOiBib29sZWFuKTogRGlyZWN0aXZlID0+IHtcbiAgcmV0dXJuICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICBjb25zdCBib29sID0gc2hvdWxkUmVuZGVyICE9PSBCb29sZWFuKHZhbHVlKTtcbiAgICBpZiAoYm9vbCkge1xuICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IHZub2RlLmRvbT8ucGFyZW50Tm9kZTtcbiAgICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICAgIGNvbnN0IG5ld2RvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO1xuICAgICAgICBwYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdkb20sIHZub2RlLmRvbSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgZGlyZWN0aXZlczogUmVjb3JkPHN0cmluZywgRGlyZWN0aXZlPiA9IHtcbiAgXCJ2LWlmXCI6IGhhbmRsZVZJZih0cnVlKSxcbiAgXCJ2LXVubGVzc1wiOiBoYW5kbGVWSWYoZmFsc2UpLFxuXG4gIFwidi1zaG93XCI6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICBjb25zdCBib29sID0gQm9vbGVhbih2YWx1ZSk7XG4gICAgKFxuICAgICAgdm5vZGUuZG9tIGFzIHVua25vd24gYXMge1xuICAgICAgICBzdHlsZTogeyBkaXNwbGF5OiBzdHJpbmcgfTtcbiAgICAgIH1cbiAgICApLnN0eWxlLmRpc3BsYXkgPSBib29sID8gXCJcIiA6IFwibm9uZVwiO1xuICB9LFxuXG4gIFwidi1odG1sXCI6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICB2bm9kZS5jaGlsZHJlbiA9IFt0cnVzdCh2YWx1ZSBhcyBzdHJpbmcpXTtcbiAgfSxcblxuICAvLyBUaGUgXCJ2LW1vZGVsXCIgZGlyZWN0aXZlIGJpbmRzIHRoZSB2YWx1ZSBvZiBhbiBpbnB1dCBlbGVtZW50IHRvIGEgbW9kZWwgcHJvcGVydHlcbiAgXCJ2LW1vZGVsXCI6ICh2YWwsIHZub2RlKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1jb25zdFxuICAgIGxldCBbbW9kZWwsIHByb3BlcnR5LCBldmVudF06IGFueVtdID0gdmFsIGFzIGFueVtdO1xuICAgIGxldCB2YWx1ZTtcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHVwZGF0ZXMgdGhlIG1vZGVsIHByb3BlcnR5IHdoZW4gdGhlIGlucHV0IGVsZW1lbnQncyB2YWx1ZSBjaGFuZ2VzXG4gICAgbGV0IGhhbmRsZXIgPSAoZTogRXZlbnQpID0+IChtb2RlbFtwcm9wZXJ0eV0gPSAoZS50YXJnZXQgYXMgRG9tRWxlbWVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pLnZhbHVlKTtcbiAgICBpZiAodm5vZGUudGFnID09PSBcImlucHV0XCIpIHtcbiAgICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIGFuIGlucHV0LCB1c2UgdGhlIFwiaW5wdXRcIiBldmVudCBieSBkZWZhdWx0XG4gICAgICBldmVudCA9IGV2ZW50IHx8IFwib25pbnB1dFwiO1xuICAgICAgLy8gRGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIGlucHV0IGVsZW1lbnQsIHVzZSBhIGRpZmZlcmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICBzd2l0Y2ggKHZub2RlLnByb3BzLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6IHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtb2RlbFtwcm9wZXJ0eV0pKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgbW9kZWwgcHJvcGVydHkgaXMgYW4gYXJyYXksIGFkZCBvciByZW1vdmUgdGhlIHZhbHVlIGZyb20gdGhlIGFycmF5IHdoZW4gdGhlIGNoZWNrYm94IGlzIGNoZWNrZWQgb3IgdW5jaGVja2VkXG4gICAgICAgICAgICBoYW5kbGVyID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbCA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWU7XG4gICAgICAgICAgICAgIGNvbnN0IGlkeCA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZhbCk7XG4gICAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBJZiB0aGUgdmFsdWUgaXMgaW4gdGhlIGFycmF5LCBzZXQgdGhlIGNoZWNrYm94IHRvIGJlIGNoZWNrZWRcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2Yodm5vZGUuZG9tLnZhbHVlKSAhPT0gLTE7XG4gICAgICAgICAgfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gdm5vZGUucHJvcHMpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbnB1dCBlbGVtZW50IGhhcyBhIFwidmFsdWVcIiBhdHRyaWJ1dGUsIHVzZSBpdCB0byBkZXRlcm1pbmUgdGhlIGNoZWNrZWQgc3RhdGVcbiAgICAgICAgICAgIGhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChtb2RlbFtwcm9wZXJ0eV0gPT09IHZub2RlLnByb3BzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldID0gbnVsbDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0gPSB2bm9kZS5wcm9wcy52YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldID09PSB2bm9kZS5wcm9wcy52YWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gXCJ2YWx1ZVwiIGF0dHJpYnV0ZSwgdXNlIGEgYm9vbGVhbiB2YWx1ZSBmb3IgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgICAgICBoYW5kbGVyID0gKCkgPT4gKG1vZGVsW3Byb3BlcnR5XSA9ICFtb2RlbFtwcm9wZXJ0eV0pO1xuICAgICAgICAgICAgdmFsdWUgPSBtb2RlbFtwcm9wZXJ0eV07XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFNldCB0aGUgXCJjaGVja2VkXCIgYXR0cmlidXRlIG9uIHRoZSBpbnB1dCBlbGVtZW50XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLCB2YWx1ZSwgdm5vZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJyYWRpb1wiOiB7XG4gICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgYSByYWRpbyBidXR0b24sIHNldCB0aGUgXCJjaGVja2VkXCIgYXR0cmlidXRlIGJhc2VkIG9uIHRoZSB2YWx1ZSBvZiB0aGUgbW9kZWwgcHJvcGVydHlcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICBzaGFyZWRTZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsIG1vZGVsW3Byb3BlcnR5XSA9PT0gdm5vZGUuZG9tLnZhbHVlLCB2bm9kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIC8vIEZvciBhbGwgb3RoZXIgaW5wdXQgdHlwZXMsIHNldCB0aGUgXCJ2YWx1ZVwiIGF0dHJpYnV0ZSBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKFwidmFsdWVcIiwgbW9kZWxbcHJvcGVydHldLCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZub2RlLnRhZyA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgYSBzZWxlY3QgZWxlbWVudCwgdXNlIHRoZSBcImNsaWNrXCIgZXZlbnQgYnkgZGVmYXVsdFxuICAgICAgZXZlbnQgPSBldmVudCB8fCBcIm9uY2xpY2tcIjtcbiAgICAgIGlmICh2bm9kZS5wcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICAvLyBJZiB0aGUgc2VsZWN0IGVsZW1lbnQgYWxsb3dzIG11bHRpcGxlIHNlbGVjdGlvbnMsIHVwZGF0ZSB0aGUgbW9kZWwgcHJvcGVydHkgd2l0aCBhbiBhcnJheSBvZiBzZWxlY3RlZCB2YWx1ZXNcbiAgICAgICAgaGFuZGxlciA9IChlOiBFdmVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pID0+IHtcbiAgICAgICAgICBjb25zdCB2YWwgPSAoZS50YXJnZXQgYXMgRG9tRWxlbWVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pLnZhbHVlO1xuICAgICAgICAgIGlmIChlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBDdHJsIGtleSBpcyBwcmVzc2VkLCBhZGQgb3IgcmVtb3ZlIHRoZSB2YWx1ZSBmcm9tIHRoZSBhcnJheVxuICAgICAgICAgICAgY29uc3QgaWR4ID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsKTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBDdHJsIGtleSBpcyBub3QgcHJlc3NlZCwgc2V0IHRoZSBtb2RlbCBwcm9wZXJ0eSB0byBhbiBhcnJheSB3aXRoIHRoZSBzZWxlY3RlZCB2YWx1ZVxuICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnNwbGljZSgwLCBtb2RlbFtwcm9wZXJ0eV0ubGVuZ3RoKTtcbiAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBTZXQgdGhlIFwic2VsZWN0ZWRcIiBhdHRyaWJ1dGUgb24gdGhlIG9wdGlvbnMgYmFzZWQgb24gd2hldGhlciB0aGV5IGFyZSBpbiB0aGUgbW9kZWwgcHJvcGVydHkgYXJyYXlcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgICAgICAgIGlmIChjaGlsZC50YWcgPT09IFwib3B0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gXCJ2YWx1ZVwiIGluIGNoaWxkLnByb3BzID8gY2hpbGQucHJvcHMudmFsdWUgOiBjaGlsZC5jaGlsZHJlbi5qb2luKFwiXCIpLnRyaW0oKTtcbiAgICAgICAgICAgIGNoaWxkLnByb3BzLnNlbGVjdGVkID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsdWUpICE9PSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhlIHNlbGVjdCBlbGVtZW50IGRvZXMgbm90IGFsbG93IG11bHRpcGxlIHNlbGVjdGlvbnMsIHNldCB0aGUgXCJzZWxlY3RlZFwiIGF0dHJpYnV0ZSBvbiB0aGUgb3B0aW9ucyBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudGFnID09PSBcIm9wdGlvblwiKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IFwidmFsdWVcIiBpbiBjaGlsZC5wcm9wcyA/IGNoaWxkLnByb3BzLnZhbHVlIDogY2hpbGQuY2hpbGRyZW4uam9pbihcIlwiKS50cmltKCk7XG4gICAgICAgICAgICBjaGlsZC5wcm9wcy5zZWxlY3RlZCA9IHZhbHVlID09PSBtb2RlbFtwcm9wZXJ0eV07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZub2RlLnRhZyA9PT0gXCJ0ZXh0YXJlYVwiKSB7XG4gICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyBhIHRleHRhcmVhLCB1c2UgdGhlIFwiaW5wdXRcIiBldmVudCBieSBkZWZhdWx0XG4gICAgICBldmVudCA9IGV2ZW50IHx8IFwib25pbnB1dFwiO1xuICAgICAgLy8gU2V0IHRoZSB0ZXh0YXJlYSdzIGNvbnRlbnQgdG8gdGhlIHZhbHVlIG9mIHRoZSBtb2RlbCBwcm9wZXJ0eVxuICAgICAgdm5vZGUuY2hpbGRyZW4gPSBbbW9kZWxbcHJvcGVydHldXTtcbiAgICB9XG5cbiAgICAvLyBXZSBhc3N1bWUgdGhhdCB0aGUgcHJldiBoYW5kbGVyIGlmIGFueSB3aWxsIG5vdCBiZSBjaGFuZ2VkIGJ5IHRoZSB1c2VyIGFjcm9zcyBwYXRjaHNcbiAgICBjb25zdCBwcmV2SGFuZGxlciA9IHZub2RlLnByb3BzW2V2ZW50XTtcblxuICAgIC8vIFNldCB0aGUgZXZlbnQgaGFuZGxlciBvbiB0aGUgZWxlbWVudFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHNoYXJlZFNldEF0dHJpYnV0ZShcbiAgICAgIGV2ZW50LFxuICAgICAgKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgIGhhbmRsZXIoZSk7XG5cbiAgICAgICAgLy8gSWYgdGhlIHByZXZpb3VzIGhhbmRsZXIgaXMgZGVmaW5lZCwgY2FsbCBpdCBhZnRlciB0aGUgbW9kZWwgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgICBpZiAocHJldkhhbmRsZXIpIHtcbiAgICAgICAgICBwcmV2SGFuZGxlcihlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHZub2RlXG4gICAgKTtcbiAgfSxcblxuICBcInYtY3JlYXRlXCI6IChjYWxsYmFjaywgdm5vZGUsIG9sZFByb3BzKSA9PiB7XG4gICAgaWYgKCFvbGRQcm9wcykge1xuICAgICAgY29uc3QgY2xlYW51cCA9IGNhbGxiYWNrKHZub2RlKTtcblxuICAgICAgaWYgKHR5cGVvZiBjbGVhbnVwID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgb25DbGVhbnVwKGNsZWFudXApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBcInYtdXBkYXRlXCI6IChjYWxsYmFjaywgdm5vZGUsIG9sZFByb3BzKSA9PiB7XG4gICAgaWYgKG9sZFByb3BzKSB7XG4gICAgICBjb25zdCBjbGVhbnVwID0gY2FsbGJhY2sodm5vZGUsIG9sZFByb3BzKTtcblxuICAgICAgaWYgKHR5cGVvZiBjbGVhbnVwID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgb25DbGVhbnVwKGNsZWFudXApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBcInYtY2xlYW51cFwiOiAoY2FsbGJhY2ssIHZub2RlKSA9PiB7XG4gICAgb25DbGVhbnVwKCgpID0+IGNhbGxiYWNrKHZub2RlKSk7XG4gIH0sXG5cbiAgXCJ2LWNsYXNzXCI6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB2bm9kZS5kb20uY2xhc3NOYW1lID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdm5vZGUuZG9tLmNsYXNzTmFtZSA9IHZhbHVlLmpvaW4oXCIgXCIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBjb25zdCBjbGFzc0xpc3QgPSB2bm9kZS5kb20uY2xhc3NMaXN0O1xuICAgICAgZm9yIChjb25zdCBuYW1lIGluIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHR5cGVvZiB2YWx1ZVtuYW1lXSA9PT0gXCJmdW5jdGlvblwiID8gKHZhbHVlW25hbWVdIGFzIEZ1bmN0aW9uKSgpIDogdmFsdWVbbmFtZV07XG4gICAgICAgIGNsYXNzTGlzdC50b2dnbGUobmFtZSwgdmFsKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLy8gRnJlcXVlbnQgdXNlZCBwcm9wZXJ0aWVzXG4gIGNsYXNzKHZhbHVlLCB2bm9kZSkge1xuICAgIGlmICh2bm9kZS5kb20uY2xhc3NOYW1lICE9PSB2YWx1ZSkge1xuICAgICAgdm5vZGUuZG9tLmNsYXNzTmFtZSA9IHZhbHVlO1xuICAgIH1cbiAgfSxcblxuICBjbGFzc05hbWUodmFsdWUsIHZub2RlKSB7XG4gICAgZGlyZWN0aXZlcy5jbGFzcyh2YWx1ZSwgdm5vZGUsIG51bGwpO1xuICB9LFxuXG4gIGlkOiAodmFsdWUsIHZub2RlKSA9PiB7XG4gICAgdm5vZGUuZG9tLmlkID0gdmFsdWU7XG4gIH0sXG5cbiAgc3R5bGU6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB2bm9kZS5kb20uc3R5bGUgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgdm5vZGUuZG9tLnN0eWxlID0gXCJcIjtcbiAgICAgIGNvbnN0IGRvbVN0eWxlID0gdm5vZGUuZG9tLnN0eWxlO1xuICAgICAgZm9yIChjb25zdCBuYW1lIGluIHZhbHVlKSB7XG4gICAgICAgIGRvbVN0eWxlW25hbWVdID0gdmFsdWVbbmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZGlyZWN0aXZlKG5hbWU6IHN0cmluZywgZGlyZWN0aXZlOiBEaXJlY3RpdmUpIHtcbiAgY29uc3QgZGlyZWN0aXZlTmFtZSA9IGB2LSR7bmFtZX1gO1xuICBkaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdID0gZGlyZWN0aXZlO1xuICByZXNlcnZlZFByb3BzLmFkZChkaXJlY3RpdmVOYW1lKTtcbn1cblxuY29uc3QgZXZlbnRMaXN0ZW5lck5hbWVzID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbmZ1bmN0aW9uIGV2ZW50TGlzdGVuZXIoZTogRXZlbnQpIHtcbiAgY3VycmVudC5ldmVudCA9IGU7XG4gIGxldCBkb20gPSBlLnRhcmdldCBhcyBEb21FbGVtZW50O1xuICBjb25zdCBuYW1lID0gYG9uJHtlLnR5cGV9YDtcblxuICB3aGlsZSAoZG9tKSB7XG4gICAgY29uc3Qgb2xkUHJvcHMgPSBkb20ucHJvcHM7XG4gICAgaWYgKG9sZFByb3BzICYmIG9sZFByb3BzW25hbWVdKSB7XG4gICAgICBvbGRQcm9wc1tuYW1lXShlLCBkb20pO1xuXG4gICAgICBpZiAoIWUuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgdXBkYXRlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvbSA9IGRvbS5wYXJlbnROb2RlIGFzIERvbUVsZW1lbnQ7XG4gIH1cblxuICBjdXJyZW50LmV2ZW50ID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gc2hhcmVkU2V0QXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSwgbmV3Vm5vZGU6IFZub2RlV2l0aERvbSk6IHZvaWQgfCBib29sZWFuIHtcbiAgY29uc3QgbmV3Vm5vZGVEb20gPSBuZXdWbm9kZS5kb207XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGlmICghZXZlbnRMaXN0ZW5lck5hbWVzLmhhcyhuYW1lKSkge1xuICAgICAgKG1haW5Wbm9kZSBhcyBWbm9kZVdpdGhEb20pLmRvbS5hZGRFdmVudExpc3RlbmVyKG5hbWUuc2xpY2UoMiksIGV2ZW50TGlzdGVuZXIpO1xuICAgICAgZXZlbnRMaXN0ZW5lck5hbWVzLmFkZChuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG5hbWUgaW4gbmV3Vm5vZGVEb20pIHtcbiAgICBuZXdWbm9kZURvbVtuYW1lXSA9IHZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICBuZXdWbm9kZURvbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgbmV3Vm5vZGVEb20uc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSwgbmV3Vm5vZGU6IFZub2RlV2l0aERvbSk6IHZvaWQge1xuICBpZiAoIXJlc2VydmVkUHJvcHMuaGFzKG5hbWUpKSB7XG4gICAgbmV3Vm5vZGUucHJvcHNbbmFtZV0gPSB2YWx1ZTtcbiAgICBzaGFyZWRTZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUsIG5ld1Zub2RlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVBdHRyaWJ1dGVzKHZub2RlOiBWbm9kZVdpdGhEb20sIG9sZFByb3BzOiBWbm9kZVByb3BlcnRpZXMgfCBudWxsKTogdm9pZCB7XG4gIGlmICghb2xkUHJvcHMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB2bm9kZURvbSA9IHZub2RlLmRvbTtcbiAgY29uc3Qgdm5vZGVQcm9wcyA9IHZub2RlLnByb3BzO1xuXG4gIGZvciAoY29uc3QgbmFtZSBpbiBvbGRQcm9wcykge1xuICAgIGlmIChuYW1lIGluIHZub2RlUHJvcHMgPT09IGZhbHNlICYmICFldmVudExpc3RlbmVyTmFtZXMuaGFzKG5hbWUpICYmICFyZXNlcnZlZFByb3BzLmhhcyhuYW1lKSkge1xuICAgICAgaWYgKG5hbWUgaW4gdm5vZGVEb20pIHtcbiAgICAgICAgdm5vZGVEb21bbmFtZV0gPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm5vZGVEb20ucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhZGRQcm9wZXJ0aWVzKHZub2RlOiBWbm9kZVdpdGhEb20sIG9sZFByb3BzOiBWbm9kZVByb3BlcnRpZXMgfCBudWxsKSB7XG4gIGNvbnN0IHZub2RlUHJvcHMgPSB2bm9kZS5wcm9wcztcbiAgZm9yIChjb25zdCBuYW1lIGluIHZub2RlUHJvcHMpIHtcbiAgICBpZiAoZGlyZWN0aXZlc1tuYW1lXSkge1xuICAgICAgaWYgKGRpcmVjdGl2ZXNbbmFtZV0odm5vZGVQcm9wc1tuYW1lXSwgdm5vZGUsIG9sZFByb3BzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAocmVzZXJ2ZWRQcm9wcy5oYXMobmFtZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHNoYXJlZFNldEF0dHJpYnV0ZShuYW1lLCB2bm9kZVByb3BzW25hbWVdLCB2bm9kZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUF0dHJpYnV0ZXMobmV3Vm5vZGU6IFZub2RlV2l0aERvbSwgb2xkUHJvcHM6IFZub2RlUHJvcGVydGllcyB8IG51bGwpOiB2b2lkIHtcbiAgcmVtb3ZlQXR0cmlidXRlcyhuZXdWbm9kZSwgb2xkUHJvcHMpO1xuICBhZGRQcm9wZXJ0aWVzKG5ld1Zub2RlLCBvbGRQcm9wcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZzogc3RyaW5nLCBpc1NWRzogYm9vbGVhbik6IERvbUVsZW1lbnQge1xuICByZXR1cm4gaXNTVkdcbiAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHRhZylcbiAgICA6IChkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZykgYXMgRG9tRWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIGZsYXRUcmVlKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sIGNoaWxkcmVuOiBDaGlsZHJlbikge1xuICBjdXJyZW50LnZub2RlID0gbmV3Vm5vZGU7XG4gIGxldCBpID0gMDtcblxuICB3aGlsZSAoaSA8IGNoaWxkcmVuLmxlbmd0aCkge1xuICAgIGNvbnN0IG5ld0NoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICBpZiAobmV3Q2hpbGQgPT0gbnVsbCkge1xuICAgICAgY2hpbGRyZW4uc3BsaWNlKGksIDEpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmV3Q2hpbGQpKSB7XG4gICAgICBjaGlsZHJlbi5zcGxpY2UoaSwgMSwgLi4ubmV3Q2hpbGQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKG5ld0NoaWxkIGluc3RhbmNlb2YgVm5vZGUpIHtcbiAgICAgIGlmIChuZXdDaGlsZC5wcm9wcyA9PT0gbnVsbCkge1xuICAgICAgICBuZXdDaGlsZC5wcm9wcyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG5ld0NoaWxkLnRhZyAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBuZXdDaGlsZC50YWc7XG5cbiAgICAgICAgY3VycmVudC5jb21wb25lbnQgPSBuZXdDaGlsZC50YWc7XG4gICAgICAgIGNoaWxkcmVuW2ldID0gKFwidmlld1wiIGluIGNvbXBvbmVudCA/IGNvbXBvbmVudC52aWV3IDogY29tcG9uZW50KS5iaW5kKGNvbXBvbmVudCkoXG4gICAgICAgICAgbmV3Q2hpbGQucHJvcHMsXG4gICAgICAgICAgbmV3Q2hpbGQuY2hpbGRyZW5cbiAgICAgICAgKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdDaGlsZC5pc1NWRyA9IG5ld1Zub2RlLmlzU1ZHIHx8IG5ld0NoaWxkLnRhZyA9PT0gXCJzdmdcIjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpKys7XG4gIH1cblxuICByZXR1cm4gY2hpbGRyZW47XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVZGb3IobmV3Vm5vZGU6IFZub2RlV2l0aERvbSkge1xuICBpZiAoXCJ2LWZvclwiIGluIG5ld1Zub2RlLnByb3BzKSB7XG4gICAgY29uc3Qgc2V0ID0gbmV3Vm5vZGUucHJvcHNbXCJ2LWZvclwiXTtcbiAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xuICAgIGNvbnN0IGNhbGxiYWNrID0gbmV3Vm5vZGUuY2hpbGRyZW5bMF07XG4gICAgY2hpbGRyZW4ubGVuZ3RoID0gc2V0Lmxlbmd0aDtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gc2V0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgY2hpbGRyZW5baV0gPSBjYWxsYmFjayhzZXRbaV0sIGkpO1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICByZXR1cm4gWy4uLm5ld1Zub2RlLmNoaWxkcmVuXTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTmV3RWxlbWVudChuZXdDaGlsZDogVm5vZGVXaXRoRG9tLCBuZXdWbm9kZTogVm5vZGVXaXRoRG9tLCBvbGRDaGlsZDogRG9tRWxlbWVudCB8IG51bGwpIHtcbiAgY29uc3QgZG9tID0gY3JlYXRlRWxlbWVudChuZXdDaGlsZC50YWcsIG5ld0NoaWxkLmlzU1ZHIGFzIGJvb2xlYW4pO1xuICBpZiAob2xkQ2hpbGQpIHtcbiAgICBuZXdWbm9kZS5kb20ucmVwbGFjZUNoaWxkKGRvbSwgb2xkQ2hpbGQpO1xuICB9IGVsc2Uge1xuICAgIG5ld1Zub2RlLmRvbS5hcHBlbmRDaGlsZChkb20pO1xuICB9XG4gIG5ld0NoaWxkLmRvbSA9IGRvbTtcbiAgYWRkUHJvcGVydGllcyhuZXdDaGlsZCwgbnVsbCk7XG4gIG5ld0NoaWxkLmRvbS5wcm9wcyA9IG5ld0NoaWxkLnByb3BzO1xuICBpZiAoXCJ2LXRleHRcIiBpbiBuZXdDaGlsZC5wcm9wcykge1xuICAgIG5ld0NoaWxkLmRvbS50ZXh0Q29udGVudCA9IG5ld0NoaWxkLnByb3BzW1widi10ZXh0XCJdO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNoaWxkcmVuID0gZmxhdFRyZWUobmV3Q2hpbGQsIGhhbmRsZVZGb3IobmV3Q2hpbGQpKTtcbiAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgIG5ld0NoaWxkLmRvbS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoY2hpbGRyZW5baV0gaW5zdGFuY2VvZiBWbm9kZSA9PT0gZmFsc2UpIHtcbiAgICAgIG5ld0NoaWxkLmRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZHJlbltpXSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNyZWF0ZU5ld0VsZW1lbnQoY2hpbGRyZW5baV0sIG5ld0NoaWxkLCBudWxsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXRjaEtleWVkKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sIGNoaWxkcmVuOiBDaGlsZHJlbikge1xuICBjb25zdCBvbGRUcmVlID0gWy4uLkFycmF5LmZyb20obmV3Vm5vZGUuZG9tLmNoaWxkTm9kZXMpXSBhcyB1bmtub3duIGFzIERvbUVsZW1lbnRbXTtcbiAgY29uc3QgY2hpbGROb2RlcyA9IG5ld1Zub2RlLmRvbS5jaGlsZE5vZGVzO1xuICBjb25zdCBvbGRLZXllZExpc3Q6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgY29uc3QgbmV3S2V5ZWRMaXN0OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBvbGRUcmVlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IG9sZFByb3BzID0gb2xkVHJlZVtpXS5wcm9wcztcbiAgICBpZiAob2xkUHJvcHMpIHtcbiAgICAgIG9sZEtleWVkTGlzdFtvbGRQcm9wcy5rZXkgYXMgc3RyaW5nXSA9IGk7XG4gICAgfVxuXG4gICAgaWYgKGkgPCBjaGlsZHJlbi5sZW5ndGggJiYgY2hpbGRyZW5baV0gaW5zdGFuY2VvZiBWbm9kZSkge1xuICAgICAgbmV3S2V5ZWRMaXN0W2NoaWxkcmVuW2ldLnByb3BzLmtleSBhcyBzdHJpbmddID0gaTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IG5ld0NoaWxkID0gY2hpbGRyZW5baV07XG4gICAgY29uc3Qgb2xkQ2hpbGQgPSBvbGRUcmVlW29sZEtleWVkTGlzdFtuZXdDaGlsZC5wcm9wcy5rZXkgYXMgc3RyaW5nXV07XG5cbiAgICBpZiAoIW9sZENoaWxkKSB7XG4gICAgICBjcmVhdGVOZXdFbGVtZW50KG5ld0NoaWxkLCBuZXdWbm9kZSwgY2hpbGROb2Rlc1tpXSBhcyBEb21FbGVtZW50IHwgbnVsbCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBuZXdDaGlsZC5kb20gPSBvbGRDaGlsZDtcbiAgICBjb25zdCBjdXJyZW50Q2hpbGQgPSBjaGlsZE5vZGVzW2ldO1xuICAgIGlmICghY3VycmVudENoaWxkKSB7XG4gICAgICBuZXdWbm9kZS5kb20uYXBwZW5kQ2hpbGQob2xkQ2hpbGQpO1xuICAgIH0gZWxzZSBpZiAoY3VycmVudENoaWxkICE9PSBvbGRDaGlsZCkge1xuICAgICAgbmV3Vm5vZGUuZG9tLnJlcGxhY2VDaGlsZChvbGRDaGlsZCwgY3VycmVudENoaWxkKTtcbiAgICB9XG5cbiAgICBpZiAoXCJ2LWtlZXBcIiBpbiBuZXdDaGlsZC5wcm9wcyA9PT0gZmFsc2UgfHwgb2xkQ2hpbGQucHJvcHNbXCJ2LWtlZXBcIl0gIT09IG5ld0NoaWxkLnByb3BzW1widi1rZWVwXCJdKSB7XG4gICAgICB1cGRhdGVBdHRyaWJ1dGVzKG5ld0NoaWxkIGFzIFZub2RlV2l0aERvbSwgb2xkQ2hpbGQucHJvcHMpO1xuICAgICAgb2xkQ2hpbGQucHJvcHMgPSBuZXdDaGlsZC5wcm9wcztcblxuICAgICAgaWYgKFwidi10ZXh0XCIgaW4gbmV3Q2hpbGQucHJvcHMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICBpZiAob2xkQ2hpbGQudGV4dENvbnRlbnQgIT0gbmV3Q2hpbGQucHJvcHNbXCJ2LXRleHRcIl0pIHtcbiAgICAgICAgICBvbGRDaGlsZC50ZXh0Q29udGVudCA9IG5ld0NoaWxkLnByb3BzW1widi10ZXh0XCJdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICBwYXRjaChuZXdDaGlsZCBhcyBWbm9kZVdpdGhEb20pO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGkgPSBjaGlsZHJlbi5sZW5ndGgsIGwgPSBjaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNoaWxkTm9kZXNbaV0/LnJlbW92ZSgpO1xuICB9XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5leHBvcnQgZnVuY3Rpb24gcGF0Y2gobmV3Vm5vZGU6IFZub2RlV2l0aERvbSk6IHZvaWQge1xuICBjb25zdCBjaGlsZHJlbiA9IGZsYXRUcmVlKG5ld1Zub2RlLCBoYW5kbGVWRm9yKG5ld1Zub2RlKSk7XG5cbiAgY29uc3QgZG9tID0gbmV3Vm5vZGUuZG9tO1xuXG4gIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoZG9tLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBkb20udGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBvbGREb21DaGlsZHJlbiA9IGRvbS5jaGlsZE5vZGVzIGFzIHVua25vd24gYXMgRG9tRWxlbWVudFtdO1xuICBjb25zdCBvbGRDaGlsZHJlbkxlbmd0aCA9IG9sZERvbUNoaWxkcmVuLmxlbmd0aDtcbiAgaWYgKG9sZENoaWxkcmVuTGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGZpcnN0T2xkUHJvcHMgPSBvbGREb21DaGlsZHJlblswXS5wcm9wcztcbiAgICBjb25zdCBmaXJzdFZub2RlID0gY2hpbGRyZW5bMF0gYXMgVm5vZGVXaXRoRG9tO1xuICAgIGlmIChmaXJzdE9sZFByb3BzICYmIGZpcnN0Vm5vZGUgaW5zdGFuY2VvZiBWbm9kZSAmJiBcImtleVwiIGluIGZpcnN0Vm5vZGUucHJvcHMgJiYgXCJrZXlcIiBpbiBmaXJzdE9sZFByb3BzKSB7XG4gICAgICBwYXRjaEtleWVkKG5ld1Zub2RlLCBjaGlsZHJlbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY2hpbGRyZW5MZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG4gIGlmIChvbGRDaGlsZHJlbkxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGNoaWxkcmVuW2ldIGluc3RhbmNlb2YgVm5vZGUgPT09IGZhbHNlKSB7XG4gICAgICAgIGRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZHJlbltpXSkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNyZWF0ZU5ld0VsZW1lbnQoY2hpbGRyZW5baV0sIG5ld1Zub2RlLCBudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgb2xkQ2hpbGQgPSBvbGREb21DaGlsZHJlbltpXTtcbiAgICBjb25zdCBuZXdDaGlsZCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgaWYgKG5ld0NoaWxkIGluc3RhbmNlb2YgVm5vZGUgPT09IGZhbHNlKSB7XG4gICAgICBpZiAoIW9sZENoaWxkKSB7XG4gICAgICAgIG5ld1Zub2RlLmRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuZXdDaGlsZCkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9sZENoaWxkLm5vZGVUeXBlICE9PSAzKSB7XG4gICAgICAgIG5ld1Zub2RlLmRvbS5yZXBsYWNlQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3Q2hpbGQpLCBvbGRDaGlsZCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICBpZiAob2xkQ2hpbGQubm9kZVZhbHVlICE9IG5ld0NoaWxkKSB7XG4gICAgICAgIG9sZENoaWxkLm5vZGVWYWx1ZSA9IG5ld0NoaWxkO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKCFvbGRDaGlsZCkge1xuICAgICAgY3JlYXRlTmV3RWxlbWVudChuZXdDaGlsZCwgbmV3Vm5vZGUsIG51bGwpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKFwidi1rZWVwXCIgaW4gbmV3Q2hpbGQucHJvcHMpIHtcbiAgICAgIGlmIChvbGRDaGlsZC5wcm9wcyAmJiBvbGRDaGlsZC5wcm9wc1tcInYta2VlcFwiXSA9PT0gbmV3Q2hpbGQucHJvcHNbXCJ2LWtlZXBcIl0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5leHRPbGRDaGlsZCA9IG9sZERvbUNoaWxkcmVuW2kgKyAxXTtcbiAgICAgIGlmIChuZXh0T2xkQ2hpbGQgJiYgbmV4dE9sZENoaWxkLnByb3BzICYmIG5leHRPbGRDaGlsZC5wcm9wc1tcInYta2VlcFwiXSA9PT0gbmV3Q2hpbGQucHJvcHNbXCJ2LWtlZXBcIl0pIHtcbiAgICAgICAgb2xkQ2hpbGQucmVtb3ZlKCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChuZXdDaGlsZC50YWcgIT09IG9sZENoaWxkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGNyZWF0ZU5ld0VsZW1lbnQobmV3Q2hpbGQsIG5ld1Zub2RlLCBvbGRDaGlsZCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBuZXdDaGlsZC5kb20gPSBvbGRDaGlsZDtcbiAgICB1cGRhdGVBdHRyaWJ1dGVzKG5ld0NoaWxkIGFzIFZub2RlV2l0aERvbSwgb2xkQ2hpbGQucHJvcHMgfHwgbnVsbCk7XG4gICAgb2xkQ2hpbGQucHJvcHMgPSBuZXdDaGlsZC5wcm9wcztcbiAgICBpZiAoXCJ2LXRleHRcIiBpbiBuZXdDaGlsZC5wcm9wcykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgaWYgKG5ld0NoaWxkLmRvbS50ZXh0Q29udGVudCAhPSBuZXdDaGlsZC5wcm9wc1tcInYtdGV4dFwiXSkge1xuICAgICAgICBuZXdDaGlsZC5kb20udGV4dENvbnRlbnQgPSBuZXdDaGlsZC5wcm9wc1tcInYtdGV4dFwiXTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBwYXRjaChuZXdDaGlsZCk7XG4gIH1cblxuICBmb3IgKGxldCBpID0gY2hpbGRyZW5MZW5ndGgsIGwgPSBvbGREb21DaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBvbGREb21DaGlsZHJlbltpXT8ucmVtb3ZlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVZub2RlKHZub2RlOiBWbm9kZVdpdGhEb20pOiBzdHJpbmcgfCB2b2lkIHtcbiAgY2FsbFNldChvbkNsZWFudXBTZXQpO1xuICB2bm9kZS5wcm9wcyA9IHZub2RlLnByb3BzIHx8IHt9O1xuICBwYXRjaCh2bm9kZSk7XG4gIGNhbGxTZXQoaXNNb3VudGVkID8gb25VcGRhdGVTZXQgOiBvbk1vdW50U2V0KTtcbiAgaXNNb3VudGVkID0gdHJ1ZTtcbiAgY3VycmVudC52bm9kZSA9IG51bGw7XG4gIGN1cnJlbnQuY29tcG9uZW50ID0gbnVsbDtcbiAgaWYgKGlzTm9kZUpzKSB7XG4gICAgcmV0dXJuIHZub2RlLmRvbS5pbm5lckhUTUw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZSgpOiB2b2lkIHwgc3RyaW5nIHtcbiAgaWYgKG1haW5Wbm9kZSkge1xuICAgIG1haW5Wbm9kZS5jaGlsZHJlbiA9IFttYWluQ29tcG9uZW50XTtcbiAgICByZXR1cm4gdXBkYXRlVm5vZGUobWFpblZub2RlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5tb3VudCgpIHtcbiAgaWYgKG1haW5Wbm9kZSkge1xuICAgIG1haW5Db21wb25lbnQgPSB2KCgpID0+IG51bGwsIHt9KSBhcyBWbm9kZUNvbXBvbmVudEludGVyZmFjZTtcbiAgICBjb25zdCByZXN1bHQgPSB1cGRhdGUoKTtcbiAgICBjYWxsU2V0KG9uVW5tb3VudFNldCk7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIGV2ZW50TGlzdGVuZXJOYW1lcykge1xuICAgICAgbWFpblZub2RlLmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUuc2xpY2UoMikudG9Mb3dlckNhc2UoKSwgZXZlbnRMaXN0ZW5lcik7XG4gICAgICBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KGV2ZW50TGlzdGVuZXJOYW1lcywgbmFtZSk7XG4gICAgfVxuXG4gICAgbWFpbkNvbXBvbmVudCA9IG51bGw7XG4gICAgbWFpblZub2RlID0gbnVsbDtcbiAgICBpc01vdW50ZWQgPSBmYWxzZTtcbiAgICBjdXJyZW50LnZub2RlID0gbnVsbDtcbiAgICBjdXJyZW50LmNvbXBvbmVudCA9IG51bGw7XG4gICAgY3VycmVudC5ldmVudCA9IG51bGw7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbW91bnQoZG9tOiBzdHJpbmcgfCBEb21FbGVtZW50LCBjb21wb25lbnQ6IGFueSkge1xuICBjb25zdCBjb250YWluZXIgPVxuICAgIHR5cGVvZiBkb20gPT09IFwic3RyaW5nXCIgPyAoaXNOb2RlSnMgPyBjcmVhdGVFbGVtZW50KGRvbSwgZG9tID09PSBcInN2Z1wiKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZG9tKSkgOiBkb207XG5cbiAgaWYgKGlzQ29tcG9uZW50KGNvbXBvbmVudCkpIHtcbiAgICBtYWluQ29tcG9uZW50ID0gbmV3IFZub2RlKGNvbXBvbmVudCwge30sIFtdKSBhcyBWbm9kZUNvbXBvbmVudEludGVyZmFjZTtcbiAgfSBlbHNlIGlmIChpc1Zub2RlQ29tcG9uZW50KGNvbXBvbmVudCkpIHtcbiAgICBtYWluQ29tcG9uZW50ID0gY29tcG9uZW50O1xuICB9IGVsc2Uge1xuICAgIG1haW5Db21wb25lbnQgPSBuZXcgVm5vZGUoKCkgPT4gY29tcG9uZW50LCB7fSwgW10pIGFzIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlO1xuICB9XG5cbiAgbWFpblZub2RlID0gZG9tVG9Wbm9kZShjb250YWluZXIpIGFzIFZub2RlV2l0aERvbTtcbiAgcmV0dXJuIHVwZGF0ZSgpO1xufVxuIl0sIm1hcHBpbmdzIjoiTUFzQ08sSUFBTUEsRUFBV0MsUUFBMkIsb0JBQVpDLFNBQTJCQSxRQUFRQyxVQUFZRCxRQUFRQyxTQUFTQyxNQUUxRkMsRUFBTixNQUNMLFdBQUFDLENBQ1NDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBSkFDLEtBQUFMLE1BQ0FLLEtBQUFKLFFBQ0FJLEtBQUFILFdBQ0FHLEtBQUFGLE1BQ0FFLEtBQUFELE9BQ04sR0FTUUUsRUFBZUMsR0FDMUJiLFFBQTZCLG1CQUFkYSxHQUE2QkEsR0FBa0MsaUJBQWRBLEdBQTBCLFNBQVVBLEdB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