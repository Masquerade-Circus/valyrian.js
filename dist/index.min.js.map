//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ0ZXh0VGFnIiwiaXNOb2RlSnMiLCJCb29sZWFuIiwicHJvY2VzcyIsInZlcnNpb25zIiwibm9kZSIsImNyZWF0ZURvbUVsZW1lbnQiLCJ0YWciLCJpc1NWRyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRWxlbWVudCIsIlZub2RlIiwicHJvcHMiLCJjaGlsZHJlbiIsInRoaXMiLCJpc0NvbXBvbmVudCIsImNvbXBvbmVudCIsImlzVm5vZGUiLCJvYmplY3QiLCJpc1Zub2RlQ29tcG9uZW50IiwiZG9tVG9Wbm9kZSIsImRvbSIsImkiLCJsIiwiY2hpbGROb2RlcyIsImxlbmd0aCIsImNoaWxkRG9tIiwibm9kZVR5cGUiLCJwdXNoIiwidm5vZGUiLCJhdHRyaWJ1dGVzIiwiYXR0ciIsIm5vZGVOYW1lIiwibm9kZVZhbHVlIiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwidHJ1c3QiLCJodG1sU3RyaW5nIiwiZGl2IiwiaW5uZXJIVE1MIiwidHJpbSIsIm1hcCIsImNhbGwiLCJpdGVtIiwibWFpbkNvbXBvbmVudCIsIm1haW5Wbm9kZSIsImlzTW91bnRlZCIsImN1cnJlbnQiLCJvbGRWbm9kZSIsInJlc2VydmVkUHJvcHMiLCJrZXkiLCJzdGF0ZSIsIm9uQ2xlYW51cFNldCIsIlNldCIsIm9uTW91bnRTZXQiLCJvblVwZGF0ZVNldCIsIm9uVW5tb3VudFNldCIsIm9uQ2xlYW51cCIsImNhbGxiYWNrIiwiYWRkIiwiY2FsbFNldCIsInNldCIsImNsZWFyIiwiZXZlbnRMaXN0ZW5lck5hbWVzIiwiZXZlbnRMaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJuYW1lIiwidHlwZSIsImRlZmF1bHRQcmV2ZW50ZWQiLCJ1cGRhdGUiLCJwYXJlbnROb2RlIiwiaGlkZURpcmVjdGl2ZSIsInRlc3QiLCJib29sIiwib2xkbm9kZSIsIm5ld2RvbSIsImNyZWF0ZVRleHROb2RlIiwicmVwbGFjZUNoaWxkIiwiZGlyZWN0aXZlcyIsIm5ld0NoaWxkcmVuIiwic3R5bGUiLCJkaXNwbGF5IiwiY2xhc3NlcyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImh0bWwiLCJtb2RlbCIsInByb3BlcnR5IiwiZXZlbnQiLCJ2YWx1ZSIsImhhbmRsZXIiLCJBcnJheSIsImlzQXJyYXkiLCJ2YWwiLCJpZHgiLCJpbmRleE9mIiwic3BsaWNlIiwic2hhcmVkU2V0QXR0cmlidXRlIiwibXVsdGlwbGUiLCJjdHJsS2V5IiwiZm9yRWFjaCIsImNoaWxkIiwiam9pbiIsInNlbGVjdGVkIiwicHJldkhhbmRsZXIiLCJjbGVhbnVwIiwibmV3Vm5vZGUiLCJsb3dlcmNhc2VOYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNsaWNlIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwidXBkYXRlQXR0cmlidXRlcyIsInBhdGNoIiwibmV3VHJlZSIsIm9sZFRyZWUiLCJvbGRUcmVlTGVuZ3RoIiwibmV3VHJlZUxlbmd0aCIsIm9sZEtleWVkTGlzdCIsIm5ld0tleWVkTGlzdCIsIm5ld0NoaWxkIiwib2xkQ2hpbGQiLCJzaG91bGRQYXRjaCIsImFwcGVuZENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJ2aWV3IiwiYmluZCIsInRleHRDb250ZW50Iiwib2xkTWFpblZub2RlIiwidW5tb3VudCIsInJlc3VsdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJSZWZsZWN0IiwiZGVsZXRlUHJvcGVydHkiLCJ2IiwidGFnT3JDb21wb25lbnQiLCJmcmFnbWVudCIsIl8iLCJkaXJlY3RpdmUiLCJkaXJlY3RpdmVOYW1lIiwiY29udGFpbmVyIiwicXVlcnlTZWxlY3RvckFsbCIsInZub2RlQ29tcG9uZW50Il0sInNvdXJjZXMiOlsiLi4vbGliL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lICovXG4vKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi9cbi8qIGVzbGludC1kaXNhYmxlIHNvbmFyanMvY29nbml0aXZlLWNvbXBsZXhpdHkgKi9cbi8qIGVzbGludC1kaXNhYmxlIGNvbXBsZXhpdHkgKi9cblxuLy8gVGhlIFZub2RlUHJvcGVydGllcyBpbnRlcmZhY2UgcmVwcmVzZW50cyBwcm9wZXJ0aWVzIHRoYXQgY2FuIGJlIHBhc3NlZCB0byBhIHZpcnR1YWwgbm9kZS5cbmV4cG9ydCBpbnRlcmZhY2UgVm5vZGVQcm9wZXJ0aWVzIHtcbiAgLy8gQSB1bmlxdWUga2V5IGZvciB0aGUgdmlydHVhbCBub2RlLCB3aGljaCBjYW4gYmUgYSBzdHJpbmcgb3IgYSBudW1iZXIuXG4gIC8vIFRoaXMgaXMgdXNlZnVsIGZvciBvcHRpbWl6aW5nIHVwZGF0ZXMgaW4gYSBsaXN0IG9mIG5vZGVzLlxuICBrZXk/OiBzdHJpbmcgfCBudW1iZXI7XG4gIC8vIEEgc3RhdGUgb2JqZWN0IHRoYXQgaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSB2aXJ0dWFsIG5vZGUuXG4gIHN0YXRlPzogYW55O1xuICAvLyBBbiBpbmRleCBzaWduYXR1cmUgdGhhdCBhbGxvd3MgZm9yIGFueSBvdGhlciBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkLlxuICBba2V5OiBzdHJpbmcgfCBudW1iZXIgfCBzeW1ib2xdOiBhbnk7XG59XG5cbi8vIFRoZSBEb21FbGVtZW50IGludGVyZmFjZSBleHRlbmRzIHRoZSBFbGVtZW50IGludGVyZmFjZSB3aXRoIGFuIGluZGV4IHNpZ25hdHVyZS5cbi8vIFRoaXMgYWxsb3dzIGZvciBhbnkgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIERPTSBlbGVtZW50cy5cbmV4cG9ydCBpbnRlcmZhY2UgRG9tRWxlbWVudCBleHRlbmRzIEVsZW1lbnQge1xuICBba2V5OiBzdHJpbmddOiBhbnk7XG59XG5cbi8vIFRoZSBWbm9kZUludGVyZmFjZSByZXByZXNlbnRzIGEgdmlydHVhbCBub2RlLiBJdCBoYXMgYSBudW1iZXIgb2Ygb3B0aW9uYWwgZmllbGRzLFxuLy8gaW5jbHVkaW5nIGEgdGFnLCBwcm9wcywgY2hpbGRyZW4sIGFuZCBhIERPTSBlbGVtZW50LlxuZXhwb3J0IGludGVyZmFjZSBWbm9kZUludGVyZmFjZSB7XG4gIC8vIFRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIHZpcnR1YWwgbm9kZS4gSXQgdGFrZXMgYSB0YWcsIHByb3BzLCBhbmQgY2hpbGRyZW4gYXMgYXJndW1lbnRzLlxuICAvLyBUaGUgdGFnIGNhbiBiZSBhIHN0cmluZywgYSBjb21wb25lbnQsIG9yIGEgUE9KTyBjb21wb25lbnQuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICBuZXcgKHRhZzogc3RyaW5nIHwgQ29tcG9uZW50IHwgUE9KT0NvbXBvbmVudCwgcHJvcHM6IFZub2RlUHJvcGVydGllcywgY2hpbGRyZW46IENoaWxkcmVuKTogVm5vZGVJbnRlcmZhY2U7XG4gIC8vIFRoZSB0YWcgZm9yIHRoZSB2aXJ0dWFsIG5vZGUuIEl0IGNhbiBiZSBhIHN0cmluZywgYSBjb21wb25lbnQsIG9yIGEgUE9KTyBjb21wb25lbnQuXG4gIHRhZzogc3RyaW5nIHwgQ29tcG9uZW50IHwgUE9KT0NvbXBvbmVudDtcbiAgLy8gVGhlIHByb3BzIGZvciB0aGUgdmlydHVhbCBub2RlLlxuICBwcm9wczogVm5vZGVQcm9wZXJ0aWVzO1xuICAvLyBUaGUgY2hpbGRyZW4gZm9yIHRoZSB2aXJ0dWFsIG5vZGUuXG4gIGNoaWxkcmVuOiBDaGlsZHJlbjtcbiAgLy8gQSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgdmlydHVhbCBub2RlIGlzIGFuIFNWRyBlbGVtZW50LlxuICBpc1NWRz86IGJvb2xlYW47XG4gIC8vIFRoZSBET00gZWxlbWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSB2aXJ0dWFsIG5vZGUuXG4gIGRvbT86IERvbUVsZW1lbnQ7XG4gIC8vIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHZpcnR1YWwgbm9kZSBoYXMgYmVlbiBwcm9jZXNzZWQgaW4gdGhlIGtleWVkIGRpZmZpbmcgYWxnb3JpdGhtLlxuICBwcm9jZXNzZWQ/OiBib29sZWFuO1xuICAvLyBBbiBpbmRleCBzaWduYXR1cmUgdGhhdCBhbGxvd3MgZm9yIGFueSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gdGhlIHZpcnR1YWwgbm9kZS5cbiAgW2tleTogc3RyaW5nIHwgbnVtYmVyIHwgc3ltYm9sXTogYW55O1xufVxuXG4vLyBUaGUgVm5vZGVXaXRoRG9tIGludGVyZmFjZSByZXByZXNlbnRzIGEgdmlydHVhbCBub2RlIHRoYXQgaGFzIGEgRE9NIGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIGl0LlxuZXhwb3J0IGludGVyZmFjZSBWbm9kZVdpdGhEb20gZXh0ZW5kcyBWbm9kZUludGVyZmFjZSB7XG4gIGRvbTogRG9tRWxlbWVudDtcbn1cblxuLy8gVGhlIENvbXBvbmVudCBpbnRlcmZhY2UgcmVwcmVzZW50cyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHZpcnR1YWwgbm9kZSBvciBhIGxpc3Qgb2YgdmlydHVhbCBub2Rlcy5cbi8vIEl0IGNhbiBhbHNvIGhhdmUgYWRkaXRpb25hbCBwcm9wZXJ0aWVzLlxuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnQge1xuICAvLyBUaGUgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdmlydHVhbCBub2RlIG9yIGEgbGlzdCBvZiB2aXJ0dWFsIG5vZGVzLlxuICAvLyBJdCBjYW4gdGFrZSBwcm9wcyBhbmQgY2hpbGRyZW4gYXMgYXJndW1lbnRzLlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgKHByb3BzPzogVm5vZGVQcm9wZXJ0aWVzIHwgbnVsbCwgLi4uY2hpbGRyZW46IGFueVtdKTogVm5vZGVJbnRlcmZhY2UgfCBDaGlsZHJlbiB8IGFueTtcbiAgLy8gQW4gaW5kZXggc2lnbmF0dXJlIHRoYXQgYWxsb3dzIGZvciBhbnkgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIHRoZSBjb21wb25lbnQuXG4gIFtrZXk6IHN0cmluZ106IGFueTtcbn1cblxuLy8gVGhlIFBPSk9Db21wb25lbnQgaW50ZXJmYWNlIHJlcHJlc2VudHMgYSBcInBsYWluIG9sZCBKYXZhU2NyaXB0IG9iamVjdFwiIChQT0pPKSBjb21wb25lbnQuXG4vLyBJdCBoYXMgYSB2aWV3IGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHZpcnR1YWwgbm9kZSBvciBhIGxpc3Qgb2YgdmlydHVhbCBub2Rlcyxcbi8vIGFzIHdlbGwgYXMgb3B0aW9uYWwgcHJvcHMgYW5kIGNoaWxkcmVuLlxuLy8gSXQgY2FuIGJlIHVzZWQgYWxzbyB0byBpZGVudGlmeSBjbGFzcyBpbnN0YW5jZSBjb21wb25lbnRzLlxuZXhwb3J0IGludGVyZmFjZSBQT0pPQ29tcG9uZW50IHtcbiAgLy8gVGhlIHZpZXcgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdmlydHVhbCBub2RlIG9yIGEgbGlzdCBvZiB2aXJ0dWFsIG5vZGVzLlxuICB2aWV3OiBDb21wb25lbnQ7XG4gIC8vIFRoZSBwcm9wcyBmb3IgdGhlIGNvbXBvbmVudC5cbiAgcHJvcHM/OiBWbm9kZVByb3BlcnRpZXMgfCBudWxsO1xuICAvLyBUaGUgY2hpbGRyZW4gZm9yIHRoZSBjb21wb25lbnQuXG4gIGNoaWxkcmVuPzogYW55W107XG4gIC8vIEFuIGluZGV4IHNpZ25hdHVyZSB0aGF0IGFsbG93cyBmb3IgYW55IGFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBiZSBhZGRlZCB0byB0aGUgUE9KTyBjb21wb25lbnQuXG4gIFtrZXk6IHN0cmluZ106IGFueTtcbn1cblxuLy8gVGhlIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlIHJlcHJlc2VudHMgYSB2aXJ0dWFsIG5vZGUgdGhhdCBoYXMgYSBjb21wb25lbnQgYXMgaXRzIHRhZy5cbi8vIEl0IGhhcyBwcm9wcyBhbmQgY2hpbGRyZW4sIGp1c3QgbGlrZSBhIHJlZ3VsYXIgdmlydHVhbCBub2RlLlxuZXhwb3J0IGludGVyZmFjZSBWbm9kZUNvbXBvbmVudEludGVyZmFjZSBleHRlbmRzIFZub2RlSW50ZXJmYWNlIHtcbiAgdGFnOiBDb21wb25lbnQgfCBQT0pPQ29tcG9uZW50O1xuICBwcm9wczogVm5vZGVQcm9wZXJ0aWVzO1xuICBjaGlsZHJlbjogQ2hpbGRyZW47XG59XG5cbi8vIFRoZSBDaGlsZHJlbiBpbnRlcmZhY2UgcmVwcmVzZW50cyBhIGxpc3Qgb2YgdmlydHVhbCBub2RlcyBvciBvdGhlciB2YWx1ZXMuXG5leHBvcnQgaW50ZXJmYWNlIENoaWxkcmVuIGV4dGVuZHMgQXJyYXk8Vm5vZGVJbnRlcmZhY2UgfCBWbm9kZUNvbXBvbmVudEludGVyZmFjZSB8IGFueT4ge31cblxuLy8gVGhlIERpcmVjdGl2ZSBpbnRlcmZhY2UgcmVwcmVzZW50cyBhIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIGFwcGxpZWQgdG8gYSB2aXJ0dWFsIG5vZGUuXG4vLyBJdCByZWNlaXZlcyB0aGUgdmFsdWUsIHZpcnR1YWwgbm9kZSwgYW5kIG9sZCB2aXJ0dWFsIG5vZGUgYXMgYXJndW1lbnRzLCBhbmQgY2FuIHJldHVybiBhIGJvb2xlYW4gdmFsdWUuXG4vLyBJZiBvbmx5IHRoZSB2aXJ0dWFsIG5vZGUgaXMgcGFzc2VkLCBpdCBtZWFucyBpdHMgdGhlIG9uIGNyZWF0ZSBwaGFzZSBmb3IgdGhlIHYtbm9kZS5cbi8vIElmIHRoZSBvbGQgdmlydHVhbCBub2RlIGlzIGFsc28gcGFzc2VkLCBpdCBtZWFucyBpdHMgdGhlIG9uIHVwZGF0ZSBwaGFzZSBmb3IgdGhlIHYtbm9kZS5cbmV4cG9ydCBpbnRlcmZhY2UgRGlyZWN0aXZlIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gICh2YWx1ZTogYW55LCB2bm9kZTogVm5vZGVXaXRoRG9tLCBvbGRWbm9kZT86IFZub2RlV2l0aERvbSk6IHZvaWQgfCBib29sZWFuO1xufVxuXG4vLyBUaGUgRGlyZWN0aXZlcyBpbnRlcmZhY2UgaXMgYSBtYXBwaW5nIG9mIGRpcmVjdGl2ZSBuYW1lcyB0byBEaXJlY3RpdmUgZnVuY3Rpb25zLlxuZXhwb3J0IGludGVyZmFjZSBEaXJlY3RpdmVzIHtcbiAgW2tleTogc3RyaW5nXTogRGlyZWN0aXZlO1xufVxuXG4vLyBUaGUgUmVzZXJ2ZWRQcm9wcyBpbnRlcmZhY2UgaXMgYSBtYXBwaW5nIG9mIHJlc2VydmVkIHByb3AgbmFtZXMgdG8gdGhlIHZhbHVlIGB0cnVlYC5cbi8vIFRoZXNlIHByb3AgbmFtZXMgY2Fubm90IGJlIHVzZWQgYXMgY3VzdG9tIHByb3AgbmFtZXMuXG5leHBvcnQgaW50ZXJmYWNlIFJlc2VydmVkUHJvcHMge1xuICBba2V5OiBzdHJpbmddOiB0cnVlO1xufVxuXG4vLyBUaGUgQ3VycmVudCBpbnRlcmZhY2UgcmVwcmVzZW50cyB0aGUgY3VycmVudCBjb21wb25lbnQgYW5kIHZpcnR1YWwgbm9kZSB0aGF0IGFyZSBiZWluZyBwcm9jZXNzZWQuXG5leHBvcnQgaW50ZXJmYWNlIEN1cnJlbnQge1xuICAvLyBUaGUgY3VycmVudCBjb21wb25lbnQuIEl0IGNhbiBiZSBhIGNvbXBvbmVudCwgYSBQT0pPIGNvbXBvbmVudCwgb3IgbnVsbC5cbiAgY29tcG9uZW50OiBDb21wb25lbnQgfCBQT0pPQ29tcG9uZW50IHwgbnVsbDtcbiAgLy8gVGhlIGN1cnJlbnQgdmlydHVhbCBub2RlLiBJdCBtdXN0IGhhdmUgYSBET00gZWxlbWVudCBhc3NvY2lhdGVkIHdpdGggaXQuXG4gIHZub2RlOiBWbm9kZVdpdGhEb20gfCBudWxsO1xuICAvLyBUaGUgb2xkIHZpcnR1YWwgbm9kZS4gSXQgbXVzdCBoYXZlIGEgRE9NIGVsZW1lbnQgYXNzb2NpYXRlZCB3aXRoIGl0LlxuICBvbGRWbm9kZT86IFZub2RlV2l0aERvbSB8IG51bGw7XG59XG5cbi8vIFRoZSBWIGZ1bmN0aW9uIGlzIHRoZSBtYWluIGZ1bmN0aW9uIGZvciBjcmVhdGluZyB2aXJ0dWFsIG5vZGVzLlxuLy8gSXQgdGFrZXMgYSB0YWcgb3IgY29tcG9uZW50LCBwcm9wcywgYW5kIGNoaWxkcmVuIGFzIGFyZ3VtZW50cywgYW5kIHJldHVybnMgYSB2aXJ0dWFsIG5vZGUuXG5leHBvcnQgaW50ZXJmYWNlIFYge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMsIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICh0YWdPckNvbXBvbmVudDogc3RyaW5nIHwgQ29tcG9uZW50IHwgUE9KT0NvbXBvbmVudCwgcHJvcHM6IFZub2RlUHJvcGVydGllcyB8IG51bGwsIC4uLmNoaWxkcmVuOiBDaGlsZHJlbik6XG4gICAgfCBWbm9kZUludGVyZmFjZVxuICAgIHwgVm5vZGVDb21wb25lbnRJbnRlcmZhY2U7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycywgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgZnJhZ21lbnQoXzogYW55LCAuLi5jaGlsZHJlbjogQ2hpbGRyZW4pOiBDaGlsZHJlbjtcbn1cbi8vICd0ZXh0VGFnJyBpcyBhIGNvbnN0YW50IHN0cmluZyB0aGF0IGlzIHVzZWQgdG8gcmVwcmVzZW50IHRleHQgbm9kZXMgaW4gdGhlIHZpcnR1YWwgRE9NLlxuY29uc3QgdGV4dFRhZyA9IFwiI3RleHRcIjtcblxuLy8gJ2lzTm9kZUpzJyBpcyBhIGJvb2xlYW4gdGhhdCBpcyB0cnVlIGlmIHRoZSBjb2RlIGlzIHJ1bm5pbmcgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50IGFuZCBmYWxzZSBvdGhlcndpc2UuXG4vLyBJdCBpcyBkZXRlcm1pbmVkIGJ5IGNoZWNraW5nIGlmIHRoZSAncHJvY2VzcycgZ2xvYmFsIG9iamVjdCBpcyBkZWZpbmVkIGFuZCBoYXMgYSAndmVyc2lvbnMnIHByb3BlcnR5LlxuZXhwb3J0IGxldCBpc05vZGVKcyA9IEJvb2xlYW4odHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUpO1xuXG4vLyAnY3JlYXRlRG9tRWxlbWVudCcgaXMgYSBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgRE9NIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIHRhZyBuYW1lLlxuLy8gSWYgJ2lzU1ZHJyBpcyB0cnVlLCBpdCBjcmVhdGVzIGFuIFNWRyBlbGVtZW50IGluc3RlYWQgb2YgYSByZWd1bGFyIERPTSBlbGVtZW50LlxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURvbUVsZW1lbnQodGFnOiBzdHJpbmcsIGlzU1ZHOiBib29sZWFuID0gZmFsc2UpOiBEb21FbGVtZW50IHtcbiAgcmV0dXJuIGlzU1ZHID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgdGFnKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbn1cblxuLy8gJ1Zub2RlJyBpcyBhIGNsYXNzIHRoYXQgcmVwcmVzZW50cyBhIHZpcnR1YWwgRE9NIG5vZGUuXG4vLyBJdCBoYXMgdGhyZWUgcHJvcGVydGllczogJ3RhZycsICdwcm9wcycsIGFuZCAnY2hpbGRyZW4nLlxuLy8gJ1Zub2RlJyBpcyBleHBvcnRlZCBhcyBhbiBvYmplY3Qgd2l0aCBhIHR5cGUgb2YgJ1Zub2RlSW50ZXJmYWNlJy5cbi8vIFRoZSAnYXMgdW5rbm93biBhcyBWbm9kZUludGVyZmFjZScgaXMgdXNlZCB0byB0ZWxsIFR5cGVTY3JpcHQgdGhhdCB0aGUgJ1Zub2RlJyBmdW5jdGlvbiBoYXMgdGhlIHNhbWUgdHlwZSBhcyAnVm5vZGVJbnRlcmZhY2UnLlxuZXhwb3J0IGNvbnN0IFZub2RlID0gZnVuY3Rpb24gVm5vZGUodGhpczogVm5vZGVJbnRlcmZhY2UsIHRhZzogc3RyaW5nLCBwcm9wczogVm5vZGVQcm9wZXJ0aWVzLCBjaGlsZHJlbjogQ2hpbGRyZW4pIHtcbiAgLy8gJ3RoaXMnIHJlZmVycyB0byB0aGUgY3VycmVudCBpbnN0YW5jZSBvZiAnVm5vZGUnLlxuICB0aGlzLnRhZyA9IHRhZztcbiAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG59IGFzIHVua25vd24gYXMgVm5vZGVJbnRlcmZhY2U7XG5cbi8vICdpc0NvbXBvbmVudCcgaXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gJ2NvbXBvbmVudCcgaXMgYSB2YWxpZCBjb21wb25lbnQgYW5kIGZhbHNlIG90aGVyd2lzZS5cbi8vIEEgY29tcG9uZW50IGlzIGVpdGhlciBhIGZ1bmN0aW9uIG9yIGFuIG9iamVjdCB3aXRoIGEgJ3ZpZXcnIGZ1bmN0aW9uLlxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29tcG9uZW50KGNvbXBvbmVudCk6IGNvbXBvbmVudCBpcyBDb21wb25lbnQge1xuICByZXR1cm4gY29tcG9uZW50ICYmICh0eXBlb2YgY29tcG9uZW50ID09PSBcImZ1bmN0aW9uXCIgfHwgKHR5cGVvZiBjb21wb25lbnQgPT09IFwib2JqZWN0XCIgJiYgXCJ2aWV3XCIgaW4gY29tcG9uZW50KSk7XG59XG5cbi8vICdpc1Zub2RlJyBpcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiAnb2JqZWN0JyBpcyBhICdWbm9kZScgaW5zdGFuY2UgYW5kIGZhbHNlIG90aGVyd2lzZS5cbmV4cG9ydCBjb25zdCBpc1Zub2RlID0gKG9iamVjdD86IHVua25vd24gfCBWbm9kZUludGVyZmFjZSk6IG9iamVjdCBpcyBWbm9kZUludGVyZmFjZSA9PiB7XG4gIC8vIFVzZSB0aGUgJ2luc3RhbmNlb2YnIG9wZXJhdG9yIHRvIGNoZWNrIGlmICdvYmplY3QnIGlzIGFuIGluc3RhbmNlIG9mICdWbm9kZScuXG4gIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBWbm9kZTtcbn07XG5cbi8vICdpc1Zub2RlQ29tcG9uZW50JyBpcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiAnb2JqZWN0JyBpcyBhICdWbm9kZScgaW5zdGFuY2Ugd2l0aCBhICd0YWcnIHByb3BlcnR5IHRoYXQgaXMgYSB2YWxpZCBjb21wb25lbnQuXG4vLyBJdCByZXR1cm5zIGZhbHNlIG90aGVyd2lzZS5cbmV4cG9ydCBjb25zdCBpc1Zub2RlQ29tcG9uZW50ID0gKG9iamVjdD86IHVua25vd24gfCBWbm9kZUNvbXBvbmVudEludGVyZmFjZSk6IG9iamVjdCBpcyBWbm9kZUNvbXBvbmVudEludGVyZmFjZSA9PiB7XG4gIC8vIENoZWNrIGlmICdvYmplY3QnIGlzIGEgJ1Zub2RlJyBpbnN0YW5jZSBhbmQgaXRzICd0YWcnIHByb3BlcnR5IGlzIGEgdmFsaWQgY29tcG9uZW50LlxuICByZXR1cm4gaXNWbm9kZShvYmplY3QpICYmIGlzQ29tcG9uZW50KG9iamVjdC50YWcpO1xufTtcblxuLy8gJ2RvbVRvVm5vZGUnIGlzIGEgZnVuY3Rpb24gdGhhdCBjb252ZXJ0cyBhIERPTSBub2RlIHRvIGEgJ1Zub2RlJyBpbnN0YW5jZS5cbmZ1bmN0aW9uIGRvbVRvVm5vZGUoZG9tOiBhbnkpOiBWbm9kZVdpdGhEb20ge1xuICBsZXQgY2hpbGRyZW46IFZub2RlV2l0aERvbVtdID0gW107XG4gIC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwgY2hpbGQgbm9kZXMgb2YgJ2RvbScuXG4gIGZvciAobGV0IGkgPSAwLCBsID0gZG9tLmNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgbGV0IGNoaWxkRG9tID0gZG9tLmNoaWxkTm9kZXNbaV07XG4gICAgLy8gSWYgdGhlIGNoaWxkIG5vZGUgaXMgYSB0ZXh0IG5vZGUsIGNyZWF0ZSBhICdWbm9kZScgaW5zdGFuY2Ugd2l0aCB0aGUgJ3RleHRUYWcnIGNvbnN0YW50IGFzIHRoZSAndGFnJyBwcm9wZXJ0eS5cbiAgICAvLyBTZXQgdGhlICdkb20nIHByb3BlcnR5IG9mIHRoZSAnVm5vZGUnIGluc3RhbmNlIHRvIHRoZSBjaGlsZCBET00gbm9kZS5cbiAgICAvLyBQdXNoIHRoZSAnVm5vZGUnIGluc3RhbmNlIHRvIHRoZSAnY2hpbGRyZW4nIGFycmF5LlxuICAgIGlmIChjaGlsZERvbS5ub2RlVHlwZSA9PT0gMykge1xuICAgICAgbGV0IHZub2RlID0gbmV3IFZub2RlKHRleHRUYWcsIHt9LCBbXSk7XG4gICAgICB2bm9kZS5kb20gPSBjaGlsZERvbTtcbiAgICAgIGNoaWxkcmVuLnB1c2godm5vZGUgYXMgVm5vZGVXaXRoRG9tKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBjaGlsZCBub2RlIGlzIGFuIGVsZW1lbnQgbm9kZSwgcmVjdXJzaXZlbHkgY2FsbCAnZG9tVG9Wbm9kZScgdG8gY29udmVydCBpdCB0byBhICdWbm9kZScgaW5zdGFuY2UuXG4gICAgLy8gUHVzaCB0aGUgJ1Zub2RlJyBpbnN0YW5jZSB0byB0aGUgJ2NoaWxkcmVuJyBhcnJheS5cbiAgICBpZiAoY2hpbGREb20ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgIGNoaWxkcmVuLnB1c2goZG9tVG9Wbm9kZShjaGlsZERvbSkpO1xuICAgIH1cbiAgfVxuXG4gIGxldCBwcm9wczogVm5vZGVQcm9wZXJ0aWVzID0ge307XG4gIC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwgYXR0cmlidXRlcyBvZiAnZG9tJy5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBkb20uYXR0cmlidXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBsZXQgYXR0ciA9IGRvbS5hdHRyaWJ1dGVzW2ldO1xuICAgIC8vIEFkZCB0aGUgYXR0cmlidXRlIHRvIHRoZSAncHJvcHMnIG9iamVjdCwgdXNpbmcgdGhlIGF0dHJpYnV0ZSdzIG5hbWUgYXMgdGhlIGtleSBhbmQgaXRzIHZhbHVlIGFzIHRoZSB2YWx1ZS5cbiAgICBwcm9wc1thdHRyLm5vZGVOYW1lXSA9IGF0dHIubm9kZVZhbHVlO1xuICB9XG5cbiAgLy8gQ3JlYXRlIGEgbmV3ICdWbm9kZScgaW5zdGFuY2Ugd2l0aCB0aGUgJ3RhZycgcHJvcGVydHkgc2V0IHRvIHRoZSBsb3dlcmNhc2UgdmVyc2lvbiBvZiB0aGUgRE9NIG5vZGUncyB0YWcgbmFtZS5cbiAgLy8gU2V0IHRoZSAncHJvcHMnIGFuZCAnY2hpbGRyZW4nIHByb3BlcnRpZXMgdG8gdGhlICdwcm9wcycgYW5kICdjaGlsZHJlbicgYXJyYXlzIHJlc3BlY3RpdmVseS5cbiAgLy8gU2V0IHRoZSAnZG9tJyBwcm9wZXJ0eSBvZiB0aGUgJ1Zub2RlJyBpbnN0YW5jZSB0byB0aGUgRE9NIG5vZGUuXG4gIGxldCB2bm9kZSA9IG5ldyBWbm9kZShkb20udGFnTmFtZS50b0xvd2VyQ2FzZSgpLCBwcm9wcywgY2hpbGRyZW4pO1xuICB2bm9kZS5kb20gPSBkb207XG4gIHJldHVybiB2bm9kZSBhcyBWbm9kZVdpdGhEb207XG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gdGFrZXMgaW4gYW4gSFRNTCBzdHJpbmcgYW5kIGNyZWF0ZXMgYSB2aXJ0dWFsIG5vZGUgcmVwcmVzZW50YXRpb24gb2YgaXRcbi8vIHVzaW5nIHRoZSBgZG9tVG9Wbm9kZWAgZnVuY3Rpb24uIEl0IGRvZXMgdGhpcyBieSBjcmVhdGluZyBhIG5ldyBgZGl2YCBlbGVtZW50LCBzZXR0aW5nXG4vLyBpdHMgYGlubmVySFRNTGAgdG8gdGhlIHByb3ZpZGVkIEhUTUwgc3RyaW5nLCBhbmQgdGhlbiB1c2luZyBgbWFwYCB0byBpdGVyYXRlIG92ZXIgdGhlXG4vLyBgY2hpbGROb2Rlc2Agb2YgdGhlIGBkaXZgIGVsZW1lbnQsIHBhc3NpbmcgZWFjaCBvbmUgdG8gYGRvbVRvVm5vZGVgIHRvIGNyZWF0ZSBhIHZpcnR1YWxcbi8vIG5vZGUgcmVwcmVzZW50YXRpb24gb2YgaXQuIFRoZSByZXN1bHRpbmcgYXJyYXkgb2YgdmlydHVhbCBub2RlcyBpcyB0aGVuIHJldHVybmVkLlxuZXhwb3J0IGZ1bmN0aW9uIHRydXN0KGh0bWxTdHJpbmc6IHN0cmluZykge1xuICBsZXQgZGl2ID0gY3JlYXRlRG9tRWxlbWVudChcImRpdlwiKTtcbiAgZGl2LmlubmVySFRNTCA9IGh0bWxTdHJpbmcudHJpbSgpO1xuXG4gIHJldHVybiBbXS5tYXAuY2FsbChkaXYuY2hpbGROb2RlcywgKGl0ZW0pID0+IGRvbVRvVm5vZGUoaXRlbSkpO1xufVxuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuLyogTWFpbiBDb21wb25lbnQgaW1wbGVtZW50YXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8vIFRoZXNlIHZhcmlhYmxlcyBhcmUgdXNlZCB0byBzdG9yZSB0aGUgbWFpbiBjb21wb25lbnQsIHRoZSBtYWluIHZpcnR1YWwgbm9kZSwgYW5kIHdoZXRoZXJcbi8vIHRoZSBtYWluIGNvbXBvbmVudCBpcyBjdXJyZW50bHkgbW91bnRlZC5cbmxldCBtYWluQ29tcG9uZW50OiBWbm9kZUNvbXBvbmVudEludGVyZmFjZSB8IG51bGwgPSBudWxsO1xubGV0IG1haW5Wbm9kZTogVm5vZGVXaXRoRG9tIHwgbnVsbCA9IG51bGw7XG5sZXQgaXNNb3VudGVkID0gZmFsc2U7XG5cbi8vIFRoaXMgb2JqZWN0IGlzIHVzZWQgdG8gc3RvcmUgdGhlIGN1cnJlbnQgdmlydHVhbCBub2RlIGFuZCBjb21wb25lbnQgYmVpbmcgcmVuZGVyZWQuXG5leHBvcnQgY29uc3QgY3VycmVudDogQ3VycmVudCA9IHtcbiAgdm5vZGU6IG51bGwsXG4gIG9sZFZub2RlOiBudWxsLFxuICBjb21wb25lbnQ6IG51bGxcbn07XG5cbi8qIFJlc2VydmVkIHByb3BzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vLyBUaGlzIG9iamVjdCBpcyB1c2VkIHRvIHN0b3JlIHRoZSBuYW1lcyBvZiByZXNlcnZlZCBwcm9wcywgd2hpY2ggYXJlIHByb3BzIHRoYXQgYXJlIHJlc2VydmVkXG4vLyBmb3Igc3BlY2lhbCBwdXJwb3NlcyBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIGFzIHJlZ3VsYXIgY29tcG9uZW50IHByb3BzLlxuZXhwb3J0IGNvbnN0IHJlc2VydmVkUHJvcHM6IFJlY29yZDxzdHJpbmcsIHRydWU+ID0ge1xuICBrZXk6IHRydWUsXG4gIHN0YXRlOiB0cnVlLFxuICBcInYta2VlcFwiOiB0cnVlLFxuXG4gIC8vIEJ1aWx0IGluIGRpcmVjdGl2ZXNcbiAgXCJ2LWlmXCI6IHRydWUsXG4gIFwidi11bmxlc3NcIjogdHJ1ZSxcbiAgXCJ2LWZvclwiOiB0cnVlLFxuICBcInYtc2hvd1wiOiB0cnVlLFxuICBcInYtY2xhc3NcIjogdHJ1ZSxcbiAgXCJ2LWh0bWxcIjogdHJ1ZSxcbiAgXCJ2LW1vZGVsXCI6IHRydWUsXG4gIFwidi1jcmVhdGVcIjogdHJ1ZSxcbiAgXCJ2LXVwZGF0ZVwiOiB0cnVlLFxuICBcInYtY2xlYW51cFwiOiB0cnVlXG59O1xuXG4vKiBNb3VudGluZywgVXBkYXRpbmcsIENsZWFudXAgYW5kIFVubW91bnRpbmcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLy8gVGhlc2Ugc2V0cyBhcmUgdXNlZCB0byBzdG9yZSBjYWxsYmFja3MgZm9yIHZhcmlvdXMgbGlmZWN5Y2xlIGV2ZW50czogbW91bnRpbmcsIHVwZGF0aW5nLFxuLy8gY2xlYW5pbmcgdXAsIGFuZCB1bm1vdW50aW5nLlxuY29uc3Qgb25DbGVhbnVwU2V0OiBTZXQ8RnVuY3Rpb24+ID0gbmV3IFNldCgpO1xuY29uc3Qgb25Nb3VudFNldDogU2V0PEZ1bmN0aW9uPiA9IG5ldyBTZXQoKTtcbmNvbnN0IG9uVXBkYXRlU2V0OiBTZXQ8RnVuY3Rpb24+ID0gbmV3IFNldCgpO1xuY29uc3Qgb25Vbm1vdW50U2V0OiBTZXQ8RnVuY3Rpb24+ID0gbmV3IFNldCgpO1xuXG4vLyBUaGVzZSBmdW5jdGlvbnMgYWxsb3cgdXNlcnMgdG8gcmVnaXN0ZXIgY2FsbGJhY2tzIGZvciB0aGUgY29ycmVzcG9uZGluZyBsaWZlY3ljbGUgZXZlbnRzLlxuZXhwb3J0IGZ1bmN0aW9uIG9uTW91bnQoY2FsbGJhY2spIHtcbiAgaWYgKCFpc01vdW50ZWQpIHtcbiAgICBvbk1vdW50U2V0LmFkZChjYWxsYmFjayk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uVXBkYXRlKGNhbGxiYWNrKSB7XG4gIG9uVXBkYXRlU2V0LmFkZChjYWxsYmFjayk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbkNsZWFudXAoY2FsbGJhY2spIHtcbiAgb25DbGVhbnVwU2V0LmFkZChjYWxsYmFjayk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvblVubW91bnQoY2FsbGJhY2spIHtcbiAgaWYgKCFpc01vdW50ZWQpIHtcbiAgICBvblVubW91bnRTZXQuYWRkKGNhbGxiYWNrKTtcbiAgfVxufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgdG8gY2FsbCBhbGwgdGhlIGNhbGxiYWNrcyBpbiBhIGdpdmVuIHNldC5cbmZ1bmN0aW9uIGNhbGxTZXQoc2V0KSB7XG4gIGZvciAobGV0IGNhbGxiYWNrIG9mIHNldCkge1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cblxuICBzZXQuY2xlYXIoKTtcbn1cblxuLyogRXZlbnQgbGlzdGVuZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuLy8gVGhpcyBvYmplY3Qgc3RvcmVzIHRoZSBuYW1lcyBvZiBldmVudCBsaXN0ZW5lcnMgdGhhdCBoYXZlIGJlZW4gYWRkZWRcbmNvbnN0IGV2ZW50TGlzdGVuZXJOYW1lczogUmVjb3JkPHN0cmluZywgdHJ1ZT4gPSB7fTtcblxuLy8gVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiBhbiBldmVudCBvY2N1cnNcbmZ1bmN0aW9uIGV2ZW50TGlzdGVuZXIoZTogRXZlbnQpIHtcbiAgLy8gQ29udmVydCB0aGUgdGFyZ2V0IG9mIHRoZSBldmVudCB0byBhIERPTSBlbGVtZW50XG4gIGxldCBkb20gPSBlLnRhcmdldCBhcyBEb21FbGVtZW50O1xuXG4gIC8vIENyZWF0ZSB0aGUgbmFtZSBvZiB0aGUgZXZlbnQgbGlzdGVuZXIgYnkgYWRkaW5nIFwidi1vblwiIHRvIHRoZSBldmVudCB0eXBlXG4gIGxldCBuYW1lID0gYHYtb24ke2UudHlwZX1gO1xuXG4gIC8vIEtlZXAgZ29pbmcgdXAgdGhlIERPTSB0cmVlIHVudGlsIHdlIGZpbmQgYW4gZWxlbWVudCB3aXRoIGFuIGV2ZW50IGxpc3RlbmVyXG4gIC8vIG1hdGNoaW5nIHRoZSBldmVudCB0eXBlXG4gIHdoaWxlIChkb20pIHtcbiAgICBpZiAoZG9tW25hbWVdKSB7XG4gICAgICAvLyBDYWxsIHRoZSBldmVudCBsaXN0ZW5lciBmdW5jdGlvblxuICAgICAgZG9tW25hbWVdKGUsIGRvbSk7XG5cbiAgICAgIC8vIElmIHRoZSBkZWZhdWx0IGFjdGlvbiBvZiB0aGUgZXZlbnQgaGFzbid0IGJlZW4gcHJldmVudGVkLCB1cGRhdGUgdGhlIERPTVxuICAgICAgaWYgKCFlLmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgdXBkYXRlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvbSA9IGRvbS5wYXJlbnROb2RlIGFzIERvbUVsZW1lbnQ7XG4gIH1cbn1cblxuLyogRGlyZWN0aXZlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuLy8gVGhpcyBmdW5jdGlvbiBjcmVhdGVzIGEgZGlyZWN0aXZlIHRoYXQgaGlkZXMgYW4gZWxlbWVudCBiYXNlZCBvbiBhIGNvbmRpdGlvblxubGV0IGhpZGVEaXJlY3RpdmUgPSAodGVzdDogYm9vbGVhbikgPT4gKGJvb2w6IGJvb2xlYW4sIHZub2RlOiBWbm9kZUludGVyZmFjZSwgb2xkbm9kZT86IFZub2RlSW50ZXJmYWNlKSA9PiB7XG4gIC8vIElmIHRlc3QgaXMgdHJ1ZSwgdXNlIHRoZSB2YWx1ZSBvZiBib29sLiBPdGhlcndpc2UsIHVzZSB0aGUgb3Bwb3NpdGUgb2YgYm9vbC5cbiAgbGV0IHZhbHVlID0gdGVzdCA/IGJvb2wgOiAhYm9vbDtcblxuICAvLyBJZiB0aGUgdmFsdWUgaXMgdHJ1ZSwgaGlkZSB0aGUgZWxlbWVudCBieSByZXBsYWNpbmcgaXQgd2l0aCBhIHRleHQgbm9kZVxuICBpZiAodmFsdWUpIHtcbiAgICBsZXQgbmV3ZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7XG4gICAgaWYgKG9sZG5vZGUgJiYgb2xkbm9kZS5kb20gJiYgb2xkbm9kZS5kb20ucGFyZW50Tm9kZSkge1xuICAgICAgb2xkbm9kZS5kb20ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3ZG9tLCBvbGRub2RlLmRvbSk7XG4gICAgfVxuICAgIHZub2RlLnRhZyA9IFwiI3RleHRcIjtcbiAgICB2bm9kZS5jaGlsZHJlbiA9IFtdO1xuICAgIHZub2RlLnByb3BzID0ge307XG4gICAgdm5vZGUuZG9tID0gbmV3ZG9tIGFzIHVua25vd24gYXMgRG9tRWxlbWVudDtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIFRoaXMgb2JqZWN0IHN0b3JlcyBhbGwgdGhlIGF2YWlsYWJsZSBkaXJlY3RpdmVzXG5leHBvcnQgY29uc3QgZGlyZWN0aXZlczogRGlyZWN0aXZlcyA9IHtcbiAgLy8gVGhlIFwidi1pZlwiIGRpcmVjdGl2ZSBoaWRlcyBhbiBlbGVtZW50IGlmIHRoZSBnaXZlbiBjb25kaXRpb24gaXMgZmFsc2VcbiAgXCJ2LWlmXCI6IGhpZGVEaXJlY3RpdmUoZmFsc2UpLFxuXG4gIC8vIFRoZSBcInYtdW5sZXNzXCIgZGlyZWN0aXZlIGhpZGVzIGFuIGVsZW1lbnQgaWYgdGhlIGdpdmVuIGNvbmRpdGlvbiBpcyB0cnVlXG4gIFwidi11bmxlc3NcIjogaGlkZURpcmVjdGl2ZSh0cnVlKSxcblxuICAvLyBUaGUgXCJ2LWZvclwiIGRpcmVjdGl2ZSBjcmVhdGVzIGEgbG9vcCBhbmQgYXBwbGllcyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGVhY2ggaXRlbSBpbiB0aGUgbG9vcFxuICBcInYtZm9yXCI6IChzZXQ6IHVua25vd25bXSwgdm5vZGU6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgIGxldCBuZXdDaGlsZHJlbjogVm5vZGVJbnRlcmZhY2VbXSA9IFtdO1xuICAgIGxldCBjYWxsYmFjayA9IHZub2RlLmNoaWxkcmVuWzBdO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gc2V0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgbmV3Q2hpbGRyZW4ucHVzaChjYWxsYmFjayhzZXRbaV0sIGkpKTtcbiAgICB9XG4gICAgdm5vZGUuY2hpbGRyZW4gPSBuZXdDaGlsZHJlbjtcbiAgfSxcblxuICAvLyBUaGUgXCJ2LXNob3dcIiBkaXJlY3RpdmUgc2hvd3Mgb3IgaGlkZXMgYW4gZWxlbWVudCBieSBzZXR0aW5nIHRoZSBcImRpc3BsYXlcIiBzdHlsZSBwcm9wZXJ0eVxuICBcInYtc2hvd1wiOiAoYm9vbDogYm9vbGVhbiwgdm5vZGU6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgIChcbiAgICAgIHZub2RlLmRvbSBhcyB1bmtub3duIGFzIHtcbiAgICAgICAgc3R5bGU6IHsgZGlzcGxheTogc3RyaW5nIH07XG4gICAgICB9XG4gICAgKS5zdHlsZS5kaXNwbGF5ID0gYm9vbCA/IFwiXCIgOiBcIm5vbmVcIjtcbiAgfSxcblxuICAvLyBUaGUgXCJ2LWNsYXNzXCIgZGlyZWN0aXZlIGFkZHMgb3IgcmVtb3ZlcyBjbGFzcyBuYW1lcyBmcm9tIGFuIGVsZW1lbnQgYmFzZWQgb24gYSBjb25kaXRpb25cbiAgXCJ2LWNsYXNzXCI6IChjbGFzc2VzOiB7IFt4OiBzdHJpbmddOiBib29sZWFuIH0sIHZub2RlOiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBjbGFzcyBuYW1lcyBpbiB0aGUgY2xhc3NlcyBvYmplY3RcbiAgICBmb3IgKGxldCBuYW1lIGluIGNsYXNzZXMpIHtcbiAgICAgIC8vIEFkZCBvciByZW1vdmUgdGhlIGNsYXNzIG5hbWUgZnJvbSB0aGUgZWxlbWVudCdzIGNsYXNzIGxpc3QgYmFzZWQgb24gdGhlIHZhbHVlIGluIHRoZSBjbGFzc2VzIG9iamVjdFxuICAgICAgKHZub2RlLmRvbSBhcyBEb21FbGVtZW50KS5jbGFzc0xpc3QudG9nZ2xlKG5hbWUsIGNsYXNzZXNbbmFtZV0pO1xuICAgIH1cbiAgfSxcblxuICAvLyBUaGUgXCJ2LWh0bWxcIiBkaXJlY3RpdmUgc2V0cyB0aGUgaW5uZXIgSFRNTCBvZiBhbiBlbGVtZW50IHRvIHRoZSBnaXZlbiBIVE1MIHN0cmluZ1xuICBcInYtaHRtbFwiOiAoaHRtbDogc3RyaW5nLCB2bm9kZTogVm5vZGVXaXRoRG9tKSA9PiB7XG4gICAgLy8gU2V0IHRoZSBjaGlsZHJlbiBvZiB0aGUgdm5vZGUgdG8gYSB0cnVzdGVkIHZlcnNpb24gb2YgdGhlIEhUTUwgc3RyaW5nXG4gICAgdm5vZGUuY2hpbGRyZW4gPSBbdHJ1c3QoaHRtbCldO1xuICB9LFxuXG4gIC8vIFRoZSBcInYtbW9kZWxcIiBkaXJlY3RpdmUgYmluZHMgdGhlIHZhbHVlIG9mIGFuIGlucHV0IGVsZW1lbnQgdG8gYSBtb2RlbCBwcm9wZXJ0eVxuICBcInYtbW9kZWxcIjogKFttb2RlbCwgcHJvcGVydHksIGV2ZW50XTogYW55W10sIHZub2RlOiBWbm9kZVdpdGhEb20sIG9sZFZub2RlPzogVm5vZGVXaXRoRG9tKSA9PiB7XG4gICAgbGV0IHZhbHVlO1xuICAgIC8vIFRoaXMgZnVuY3Rpb24gdXBkYXRlcyB0aGUgbW9kZWwgcHJvcGVydHkgd2hlbiB0aGUgaW5wdXQgZWxlbWVudCdzIHZhbHVlIGNoYW5nZXNcbiAgICBsZXQgaGFuZGxlciA9IChlOiBFdmVudCkgPT4gKG1vZGVsW3Byb3BlcnR5XSA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWUpO1xuICAgIGlmICh2bm9kZS50YWcgPT09IFwiaW5wdXRcIikge1xuICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgYW4gaW5wdXQsIHVzZSB0aGUgXCJpbnB1dFwiIGV2ZW50IGJ5IGRlZmF1bHRcbiAgICAgIGV2ZW50ID0gZXZlbnQgfHwgXCJvbmlucHV0XCI7XG4gICAgICAvLyBEZXBlbmRpbmcgb24gdGhlIHR5cGUgb2YgaW5wdXQgZWxlbWVudCwgdXNlIGEgZGlmZmVyZW50IGhhbmRsZXIgZnVuY3Rpb25cbiAgICAgIHN3aXRjaCAodm5vZGUucHJvcHMudHlwZSkge1xuICAgICAgICBjYXNlIFwiY2hlY2tib3hcIjoge1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG1vZGVsW3Byb3BlcnR5XSkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBtb2RlbCBwcm9wZXJ0eSBpcyBhbiBhcnJheSwgYWRkIG9yIHJlbW92ZSB0aGUgdmFsdWUgZnJvbSB0aGUgYXJyYXkgd2hlbiB0aGUgY2hlY2tib3ggaXMgY2hlY2tlZCBvciB1bmNoZWNrZWRcbiAgICAgICAgICAgIGhhbmRsZXIgPSAoZTogRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgbGV0IHZhbCA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWU7XG4gICAgICAgICAgICAgIGxldCBpZHggPSBtb2RlbFtwcm9wZXJ0eV0uaW5kZXhPZih2YWwpO1xuICAgICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGlzIGluIHRoZSBhcnJheSwgc2V0IHRoZSBjaGVja2JveCB0byBiZSBjaGVja2VkXG4gICAgICAgICAgICB2YWx1ZSA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZub2RlLmRvbS52YWx1ZSkgIT09IC0xO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIHZub2RlLnByb3BzKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgaW5wdXQgZWxlbWVudCBoYXMgYSBcInZhbHVlXCIgYXR0cmlidXRlLCB1c2UgaXQgdG8gZGV0ZXJtaW5lIHRoZSBjaGVja2VkIHN0YXRlXG4gICAgICAgICAgICBoYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAobW9kZWxbcHJvcGVydHldID09PSB2bm9kZS5wcm9wcy52YWx1ZSkge1xuICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XSA9IG51bGw7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldID0gdm5vZGUucHJvcHMudmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YWx1ZSA9IG1vZGVsW3Byb3BlcnR5XSA9PT0gdm5vZGUucHJvcHMudmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIFwidmFsdWVcIiBhdHRyaWJ1dGUsIHVzZSBhIGJvb2xlYW4gdmFsdWUgZm9yIHRoZSBtb2RlbCBwcm9wZXJ0eVxuICAgICAgICAgICAgaGFuZGxlciA9ICgpID0+IChtb2RlbFtwcm9wZXJ0eV0gPSAhbW9kZWxbcHJvcGVydHldKTtcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBTZXQgdGhlIFwiY2hlY2tlZFwiIGF0dHJpYnV0ZSBvbiB0aGUgaW5wdXQgZWxlbWVudFxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICAgIHNoYXJlZFNldEF0dHJpYnV0ZShcImNoZWNrZWRcIiwgdmFsdWUsIHZub2RlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwicmFkaW9cIjoge1xuICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIGEgcmFkaW8gYnV0dG9uLCBzZXQgdGhlIFwiY2hlY2tlZFwiIGF0dHJpYnV0ZSBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLCBtb2RlbFtwcm9wZXJ0eV0gPT09IHZub2RlLmRvbS52YWx1ZSwgdm5vZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAvLyBGb3IgYWxsIG90aGVyIGlucHV0IHR5cGVzLCBzZXQgdGhlIFwidmFsdWVcIiBhdHRyaWJ1dGUgYmFzZWQgb24gdGhlIHZhbHVlIG9mIHRoZSBtb2RlbCBwcm9wZXJ0eVxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICAgIHNoYXJlZFNldEF0dHJpYnV0ZShcInZhbHVlXCIsIG1vZGVsW3Byb3BlcnR5XSwgdm5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2bm9kZS50YWcgPT09IFwic2VsZWN0XCIpIHtcbiAgICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIGEgc2VsZWN0IGVsZW1lbnQsIHVzZSB0aGUgXCJjbGlja1wiIGV2ZW50IGJ5IGRlZmF1bHRcbiAgICAgIGV2ZW50ID0gZXZlbnQgfHwgXCJvbmNsaWNrXCI7XG4gICAgICBpZiAodm5vZGUucHJvcHMubXVsdGlwbGUpIHtcbiAgICAgICAgLy8gSWYgdGhlIHNlbGVjdCBlbGVtZW50IGFsbG93cyBtdWx0aXBsZSBzZWxlY3Rpb25zLCB1cGRhdGUgdGhlIG1vZGVsIHByb3BlcnR5IHdpdGggYW4gYXJyYXkgb2Ygc2VsZWN0ZWQgdmFsdWVzXG4gICAgICAgIGhhbmRsZXIgPSAoZTogRXZlbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSA9PiB7XG4gICAgICAgICAgbGV0IHZhbCA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWU7XG4gICAgICAgICAgaWYgKGUuY3RybEtleSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIEN0cmwga2V5IGlzIHByZXNzZWQsIGFkZCBvciByZW1vdmUgdGhlIHZhbHVlIGZyb20gdGhlIGFycmF5XG4gICAgICAgICAgICBsZXQgaWR4ID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsKTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBDdHJsIGtleSBpcyBub3QgcHJlc3NlZCwgc2V0IHRoZSBtb2RlbCBwcm9wZXJ0eSB0byBhbiBhcnJheSB3aXRoIHRoZSBzZWxlY3RlZCB2YWx1ZVxuICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnNwbGljZSgwLCBtb2RlbFtwcm9wZXJ0eV0ubGVuZ3RoKTtcbiAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBTZXQgdGhlIFwic2VsZWN0ZWRcIiBhdHRyaWJ1dGUgb24gdGhlIG9wdGlvbnMgYmFzZWQgb24gd2hldGhlciB0aGV5IGFyZSBpbiB0aGUgbW9kZWwgcHJvcGVydHkgYXJyYXlcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IFZub2RlSW50ZXJmYWNlKSA9PiB7XG4gICAgICAgICAgaWYgKGNoaWxkLnRhZyA9PT0gXCJvcHRpb25cIikge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gXCJ2YWx1ZVwiIGluIGNoaWxkLnByb3BzID8gY2hpbGQucHJvcHMudmFsdWUgOiBjaGlsZC5jaGlsZHJlbi5qb2luKFwiXCIpLnRyaW0oKTtcbiAgICAgICAgICAgIGNoaWxkLnByb3BzLnNlbGVjdGVkID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsdWUpICE9PSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhlIHNlbGVjdCBlbGVtZW50IGRvZXMgbm90IGFsbG93IG11bHRpcGxlIHNlbGVjdGlvbnMsIHNldCB0aGUgXCJzZWxlY3RlZFwiIGF0dHJpYnV0ZSBvbiB0aGUgb3B0aW9ucyBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBWbm9kZUludGVyZmFjZSkgPT4ge1xuICAgICAgICAgIGlmIChjaGlsZC50YWcgPT09IFwib3B0aW9uXCIpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IFwidmFsdWVcIiBpbiBjaGlsZC5wcm9wcyA/IGNoaWxkLnByb3BzLnZhbHVlIDogY2hpbGQuY2hpbGRyZW4uam9pbihcIlwiKS50cmltKCk7XG4gICAgICAgICAgICBjaGlsZC5wcm9wcy5zZWxlY3RlZCA9IHZhbHVlID09PSBtb2RlbFtwcm9wZXJ0eV07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZub2RlLnRhZyA9PT0gXCJ0ZXh0YXJlYVwiKSB7XG4gICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyBhIHRleHRhcmVhLCB1c2UgdGhlIFwiaW5wdXRcIiBldmVudCBieSBkZWZhdWx0XG4gICAgICBldmVudCA9IGV2ZW50IHx8IFwib25pbnB1dFwiO1xuICAgICAgLy8gU2V0IHRoZSB0ZXh0YXJlYSdzIGNvbnRlbnQgdG8gdGhlIHZhbHVlIG9mIHRoZSBtb2RlbCBwcm9wZXJ0eVxuICAgICAgdm5vZGUuY2hpbGRyZW4gPSBbbW9kZWxbcHJvcGVydHldXTtcbiAgICB9XG5cbiAgICAvLyBXZSBhc3N1bWUgdGhhdCB0aGUgcHJldiBoYW5kbGVyIGlmIGFueSB3aWxsIG5vdCBiZSBjaGFuZ2VkIGJ5IHRoZSB1c2VyIGFjcm9zcyBwYXRjaHNcbiAgICBsZXQgcHJldkhhbmRsZXIgPSB2bm9kZS5wcm9wc1tldmVudF07XG5cbiAgICAvLyBTZXQgdGhlIGV2ZW50IGhhbmRsZXIgb24gdGhlIGVsZW1lbnRcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICBzaGFyZWRTZXRBdHRyaWJ1dGUoXG4gICAgICBldmVudCxcbiAgICAgIChlOiBFdmVudCkgPT4ge1xuICAgICAgICBoYW5kbGVyKGUpO1xuXG4gICAgICAgIC8vIElmIHRoZSBwcmV2aW91cyBoYW5kbGVyIGlzIGRlZmluZWQsIGNhbGwgaXQgYWZ0ZXIgdGhlIG1vZGVsIGhhcyBiZWVuIHVwZGF0ZWRcbiAgICAgICAgaWYgKHByZXZIYW5kbGVyKSB7XG4gICAgICAgICAgcHJldkhhbmRsZXIoZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB2bm9kZSxcbiAgICAgIG9sZFZub2RlXG4gICAgKTtcbiAgfSxcblxuICAvLyBUaGUgXCJ2LWNyZWF0ZVwiIGRpcmVjdGl2ZSBpcyBjYWxsZWQgd2hlbiBhIG5ldyB2aXJ0dWFsIG5vZGUgaXMgY3JlYXRlZC5cbiAgLy8gVGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIHRoZSBuZXcgdmlydHVhbCBub2RlIGFzIGFuIGFyZ3VtZW50LlxuICAvLyBUaGlzIGRpcmVjdGl2ZSBpcyBvbmx5IGNhbGxlZCBvbmNlIHBlciB2aXJ0dWFsIG5vZGUsIHdoZW4gaXQgaXMgZmlyc3QgY3JlYXRlZC5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gIFwidi1jcmVhdGVcIjogKGNhbGxiYWNrOiAodm5vZGU6IFZub2RlV2l0aERvbSkgPT4gdm9pZCwgdm5vZGU6IFZub2RlV2l0aERvbSwgb2xkVm5vZGU/OiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICAvLyBJZiB0aGlzIGlzIG5vdCBhbiB1cGRhdGUsIGNhbGwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHdpdGggdGhlIG5ldyB2aXJ0dWFsIG5vZGVcbiAgICBpZiAoIW9sZFZub2RlKSB7XG4gICAgICBsZXQgY2xlYW51cCA9IGNhbGxiYWNrKHZub2RlKTtcblxuICAgICAgLy8gSWYgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHJldHVybnMgYSBmdW5jdGlvbiwgY2FsbCBpdCB3aGVuIHRoZSB1cGRhdGUgaXMgZ29ubmEgYmUgY2xlYW5lZCB1cFxuICAgICAgaWYgKHR5cGVvZiBjbGVhbnVwID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgb25DbGVhbnVwKGNsZWFudXApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvLyBUaGUgXCJ2LXVwZGF0ZVwiIGRpcmVjdGl2ZSBpcyBjYWxsZWQgd2hlbiBhbiBleGlzdGluZyB2aXJ0dWFsIG5vZGUgaXMgdXBkYXRlZC5cbiAgLy8gVGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIHRoZSBuZXcgYW5kIG9sZCB2aXJ0dWFsIG5vZGVzIGFzIGFyZ3VtZW50cy5cbiAgLy8gVGhpcyBkaXJlY3RpdmUgaXMgb25seSBjYWxsZWQgb25jZSBwZXIgdmlydHVhbCBub2RlIHVwZGF0ZS5cbiAgXCJ2LXVwZGF0ZVwiOiAoXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgY2FsbGJhY2s6ICh2bm9kZTogVm5vZGVXaXRoRG9tLCBvbGRWbm9kZTogVm5vZGVXaXRoRG9tKSA9PiB2b2lkLFxuICAgIHZub2RlOiBWbm9kZVdpdGhEb20sXG4gICAgb2xkVm5vZGU/OiBWbm9kZVdpdGhEb21cbiAgKSA9PiB7XG4gICAgLy8gSWYgdGhpcyBpcyBhbiB1cGRhdGUsIGNhbGwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHdpdGggdGhlIG5ldyBhbmQgb2xkIHZpcnR1YWwgbm9kZXNcbiAgICBpZiAob2xkVm5vZGUpIHtcbiAgICAgIGxldCBjbGVhbnVwID0gY2FsbGJhY2sodm5vZGUsIG9sZFZub2RlKTtcblxuICAgICAgLy8gSWYgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHJldHVybnMgYSBmdW5jdGlvbiwgY2FsbCBpdCB3aGVuIHRoZSB1cGRhdGUgaXMgZ29ubmEgYmUgY2xlYW5lZCB1cFxuICAgICAgaWYgKHR5cGVvZiBjbGVhbnVwID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgb25DbGVhbnVwKGNsZWFudXApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvLyBUaGUgXCJ2LWNsZWFudXBcIiBkaXJlY3RpdmUgaXMgY2FsbGVkIHdoZW4gdGhlIHVwZGF0ZSBpcyBjbGVhbmVkIHVwLlxuICAvLyBUaGUgcHJvdmlkZWQgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggdGhlIG9sZCB2aXJ0dWFsIG5vZGUgYXMgYW4gYXJndW1lbnQuXG4gIC8vIFRoaXMgZGlyZWN0aXZlIGlzIG9ubHkgY2FsbGVkIG9uY2UgcGVyIHZpcnR1YWwgbm9kZSwgd2hlbiB0aGUgdXBkYXRlIGlzIGNsZWFuZWQgdXAuXG4gIFwidi1jbGVhbnVwXCI6IChcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICBjYWxsYmFjazogKHZub2RlOiBWbm9kZVdpdGhEb20sIG9sZFZub2RlPzogVm5vZGVXaXRoRG9tKSA9PiB2b2lkLFxuICAgIHZub2RlOiBWbm9kZVdpdGhEb20sXG4gICAgb2xkVm5vZGU/OiBWbm9kZVdpdGhEb21cbiAgKSA9PiB7XG4gICAgLy8gQWRkIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byB0aGUgbGlzdCBvZiBjbGVhbnVwIGZ1bmN0aW9ucyB0byBiZSBjYWxsZWQgd2hlbiB0aGUgdXBkYXRlIGlzIGNsZWFuZWQgdXBcbiAgICBvbkNsZWFudXAoKCkgPT4gY2FsbGJhY2sodm5vZGUsIG9sZFZub2RlKSk7XG4gIH1cbn07XG4vLyBBZGQgYSBkaXJlY3RpdmUgdG8gdGhlIGdsb2JhbCBkaXJlY3RpdmVzIG9iamVjdCwgd2l0aCB0aGUga2V5IGJlaW5nIHRoZSBuYW1lXG4vLyBwcmVjZWRlZCBieSBcInYtXCIuIEFsc28gYWRkIHRoZSBuYW1lIHRvIHRoZSBnbG9iYWwgcmVzZXJ2ZWRQcm9wcyBvYmplY3QuXG5leHBvcnQgZnVuY3Rpb24gZGlyZWN0aXZlKG5hbWU6IHN0cmluZywgZGlyZWN0aXZlOiBEaXJlY3RpdmUpIHtcbiAgbGV0IGRpcmVjdGl2ZU5hbWUgPSBgdi0ke25hbWV9YDtcbiAgZGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSA9IGRpcmVjdGl2ZTtcbiAgcmVzZXJ2ZWRQcm9wc1tkaXJlY3RpdmVOYW1lXSA9IHRydWU7XG59XG5cbi8vIFNldCBhbiBhdHRyaWJ1dGUgb24gYSB2aXJ0dWFsIERPTSBub2RlIGFuZCB1cGRhdGUgdGhlIGFjdHVhbCBET00gZWxlbWVudC5cbi8vIElmIHRoZSBhdHRyaWJ1dGUgdmFsdWUgaXMgYSBmdW5jdGlvbiwgYWRkIGFuIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgYXR0cmlidXRlXG4vLyBuYW1lIHRvIHRoZSBET00gZWxlbWVudCByZXByZXNlbnRlZCBieSBtYWluVm5vZGUuXG4vLyBJZiBvbGRWbm9kZSBpcyBwcm92aWRlZCwgY29tcGFyZSB0aGUgbmV3IGF0dHJpYnV0ZSB2YWx1ZSB0byB0aGUgb2xkIHZhbHVlXG4vLyBhbmQgb25seSB1cGRhdGUgdGhlIGF0dHJpYnV0ZSBpZiB0aGUgdmFsdWVzIGFyZSBkaWZmZXJlbnQuXG5mdW5jdGlvbiBzaGFyZWRTZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55LCBuZXdWbm9kZTogVm5vZGVXaXRoRG9tLCBvbGRWbm9kZT86IFZub2RlV2l0aERvbSk6IHZvaWQgfCBib29sZWFuIHtcbiAgLy8gSWYgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBhZGQgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBhdHRyaWJ1dGVcbiAgLy8gbmFtZSB0byB0aGUgRE9NIGVsZW1lbnQgcmVwcmVzZW50ZWQgYnkgbWFpblZub2RlLlxuICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAvLyBXZSBjaGFuZ2UgdGhlIG5hbWUgb2YgdGhlIGV2ZW50IHRvIGxvd2VyY2FzZSB0byBhdm9pZCBpc3N1ZXMgd2l0aCBjYXNlIHNlbnNpdGl2aXR5LlxuICAgIC8vIEV4IFwib25DbGlja1wiIGFuZCBcIm9uY2xpY2tcIiBhcmUgdGhlIHNhbWUgZXZlbnQuXG4gICAgbGV0IGxvd2VyY2FzZU5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgLy8gT25seSBhZGQgdGhlIGV2ZW50IGxpc3RlbmVyIGlmIGl0IGhhc24ndCBiZWVuIGFkZGVkIHlldC5cbiAgICBpZiAobG93ZXJjYXNlTmFtZSBpbiBldmVudExpc3RlbmVyTmFtZXMgPT09IGZhbHNlKSB7XG4gICAgICAobWFpblZub2RlIGFzIFZub2RlV2l0aERvbSkuZG9tLmFkZEV2ZW50TGlzdGVuZXIobG93ZXJjYXNlTmFtZS5zbGljZSgyKSwgZXZlbnRMaXN0ZW5lcik7XG4gICAgICBldmVudExpc3RlbmVyTmFtZXNbbG93ZXJjYXNlTmFtZV0gPSB0cnVlO1xuICAgIH1cbiAgICBuZXdWbm9kZS5kb21bYHYtJHtsb3dlcmNhc2VOYW1lfWBdID0gdmFsdWU7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBpcyBwcmVzZW50IG9uIHRoZSBET00gZWxlbWVudCBhbmQgbmV3Vm5vZGUgaXMgbm90IGFuIFNWRyxcbiAgLy8gdXBkYXRlIHRoZSBhdHRyaWJ1dGUgaWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkLlxuICBpZiAobmFtZSBpbiBuZXdWbm9kZS5kb20gJiYgbmV3Vm5vZGUuaXNTVkcgPT09IGZhbHNlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgIGlmIChuZXdWbm9kZS5kb21bbmFtZV0gIT0gdmFsdWUpIHtcbiAgICAgIG5ld1Zub2RlLmRvbVtuYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJZiBvbGRWbm9kZSBpcyBub3QgcHJvdmlkZWQgb3IgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBoYXMgY2hhbmdlZCwgdXBkYXRlIHRoZVxuICAvLyBhdHRyaWJ1dGUgb24gdGhlIERPTSBlbGVtZW50LlxuICBpZiAoIW9sZFZub2RlIHx8IHZhbHVlICE9PSBvbGRWbm9kZS5wcm9wc1tuYW1lXSkge1xuICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgIG5ld1Zub2RlLmRvbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1Zub2RlLmRvbS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBTZXQgYW4gYXR0cmlidXRlIG9uIGEgdmlydHVhbCBET00gbm9kZSBhbmQgdXBkYXRlIHRoZSBhY3R1YWwgRE9NIGVsZW1lbnQuXG4vLyBTa2lwIHRoZSBhdHRyaWJ1dGUgaWYgaXQgaXMgaW4gdGhlIHJlc2VydmVkUHJvcHMgb2JqZWN0LlxuZXhwb3J0IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnksIG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sIG9sZFZub2RlPzogVm5vZGVXaXRoRG9tKTogdm9pZCB7XG4gIGlmIChuYW1lIGluIHJlc2VydmVkUHJvcHMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbmV3Vm5vZGUucHJvcHNbbmFtZV0gPSB2YWx1ZTtcbiAgc2hhcmVkU2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlLCBuZXdWbm9kZSBhcyBWbm9kZVdpdGhEb20sIG9sZFZub2RlKTtcbn1cblxuLy8gVXBkYXRlIHRoZSBhdHRyaWJ1dGVzIG9uIGEgdmlydHVhbCBET00gbm9kZS4gSWYgb2xkVm5vZGUgaXMgcHJvdmlkZWQsIHJlbW92ZVxuLy8gYXR0cmlidXRlcyBmcm9tIHRoZSBET00gZWxlbWVudCB0aGF0IGFyZSBub3QgcHJlc2VudCBpbiBuZXdWbm9kZS5wcm9wcyBidXQgYXJlXG4vLyBwcmVzZW50IGluIG9sZFZub2RlLnByb3BzLiBUaGVuLCBpdGVyYXRlIG92ZXIgdGhlIGF0dHJpYnV0ZXMgaW4gbmV3Vm5vZGUucHJvcHNcbi8vIGFuZCB1cGRhdGUgdGhlIERPTSBlbGVtZW50IHdpdGggdGhlIGF0dHJpYnV0ZXMgdXNpbmcgdGhlIHNoYXJlZFNldEF0dHJpYnV0ZVxuLy8gZnVuY3Rpb24uIElmIGFuIGF0dHJpYnV0ZSBpcyBpbiB0aGUgcmVzZXJ2ZWRQcm9wcyBvYmplY3QgYW5kIGhhcyBhIGNvcnJlc3BvbmRpbmdcbi8vIGRpcmVjdGl2ZSBpbiB0aGUgZGlyZWN0aXZlcyBvYmplY3QsIGNhbGwgdGhlIGRpcmVjdGl2ZSB3aXRoIHRoZSBhdHRyaWJ1dGUgdmFsdWVcbi8vIGFuZCB0aGUgdHdvIHZpcnR1YWwgRE9NIG5vZGVzIGFzIGFyZ3VtZW50cy4gSWYgdGhlIGRpcmVjdGl2ZSByZXR1cm5zIGZhbHNlLCBleGl0XG4vLyB0aGUgbG9vcC5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVBdHRyaWJ1dGVzKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sIG9sZFZub2RlPzogVm5vZGVXaXRoRG9tKTogdm9pZCB7XG4gIC8vIElmIG9sZFZub2RlIGlzIHByb3ZpZGVkLCByZW1vdmUgYXR0cmlidXRlcyBmcm9tIHRoZSBET00gZWxlbWVudCB0aGF0IGFyZSBub3RcbiAgLy8gcHJlc2VudCBpbiBuZXdWbm9kZS5wcm9wcyBidXQgYXJlIHByZXNlbnQgaW4gb2xkVm5vZGUucHJvcHMuXG4gIGlmIChvbGRWbm9kZSkge1xuICAgIGZvciAobGV0IG5hbWUgaW4gb2xkVm5vZGUucHJvcHMpIHtcbiAgICAgIGlmIChuYW1lIGluIG5ld1Zub2RlLnByb3BzID09PSBmYWxzZSAmJiBuYW1lIGluIGV2ZW50TGlzdGVuZXJOYW1lcyA9PT0gZmFsc2UgJiYgbmFtZSBpbiByZXNlcnZlZFByb3BzID09PSBmYWxzZSkge1xuICAgICAgICBpZiAobmFtZSBpbiBuZXdWbm9kZS5kb20gJiYgbmV3Vm5vZGUuaXNTVkcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgbmV3Vm5vZGUuZG9tW25hbWVdID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdWbm9kZS5kb20ucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBhdHRyaWJ1dGVzIGluIG5ld1Zub2RlLnByb3BzIGFuZCB1cGRhdGUgdGhlIERPTSBlbGVtZW50IHdpdGhcbiAgLy8gdGhlIGF0dHJpYnV0ZXMgdXNpbmcgdGhlIHNoYXJlZFNldEF0dHJpYnV0ZSBmdW5jdGlvbi5cbiAgZm9yIChsZXQgbmFtZSBpbiBuZXdWbm9kZS5wcm9wcykge1xuICAgIGlmIChuYW1lIGluIHJlc2VydmVkUHJvcHMpIHtcbiAgICAgIC8vIElmIHRoZXJlIGlzIGEgZGlyZWN0aXZlIGZvciB0aGUgYXR0cmlidXRlLCBjYWxsIGl0IHdpdGggdGhlIGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAgLy8gYW5kIHRoZSB0d28gdmlydHVhbCBET00gbm9kZXMgYXMgYXJndW1lbnRzLiBJZiB0aGUgZGlyZWN0aXZlIHJldHVybnMgZmFsc2UsXG4gICAgICAvLyBleGl0IHRoZSBsb29wLlxuICAgICAgaWYgKG5hbWUgaW4gZGlyZWN0aXZlcyAmJiBkaXJlY3RpdmVzW25hbWVdKG5ld1Zub2RlLnByb3BzW25hbWVdLCBuZXdWbm9kZSwgb2xkVm5vZGUpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBzaGFyZWRTZXRBdHRyaWJ1dGUobmFtZSwgbmV3Vm5vZGUucHJvcHNbbmFtZV0sIG5ld1Zub2RlLCBvbGRWbm9kZSk7XG4gIH1cbn1cblxuLyogcGF0Y2ggLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vLyBQYXRjaCBhIERPTSBub2RlIHdpdGggYSBuZXcgVk5vZGUgdHJlZVxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sIG9sZFZub2RlPzogVm5vZGVXaXRoRG9tKTogdm9pZCB7XG4gIC8vIEdldCB0aGUgY2hpbGRyZW4gb2YgdGhlIG5ldyBhbmQgb2xkIHZpcnR1YWwgRE9NIG5vZGVzXG4gIGxldCBuZXdUcmVlID0gbmV3Vm5vZGUuY2hpbGRyZW47XG4gIGxldCBvbGRUcmVlID0gb2xkVm5vZGU/LmNoaWxkcmVuIHx8IFtdO1xuICAvLyBHZXQgdGhlIGxlbmd0aCBvZiB0aGUgb2xkIHRyZWVcbiAgbGV0IG9sZFRyZWVMZW5ndGggPSBvbGRUcmVlLmxlbmd0aDtcblxuICAvLyBJZiB0aGUgb2xkIHRyZWUgaGFzIGNoaWxkcmVuIGFuZCB0aGUgZmlyc3QgY2hpbGQgb2YgdGhlIG5ldyB0cmVlIGlzIGEgVk5vZGUgd2l0aCBhIFwia2V5XCJcbiAgLy8gYXR0cmlidXRlIGFuZCB0aGUgZmlyc3QgY2hpbGQgb2YgdGhlIG9sZCB0cmVlIGlzIGEgVk5vZGUgd2l0aCBhIFwia2V5XCIgYXR0cmlidXRlLCB1cGRhdGVcbiAgLy8gdGhlIERPTSBlbGVtZW50IGluIHBsYWNlIGJ5IGNvbXBhcmluZyB0aGUga2V5cyBvZiB0aGUgbm9kZXMgaW4gdGhlIHRyZWVzLlxuICBpZiAob2xkVHJlZUxlbmd0aCAmJiBuZXdUcmVlWzBdIGluc3RhbmNlb2YgVm5vZGUgJiYgXCJrZXlcIiBpbiBuZXdUcmVlWzBdLnByb3BzICYmIFwia2V5XCIgaW4gb2xkVHJlZVswXS5wcm9wcykge1xuICAgIC8vIEdldCB0aGUgbGVuZ3RocyBvZiB0aGUgbmV3IGFuZCBvbGQgdHJlZXNcbiAgICBsZXQgbmV3VHJlZUxlbmd0aCA9IG5ld1RyZWUubGVuZ3RoO1xuXG4gICAgLy8gQ3JlYXRlIGFuIG9iamVjdCB0aGF0IG1hcHMga2V5cyB0byBpbmRpY2VzIGluIHRoZSBvbGQgdHJlZVxuICAgIGxldCBvbGRLZXllZExpc3Q6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9sZFRyZWVMZW5ndGg7IGkrKykge1xuICAgICAgb2xkS2V5ZWRMaXN0W29sZFRyZWVbaV0ucHJvcHMua2V5XSA9IGk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGFuIG9iamVjdCB0aGF0IG1hcHMga2V5cyB0byBpbmRpY2VzIGluIHRoZSBuZXcgdHJlZVxuICAgIGxldCBuZXdLZXllZExpc3Q6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1RyZWVMZW5ndGg7IGkrKykge1xuICAgICAgbmV3S2V5ZWRMaXN0W25ld1RyZWVbaV0ucHJvcHMua2V5XSA9IGk7XG4gICAgfVxuXG4gICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBuZXcgdHJlZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgbmV3IGNoaWxkIGFuZCB0aGUgY29ycmVzcG9uZGluZyBvbGQgY2hpbGRcbiAgICAgIGxldCBuZXdDaGlsZCA9IG5ld1RyZWVbaV07XG4gICAgICBsZXQgb2xkQ2hpbGQgPSBvbGRUcmVlW29sZEtleWVkTGlzdFtuZXdDaGlsZC5wcm9wcy5rZXldXTtcbiAgICAgIC8vIEluaXRpYWxpemUgYSBmbGFnIHRvIGRldGVybWluZSB3aGV0aGVyIHRvIHBhdGNoIHRoZSBjaGlsZFxuICAgICAgbGV0IHNob3VsZFBhdGNoID0gdHJ1ZTtcblxuICAgICAgLy8gSWYgdGhlIG9sZCBjaGlsZCBleGlzdHMsIHVwZGF0ZSB0aGUgRE9NIGVsZW1lbnQgb2YgdGhlIG5ldyBjaGlsZCB0byBtYXRjaCB0aGUgb2xkIGNoaWxkJ3MgRE9NIGVsZW1lbnRcbiAgICAgIGlmIChvbGRDaGlsZCkge1xuICAgICAgICBuZXdDaGlsZC5kb20gPSBvbGRDaGlsZC5kb207XG4gICAgICAgIC8vIElmIHRoZSBuZXcgYW5kIG9sZCBjaGlsZHJlbiBoYXZlIHRoZSBzYW1lIFwidi1rZWVwXCIgYXR0cmlidXRlIHZhbHVlLCB1cGRhdGUgdGhlIGNoaWxkcmVuIG9mIHRoZSBuZXcgY2hpbGQgdG8gbWF0Y2ggdGhlIG9sZCBjaGlsZCdzIGNoaWxkcmVuXG4gICAgICAgIGlmIChcInYta2VlcFwiIGluIG5ld0NoaWxkLnByb3BzICYmIG5ld0NoaWxkLnByb3BzW1widi1rZWVwXCJdID09PSBvbGRDaGlsZC5wcm9wc1tcInYta2VlcFwiXSkge1xuICAgICAgICAgIG5ld0NoaWxkLmNoaWxkcmVuID0gb2xkQ2hpbGQuY2hpbGRyZW47XG4gICAgICAgICAgLy8gU2V0IHRoZSBzaG91bGRQYXRjaCBmbGFnIHRvIGZhbHNlXG4gICAgICAgICAgc2hvdWxkUGF0Y2ggPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGRhdGVBdHRyaWJ1dGVzKG5ld0NoaWxkLCBvbGRDaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgb2xkIGNoaWxkIGRvZXMgbm90IGV4aXN0LCBjcmVhdGUgYSBuZXcgRE9NIGVsZW1lbnQgZm9yIHRoZSBuZXcgY2hpbGQgYW5kIHVwZGF0ZSBpdHMgYXR0cmlidXRlc1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3Q2hpbGQuZG9tID0gY3JlYXRlRG9tRWxlbWVudChuZXdDaGlsZC50YWcsIG5ld0NoaWxkLmlzU1ZHKTtcbiAgICAgICAgdXBkYXRlQXR0cmlidXRlcyhuZXdDaGlsZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBuZXcgY2hpbGQncyBET00gZWxlbWVudCBpcyBub3QgdGhlIGktdGggY2hpbGQgb2YgdGhlIHBhcmVudCBET00gZWxlbWVudCwgaW5zZXJ0IGl0XG4gICAgICBpZiAoIW5ld1Zub2RlLmRvbS5jaGlsZE5vZGVzW2ldKSB7XG4gICAgICAgIG5ld1Zub2RlLmRvbS5hcHBlbmRDaGlsZChuZXdDaGlsZC5kb20pO1xuXG4gICAgICAgIC8vIElmIHRoZSBuZXcgY2hpbGQncyBET00gZWxlbWVudCBpcyBub3QgdGhlIHNhbWUgYXMgdGhlIGktdGggY2hpbGQgb2YgdGhlIHBhcmVudCBET00gZWxlbWVudCwgcmVwbGFjZSB0aGUgaS10aCBjaGlsZCB3aXRoIHRoZSBuZXcgY2hpbGQncyBET00gZWxlbWVudFxuICAgICAgfSBlbHNlIGlmIChuZXdWbm9kZS5kb20uY2hpbGROb2Rlc1tpXSAhPT0gbmV3Q2hpbGQuZG9tKSB7XG4gICAgICAgIG5ld1Zub2RlLmRvbS5yZXBsYWNlQ2hpbGQobmV3Q2hpbGQuZG9tLCBuZXdWbm9kZS5kb20uY2hpbGROb2Rlc1tpXSk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBzaG91bGRQYXRjaCBmbGFnIGlzIHRydWUsIHJlY3Vyc2l2ZWx5IGNhbGwgdGhlIHBhdGNoIGZ1bmN0aW9uIG9uIHRoZSBuZXcgY2hpbGQsIHBhc3NpbmcgaW4gdGhlIG9sZCBjaGlsZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50XG4gICAgICBzaG91bGRQYXRjaCAmJiBwYXRjaChuZXdDaGlsZCwgb2xkQ2hpbGQpO1xuICAgIH1cblxuICAgIC8vIEZvciB0aGUgcmVzdCBvZiB0aGUgY2hpbGRyZW4sIHdlIHNob3VsZCByZW1vdmUgdGhlbSBmcm9tIHRoZSBET01cbiAgICBmb3IgKGxldCBpID0gbmV3VHJlZUxlbmd0aDsgaSA8IG9sZFRyZWVMZW5ndGg7IGkrKykge1xuICAgICAgLy8gSWYgdGhlIGktdGggY2hpbGQgb2YgdGhlIG9sZCB0cmVlIGRvZXMgbm90IGhhdmUgYSBjb3JyZXNwb25kaW5nIGtleSBpbiB0aGUgbmV3IHRyZWUsIHJlbW92ZSBpdHMgRE9NIGVsZW1lbnQgZnJvbSB0aGUgcGFyZW50IERPTSBlbGVtZW50XG4gICAgICBpZiAoIW5ld0tleWVkTGlzdFtvbGRUcmVlW2ldLnByb3BzLmtleV0pIHtcbiAgICAgICAgb2xkVHJlZVtpXS5kb20ucGFyZW50Tm9kZSAmJiBvbGRUcmVlW2ldLmRvbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9sZFRyZWVbaV0uZG9tKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSWYgdGhlIG5ldyB0cmVlIGhhcyBubyBjaGlsZHJlbiwgc2V0IHRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhlIHBhcmVudCBET00gZWxlbWVudCB0byBhbiBlbXB0eSBzdHJpbmdcbiAgaWYgKG5ld1RyZWUubGVuZ3RoID09PSAwKSB7XG4gICAgbmV3Vm5vZGUuZG9tLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBTZXQgdGhlIGdsb2JhbCBjdXJyZW50IG9iamVjdCB0byB0aGUgbmV3IGFuZCBvbGQgdmlydHVhbCBET00gbm9kZXNcbiAgY3VycmVudC52bm9kZSA9IG5ld1Zub2RlO1xuICBjdXJyZW50Lm9sZFZub2RlID0gb2xkVm5vZGU7XG5cbiAgLy8gRmxhdHRlbiB0aGUgbmV3IHRyZWVcbiAgLy8gVGFrZSBpbnRvIGFjY291bnQgdGhhdCBpcyBuZWNlc3NhcnkgdG8gZmxhdHRlbiB0aGUgdHJlZSBiZWZvcmUgdGhlIHBhdGNoIHByb2Nlc3NcbiAgLy8gdG8gbGV0IHRoZSBob29rcyBhbmQgc2lnbmFscyB3b3JrIHByb3Blcmx5XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VHJlZS5sZW5ndGg7IGkrKykge1xuICAgIGxldCBuZXdDaGlsZCA9IG5ld1RyZWVbaV07XG5cbiAgICAvLyBJZiB0aGUgbmV3IGNoaWxkIGlzIGEgVm5vZGUgYW5kIGlzIG5vdCBhIHRleHQgbm9kZVxuICAgIGlmIChuZXdDaGlsZCBpbnN0YW5jZW9mIFZub2RlICYmIG5ld0NoaWxkLnRhZyAhPT0gdGV4dFRhZykge1xuICAgICAgLy8gSWYgdGhlIG5ldyBjaGlsZCB0YWcgaXMgYSBzdHJpbmcganVzdCBjb250aW51ZSB0aGUgbG9vcFxuICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZC50YWcgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSB0YWcgb2YgdGhlIG5ldyBjaGlsZCBpcyBub3QgYSBzdHJpbmcsIGl0IGlzIGEgY29tcG9uZW50XG4gICAgICAvLyBTZXQgdGhlIGN1cnJlbnQgY29tcG9uZW50IHRvIHRoZSB0YWcgb2YgdGhlIG5ldyBjaGlsZFxuICAgICAgY3VycmVudC5jb21wb25lbnQgPSBuZXdDaGlsZC50YWc7XG4gICAgICAvLyBSZXBsYWNlIHRoZSBuZXcgY2hpbGQgd2l0aCB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgaXRzIHZpZXcgb3IgYmluZCBtZXRob2QsIHBhc3NpbmcgaW4gdGhlIHByb3BzIGFuZCBjaGlsZHJlbiBhcyBhcmd1bWVudHNcbiAgICAgIG5ld1RyZWUuc3BsaWNlKFxuICAgICAgICBpLS0sXG4gICAgICAgIDEsXG4gICAgICAgIChcInZpZXdcIiBpbiBuZXdDaGlsZC50YWcgPyBuZXdDaGlsZC50YWcudmlldy5iaW5kKG5ld0NoaWxkLnRhZykgOiBuZXdDaGlsZC50YWcuYmluZChuZXdDaGlsZC50YWcpKShcbiAgICAgICAgICBuZXdDaGlsZC5wcm9wcyxcbiAgICAgICAgICAuLi5uZXdDaGlsZC5jaGlsZHJlblxuICAgICAgICApXG4gICAgICApO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG5ldyBjaGlsZCBpcyBhbiBhcnJheSwgZmxhdHRlbiBpdCBhbmQgY29udGludWUgdGhlIGxvb3BcbiAgICBpZiAoQXJyYXkuaXNBcnJheShuZXdDaGlsZCkpIHtcbiAgICAgIG5ld1RyZWUuc3BsaWNlKGktLSwgMSwgLi4ubmV3Q2hpbGQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG5ldyBjaGlsZCBpcyBudWxsIG9yIHVuZGVmaW5lZCwgcmVtb3ZlIGl0IGZyb20gdGhlIG5ldyB0cmVlIGFuZCBjb250aW51ZSB0aGUgbG9vcFxuICAgIGlmIChuZXdDaGlsZCA9PT0gbnVsbCB8fCBuZXdDaGlsZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBuZXdUcmVlLnNwbGljZShpLS0sIDEpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG5ldyBjaGlsZCBpcyBhIFZub2RlLCBzZXQgdGhlIHRleHQgb2YgdGhlIFZub2RlIHRvIHRoZSB0ZXh0IGNvbnRlbnQgb2YgaXRzIGRvbSBwcm9wZXJ0eVxuICAgIGlmIChuZXdDaGlsZCBpbnN0YW5jZW9mIFZub2RlKSB7XG4gICAgICAvLyBTZXQgdGhlIG5ldyBjaGlsZCB0byB0aGUgdGV4dCBjb250ZW50IG9mIGl0cyBkb20gcHJvcGVydHlcbiAgICAgIG5ld0NoaWxkLmNoaWxkcmVuWzBdID0gKG5ld0NoaWxkIGFzIFZub2RlV2l0aERvbSkuZG9tLnRleHRDb250ZW50O1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG5ldyBjaGlsZCBpcyBub3QgYSBWbm9kZSwgd3JhcCBpdCBpbiBhIHRleHQgVm5vZGVcbiAgICBuZXdDaGlsZCA9IG5ld1RyZWVbaV0gPSBuZXcgVm5vZGUodGV4dFRhZywge30sIFtuZXdDaGlsZF0pO1xuICB9XG5cbiAgLy8gUGF0Y2ggdGhlIHRoZSBvbGQgdHJlZVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1RyZWUubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgbmV3Q2hpbGQgPSBuZXdUcmVlW2ldO1xuXG4gICAgLy8gSWYgdGhlIG5ldyBjaGlsZCBpcyBhIHRleHQgdm5vZGVcbiAgICBpZiAobmV3Q2hpbGQudGFnID09PSB0ZXh0VGFnKSB7XG4gICAgICAvLyBJZiB0aGVyZSBpcyBhbiBvbGQgY2hpbGQgYXQgdGhlIHNhbWUgaW5kZXhcbiAgICAgIGlmIChpIDwgb2xkVHJlZUxlbmd0aCkge1xuICAgICAgICBsZXQgb2xkQ2hpbGQgPSBvbGRUcmVlW2ldO1xuXG4gICAgICAgIC8vIElmIHRoZSBvbGQgY2hpbGQgaXMgYSB0ZXh0IG5vZGVcbiAgICAgICAgaWYgKG9sZENoaWxkLnRhZyA9PT0gdGV4dFRhZykge1xuICAgICAgICAgIC8vIFNldCB0aGUgZG9tIHByb3BlcnR5IG9mIHRoZSB0ZXh0IFZub2RlIHRvIHRoZSBkb20gcHJvcGVydHkgb2YgdGhlIG9sZCBjaGlsZFxuICAgICAgICAgIG5ld0NoaWxkLmRvbSA9IG9sZENoaWxkLmRvbTtcbiAgICAgICAgICAvLyBJZiB0aGUgdGV4dCBjb250ZW50IG9mIHRoZSBvbGQgY2hpbGQgaXMgZGlmZmVyZW50IGZyb20gdGhlIG5ldyBjaGlsZCwgdXBkYXRlIHRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhlIG9sZCBjaGlsZFxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICBpZiAobmV3Q2hpbGQuY2hpbGRyZW5bMF0gIT0gb2xkQ2hpbGQuZG9tLnRleHRDb250ZW50KSB7XG4gICAgICAgICAgICBvbGRDaGlsZC5kb20udGV4dENvbnRlbnQgPSBuZXdDaGlsZC5jaGlsZHJlblswXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgdGV4dCBub2RlIGZvciB0aGUgbmV3IGNoaWxkXG4gICAgICAgIG5ld0NoaWxkLmRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5ld0NoaWxkLmNoaWxkcmVuWzBdKTtcbiAgICAgICAgLy8gUmVwbGFjZSB0aGUgb2xkIGNoaWxkIGluIHRoZSBkb20gd2l0aCB0aGUgbmV3IHRleHQgbm9kZVxuICAgICAgICBuZXdWbm9kZS5kb20ucmVwbGFjZUNoaWxkKG5ld0NoaWxkLmRvbSwgb2xkQ2hpbGQuZG9tKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSBhIG5ldyB0ZXh0IG5vZGUgZm9yIHRoZSBuZXcgY2hpbGRcbiAgICAgIG5ld0NoaWxkLmRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5ld0NoaWxkLmNoaWxkcmVuWzBdKTtcbiAgICAgIC8vIEFwcGVuZCB0aGUgbmV3IHRleHQgbm9kZSB0byB0aGUgZG9tXG4gICAgICBuZXdWbm9kZS5kb20uYXBwZW5kQ2hpbGQobmV3Q2hpbGQuZG9tKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBuZXcgY2hpbGQgaXMgbm90IGEgdGV4dCBub2RlXG4gICAgLy8gU2V0IHRoZSBpc1NWRyBmbGFnIGZvciB0aGUgbmV3IGNoaWxkIGlmIGl0IGlzIGFuIFNWRyBlbGVtZW50IG9yIGlmIHRoZSBwYXJlbnQgaXMgYW4gU1ZHIGVsZW1lbnRcbiAgICBuZXdDaGlsZC5pc1NWRyA9IG5ld1Zub2RlLmlzU1ZHIHx8IG5ld0NoaWxkLnRhZyA9PT0gXCJzdmdcIjtcblxuICAgIC8vIElmIHRoZXJlIGlzIGFuIG9sZCBjaGlsZCBhdCB0aGUgc2FtZSBpbmRleFxuICAgIGlmIChpIDwgb2xkVHJlZUxlbmd0aCkge1xuICAgICAgbGV0IG9sZENoaWxkID0gb2xkVHJlZVtpXTtcbiAgICAgIC8vIElmIHRoZSB0YWcgb2YgdGhlIG5ldyBjaGlsZCBpcyB0aGUgc2FtZSBhcyB0aGUgdGFnIG9mIHRoZSBvbGQgY2hpbGRcbiAgICAgIGlmIChuZXdDaGlsZC50YWcgPT09IG9sZENoaWxkLnRhZykge1xuICAgICAgICAvLyBTZXQgdGhlIGRvbSBwcm9wZXJ0eSBvZiB0aGUgbmV3IGNoaWxkIHRvIHRoZSBkb20gcHJvcGVydHkgb2YgdGhlIG9sZCBjaGlsZFxuICAgICAgICBuZXdDaGlsZC5kb20gPSBvbGRDaGlsZC5kb207XG4gICAgICAgIC8vIElmIHRoZSB2LWtlZXAgcHJvcCBpcyB0aGUgc2FtZSBmb3IgYm90aCB0aGUgbmV3IGFuZCBvbGQgY2hpbGQsIHNldCB0aGUgY2hpbGRyZW4gb2YgdGhlIG5ldyBjaGlsZCB0byB0aGUgY2hpbGRyZW4gb2YgdGhlIG9sZCBjaGlsZFxuICAgICAgICBpZiAoXCJ2LWtlZXBcIiBpbiBuZXdDaGlsZC5wcm9wcyAmJiBuZXdDaGlsZC5wcm9wc1tcInYta2VlcFwiXSA9PT0gb2xkQ2hpbGQucHJvcHNbXCJ2LWtlZXBcIl0pIHtcbiAgICAgICAgICBuZXdDaGlsZC5jaGlsZHJlbiA9IG9sZENoaWxkLmNoaWxkcmVuO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBhdHRyaWJ1dGVzIG9mIHRoZSBuZXcgY2hpbGQgYmFzZWQgb24gdGhlIG9sZCBjaGlsZFxuICAgICAgICB1cGRhdGVBdHRyaWJ1dGVzKG5ld0NoaWxkIGFzIFZub2RlV2l0aERvbSwgb2xkQ2hpbGQpO1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBwYXRjaCB0aGUgbmV3IGFuZCBvbGQgY2hpbGRyZW5cbiAgICAgICAgcGF0Y2gobmV3Q2hpbGQgYXMgVm5vZGVXaXRoRG9tLCBvbGRDaGlsZCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgZG9tIGVsZW1lbnQgZm9yIHRoZSBuZXcgY2hpbGRcbiAgICAgIG5ld0NoaWxkLmRvbSA9IGNyZWF0ZURvbUVsZW1lbnQobmV3Q2hpbGQudGFnIGFzIHN0cmluZywgbmV3Q2hpbGQuaXNTVkcpO1xuICAgICAgLy8gVXBkYXRlIHRoZSBhdHRyaWJ1dGVzIG9mIHRoZSBuZXcgY2hpbGRcbiAgICAgIHVwZGF0ZUF0dHJpYnV0ZXMobmV3Q2hpbGQgYXMgVm5vZGVXaXRoRG9tKTtcbiAgICAgIC8vIFJlcGxhY2UgdGhlIG9sZCBjaGlsZCBpbiB0aGUgZG9tIHdpdGggdGhlIG5ldyBjaGlsZFxuICAgICAgbmV3Vm5vZGUuZG9tLnJlcGxhY2VDaGlsZChuZXdDaGlsZC5kb20sIG9sZENoaWxkLmRvbSk7XG4gICAgICAvLyBSZWN1cnNpdmVseSBwYXRjaCB0aGUgbmV3IGNoaWxkXG4gICAgICBwYXRjaChuZXdDaGlsZCBhcyBWbm9kZVdpdGhEb20pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGEgbmV3IGRvbSBlbGVtZW50IGZvciB0aGUgbmV3IGNoaWxkXG4gICAgbmV3Q2hpbGQuZG9tID0gY3JlYXRlRG9tRWxlbWVudChuZXdDaGlsZC50YWcgYXMgc3RyaW5nLCBuZXdDaGlsZC5pc1NWRyk7XG4gICAgLy8gVXBkYXRlIHRoZSBhdHRyaWJ1dGVzIG9mIHRoZSBuZXcgY2hpbGRcbiAgICB1cGRhdGVBdHRyaWJ1dGVzKG5ld0NoaWxkIGFzIFZub2RlV2l0aERvbSk7XG4gICAgLy8gQXBwZW5kIHRoZSBuZXcgY2hpbGQgdG8gdGhlIGRvbVxuICAgIG5ld1Zub2RlLmRvbS5hcHBlbmRDaGlsZChuZXdDaGlsZC5kb20pO1xuICAgIC8vIFJlY3Vyc2l2ZWx5IHBhdGNoIHRoZSBuZXcgY2hpbGRcbiAgICBwYXRjaChuZXdDaGlsZCBhcyBWbm9kZVdpdGhEb20pO1xuICB9XG5cbiAgLy8gUmVtb3ZlIGFueSBvbGQgY2hpbGRyZW4gdGhhdCBhcmUgbm8gbG9uZ2VyIHByZXNlbnQgaW4gdGhlIG5ldyB0cmVlXG4gIGZvciAobGV0IGkgPSBuZXdUcmVlLmxlbmd0aDsgaSA8IG9sZFRyZWVMZW5ndGg7IGkrKykge1xuICAgIG5ld1Zub2RlLmRvbS5yZW1vdmVDaGlsZChvbGRUcmVlW2ldLmRvbSk7XG4gIH1cbn1cblxuLy8gVXBkYXRlIHRoZSBtYWluIFZub2RlXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKCk6IHZvaWQgfCBzdHJpbmcge1xuICAvLyBJZiB0aGUgbWFpbiBWbm9kZSBleGlzdHNcbiAgaWYgKG1haW5Wbm9kZSkge1xuICAgIC8vIENhbGwgYW55IGNsZWFudXAgZnVuY3Rpb25zIHRoYXQgYXJlIHJlZ2lzdGVyZWQgd2l0aCB0aGUgb25DbGVhbnVwU2V0IHNldFxuICAgIGNhbGxTZXQob25DbGVhbnVwU2V0KTtcbiAgICAvLyBTdG9yZSBhIHJlZmVyZW5jZSB0byB0aGUgb2xkIG1haW4gVm5vZGVcbiAgICBsZXQgb2xkTWFpblZub2RlID0gbWFpblZub2RlO1xuICAgIC8vIENyZWF0ZSBhIG5ldyBtYWluIFZub2RlIHdpdGggdGhlIG1haW4gY29tcG9uZW50IGFzIGl0cyBvbmx5IGNoaWxkXG4gICAgbWFpblZub2RlID0gbmV3IFZub2RlKG9sZE1haW5Wbm9kZS50YWcsIG9sZE1haW5Wbm9kZS5wcm9wcywgW21haW5Db21wb25lbnRdKSBhcyBWbm9kZVdpdGhEb207XG4gICAgbWFpblZub2RlLmRvbSA9IG9sZE1haW5Wbm9kZS5kb207XG4gICAgbWFpblZub2RlLmlzU1ZHID0gb2xkTWFpblZub2RlLmlzU1ZHO1xuXG4gICAgLy8gUmVjdXJzaXZlbHkgcGF0Y2ggdGhlIG5ldyBhbmQgb2xkIG1haW4gVm5vZGVzXG4gICAgcGF0Y2gobWFpblZub2RlLCBvbGRNYWluVm5vZGUpO1xuXG4gICAgLy8gQ2FsbCBhbnkgdXBkYXRlIG9yIG1vdW50IGZ1bmN0aW9ucyB0aGF0IGFyZSByZWdpc3RlcmVkIHdpdGggdGhlIG9uVXBkYXRlU2V0IG9yIG9uTW91bnRTZXQgc2V0XG4gICAgY2FsbFNldChpc01vdW50ZWQgPyBvblVwZGF0ZVNldCA6IG9uTW91bnRTZXQpO1xuXG4gICAgLy8gU2V0IHRoZSBpc01vdW50ZWQgZmxhZyB0byB0cnVlXG4gICAgaXNNb3VudGVkID0gdHJ1ZTtcblxuICAgIC8vIFJlc2V0IHRoZSBjdXJyZW50IHZub2RlLCBvbGRWbm9kZSwgYW5kIGNvbXBvbmVudCBwcm9wZXJ0aWVzXG4gICAgY3VycmVudC52bm9kZSA9IG51bGw7XG4gICAgY3VycmVudC5vbGRWbm9kZSA9IG51bGw7XG4gICAgY3VycmVudC5jb21wb25lbnQgPSBudWxsO1xuXG4gICAgLy8gSWYgdGhlIGNvZGUgaXMgcnVubmluZyBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQsIHJldHVybiB0aGUgaW5uZXIgSFRNTCBvZiB0aGUgbWFpbiBWbm9kZSdzIGRvbSBlbGVtZW50XG4gICAgaWYgKGlzTm9kZUpzKSB7XG4gICAgICByZXR1cm4gbWFpblZub2RlLmRvbS5pbm5lckhUTUw7XG4gICAgfVxuICB9XG59XG5cbi8vIFVwZGF0ZSBjdXN0b20gVm5vZGVcbi8vIEl0IGlzIGFzc3VtZWQgdGhhdCBhIGZpcnN0IG1vdW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLCBzbyxcbi8vIHRoZSBvbGRWbm9kZSBpcyBub3QgbnVsbCBhbmQgdGhlIGRvbSBwcm9wZXJ0eSBvZiB0aGUgb2xkVm5vZGUgaXMgbm90IG51bGxcbi8vIFlvdSBuZWVkIHRvIHNldCB0aGUgZG9tIHByb3BlcnR5IG9mIHRoZSBuZXdWbm9kZSB0byB0aGUgZG9tIHByb3BlcnR5IG9mIHRoZSBvbGRWbm9kZVxuLy8gVGhlIHNhbWUgd2l0aCB0aGUgaXNTVkcgcHJvcGVydHlcbi8vIFByZWZlciB0aGlzIGZ1bmN0aW9uIG92ZXIgcGF0Y2ggdG8gYWxsb3cgZm9yIGNsZWFudXAsIG9uVXBkYXRlIGFuZCBvbk1vdW50IHNldHMgdG8gYmUgY2FsbGVkXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlVm5vZGUodm5vZGU6IFZub2RlV2l0aERvbSwgb2xkVm5vZGU6IFZub2RlV2l0aERvbSk6IHN0cmluZyB8IHZvaWQge1xuICAvLyBDYWxsIGFueSBjbGVhbnVwIGZ1bmN0aW9ucyB0aGF0IGFyZSByZWdpc3RlcmVkIHdpdGggdGhlIG9uQ2xlYW51cFNldCBzZXRcbiAgY2FsbFNldChvbkNsZWFudXBTZXQpO1xuXG4gIC8vIFJlY3Vyc2l2ZWx5IHBhdGNoIHRoZSBuZXcgYW5kIG9sZCBtYWluIFZub2Rlc1xuICBwYXRjaCh2bm9kZSwgb2xkVm5vZGUpO1xuXG4gIC8vIFNldCB0aGUgdm5vZGUgcHJvcGVydGllcyB0byB0aGUgb2xkIHZub2RlXG4gIG9sZFZub2RlLnRhZyA9IHZub2RlLnRhZztcbiAgb2xkVm5vZGUucHJvcHMgPSB7IC4uLnZub2RlLnByb3BzIH07XG4gIG9sZFZub2RlLmNoaWxkcmVuID0gWy4uLnZub2RlLmNoaWxkcmVuXTtcblxuICAvLyBDYWxsIGFueSB1cGRhdGUgb3IgbW91bnQgZnVuY3Rpb25zIHRoYXQgYXJlIHJlZ2lzdGVyZWQgd2l0aCB0aGUgb25VcGRhdGVTZXQgb3Igb25Nb3VudFNldCBzZXRcbiAgY2FsbFNldChpc01vdW50ZWQgPyBvblVwZGF0ZVNldCA6IG9uTW91bnRTZXQpO1xuXG4gIC8vIFNldCB0aGUgaXNNb3VudGVkIGZsYWcgdG8gdHJ1ZVxuICBpc01vdW50ZWQgPSB0cnVlO1xuXG4gIC8vIFJlc2V0IHRoZSBjdXJyZW50IHZub2RlLCBvbGRWbm9kZSwgYW5kIGNvbXBvbmVudCBwcm9wZXJ0aWVzXG4gIGN1cnJlbnQudm5vZGUgPSBudWxsO1xuICBjdXJyZW50Lm9sZFZub2RlID0gbnVsbDtcbiAgY3VycmVudC5jb21wb25lbnQgPSBudWxsO1xuXG4gIGlmIChpc05vZGVKcykge1xuICAgIHJldHVybiB2bm9kZS5kb20uaW5uZXJIVE1MO1xuICB9XG59XG5cbi8vIFVubW91bnQgdGhlIG1haW4gVm5vZGVcbmV4cG9ydCBmdW5jdGlvbiB1bm1vdW50KCkge1xuICAvLyBJZiB0aGUgbWFpbiBWbm9kZSBleGlzdHNcbiAgaWYgKG1haW5Wbm9kZSkge1xuICAgIC8vIFNldCB0aGUgbWFpbiBjb21wb25lbnQgdG8gYSBudWxsIFZub2RlXG4gICAgbWFpbkNvbXBvbmVudCA9IG5ldyBWbm9kZSgoKSA9PiBudWxsLCB7fSwgW10pIGFzIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlO1xuICAgIC8vIFVwZGF0ZSB0aGUgbWFpbiBWbm9kZVxuICAgIGxldCByZXN1bHQgPSB1cGRhdGUoKTtcbiAgICAvLyBDYWxsIGFueSB1bm1vdW50IGZ1bmN0aW9ucyB0aGF0IGFyZSByZWdpc3RlcmVkIHdpdGggdGhlIG9uVW5tb3VudFNldCBzZXRcbiAgICBjYWxsU2V0KG9uVW5tb3VudFNldCk7XG5cbiAgICAvLyBSZW1vdmUgYW55IGV2ZW50IGxpc3RlbmVycyB0aGF0IHdlcmUgYWRkZWQgdG8gdGhlIG1haW4gVm5vZGUncyBkb20gZWxlbWVudFxuICAgIGZvciAobGV0IG5hbWUgaW4gZXZlbnRMaXN0ZW5lck5hbWVzKSB7XG4gICAgICBtYWluVm5vZGUuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZS5zbGljZSgyKS50b0xvd2VyQ2FzZSgpLCBldmVudExpc3RlbmVyKTtcbiAgICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkoZXZlbnRMaXN0ZW5lck5hbWVzLCBuYW1lKTtcbiAgICB9XG5cbiAgICAvLyBSZXNldCB0aGUgbWFpbiBjb21wb25lbnQgYW5kIG1haW4gVm5vZGVcbiAgICBtYWluQ29tcG9uZW50ID0gbnVsbDtcbiAgICBtYWluVm5vZGUgPSBudWxsO1xuICAgIC8vIFNldCB0aGUgaXNNb3VudGVkIGZsYWcgdG8gZmFsc2VcbiAgICBpc01vdW50ZWQgPSBmYWxzZTtcbiAgICAvLyBSZXNldCB0aGUgY3VycmVudCB2bm9kZSwgb2xkVm5vZGUsIGFuZCBjb21wb25lbnQgcHJvcGVydGllc1xuICAgIGN1cnJlbnQudm5vZGUgPSBudWxsO1xuICAgIGN1cnJlbnQub2xkVm5vZGUgPSBudWxsO1xuICAgIGN1cnJlbnQuY29tcG9uZW50ID0gbnVsbDtcbiAgICAvLyBSZXR1cm4gdGhlIHJlc3VsdCBvZiB1cGRhdGluZyB0aGUgbWFpbiBWbm9kZVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cbi8vIFRoaXMgZnVuY3Rpb24gdGFrZXMgaW4gYSBET00gZWxlbWVudCBvciBhIERPTSBlbGVtZW50IHNlbGVjdG9yIGFuZCBhIGNvbXBvbmVudCB0byBiZSBtb3VudGVkIG9uIGl0LlxuZXhwb3J0IGZ1bmN0aW9uIG1vdW50KGRvbSwgY29tcG9uZW50KSB7XG4gIC8vIENoZWNrIGlmIHRoZSAnZG9tJyBhcmd1bWVudCBpcyBhIHN0cmluZy4gSWYgaXQgaXMsIHNlbGVjdCB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIGdpdmVuIHNlbGVjdG9yLlxuICAvLyBPdGhlcndpc2UsIHVzZSB0aGUgJ2RvbScgYXJndW1lbnQgYXMgdGhlIGNvbnRhaW5lci5cbiAgbGV0IGNvbnRhaW5lciA9XG4gICAgdHlwZW9mIGRvbSA9PT0gXCJzdHJpbmdcIlxuICAgICAgPyBpc05vZGVKc1xuICAgICAgICA/IGNyZWF0ZURvbUVsZW1lbnQoZG9tLCBkb20gPT09IFwic3ZnXCIpXG4gICAgICAgIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChkb20pWzBdXG4gICAgICA6IGRvbTtcblxuICAvLyBDaGVjayBpZiB0aGUgJ2NvbXBvbmVudCcgYXJndW1lbnQgaXMgYSBWbm9kZSBjb21wb25lbnQgb3IgYSByZWd1bGFyIGNvbXBvbmVudC5cbiAgLy8gSWYgaXQncyBhIHJlZ3VsYXIgY29tcG9uZW50LCBjcmVhdGUgYSBuZXcgVm5vZGUgY29tcG9uZW50IHVzaW5nIHRoZSAnY29tcG9uZW50JyBhcmd1bWVudCBhcyB0aGUgdGFnLlxuICAvLyBJZiBpdCdzIG5vdCBhIGNvbXBvbmVudCBhdCBhbGwsIGNyZWF0ZSBhIG5ldyBWbm9kZSBjb21wb25lbnQgd2l0aCB0aGUgJ2NvbXBvbmVudCcgYXJndW1lbnQgYXMgdGhlIHJlbmRlcmluZyBmdW5jdGlvbi5cbiAgbGV0IHZub2RlQ29tcG9uZW50ID0gaXNWbm9kZUNvbXBvbmVudChjb21wb25lbnQpXG4gICAgPyBjb21wb25lbnRcbiAgICA6IGlzQ29tcG9uZW50KGNvbXBvbmVudClcbiAgICA/IG5ldyBWbm9kZShjb21wb25lbnQsIHt9LCBbXSlcbiAgICA6IG5ldyBWbm9kZSgoKSA9PiBjb21wb25lbnQsIHt9LCBbXSk7XG5cbiAgLy8gSWYgYSBtYWluIGNvbXBvbmVudCBhbHJlYWR5IGV4aXN0cyBhbmQgaXQncyBub3QgdGhlIHNhbWUgYXMgdGhlIGN1cnJlbnQgJ3Zub2RlQ29tcG9uZW50JywgdW5tb3VudCBpdC5cbiAgaWYgKG1haW5Db21wb25lbnQgJiYgbWFpbkNvbXBvbmVudC50YWcgIT09IHZub2RlQ29tcG9uZW50LnRhZykge1xuICAgIHVubW91bnQoKTtcbiAgfVxuXG4gIC8vIFNldCB0aGUgJ3Zub2RlQ29tcG9uZW50JyBhcyB0aGUgbWFpbiBjb21wb25lbnQuXG4gIG1haW5Db21wb25lbnQgPSB2bm9kZUNvbXBvbmVudCBhcyBWbm9kZUNvbXBvbmVudEludGVyZmFjZTtcbiAgLy8gQ29udmVydCB0aGUgY29udGFpbmVyIGVsZW1lbnQgdG8gYSBWbm9kZS5cbiAgbWFpblZub2RlID0gZG9tVG9Wbm9kZShjb250YWluZXIpO1xuICAvLyBVcGRhdGUgdGhlIERPTSB3aXRoIHRoZSBuZXcgY29tcG9uZW50LlxuICByZXR1cm4gdXBkYXRlKCk7XG59XG5cbi8vIFRoaXMgaXMgYSB1dGlsaXR5IGZ1bmN0aW9uIGZvciBjcmVhdGluZyBWbm9kZSBvYmplY3RzLlxuLy8gSXQgdGFrZXMgaW4gYSB0YWcgb3IgY29tcG9uZW50LCBhbmQgb3B0aW9uYWwgcHJvcHMgYW5kIGNoaWxkcmVuIGFyZ3VtZW50cy5cbmV4cG9ydCBjb25zdCB2OiBWID0gKHRhZ09yQ29tcG9uZW50LCBwcm9wcyA9IHt9LCAuLi5jaGlsZHJlbikgPT4ge1xuICAvLyBSZXR1cm4gYSBuZXcgVm5vZGUgb2JqZWN0IHVzaW5nIHRoZSBnaXZlbiBhcmd1bWVudHMuXG4gIHJldHVybiBuZXcgVm5vZGUodGFnT3JDb21wb25lbnQsIHByb3BzIHx8IHt9LCBjaGlsZHJlbik7XG59O1xuXG4vLyBUaGlzIHV0aWxpdHkgZnVuY3Rpb24gY3JlYXRlcyBhIGZyYWdtZW50IFZub2RlLlxuLy8gSXQgdGFrZXMgaW4gYSBwbGFjZWhvbGRlciBhbmQgdGhlIGNoaWxkcmVuIGFyZ3VtZW50cywgcmV0dXJucyBvbmx5IHRoZSBjaGlsZHJlbi5cbnYuZnJhZ21lbnQgPSAoXzogVm5vZGVQcm9wZXJ0aWVzLCAuLi5jaGlsZHJlbjogQ2hpbGRyZW4pID0+IGNoaWxkcmVuO1xuIl0sIm1hcHBpbmdzIjoiTUFnSUEsSUFBTUEsRUFBVSxRQUlMQyxFQUFXQyxRQUEyQixvQkFBWkMsU0FBMkJBLFFBQVFDLFVBQVlELFFBQVFDLFNBQVNDLE1BSTlGLFNBQVNDLEVBQWlCQyxFQUFhQyxHQUFpQixHQUM3RCxPQUFPQSxFQUFRQyxTQUFTQyxnQkFBZ0IsNkJBQThCSCxHQUFPRSxTQUFTRSxjQUFjSixFQUN0RyxDQU1PLElBQU1LLEVBQVEsU0FBcUNMLEVBQWFNLEVBQXdCQyxHQUU3RkMsS0FBS1IsSUFBTUEsRUFDWFEsS0FBS0YsTUFBUUEsRUFDYkUsS0FBS0QsU0FBV0EsQ0FDbEIsRUFJTyxTQUFTRSxFQUFZQyxHQUMxQixPQUFPQSxJQUFtQyxtQkFBZEEsR0FBa0QsaUJBQWRBLEdBQTBCLFNBQVVBLEVBQ3RHLENBR08sSUFBTUMsRUFBV0MsR0FFZkEsYUFBa0JQLEVBS2RRLEVBQW9CRCxHQUV4QkQsRUFBUUMsSUFBV0gsRUFBWUcsRUFBT1osS0FJL0MsU0FBU2MsRUFBV0MsR0FDbEIsSUFBSVIsRUFBMkIsR0FFL0IsUUFBU1MsRUFBSSxFQUFHQyxFQUFJRixFQUFJRyxXQUFXQyxPQUFRSCxFQUFJQyxFQUFHRCxJQUFLLENBQ3JELElBQUlJLEVBQVdMLEVBQUlHLFdBQVdGLEdBSTlCLEdBQTBCLElBQXRCSSxFQUFTQyxTQVNhLElBQXRCRCxFQUFTQyxVQUNYZCxFQUFTZSxLQUFLUixFQUFXTSxRQVYzQixDQUNFLElBQUlHLEVBQVEsSUFBSWxCLEVBQU1aLEVBQVMsQ0FBQyxFQUFHLElBQ25DOEIsRUFBTVIsSUFBTUssRUFDWmIsRUFBU2UsS0FBS0MsRUFFaEIsQ0FPRixDQUVBLElBQUlqQixFQUF5QixDQUFDLEVBRTlCLFFBQVNVLEVBQUksRUFBR0MsRUFBSUYsRUFBSVMsV0FBV0wsT0FBUUgsRUFBSUMsRUFBR0QsSUFBSyxDQUNyRCxJQUFJUyxFQUFP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