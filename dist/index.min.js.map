//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc05vZGVKcyIsIkJvb2xlYW4iLCJwcm9jZXNzIiwidmVyc2lvbnMiLCJub2RlIiwiVm5vZGUiLCJjb25zdHJ1Y3RvciIsInRhZyIsInByb3BzIiwiY2hpbGRyZW4iLCJkb20iLCJpc1NWRyIsInRoaXMiLCJpc1BPSk9Db21wb25lbnQiLCJjb21wb25lbnQiLCJpc0NvbXBvbmVudCIsImlzVm5vZGUiLCJvYmplY3QiLCJpc1Zub2RlQ29tcG9uZW50IiwidiIsInRhZ09yQ29tcG9uZW50IiwiaGlkcmF0ZURvbVRvVm5vZGUiLCJub2RlVHlwZSIsIm5vZGVWYWx1ZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJpIiwibCIsImNoaWxkTm9kZXMiLCJsZW5ndGgiLCJjaGlsZERvbSIsInB1c2giLCJjaGlsZFZub2RlIiwiYXR0cmlidXRlcyIsImF0dHIiLCJ2bm9kZSIsInRydXN0IiwiaHRtbFN0cmluZyIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRyaW0iLCJBcnJheSIsImZyb20iLCJtYXAiLCJmcmFnbWVudCIsIl8iLCJtYWluQ29tcG9uZW50IiwibWFpblZub2RlIiwiaXNNb3VudGVkIiwiY3VycmVudCIsImV2ZW50IiwicmVzZXJ2ZWRQcm9wcyIsIlNldCIsIm9uQ2xlYW51cFNldCIsIm9uTW91bnRTZXQiLCJvblVwZGF0ZVNldCIsIm9uVW5tb3VudFNldCIsIm9uQ2xlYW51cCIsImNhbGxiYWNrIiwiYWRkIiwiY2FsbFNldCIsInNldCIsImNsZWFyIiwiZGlyZWN0aXZlcyIsInZhbHVlIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiYm9vbCIsInN0eWxlIiwiZGlzcGxheSIsIm1vZGVsIiwicHJvcGVydHkiLCJuYW1lIiwiaGFuZGxlciIsImUiLCJ0YXJnZXQiLCJ0eXBlIiwiaXNBcnJheSIsInZhbCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJzaGFyZWRTZXRBdHRyaWJ1dGUiLCJtdWx0aXBsZSIsImN0cmxLZXkiLCJmb3JFYWNoIiwiY2hpbGQiLCJqb2luIiwic2VsZWN0ZWQiLCJwcmV2SGFuZGxlciIsIm9sZFByb3BzIiwiY2xlYW51cCIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNsYXNzIiwiaWQiLCJkb21TdHlsZSIsImRlYm91bmNlZFVwZGF0ZVRpbWVvdXQiLCJldmVudExpc3RlbmVyTmFtZXMiLCJldmVudExpc3RlbmVyIiwiZGVmYXVsdFByZXZlbnRlZCIsInVwZGF0ZSIsIm5ld1Zub2RlIiwibmV3Vm5vZGVEb20iLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJoYXMiLCJhZGRFdmVudExpc3RlbmVyIiwic2xpY2UiLCJ1cGRhdGVBdHRyaWJ1dGVzIiwidm5vZGVEb20iLCJ2bm9kZVByb3BzIiwiY3JlYXRlRWxlbWVudE5TIiwiZmxhdFRyZWUiLCJuZXdDaGlsZCIsIm9yaWdpbmFsQ2hpbGRyZW4iLCJ2aWV3IiwiYmluZCIsImNyZWF0ZU5ld0VsZW1lbnQiLCJvbGRDaGlsZCIsImFwcGVuZENoaWxkIiwidGV4dENvbnRlbnQiLCJwYXRjaCIsIm9sZERvbUNoaWxkcmVuIiwib2xkQ2hpbGRyZW5MZW5ndGgiLCJmaXJzdE9sZFByb3BzIiwiZmlyc3RWbm9kZSIsIm9sZFRyZWUiLCJvbGRLZXllZExpc3QiLCJuZXdLZXllZExpc3QiLCJrZXkiLCJjdXJyZW50Q2hpbGQiLCJyZW1vdmUiLCJwYXRjaEtleWVkIiwiY2hpbGRyZW5MZW5ndGgiLCJuZXh0T2xkQ2hpbGQiLCJ1cGRhdGVWbm9kZSIsImNsZWFyRGVib3VuY2VkVXBkYXRlTWV0aG9kIiwiY2xlYXJUaW1lb3V0IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJzZXREZWJvdW5jZWRVcGRhdGVNZXRob2QiLCJzZXRUaW1lb3V0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZGlyZWN0aXZlIiwiZGlyZWN0aXZlTmFtZSIsImRvbU9yQ29udGVudCIsImNvbnRhaW5lciIsImJvZHkiLCJxdWVyeVNlbGVjdG9yIiwiZmluYWxDb21wb25lbnQiLCJyZXN1bHQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUmVmbGVjdCIsImRlbGV0ZVByb3BlcnR5Il0sInNvdXJjZXMiOlsiLi4vbGliL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG5kZWNsYXJlIGdsb2JhbCB7XG4gIHZhciBkb2N1bWVudDogRG9jdW1lbnQ7XG4gIG5hbWVzcGFjZSBKU1gge1xuICAgIGludGVyZmFjZSBJbnRyaW5zaWNFbGVtZW50cyBleHRlbmRzIERlZmF1bHRSZWNvcmQge31cbiAgfVxufVxuXG5pbnRlcmZhY2UgRGVmYXVsdFJlY29yZCBleHRlbmRzIFJlY29yZDxzdHJpbmcgfCBudW1iZXIgfCBzeW1ib2wsIGFueT4ge31cblxuZXhwb3J0IGludGVyZmFjZSBWbm9kZVByb3BlcnRpZXMgZXh0ZW5kcyBEZWZhdWx0UmVjb3JkIHtcbiAga2V5Pzogc3RyaW5nIHwgbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERvbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBEZWZhdWx0UmVjb3JkIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50IGV4dGVuZHMgRGVmYXVsdFJlY29yZCB7XG4gIChwcm9wczogVm5vZGVQcm9wZXJ0aWVzLCBjaGlsZHJlbjogYW55W10pOiBWbm9kZSB8IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQT0pPQ29tcG9uZW50IGV4dGVuZHMgRGVmYXVsdFJlY29yZCB7XG4gIHZpZXc6IENvbXBvbmVudDtcbn1cblxuZXhwb3J0IHR5cGUgVmFseXJpYW5Db21wb25lbnQgPSBDb21wb25lbnQgfCBQT0pPQ29tcG9uZW50O1xuXG5leHBvcnQgaW50ZXJmYWNlIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlIGV4dGVuZHMgVm5vZGUge1xuICB0YWc6IFZhbHlyaWFuQ29tcG9uZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoaWxkcmVuIGV4dGVuZHMgQXJyYXk8Vm5vZGUgfCBWbm9kZUNvbXBvbmVudEludGVyZmFjZSB8IFZhbHlyaWFuQ29tcG9uZW50IHwgYW55PiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdGl2ZSB7XG4gICh2YWx1ZTogYW55LCB2bm9kZTogVm5vZGVXaXRoRG9tLCBvbGRQcm9wczogVm5vZGVQcm9wZXJ0aWVzIHwgbnVsbCk6IHZvaWQgfCBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgaXNOb2RlSnMgPSBCb29sZWFuKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MudmVyc2lvbnMgJiYgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlKTtcblxuZXhwb3J0IGNsYXNzIFZub2RlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHRhZzogc3RyaW5nIHwgQ29tcG9uZW50IHwgUE9KT0NvbXBvbmVudCxcbiAgICBwdWJsaWMgcHJvcHM6IG51bGwgfCBWbm9kZVByb3BlcnRpZXMsXG4gICAgcHVibGljIGNoaWxkcmVuOiBDaGlsZHJlbixcbiAgICBwdWJsaWMgZG9tPzogRG9tRWxlbWVudCxcbiAgICBwdWJsaWMgaXNTVkc/OiBib29sZWFuXG4gICkge31cbn1cblxuZXhwb3J0IGludGVyZmFjZSBWbm9kZVdpdGhEb20gZXh0ZW5kcyBWbm9kZSB7XG4gIHRhZzogc3RyaW5nO1xuICBkb206IERvbUVsZW1lbnQ7XG4gIHByb3BzOiBWbm9kZVByb3BlcnRpZXM7XG59XG5cbmV4cG9ydCBjb25zdCBpc1BPSk9Db21wb25lbnQgPSAoY29tcG9uZW50OiB1bmtub3duKTogY29tcG9uZW50IGlzIFBPSk9Db21wb25lbnQgPT5cbiAgQm9vbGVhbihjb21wb25lbnQgJiYgdHlwZW9mIGNvbXBvbmVudCA9PT0gXCJvYmplY3RcIiAmJiBcInZpZXdcIiBpbiBjb21wb25lbnQpO1xuXG5leHBvcnQgY29uc3QgaXNDb21wb25lbnQgPSAoY29tcG9uZW50OiB1bmtub3duKTogY29tcG9uZW50IGlzIENvbXBvbmVudCA9PlxuICBCb29sZWFuKHR5cGVvZiBjb21wb25lbnQgPT09IFwiZnVuY3Rpb25cIiB8fCBpc1BPSk9Db21wb25lbnQoY29tcG9uZW50KSk7XG5leHBvcnQgY29uc3QgaXNWbm9kZSA9IChvYmplY3Q/OiB1bmtub3duKTogb2JqZWN0IGlzIFZub2RlID0+IG9iamVjdCBpbnN0YW5jZW9mIFZub2RlO1xuXG5leHBvcnQgY29uc3QgaXNWbm9kZUNvbXBvbmVudCA9IChvYmplY3Q/OiB1bmtub3duKTogb2JqZWN0IGlzIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlID0+IHtcbiAgcmV0dXJuIGlzVm5vZGUob2JqZWN0KSAmJiBpc0NvbXBvbmVudChvYmplY3QudGFnKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB2KHRhZ09yQ29tcG9uZW50OiBzdHJpbmcgfCBWYWx5cmlhbkNvbXBvbmVudCwgcHJvcHM6IFZub2RlUHJvcGVydGllcywgLi4uY2hpbGRyZW46IENoaWxkcmVuKSB7XG4gIHJldHVybiBuZXcgVm5vZGUodGFnT3JDb21wb25lbnQsIHByb3BzLCBjaGlsZHJlbik7XG59XG5cbnYuZnJhZ21lbnQgPSAoXzogVm5vZGVQcm9wZXJ0aWVzLCAuLi5jaGlsZHJlbjogQ2hpbGRyZW4pID0+IGNoaWxkcmVuO1xuXG5leHBvcnQgZnVuY3Rpb24gaGlkcmF0ZURvbVRvVm5vZGUoZG9tOiBhbnkpOiBWbm9kZVdpdGhEb20gfCB2b2lkIHtcbiAgaWYgKGRvbS5ub2RlVHlwZSA9PT0gMykge1xuICAgIHJldHVybiBkb20ubm9kZVZhbHVlO1xuICB9XG5cbiAgaWYgKGRvbS5ub2RlVHlwZSA9PT0gMSkge1xuICAgIGNvbnN0IHRhZyA9IGRvbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IHByb3BzID0ge30gYXMgVm5vZGVQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gW10gYXMgQ2hpbGRyZW47XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGRvbS5jaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3QgY2hpbGREb20gPSBkb20uY2hpbGROb2Rlc1tpXTtcbiAgICAgIGlmIChjaGlsZERvbS5ub2RlVHlwZSA9PT0gMykge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGNoaWxkRG9tLm5vZGVWYWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGNoaWxkRG9tLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkVm5vZGUgPSBoaWRyYXRlRG9tVG9Wbm9kZShjaGlsZERvbSk7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGRWbm9kZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYXR0cmlidXRlcyA9IGRvbS5hdHRyaWJ1dGVzO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gYXR0cmlidXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IGF0dHIgPSBhdHRyaWJ1dGVzW2ldO1xuICAgICAgcHJvcHNbYXR0ci5ub2RlTmFtZV0gPSBhdHRyLm5vZGVWYWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdCB2bm9kZSA9IG5ldyBWbm9kZSh0YWcsIHByb3BzLCBjaGlsZHJlbik7XG4gICAgdm5vZGUuZG9tID0gZG9tO1xuICAgIHZub2RlLmlzU1ZHID0gdGFnID09PSBcInN2Z1wiO1xuICAgIHJldHVybiB2bm9kZSBhcyBWbm9kZVdpdGhEb207XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRydXN0KGh0bWxTdHJpbmc6IHN0cmluZykge1xuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZy50cmltKCk7XG4gIHJldHVybiBBcnJheS5mcm9tKGRpdi5jaGlsZE5vZGVzKS5tYXAoaGlkcmF0ZURvbVRvVm5vZGUpO1xufVxuXG5sZXQgbWFpbkNvbXBvbmVudDogVm5vZGVDb21wb25lbnRJbnRlcmZhY2UgfCBudWxsID0gbnVsbDtcbmxldCBtYWluVm5vZGU6IFZub2RlV2l0aERvbSB8IG51bGwgPSBudWxsO1xubGV0IGlzTW91bnRlZCA9IGZhbHNlO1xuXG5leHBvcnQgY29uc3QgY3VycmVudCA9IHtcbiAgdm5vZGU6IG51bGwgYXMgVm5vZGUgfCBudWxsLFxuICBjb21wb25lbnQ6IG51bGwgYXMgVmFseXJpYW5Db21wb25lbnQgfCBudWxsLFxuICBldmVudDogbnVsbCBhcyBFdmVudCB8IG51bGxcbn07XG5cbmV4cG9ydCBjb25zdCByZXNlcnZlZFByb3BzID0gbmV3IFNldDxzdHJpbmc+KFtcbiAgXCJrZXlcIixcbiAgXCJzdGF0ZVwiLFxuICBcInYta2VlcFwiLFxuICBcInYtdGV4dFwiLFxuICBcInYtaWZcIixcbiAgXCJ2LWZvclwiLFxuICBcInYtc2hvd1wiLFxuICBcInYtY2xhc3NcIixcbiAgXCJ2LWh0bWxcIixcbiAgXCJ2LW1vZGVsXCIsXG4gIFwidi1jcmVhdGVcIixcbiAgXCJ2LXVwZGF0ZVwiLFxuICBcInYtY2xlYW51cFwiXG5dKTtcblxuY29uc3Qgb25DbGVhbnVwU2V0ID0gbmV3IFNldDxGdW5jdGlvbj4oKTtcbmNvbnN0IG9uTW91bnRTZXQgPSBuZXcgU2V0PEZ1bmN0aW9uPigpO1xuY29uc3Qgb25VcGRhdGVTZXQgPSBuZXcgU2V0PEZ1bmN0aW9uPigpO1xuY29uc3Qgb25Vbm1vdW50U2V0ID0gbmV3IFNldDxGdW5jdGlvbj4oKTtcbmV4cG9ydCBjb25zdCBvbk1vdW50ID0gKGNhbGxiYWNrOiBGdW5jdGlvbikgPT4gIWlzTW91bnRlZCAmJiBvbk1vdW50U2V0LmFkZChjYWxsYmFjayk7XG5leHBvcnQgY29uc3Qgb25VcGRhdGUgPSAoY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiBvblVwZGF0ZVNldC5hZGQoY2FsbGJhY2spO1xuZXhwb3J0IGNvbnN0IG9uQ2xlYW51cCA9IChjYWxsYmFjazogRnVuY3Rpb24pID0+IG9uQ2xlYW51cFNldC5hZGQoY2FsbGJhY2spO1xuZXhwb3J0IGNvbnN0IG9uVW5tb3VudCA9IChjYWxsYmFjazogRnVuY3Rpb24pID0+ICFpc01vdW50ZWQgJiYgb25Vbm1vdW50U2V0LmFkZChjYWxsYmFjayk7XG5jb25zdCBjYWxsU2V0ID0gKHNldDogU2V0PEZ1bmN0aW9uPikgPT4ge1xuICBmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIHNldCkge1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cbiAgc2V0LmNsZWFyKCk7XG59O1xuXG5leHBvcnQgY29uc3QgZGlyZWN0aXZlczogUmVjb3JkPHN0cmluZywgRGlyZWN0aXZlPiA9IHtcbiAgXCJ2LWlmXCI6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICBpZiAoIUJvb2xlYW4odmFsdWUpKSB7XG4gICAgICBjb25zdCBwYXJlbnROb2RlID0gdm5vZGUuZG9tPy5wYXJlbnROb2RlO1xuICAgICAgaWYgKHBhcmVudE5vZGUpIHtcbiAgICAgICAgcGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiksIHZub2RlLmRvbSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG5cbiAgXCJ2LXNob3dcIjogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIGNvbnN0IGJvb2wgPSBCb29sZWFuKHZhbHVlKTtcbiAgICAoXG4gICAgICB2bm9kZS5kb20gYXMgdW5rbm93biBhcyB7XG4gICAgICAgIHN0eWxlOiB7IGRpc3BsYXk6IHN0cmluZyB9O1xuICAgICAgfVxuICAgICkuc3R5bGUuZGlzcGxheSA9IGJvb2wgPyBcIlwiIDogXCJub25lXCI7XG4gIH0sXG5cbiAgXCJ2LWh0bWxcIjogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIHZub2RlLmNoaWxkcmVuID0gdHJ1c3QodmFsdWUgYXMgc3RyaW5nKTtcbiAgfSxcblxuICAvLyBUaGUgXCJ2LW1vZGVsXCIgZGlyZWN0aXZlIGJpbmRzIHRoZSB2YWx1ZSBvZiBhbiBpbnB1dCBlbGVtZW50IHRvIGEgbW9kZWwgcHJvcGVydHlcbiAgXCJ2LW1vZGVsXCI6IChtb2RlbCwgdm5vZGUpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgaWYgKFwibmFtZVwiIGluIHZub2RlLnByb3BzID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCB2YWx1ZTtcbiAgICBjb25zdCBwcm9wZXJ0eSA9IHZub2RlLnByb3BzLm5hbWU7XG4gICAgbGV0IGV2ZW50ID0gXCJvbmlucHV0XCI7XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHVwZGF0ZXMgdGhlIG1vZGVsIHByb3BlcnR5IHdoZW4gdGhlIGlucHV0IGVsZW1lbnQncyB2YWx1ZSBjaGFuZ2VzXG4gICAgbGV0IGhhbmRsZXIgPSAoZTogRXZlbnQpID0+IChtb2RlbFtwcm9wZXJ0eV0gPSAoZS50YXJnZXQgYXMgRG9tRWxlbWVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pLnZhbHVlKTtcbiAgICBpZiAodm5vZGUudGFnID09PSBcImlucHV0XCIpIHtcbiAgICAgIC8vIERlcGVuZGluZyBvbiB0aGUgdHlwZSBvZiBpbnB1dCBlbGVtZW50LCB1c2UgYSBkaWZmZXJlbnQgaGFuZGxlciBmdW5jdGlvblxuICAgICAgc3dpdGNoICh2bm9kZS5wcm9wcy50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJjaGVja2JveFwiOiB7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobW9kZWxbcHJvcGVydHldKSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIG1vZGVsIHByb3BlcnR5IGlzIGFuIGFycmF5LCBhZGQgb3IgcmVtb3ZlIHRoZSB2YWx1ZSBmcm9tIHRoZSBhcnJheSB3aGVuIHRoZSBjaGVja2JveCBpcyBjaGVja2VkIG9yIHVuY2hlY2tlZFxuICAgICAgICAgICAgaGFuZGxlciA9IChlOiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB2YWwgPSAoZS50YXJnZXQgYXMgRG9tRWxlbWVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pLnZhbHVlO1xuICAgICAgICAgICAgICBjb25zdCBpZHggPSBtb2RlbFtwcm9wZXJ0eV0uaW5kZXhPZih2YWwpO1xuICAgICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGlzIGluIHRoZSBhcnJheSwgc2V0IHRoZSBjaGVja2JveCB0byBiZSBjaGVja2VkXG4gICAgICAgICAgICB2YWx1ZSA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZub2RlLmRvbS52YWx1ZSkgIT09IC0xO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIHZub2RlLnByb3BzKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgaW5wdXQgZWxlbWVudCBoYXMgYSBcInZhbHVlXCIgYXR0cmlidXRlLCB1c2UgaXQgdG8gZGV0ZXJtaW5lIHRoZSBjaGVja2VkIHN0YXRlXG4gICAgICAgICAgICBoYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAobW9kZWxbcHJvcGVydHldID09PSB2bm9kZS5wcm9wcy52YWx1ZSkge1xuICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XSA9IG51bGw7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldID0gdm5vZGUucHJvcHMudmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YWx1ZSA9IG1vZGVsW3Byb3BlcnR5XSA9PT0gdm5vZGUucHJvcHMudmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIFwidmFsdWVcIiBhdHRyaWJ1dGUsIHVzZSBhIGJvb2xlYW4gdmFsdWUgZm9yIHRoZSBtb2RlbCBwcm9wZXJ0eVxuICAgICAgICAgICAgaGFuZGxlciA9ICgpID0+IChtb2RlbFtwcm9wZXJ0eV0gPSAhbW9kZWxbcHJvcGVydHldKTtcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBTZXQgdGhlIFwiY2hlY2tlZFwiIGF0dHJpYnV0ZSBvbiB0aGUgaW5wdXQgZWxlbWVudFxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICAgIHNoYXJlZFNldEF0dHJpYnV0ZShcImNoZWNrZWRcIiwgdmFsdWUsIHZub2RlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwicmFkaW9cIjoge1xuICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIGEgcmFkaW8gYnV0dG9uLCBzZXQgdGhlIFwiY2hlY2tlZFwiIGF0dHJpYnV0ZSBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLCBtb2RlbFtwcm9wZXJ0eV0gPT09IHZub2RlLmRvbS52YWx1ZSwgdm5vZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAvLyBGb3IgYWxsIG90aGVyIGlucHV0IHR5cGVzLCBzZXQgdGhlIFwidmFsdWVcIiBhdHRyaWJ1dGUgYmFzZWQgb24gdGhlIHZhbHVlIG9mIHRoZSBtb2RlbCBwcm9wZXJ0eVxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICAgIHNoYXJlZFNldEF0dHJpYnV0ZShcInZhbHVlXCIsIG1vZGVsW3Byb3BlcnR5XSwgdm5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2bm9kZS50YWcgPT09IFwic2VsZWN0XCIpIHtcbiAgICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIGEgc2VsZWN0IGVsZW1lbnQsIHVzZSB0aGUgXCJjbGlja1wiIGV2ZW50IGJ5IGRlZmF1bHRcbiAgICAgIGV2ZW50ID0gXCJvbmNsaWNrXCI7XG4gICAgICBpZiAodm5vZGUucHJvcHMubXVsdGlwbGUpIHtcbiAgICAgICAgLy8gSWYgdGhlIHNlbGVjdCBlbGVtZW50IGFsbG93cyBtdWx0aXBsZSBzZWxlY3Rpb25zLCB1cGRhdGUgdGhlIG1vZGVsIHByb3BlcnR5IHdpdGggYW4gYXJyYXkgb2Ygc2VsZWN0ZWQgdmFsdWVzXG4gICAgICAgIGhhbmRsZXIgPSAoZTogRXZlbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSA9PiB7XG4gICAgICAgICAgY29uc3QgdmFsID0gKGUudGFyZ2V0IGFzIERvbUVsZW1lbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+KS52YWx1ZTtcbiAgICAgICAgICBpZiAoZS5jdHJsS2V5KSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgQ3RybCBrZXkgaXMgcHJlc3NlZCwgYWRkIG9yIHJlbW92ZSB0aGUgdmFsdWUgZnJvbSB0aGUgYXJyYXlcbiAgICAgICAgICAgIGNvbnN0IGlkeCA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZhbCk7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0ucHVzaCh2YWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgQ3RybCBrZXkgaXMgbm90IHByZXNzZWQsIHNldCB0aGUgbW9kZWwgcHJvcGVydHkgdG8gYW4gYXJyYXkgd2l0aCB0aGUgc2VsZWN0ZWQgdmFsdWVcbiAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5zcGxpY2UoMCwgbW9kZWxbcHJvcGVydHldLmxlbmd0aCk7XG4gICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0ucHVzaCh2YWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gU2V0IHRoZSBcInNlbGVjdGVkXCIgYXR0cmlidXRlIG9uIHRoZSBvcHRpb25zIGJhc2VkIG9uIHdoZXRoZXIgdGhleSBhcmUgaW4gdGhlIG1vZGVsIHByb3BlcnR5IGFycmF5XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudGFnID09PSBcIm9wdGlvblwiKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IFwidmFsdWVcIiBpbiBjaGlsZC5wcm9wcyA/IGNoaWxkLnByb3BzLnZhbHVlIDogY2hpbGQuY2hpbGRyZW4uam9pbihcIlwiKS50cmltKCk7XG4gICAgICAgICAgICBjaGlsZC5wcm9wcy5zZWxlY3RlZCA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIHRoZSBzZWxlY3QgZWxlbWVudCBkb2VzIG5vdCBhbGxvdyBtdWx0aXBsZSBzZWxlY3Rpb25zLCBzZXQgdGhlIFwic2VsZWN0ZWRcIiBhdHRyaWJ1dGUgb24gdGhlIG9wdGlvbnMgYmFzZWQgb24gdGhlIHZhbHVlIG9mIHRoZSBtb2RlbCBwcm9wZXJ0eVxuICAgICAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZDogVm5vZGVXaXRoRG9tKSA9PiB7XG4gICAgICAgICAgaWYgKGNoaWxkLnRhZyA9PT0gXCJvcHRpb25cIikge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBcInZhbHVlXCIgaW4gY2hpbGQucHJvcHMgPyBjaGlsZC5wcm9wcy52YWx1ZSA6IGNoaWxkLmNoaWxkcmVuLmpvaW4oXCJcIikudHJpbSgpO1xuICAgICAgICAgICAgY2hpbGQucHJvcHMuc2VsZWN0ZWQgPSB2YWx1ZSA9PT0gbW9kZWxbcHJvcGVydHldO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2bm9kZS50YWcgPT09IFwidGV4dGFyZWFcIikge1xuICAgICAgLy8gU2V0IHRoZSB0ZXh0YXJlYSdzIGNvbnRlbnQgdG8gdGhlIHZhbHVlIG9mIHRoZSBtb2RlbCBwcm9wZXJ0eVxuICAgICAgdm5vZGUuY2hpbGRyZW4gPSBbbW9kZWxbcHJvcGVydHldXTtcbiAgICB9XG5cbiAgICAvLyBXZSBhc3N1bWUgdGhhdCB0aGUgcHJldiBoYW5kbGVyIGlmIGFueSB3aWxsIG5vdCBiZSBjaGFuZ2VkIGJ5IHRoZSB1c2VyIGFjcm9zcyBwYXRjaHNcbiAgICBjb25zdCBwcmV2SGFuZGxlciA9IHZub2RlLnByb3BzW2V2ZW50XTtcblxuICAgIC8vIFNldCB0aGUgZXZlbnQgaGFuZGxlciBvbiB0aGUgZWxlbWVudFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHNoYXJlZFNldEF0dHJpYnV0ZShcbiAgICAgIGV2ZW50LFxuICAgICAgKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgIGhhbmRsZXIoZSk7XG5cbiAgICAgICAgLy8gSWYgdGhlIHByZXZpb3VzIGhhbmRsZXIgaXMgZGVmaW5lZCwgY2FsbCBpdCBhZnRlciB0aGUgbW9kZWwgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgICBpZiAocHJldkhhbmRsZXIpIHtcbiAgICAgICAgICBwcmV2SGFuZGxlcihlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHZub2RlXG4gICAgKTtcbiAgfSxcblxuICBcInYtY3JlYXRlXCI6IChjYWxsYmFjaywgdm5vZGUsIG9sZFByb3BzKSA9PiB7XG4gICAgaWYgKCFvbGRQcm9wcykge1xuICAgICAgY29uc3QgY2xlYW51cCA9IGNhbGxiYWNrKHZub2RlKTtcblxuICAgICAgaWYgKHR5cGVvZiBjbGVhbnVwID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgb25DbGVhbnVwKGNsZWFudXApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBcInYtdXBkYXRlXCI6IChjYWxsYmFjaywgdm5vZGUsIG9sZFByb3BzKSA9PiB7XG4gICAgaWYgKG9sZFByb3BzKSB7XG4gICAgICBjb25zdCBjbGVhbnVwID0gY2FsbGJhY2sodm5vZGUsIG9sZFByb3BzKTtcblxuICAgICAgaWYgKHR5cGVvZiBjbGVhbnVwID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgb25DbGVhbnVwKGNsZWFudXApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBcInYtY2xlYW51cFwiOiAoY2FsbGJhY2ssIHZub2RlKSA9PiB7XG4gICAgb25DbGVhbnVwKCgpID0+IGNhbGxiYWNrKHZub2RlKSk7XG4gIH0sXG5cbiAgXCJ2LWNsYXNzXCI6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB2bm9kZS5kb20uY2xhc3NOYW1lID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdm5vZGUuZG9tLmNsYXNzTmFtZSA9IHZhbHVlLmpvaW4oXCIgXCIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBjb25zdCBjbGFzc0xpc3QgPSB2bm9kZS5kb20uY2xhc3NMaXN0O1xuICAgICAgZm9yIChjb25zdCBuYW1lIGluIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHR5cGVvZiB2YWx1ZVtuYW1lXSA9PT0gXCJmdW5jdGlvblwiID8gKHZhbHVlW25hbWVdIGFzIEZ1bmN0aW9uKSgpIDogdmFsdWVbbmFtZV07XG4gICAgICAgIGNsYXNzTGlzdC50b2dnbGUobmFtZSwgdmFsKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLy8gRnJlcXVlbnQgdXNlZCBwcm9wZXJ0aWVzXG4gIGNsYXNzKHZhbHVlLCB2bm9kZSkge1xuICAgIGlmICh2bm9kZS5kb20uY2xhc3NOYW1lICE9PSB2YWx1ZSkge1xuICAgICAgdm5vZGUuZG9tLmNsYXNzTmFtZSA9IHZhbHVlO1xuICAgIH1cbiAgfSxcblxuICBjbGFzc05hbWUodmFsdWUsIHZub2RlKSB7XG4gICAgZGlyZWN0aXZlcy5jbGFzcyh2YWx1ZSwgdm5vZGUsIG51bGwpO1xuICB9LFxuXG4gIGlkOiAodmFsdWUsIHZub2RlKSA9PiB7XG4gICAgdm5vZGUuZG9tLmlkID0gdmFsdWU7XG4gIH0sXG5cbiAgc3R5bGU6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB2bm9kZS5kb20uc3R5bGUgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgdm5vZGUuZG9tLnN0eWxlID0gXCJcIjtcbiAgICAgIGNvbnN0IGRvbVN0eWxlID0gdm5vZGUuZG9tLnN0eWxlO1xuICAgICAgZm9yIChjb25zdCBuYW1lIGluIHZhbHVlKSB7XG4gICAgICAgIGRvbVN0eWxlW25hbWVdID0gdmFsdWVbbmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZGlyZWN0aXZlKG5hbWU6IHN0cmluZywgZGlyZWN0aXZlOiBEaXJlY3RpdmUpIHtcbiAgY29uc3QgZGlyZWN0aXZlTmFtZSA9IGB2LSR7bmFtZX1gO1xuICBkaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdID0gZGlyZWN0aXZlO1xuICByZXNlcnZlZFByb3BzLmFkZChkaXJlY3RpdmVOYW1lKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFByb3BOYW1lUmVzZXJ2ZWQobmFtZTogc3RyaW5nKSB7XG4gIHJlc2VydmVkUHJvcHMuYWRkKG5hbWUpO1xufVxuXG5jb25zdCBldmVudExpc3RlbmVyTmFtZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcihlOiBFdmVudCkge1xuICBjdXJyZW50LmV2ZW50ID0gZTtcbiAgbGV0IGRvbSA9IGUudGFyZ2V0IGFzIERvbUVsZW1lbnQ7XG4gIGNvbnN0IG5hbWUgPSBgb24ke2UudHlwZX1gO1xuXG4gIHdoaWxlIChkb20pIHtcbiAgICBjb25zdCBvbGRQcm9wcyA9IGRvbS5wcm9wcztcbiAgICBpZiAob2xkUHJvcHMgJiYgb2xkUHJvcHNbbmFtZV0pIHtcbiAgICAgIG9sZFByb3BzW25hbWVdKGUsIGRvbSk7XG5cbiAgICAgIGlmICghZS5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICB1cGRhdGUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZG9tID0gZG9tLnBhcmVudE5vZGUgYXMgRG9tRWxlbWVudDtcbiAgfVxuXG4gIGN1cnJlbnQuZXZlbnQgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBzaGFyZWRTZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55LCBuZXdWbm9kZTogVm5vZGVXaXRoRG9tKTogdm9pZCB8IGJvb2xlYW4ge1xuICBjb25zdCBuZXdWbm9kZURvbSA9IG5ld1Zub2RlLmRvbTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgaWYgKCFldmVudExpc3RlbmVyTmFtZXMuaGFzKG5hbWUpKSB7XG4gICAgICAvLyBXZSBhdHRhY2ggdGhlIGRlbGVnYXRlZCBldmVudCBsaXN0ZW5lciB0byB0aGUgbWFpbiB2bm9kZSBkb20gZWxlbWVudCwgd2hpY2ggaXMgdGhlIHJvb3Qgb2YgdGhlIGNvbXBvbmVudFxuICAgICAgKG1haW5Wbm9kZSBhcyBWbm9kZVdpdGhEb20pLmRvbS5hZGRFdmVudExpc3RlbmVyKG5hbWUuc2xpY2UoMiksIGV2ZW50TGlzdGVuZXIpO1xuICAgICAgZXZlbnRMaXN0ZW5lck5hbWVzLmFkZChuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG5hbWUgaW4gbmV3Vm5vZGVEb20pIHtcbiAgICBuZXdWbm9kZURvbVtuYW1lXSA9IHZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICBuZXdWbm9kZURvbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgbmV3Vm5vZGVEb20uc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSwgbmV3Vm5vZGU6IFZub2RlV2l0aERvbSk6IHZvaWQge1xuICBpZiAoIXJlc2VydmVkUHJvcHMuaGFzKG5hbWUpKSB7XG4gICAgbmV3Vm5vZGUucHJvcHNbbmFtZV0gPSB2YWx1ZTtcbiAgICBzaGFyZWRTZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUsIG5ld1Zub2RlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQXR0cmlidXRlcyhuZXdWbm9kZTogVm5vZGVXaXRoRG9tLCBvbGRQcm9wczogVm5vZGVQcm9wZXJ0aWVzIHwgbnVsbCk6IHZvaWQge1xuICBjb25zdCB2bm9kZURvbSA9IG5ld1Zub2RlLmRvbTtcbiAgY29uc3Qgdm5vZGVQcm9wcyA9IG5ld1Zub2RlLnByb3BzO1xuXG4gIGlmIChvbGRQcm9wcykge1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBvbGRQcm9wcykge1xuICAgICAgaWYgKG5hbWUgaW4gdm5vZGVQcm9wcyA9PT0gZmFsc2UgJiYgIWV2ZW50TGlzdGVuZXJOYW1lcy5oYXMobmFtZSkgJiYgIXJlc2VydmVkUHJvcHMuaGFzKG5hbWUpKSB7XG4gICAgICAgIGlmIChuYW1lIGluIHZub2RlRG9tKSB7XG4gICAgICAgICAgdm5vZGVEb21bbmFtZV0gPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZub2RlRG9tLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoY29uc3QgbmFtZSBpbiB2bm9kZVByb3BzKSB7XG4gICAgaWYgKGRpcmVjdGl2ZXNbbmFtZV0pIHtcbiAgICAgIGlmIChkaXJlY3RpdmVzW25hbWVdKHZub2RlUHJvcHNbbmFtZV0sIG5ld1Zub2RlLCBvbGRQcm9wcykgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKCFyZXNlcnZlZFByb3BzLmhhcyhuYW1lKSkge1xuICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKG5hbWUsIHZub2RlUHJvcHNbbmFtZV0sIG5ld1Zub2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnOiBzdHJpbmcsIGlzU1ZHOiBib29sZWFuKTogRG9tRWxlbWVudCB7XG4gIHJldHVybiBpc1NWR1xuICAgID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgdGFnKVxuICAgIDogKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKSBhcyBEb21FbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gZmxhdFRyZWUobmV3Vm5vZGU6IFZub2RlV2l0aERvbSkge1xuICBjdXJyZW50LnZub2RlID0gbmV3Vm5vZGU7XG5cbiAgaWYgKFwidi1mb3JcIiBpbiBuZXdWbm9kZS5wcm9wcykge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gW107XG4gICAgY29uc3Qgc2V0ID0gbmV3Vm5vZGUucHJvcHNbXCJ2LWZvclwiXTtcbiAgICBjb25zdCBsID0gc2V0Lmxlbmd0aDtcbiAgICBjb25zdCBjYWxsYmFjayA9IG5ld1Zub2RlLmNoaWxkcmVuWzBdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IG5ld0NoaWxkID0gY2FsbGJhY2soc2V0W2ldLCBpKTtcbiAgICAgIGlmIChuZXdDaGlsZCBpbnN0YW5jZW9mIFZub2RlKSB7XG4gICAgICAgIG5ld0NoaWxkLnByb3BzID0gbmV3Q2hpbGQucHJvcHMgfHwge307XG4gICAgICAgIG5ld0NoaWxkLmlzU1ZHID0gbmV3Vm5vZGUuaXNTVkcgfHwgbmV3Q2hpbGQudGFnID09PSBcInN2Z1wiO1xuICAgICAgfVxuICAgICAgY2hpbGRyZW5baV0gPSBuZXdDaGlsZDtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cblxuICBsZXQgaSA9IDA7XG4gIGNvbnN0IG9yaWdpbmFsQ2hpbGRyZW4gPSBuZXdWbm9kZS5jaGlsZHJlbjtcbiAgbGV0IGNoaWxkcmVuID0gb3JpZ2luYWxDaGlsZHJlbjtcblxuICB3aGlsZSAoaSA8IGNoaWxkcmVuLmxlbmd0aCkge1xuICAgIGNvbnN0IG5ld0NoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICBpZiAobmV3Q2hpbGQgPT0gbnVsbCkge1xuICAgICAgaWYgKGNoaWxkcmVuID09PSBvcmlnaW5hbENoaWxkcmVuKSB7XG4gICAgICAgIGNoaWxkcmVuID0gWy4uLm9yaWdpbmFsQ2hpbGRyZW5dO1xuICAgICAgfVxuICAgICAgY2hpbGRyZW4uc3BsaWNlKGksIDEpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmV3Q2hpbGQpKSB7XG4gICAgICBpZiAoY2hpbGRyZW4gPT09IG9yaWdpbmFsQ2hpbGRyZW4pIHtcbiAgICAgICAgY2hpbGRyZW4gPSBbLi4ub3JpZ2luYWxDaGlsZHJlbl07XG4gICAgICB9XG4gICAgICBjaGlsZHJlbi5zcGxpY2UoaSwgMSwgLi4ubmV3Q2hpbGQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKG5ld0NoaWxkIGluc3RhbmNlb2YgVm5vZGUpIHtcbiAgICAgIG5ld0NoaWxkLnByb3BzID0gbmV3Q2hpbGQucHJvcHMgfHwge307XG4gICAgICBuZXdDaGlsZC5pc1NWRyA9IG5ld1Zub2RlLmlzU1ZHIHx8IG5ld0NoaWxkLnRhZyA9PT0gXCJzdmdcIjtcblxuICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZC50YWcgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKGNoaWxkcmVuID09PSBvcmlnaW5hbENoaWxkcmVuKSB7XG4gICAgICAgICAgY2hpbGRyZW4gPSBbLi4ub3JpZ2luYWxDaGlsZHJlbl07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSAoY3VycmVudC5jb21wb25lbnQgPSBuZXdDaGlsZC50YWcpO1xuXG4gICAgICAgIGNoaWxkcmVuW2ldID0gKGlzUE9KT0NvbXBvbmVudChjb21wb25lbnQpID8gY29tcG9uZW50LnZpZXcgOiBjb21wb25lbnQpLmJpbmQoY29tcG9uZW50KShcbiAgICAgICAgICBuZXdDaGlsZC5wcm9wcyxcbiAgICAgICAgICBuZXdDaGlsZC5jaGlsZHJlblxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGkrKztcbiAgfVxuXG4gIHJldHVybiBjaGlsZHJlbjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTmV3RWxlbWVudChuZXdDaGlsZDogVm5vZGVXaXRoRG9tLCBuZXdWbm9kZTogVm5vZGVXaXRoRG9tLCBvbGRDaGlsZDogRG9tRWxlbWVudCB8IG51bGwpIHtcbiAgY29uc3QgZG9tID0gY3JlYXRlRWxlbWVudChuZXdDaGlsZC50YWcsIG5ld0NoaWxkLmlzU1ZHIGFzIGJvb2xlYW4pO1xuICBpZiAob2xkQ2hpbGQpIHtcbiAgICBuZXdWbm9kZS5kb20ucmVwbGFjZUNoaWxkKGRvbSwgb2xkQ2hpbGQpO1xuICB9IGVsc2Uge1xuICAgIG5ld1Zub2RlLmRvbS5hcHBlbmRDaGlsZChkb20pO1xuICB9XG4gIG5ld0NoaWxkLmRvbSA9IGRvbTtcbiAgdXBkYXRlQXR0cmlidXRlcyhuZXdDaGlsZCwgbnVsbCk7XG4gIG5ld0NoaWxkLmRvbS5wcm9wcyA9IG5ld0NoaWxkLnByb3BzO1xuICBpZiAoXCJ2LXRleHRcIiBpbiBuZXdDaGlsZC5wcm9wcykge1xuICAgIG5ld0NoaWxkLmRvbS50ZXh0Q29udGVudCA9IG5ld0NoaWxkLnByb3BzW1widi10ZXh0XCJdO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNoaWxkcmVuID0gZmxhdFRyZWUobmV3Q2hpbGQpO1xuICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgbmV3Q2hpbGQuZG9tLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmIChjaGlsZHJlbltpXSBpbnN0YW5jZW9mIFZub2RlID09PSBmYWxzZSkge1xuICAgICAgbmV3Q2hpbGQuZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNoaWxkcmVuW2ldKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY3JlYXRlTmV3RWxlbWVudChjaGlsZHJlbltpXSwgbmV3Q2hpbGQsIG51bGwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhdGNoS2V5ZWQobmV3Vm5vZGU6IFZub2RlV2l0aERvbSwgY2hpbGRyZW46IENoaWxkcmVuKSB7XG4gIGNvbnN0IG9sZFRyZWUgPSBbLi4uQXJyYXkuZnJvbShuZXdWbm9kZS5kb20uY2hpbGROb2RlcyldIGFzIHVua25vd24gYXMgRG9tRWxlbWVudFtdO1xuICBjb25zdCBjaGlsZE5vZGVzID0gbmV3Vm5vZGUuZG9tLmNoaWxkTm9kZXM7XG4gIGNvbnN0IG9sZEtleWVkTGlzdDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuICBjb25zdCBuZXdLZXllZExpc3Q6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IG9sZFRyZWUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3Qgb2xkUHJvcHMgPSBvbGRUcmVlW2ldLnByb3BzO1xuICAgIGlmIChvbGRQcm9wcykge1xuICAgICAgb2xkS2V5ZWRMaXN0W29sZFByb3BzLmtleSBhcyBzdHJpbmddID0gaTtcbiAgICB9XG5cbiAgICBpZiAoaSA8IGNoaWxkcmVuLmxlbmd0aCAmJiBjaGlsZHJlbltpXSBpbnN0YW5jZW9mIFZub2RlKSB7XG4gICAgICBuZXdLZXllZExpc3RbY2hpbGRyZW5baV0ucHJvcHMua2V5IGFzIHN0cmluZ10gPSBpO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3QgbmV3Q2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBjb25zdCBvbGRDaGlsZCA9IG9sZFRyZWVbb2xkS2V5ZWRMaXN0W25ld0NoaWxkLnByb3BzLmtleSBhcyBzdHJpbmddXTtcblxuICAgIGlmICghb2xkQ2hpbGQpIHtcbiAgICAgIGNyZWF0ZU5ld0VsZW1lbnQobmV3Q2hpbGQsIG5ld1Zub2RlLCBjaGlsZE5vZGVzW2ldIGFzIERvbUVsZW1lbnQgfCBudWxsKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIG5ld0NoaWxkLmRvbSA9IG9sZENoaWxkO1xuICAgIGNvbnN0IGN1cnJlbnRDaGlsZCA9IGNoaWxkTm9kZXNbaV07XG4gICAgaWYgKCFjdXJyZW50Q2hpbGQpIHtcbiAgICAgIG5ld1Zub2RlLmRvbS5hcHBlbmRDaGlsZChvbGRDaGlsZCk7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50Q2hpbGQgIT09IG9sZENoaWxkKSB7XG4gICAgICBuZXdWbm9kZS5kb20ucmVwbGFjZUNoaWxkKG9sZENoaWxkLCBjdXJyZW50Q2hpbGQpO1xuICAgIH1cblxuICAgIGlmIChcInYta2VlcFwiIGluIG5ld0NoaWxkLnByb3BzID09PSBmYWxzZSB8fCBvbGRDaGlsZC5wcm9wc1tcInYta2VlcFwiXSAhPT0gbmV3Q2hpbGQucHJvcHNbXCJ2LWtlZXBcIl0pIHtcbiAgICAgIHVwZGF0ZUF0dHJpYnV0ZXMobmV3Q2hpbGQgYXMgVm5vZGVXaXRoRG9tLCBvbGRDaGlsZC5wcm9wcyk7XG4gICAgICBvbGRDaGlsZC5wcm9wcyA9IG5ld0NoaWxkLnByb3BzO1xuXG4gICAgICBpZiAoXCJ2LXRleHRcIiBpbiBuZXdDaGlsZC5wcm9wcykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgIGlmIChvbGRDaGlsZC50ZXh0Q29udGVudCAhPSBuZXdDaGlsZC5wcm9wc1tcInYtdGV4dFwiXSkge1xuICAgICAgICAgIG9sZENoaWxkLnRleHRDb250ZW50ID0gbmV3Q2hpbGQucHJvcHNbXCJ2LXRleHRcIl07XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIHBhdGNoKG5ld0NoaWxkIGFzIFZub2RlV2l0aERvbSk7XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IGNoaWxkcmVuLmxlbmd0aCwgbCA9IGNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY2hpbGROb2Rlc1tpXT8ucmVtb3ZlKCk7XG4gIH1cbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHBhdGNoKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20pOiB2b2lkIHtcbiAgY29uc3QgY2hpbGRyZW4gPSBmbGF0VHJlZShuZXdWbm9kZSk7XG5cbiAgY29uc3QgZG9tID0gbmV3Vm5vZGUuZG9tO1xuXG4gIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoZG9tLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBkb20udGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBvbGREb21DaGlsZHJlbiA9IGRvbS5jaGlsZE5vZGVzIGFzIHVua25vd24gYXMgRG9tRWxlbWVudFtdO1xuICBjb25zdCBvbGRDaGlsZHJlbkxlbmd0aCA9IG9sZERvbUNoaWxkcmVuLmxlbmd0aDtcbiAgaWYgKG9sZENoaWxkcmVuTGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGZpcnN0T2xkUHJvcHMgPSBvbGREb21DaGlsZHJlblswXS5wcm9wcztcbiAgICBjb25zdCBmaXJzdFZub2RlID0gY2hpbGRyZW5bMF0gYXMgVm5vZGVXaXRoRG9tO1xuICAgIGlmIChmaXJzdE9sZFByb3BzICYmIGZpcnN0Vm5vZGUgaW5zdGFuY2VvZiBWbm9kZSAmJiBcImtleVwiIGluIGZpcnN0Vm5vZGUucHJvcHMgJiYgXCJrZXlcIiBpbiBmaXJzdE9sZFByb3BzKSB7XG4gICAgICBwYXRjaEtleWVkKG5ld1Zub2RlLCBjaGlsZHJlbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY2hpbGRyZW5MZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG4gIGlmIChvbGRDaGlsZHJlbkxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGNoaWxkcmVuW2ldIGluc3RhbmNlb2YgVm5vZGUgPT09IGZhbHNlKSB7XG4gICAgICAgIGRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZHJlbltpXSkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNyZWF0ZU5ld0VsZW1lbnQoY2hpbGRyZW5baV0sIG5ld1Zub2RlLCBudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgbmV3Q2hpbGQgPSBjaGlsZHJlbltpXSBhcyBWbm9kZVdpdGhEb207XG4gICAgY29uc3Qgb2xkQ2hpbGQgPSBvbGREb21DaGlsZHJlbltpXTtcblxuICAgIGlmICghb2xkQ2hpbGQpIHtcbiAgICAgIGlmIChuZXdDaGlsZCBpbnN0YW5jZW9mIFZub2RlID09PSBmYWxzZSkge1xuICAgICAgICBuZXdWbm9kZS5kb20uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3Q2hpbGQpKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNyZWF0ZU5ld0VsZW1lbnQobmV3Q2hpbGQsIG5ld1Zub2RlLCBudWxsKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChuZXdDaGlsZCBpbnN0YW5jZW9mIFZub2RlID09PSBmYWxzZSkge1xuICAgICAgaWYgKG9sZENoaWxkLm5vZGVUeXBlICE9PSAzKSB7XG4gICAgICAgIG5ld1Zub2RlLmRvbS5yZXBsYWNlQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3Q2hpbGQpLCBvbGRDaGlsZCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICBpZiAob2xkQ2hpbGQubm9kZVZhbHVlICE9IG5ld0NoaWxkKSB7XG4gICAgICAgIG9sZENoaWxkLm5vZGVWYWx1ZSA9IG5ld0NoaWxkO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKFwidi1rZWVwXCIgaW4gbmV3Q2hpbGQucHJvcHMpIHtcbiAgICAgIGlmIChvbGRDaGlsZC5wcm9wcyAmJiBvbGRDaGlsZC5wcm9wc1tcInYta2VlcFwiXSA9PT0gbmV3Q2hpbGQucHJvcHNbXCJ2LWtlZXBcIl0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5leHRPbGRDaGlsZCA9IG9sZERvbUNoaWxkcmVuW2kgKyAxXTtcbiAgICAgIGlmIChuZXh0T2xkQ2hpbGQgJiYgbmV4dE9sZENoaWxkLnByb3BzICYmIG5leHRPbGRDaGlsZC5wcm9wc1tcInYta2VlcFwiXSA9PT0gbmV3Q2hpbGQucHJvcHNbXCJ2LWtlZXBcIl0pIHtcbiAgICAgICAgb2xkQ2hpbGQucmVtb3ZlKCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChuZXdDaGlsZC50YWcgIT09IG9sZENoaWxkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGNyZWF0ZU5ld0VsZW1lbnQobmV3Q2hpbGQsIG5ld1Zub2RlLCBvbGRDaGlsZCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBuZXdDaGlsZC5kb20gPSBvbGRDaGlsZDtcbiAgICB1cGRhdGVBdHRyaWJ1dGVzKG5ld0NoaWxkIGFzIFZub2RlV2l0aERvbSwgb2xkQ2hpbGQucHJvcHMgfHwgbnVsbCk7XG4gICAgb2xkQ2hpbGQucHJvcHMgPSBuZXdDaGlsZC5wcm9wcztcbiAgICBpZiAoXCJ2LXRleHRcIiBpbiBuZXdDaGlsZC5wcm9wcykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgaWYgKG5ld0NoaWxkLmRvbS50ZXh0Q29udGVudCAhPSBuZXdDaGlsZC5wcm9wc1tcInYtdGV4dFwiXSkge1xuICAgICAgICBuZXdDaGlsZC5kb20udGV4dENvbnRlbnQgPSBuZXdDaGlsZC5wcm9wc1tcInYtdGV4dFwiXTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBwYXRjaChuZXdDaGlsZCk7XG4gIH1cblxuICBmb3IgKGxldCBpID0gY2hpbGRyZW5MZW5ndGgsIGwgPSBvbGREb21DaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBvbGREb21DaGlsZHJlbltpXT8ucmVtb3ZlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVZub2RlKHZub2RlOiBWbm9kZVdpdGhEb20pOiBzdHJpbmcgfCB2b2lkIHtcbiAgY2FsbFNldChvbkNsZWFudXBTZXQpO1xuICB2bm9kZS5wcm9wcyA9IHZub2RlLnByb3BzIHx8IHt9O1xuICBwYXRjaCh2bm9kZSk7XG4gIGNhbGxTZXQoaXNNb3VudGVkID8gb25VcGRhdGVTZXQgOiBvbk1vdW50U2V0KTtcbiAgaXNNb3VudGVkID0gdHJ1ZTtcbiAgY3VycmVudC52bm9kZSA9IG51bGw7XG4gIGN1cnJlbnQuY29tcG9uZW50ID0gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZSgpOiB2b2lkIHwgc3RyaW5nIHtcbiAgaWYgKG1haW5Wbm9kZSkge1xuICAgIG1haW5Wbm9kZS5jaGlsZHJlbiA9IFttYWluQ29tcG9uZW50XTtcbiAgICB1cGRhdGVWbm9kZShtYWluVm5vZGUgYXMgVm5vZGVXaXRoRG9tKTtcbiAgICBpZiAoaXNOb2RlSnMpIHtcbiAgICAgIHJldHVybiBtYWluVm5vZGUuZG9tLmlubmVySFRNTDtcbiAgICB9XG4gIH1cbn1cblxubGV0IGRlYm91bmNlZFVwZGF0ZVRpbWVvdXQ6IGFueTtcblxuY29uc3QgY2xlYXJEZWJvdW5jZWRVcGRhdGVNZXRob2QgPSBpc05vZGVKcyA/IGNsZWFyVGltZW91dCA6IGNhbmNlbEFuaW1hdGlvbkZyYW1lO1xuY29uc3Qgc2V0RGVib3VuY2VkVXBkYXRlTWV0aG9kID0gaXNOb2RlSnMgPyAoKSA9PiBzZXRUaW1lb3V0KHVwZGF0ZSwgNSkgOiAoKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlZFVwZGF0ZSgpIHtcbiAgY2xlYXJEZWJvdW5jZWRVcGRhdGVNZXRob2QoZGVib3VuY2VkVXBkYXRlVGltZW91dCk7XG4gIGRlYm91bmNlZFVwZGF0ZVRpbWVvdXQgPSBzZXREZWJvdW5jZWRVcGRhdGVNZXRob2QoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVubW91bnQoKSB7XG4gIGlmIChtYWluVm5vZGUpIHtcbiAgICBtYWluQ29tcG9uZW50ID0gdigoKSA9PiBudWxsLCB7fSkgYXMgVm5vZGVDb21wb25lbnRJbnRlcmZhY2U7XG4gICAgY29uc3QgcmVzdWx0ID0gdXBkYXRlKCk7XG4gICAgY2FsbFNldChvblVubW91bnRTZXQpO1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBldmVudExpc3RlbmVyTmFtZXMpIHtcbiAgICAgIG1haW5Wbm9kZS5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLnNsaWNlKDIpLnRvTG93ZXJDYXNlKCksIGV2ZW50TGlzdGVuZXIpO1xuICAgICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShldmVudExpc3RlbmVyTmFtZXMsIG5hbWUpO1xuICAgIH1cblxuICAgIG1haW5Db21wb25lbnQgPSBudWxsO1xuICAgIG1haW5Wbm9kZSA9IG51bGw7XG4gICAgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgY3VycmVudC52bm9kZSA9IG51bGw7XG4gICAgY3VycmVudC5jb21wb25lbnQgPSBudWxsO1xuICAgIGN1cnJlbnQuZXZlbnQgPSBudWxsO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdW50KGRvbU9yQ29udGVudDogc3RyaW5nIHwgRG9tRWxlbWVudCB8IGFueSwgY29tcG9uZW50PzogYW55KSB7XG4gIGNvbnN0IGNvbnRhaW5lciA9XG4gICAgdHlwZW9mIGNvbXBvbmVudCA9PT0gXCJ1bmRlZmluZWRcIlxuICAgICAgPyBkb2N1bWVudC5ib2R5XG4gICAgICA6IHR5cGVvZiBkb21PckNvbnRlbnQgPT09IFwic3RyaW5nXCJcbiAgICAgID8gaXNOb2RlSnNcbiAgICAgICAgPyBjcmVhdGVFbGVtZW50KGRvbU9yQ29udGVudCwgZG9tT3JDb250ZW50ID09PSBcInN2Z1wiKVxuICAgICAgICA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZG9tT3JDb250ZW50KVxuICAgICAgOiBkb21PckNvbnRlbnQ7XG5cbiAgbGV0IGZpbmFsQ29tcG9uZW50ID0gdHlwZW9mIGNvbXBvbmVudCA9PT0gXCJ1bmRlZmluZWRcIiA/IGRvbU9yQ29udGVudCA6IGNvbXBvbmVudDtcblxuICBpZiAoaXNDb21wb25lbnQoZmluYWxDb21wb25lbnQpKSB7XG4gICAgbWFpbkNvbXBvbmVudCA9IG5ldyBWbm9kZShmaW5hbENvbXBvbmVudCwge30sIFtdKSBhcyBWbm9kZUNvbXBvbmVudEludGVyZmFjZTtcbiAgfSBlbHNlIGlmIChpc1Zub2RlQ29tcG9uZW50KGZpbmFsQ29tcG9uZW50KSkge1xuICAgIG1haW5Db21wb25lbnQgPSBmaW5hbENvbXBvbmVudDtcbiAgfSBlbHNlIHtcbiAgICBtYWluQ29tcG9uZW50ID0gbmV3IFZub2RlKCgpID0+IGZpbmFsQ29tcG9uZW50LCB7fSwgW10pIGFzIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlO1xuICB9XG5cbiAgbWFpblZub2RlID0gaGlkcmF0ZURvbVRvVm5vZGUoY29udGFpbmVyKSBhcyBWbm9kZVdpdGhEb207XG4gIHJldHVybiB1cGRhdGUoKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ik1Bb0NPLElBQU1BLEVBQVdDLFFBQTJCLG9CQUFaQyxTQUEyQkEsUUFBUUMsVUFBWUQsUUFBUUMsU0FBU0MsTUFFMUZDLEVBQU4sTUFDTCxXQUFBQyxDQUNTQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxHQUpBQyxLQUFBTCxNQUNBSyxLQUFBSixRQUNBSSxLQUFBSCxXQUNBRyxLQUFBRixNQUNBRSxLQUFBRCxPQUNOLEdBU1FFLEVBQW1CQyxHQUM5QmIsUUFBUWEsR0FBa0MsaUJBQWRBLEdBQTBCLFNBQVVBLEdBRXJEQyxFQUFlRCxHQUMxQmIsUUFBNkIsbUJBQWRhLEdBQTRCRCxFQUFnQkMsSUFDaERFLEVBQVdDLEdBQXNDQSxhQUFrQlosRUFFbkVhLEVBQW9CRCxHQUN4QkQsRUFBUUMsSUFBV0YsRUFBWUUsRUFBT1YsS0FHeEMsU0FBU1ksRUFBRUMsRUFBNENaLEtBQTJCQyxHQUN2RixPQUFPLElBQUlKLEVBQU1lLEVBQWdCWixFQUFPQyxFQUMxQyxDQUlPLFNBQVNZLEVBQWtCWCxHQUNoQyxHQUFxQixJQUFqQkEsRUFBSVksU0FDTixPQUFPWixFQUFJYSxVQUdiLEdBQXFCLElBQWpCYixFQUFJWSxTQUFnQixDQUN0QixNQUFNZixFQUFNRyxFQUFJYyxTQUFTQyxjQUNuQmpCLEVBQVEsQ0FBQyxFQUNUQyxFQUFXLEdBRWpCLFFBQVNpQixFQUFJLEVBQUdDLEVBQUlqQixFQUFJa0IsV0FBV0MsT0FBUUgsRUFBSUMsRUFBR0QsSUFBSyxDQUNyRCxNQUFNSSxFQUFXcEIsRUFBSWtCLFdBQVdGLEdBQ2hDLEdBQTBCLElBQXRCSSxFQUFTUixTQUNYYixFQUFTc0IsS0FBS0QsRUFBU1AsZ0JBQ3pCLEdBQWlDLElBQXRCTyxFQUFTUixTQUFnQixDQUNsQyxNQUFNVSxFQUFhWCxFQUFrQlMsR0FDckNyQixFQUFTc0IsS0FBS0MsRUFDaEIsQ0FDRixDQUVBLE1BQU1DLEVBQWF2QixFQUFJdUIsV0FDdkIsUUFBU1AsRUFBSSxFQUFHQyxFQUFJTSxFQUFXSixPQUFRSCxFQUFJQyxFQUFHRCxJQUFLLENBQ2pELE1BQU1RLEVBQU9ELEVBQVdQLEdBQ3hCbEIsRUFBTTBCLEVBQUtWLFVBQVlVLEVBQUtYLFNBQzlCLENBRUEsTUFBTVksRUFBUSxJQUFJOUIsRUFBTUUsRUFBS0MsRUFBT0MsR0FHcEMsT0FGQTBCLEVBQU16QixJQUFNQSxFQUNaeUIsRUFBTXhCLE1BQWdCLFFBQVJKLEVBQ1A0QixDQUNULENBQ0YsQ0FFTyxTQUFTQyxFQUFNQyxHQUNwQixNQUFNQyxFQUFNQyxTQUFTQyxjQUFjLE9BRW5DLE9BREFGLEVBQUlHLFVBQVlKLEVBQVdLLE9BQ3BCQyxNQUFNQyxLQUFLTixFQUFJVixZQUFZaUIsSUFBSXhCLEVBQ3hDLENBdkNBRixFQUFFMkIsU0FBVyxDQUFDQyxLQUF1QnRDLElBQXVCQSxFQXlDNUQsSUFBSXVDLEVBQWdELEtBQ2hEQyxFQUFpQyxLQUNqQ0MsR0FBWSxFQUVIQyxFQUFVLENBQ3JCaEIsTUFBTyxLQUNQckIsVUFBVyxLQUNYc0MsTUFBTyxNQUdJQyxFQUFnQixJQUFJQyxJQUFZLENBQzNDLE1BQ0EsUUFDQSxTQUNBLFNBQ0EsT0FDQSxRQUNBLFNBQ0EsVUFDQSxTQUNBLFVBQ0EsV0FDQSxXQUNBLGNBR0lDLEVBQWUsSUFBSUQsSUFDbkJFLEVBQWEsSUFBSUYsSUFDakJHLEVBQWMsSUFBSUgsSUFDbEJJLEVBQWUsSUFBSUosSUFHWkssRUFBYUMsR0FBdUJMLEVBQWFNLElBQUlELEdBRTVERSxFQUFXQyxJQUNmLFVBQVdILEtBQVlHLEVBQ3JCSCxJQUVGRyxFQUFJQyxPQUFNLEVBR0NDLEVBQXdDLENBQ25ELE9BQVEsQ0FBQ0MsRUFBTy9CLEtBQ2QsSUFBS2xDLFFBQVFpRSxHQUFRLENBQ25CLE1BQU1DLEVBQWFoQyxFQUFNekIsS0FBS3lELFdBSzlCLE9BSklBLEdBQ0ZBLEVBQVdDLGFBQWE3QixTQUFTOEIsZUFBZSxJQUFLbEMsRUFBTXpCLE1BR3RELENBQ1QsR0FHRixTQUFVLENBQUN3RCxFQUFPL0IsS0FDaEIsTUFBTW1DLEVBQU9yRSxRQUFRaUUsR0FFbkIvQixFQUFNekIsSUFHTjZELE1BQU1DLFFBQVVGLEVBQU8sR0FBSyxRQUdoQyxTQUFVLENBQUNKLEVBQU8vQixLQUNoQkEsRUFBTTFCLFNBQVcyQixFQUFNOEIsRUFBZSxFQUl4QyxVQUFXLENBQUNPLEVBQU90QyxLQUVqQixHQUFJLFNBQVVBLEVBQU0zQixRQUFVLEVBQzVCLE9BR0YsSUFBSTBELEVBQ0osTUFBTVEsRUFBV3ZDLEVBQU0zQixNQUFNbUUsS0FDN0IsSUFBSXZCLEVBQVEsVUFHUndCLEVBQVdDLEdBQWNKLEVBQU1DLEdBQWFHLEVBQUVDLE9BQTRDWixNQUM5RixHQUFrQixVQUFkL0IsRUFBTTVCLElBRVIsT0FBUTRCLEVBQU0zQixNQUFNdUUsTUFDbEIsSUFBSyxXQUNDcEMsTUFBTXFDLFFBQVFQLEVBQU1DLEtBRXRCRSxFQUFXQyxJQUNULE1BQU1JLEVBQU9KLEVBQUVDLE9BQTRDWixNQUNyRGdCLEVBQU1ULEVBQU1DLEdBQVVTLFFBQVFGLElBQ3hCLElBQVJDLEVBQ0ZULEVBQU1DLEdBQVUzQyxLQUFLa0QsR0FFckJSLEVBQU1DLEdBQVVVLE9BQU9GLEVBQUssRUFDOUIsRUFHRmhCLEdBQXFELElBQTdDTyxFQUFNQyxHQUFVUyxRQUFRaEQsRUFBTXpCLElBQUl3RCxRQUNqQyxVQUFXL0IsRUFBTTNCLE9BRTFCb0UsRUFBVSxLQUNKSCxFQUFNQyxLQUFjdkMsRUFBTTNCLE1BQU0wRCxNQUNsQ08sRUFBTUMsR0FBWSxLQUVsQkQsRUFBTUMsR0FBWXZDLEVBQU0zQixNQUFNMEQsS0FDaEMsRUFFRkEsRUFBUU8sRUFBTUMsS0FBY3ZDLEVBQU0zQixNQUFNMEQsUUFHeENVLEVBQVUsSUFBT0gsRUFBTUMsSUFBYUQsRUFBTUMsR0FDMUNSLEVBQVFPLEVBQU1DLElBSWhCVyxFQUFtQixVQUFXbkIsRUFBTy9CLEdBQ3JDLE1BRUYsSUFBSyxRQUdIa0QsRUFBbUIsVUFBV1osRUFBTUMsS0FBY3ZDLEVBQU16QixJQUFJd0QsTUFBTy9CLEdBQ25FLE1BRUYsUUFHRWtELEVBQW1CLFFBQVNaLEVBQU1DLEdBQVd2QyxPQUcxQixXQUFkQSxFQUFNNUIsS0FFZjZDLEVBQVEsVUFDSmpCLEVBQU0zQixNQUFNOEUsVUFFZFYsRUFBV0MsSUFDVCxNQUFNSSxFQUFPSixFQUFFQyxPQUE0Q1osTUFDM0QsR0FBSVcsRUFBRVUsUUFBUyxDQUViLE1BQU1MLEVBQU1ULEVBQU1DLEdBQVVTLFFBQVFGLElBQ3hCLElBQVJDLEVBQ0ZULEVBQU1DLEdBQVUzQyxLQUFLa0QsR0FFckJSLEVBQU1DLEdBQVVVLE9BQU9GLEVBQUssRUFFaEMsTUFFRVQsRUFBTUMsR0FBVVUsT0FBTyxFQUFHWCxFQUFNQyxHQUFVN0MsUUFDMUM0QyxFQUFNQyxHQUFVM0MsS0FBS2tELEVBQ3ZCLEVBR0Y5QyxFQUFNMUIsU0FBUytFLFFBQVNDLElBQ3RCLEdBQWtCLFdBQWRBLEVBQU1sRixJQUFrQixDQUMxQixNQUFNMkQsRUFBUSxVQUFXdUIsRUFBTWpGLE1BQVFpRixFQUFNakYsTUFBTTBELE1BQVF1QixFQUFNaEYsU0FBU2lGLEtBQUssSUFBSWhELE9BQ25GK0MsRUFBTWpGLE1BQU1tRixVQUE4QyxJQUFuQ2xCLEVBQU1DLEdBQVVTLFFBQVFqQixFQUNqRCxLQUlGL0IsRUFBTTFCLFNBQVMrRSxRQUFTQyxJQUN0QixHQUFrQixXQUFkQSxFQUFNbEYsSUFBa0IsQ0FDMUIsTUFBTTJELEVBQVEsVUFBV3VCLEVBQU1qRixNQUFRaUYsRUFBTWpGLE1BQU0wRCxNQUFRdUIsRUFBTWhGLFNBQVNpRixLQUFLLElBQUloRCxPQUNuRitDLEVBQU1qRixNQUFNbUYsU0FBV3pCLElBQVVPLEVBQU1DLEVBQ3pDLEtBR21CLGFBQWR2QyxFQUFNNUIsTUFFZjRCLEVBQU0xQixTQUFXLENBQUNnRSxFQUFNQyxLQUkxQixNQUFNa0IsRUFBY3pELEVBQU0zQixNQUFNNEMsR0FJaENpQyxFQUNFakMsRUFDQ3lCLElBQ0NELEVBQVFDLEdBR0plLEdBQ0ZBLEVBQVlmLEVBQ2QsRUFFRjFDLEVBQ0YsRUFHRixXQUFZLENBQUN5QixFQUFVekIsRUFBTzBELEtBQzVCLElBQUtBLEVBQVUsQ0FDYixNQUFNQyxFQUFVbEMsRUFBU3pCLEdBRUYsbUJBQVoyRCxHQUNUbkMsRUFBVW1DLEVBRWQsR0FHRixXQUFZLENBQUNsQyxFQUFVekIsRUFBTzBELEtBQzVCLEdBQUlBLEVBQVUsQ0FDWixNQUFNQyxFQUFVbEMsRUFBU3pCLEVBQU8wRCxHQUVULG1CQUFaQyxHQUNUbkMsRUFBVW1DLEVBRWQsR0FHRixZQUFhLENBQUNsQyxFQUFVekIsS0FDdEJ3QixFQUFVLElBQU1DLEVBQVN6QixHQUFNLEVBR2pDLFVBQVcsQ0FBQytCLEVBQU8vQixLQUNqQixHQUFxQixpQkFBVitCLEVBQ1QvQixFQUFNekIsSUFBSXFGLFVBQVk3QixPQUN4QixHQUFXdkIsTUFBTXFDLFFBQVFkLEdBQ3ZCL0IsRUFBTXpCLElBQUlxRixVQUFZN0IsRUFBTXdCLEtBQUssVUFDbkMsR0FBNEIsaUJBQVZ4QixFQUFvQixDQUNwQyxNQUFNOEIsRUFBWTdELEVBQU16QixJQUFJc0YsVUFDNUIsVUFBV3JCLEtBQVFULEVBQU8sQ0FDeEIsTUFBTWUsRUFBNkIsbUJBQWhCZixFQUFNUyxHQUF3QlQsRUFBTVMsS0FBdUJULEVBQU1TLEdBQ3BGcUIsRUFBVUMsT0FBT3RCLEVBQU1NLEVBQ3pCLENBQ0YsR0FJRixNQUFNZixFQUFPL0IsR0FDUEEsRUFBTXpCLElBQUlxRixZQUFjN0IsSUFDMUIvQixFQUFNekIsSUFBSXFGLFVBQVk3QixFQUUxQixFQUVBLFNBQUE2QixDQUFVN0IsRUFBTy9CLEdBQ2Y4QixFQUFXaUMsTUFBTWhDLEVBQU8vQixFQUFPLEtBQ2pDLEVBRUFnRSxHQUFJLENBQUNqQyxFQUFPL0IsS0FDVkEsRUFBTXpCLElBQUl5RixHQUFLakMsQ0FBQSxFQUdqQkssTUFBTyxDQUFDTCxFQUFPL0IsS0FDYixHQUFxQixpQkFBVitCLEVBQ1QvQixFQUFNekIsSUFBSTZELE1BQVFMLE9BQ3BCLEdBQTRCLGlCQUFWQSxFQUFvQixDQUNwQy9CLEVBQU16QixJQUFJNkQsTUFBUSxHQUNsQixNQUFNNkIsRUFBV2pFLEVBQU16QixJQUFJNkQsTUFDM0IsVUFBV0ksS0FBUVQsRUFDakJrQyxFQUFTekIsR0FBUVQsRUFBTVMsRUFFM0IsSUFjSixJQTJXSTBCLEVBM1dFQyxFQUFxQixJQUFJaEQsSUFFL0IsU0FBU2lELEVBQWMxQixHQUNyQjFCLEVBQVFDLE1BQVF5QixFQUNoQixJQUFJbkUsRUFBTW1FLEVBQUVDLE9BQ1osTUFBTUgsRUFBTyxLQUFLRSxFQUFFRSxPQUVwQixLQUFPckUsR0FBSyxDQUNWLE1BQU1tRixFQUFXbkYsRUFBSUYsTUFDckIsR0FBSXFGLEdBQVlBLEVBQVNsQixHQU92QixPQU5Ba0IsRUFBU2xCLEdBQU1FLEVBQUduRSxRQUVibUUsRUFBRTJCLGtCQUVMQyxLQUlKL0YsRUFBTUEsRUFBSXlELFVBQ1osQ0FFQWhCLEVBQVFDLE1BQVEsSUFDbEIsQ0FFQSxTQUFTaUMsRUFBbUJWLEVBQWNULEVBQVl3QyxHQUNwRCxNQUFNQyxFQUFjRCxFQUFTaEcsSUFDUixtQkFBVndELEVBU1BTLEtBQVFnQyxFQUNWQSxFQUFZaEMsR0FBUVQsR0FJUixJQUFWQSxFQUNGeUMsRUFBWUMsZ0JBQWdCakMsR0FFNUJnQyxFQUFZRSxhQUFhbEMsRUFBTVQsR0FoQjFCb0MsRUFBbUJRLElBQUluQyxLQUV6QjFCLEVBQTJCdkMsSUFBSXFHLGlCQUFpQnBDLEVBQUtxQyxNQUFNLEdBQUlULEdBQ2hFRCxFQUFtQnpDLElBQUljLEdBZTdCLENBU08sU0FBU3NDLEVBQWlCUCxFQUF3QmIsR0FDdkQsTUFBTXFCLEVBQVdSLEVBQVNoRyxJQUNwQnlHLEVBQWFULEVBQVNsRyxNQUU1QixHQUFJcUYsRUFDRixVQUFXbEIsS0FBUWtCLEVBQ2JsQixLQUFRd0MsSUFBZSxHQUFVYixFQUFtQlEsSUFBSW5DLElBQVV0QixFQUFjeUQsSUFBSW5DLEtBQ2xGQSxLQUFRdUMsRUFDVkEsRUFBU3ZDLEdBQVEsS0FFakJ1QyxFQUFTTixnQkFBZ0JqQyxJQU1qQyxVQUFXQSxLQUFRd0MsRUFDakIsR0FBSWxELEVBQVdVLElBQ2IsSUFBK0QsSUFBM0RWLEVBQVdVLEdBQU13QyxFQUFXeEMsR0FBTytCLEVBQVViLEdBQy9DLFdBS0N4QyxFQUFjeUQsSUFBSW5DLElBQ3JCVSxFQUFtQlYsRUFBTXdDLEVBQVd4QyxHQUFPK0IsRUFHakQsQ0FFTyxTQUFTbEUsRUFBY2pDLEVBQWFJLEdBQ3pDLE9BQU9BLEVBQ0g0QixTQUFTNkUsZ0JBQWdCLDZCQUE4QjdHLEdBQ3REZ0MsU0FBU0MsY0FBY2pDLEVBQzlCLENBRUEsU0FBUzhHLEVBQVNYLEdBR2hCLEdBRkF2RCxFQUFRaEIsTUFBUXVFLEVBRVosVUFBV0EsRUFBU2xHLE1BQU8sQ0FDN0IsTUFBTUMsRUFBVyxHQUNYc0QsRUFBTTJDLEVBQVNsRyxNQUFNLFNBQ3JCbUIsRUFBSW9DLEVBQUlsQyxPQUNSK0IsRUFBVzhDLEVBQVNqRyxTQUFTLEdBRW5DLFFBQVNpQixFQUFJLEVBQUdBLEVBQUlDLEVBQUdELElBQUssQ0FDMUIsTUFBTTRGLEVBQVcxRCxFQUFTRyxFQUFJckMsR0FBSUEsR0FDOUI0RixhQUFvQmpILElBQ3RCaUgsRUFBUzlHLE1BQVE4RyxFQUFTOUcsT0FBUyxDQUFDLEVBQ3BDOEcsRUFBUzNHLE1BQVErRixFQUFTL0YsT0FBMEIsUUFBakIyRyxFQUFTL0csS0FFOUNFLEVBQVNpQixHQUFLNEYsQ0FDaEIsQ0FFQSxPQUFPN0csQ0FDVCxDQUVBLElBQUlpQixFQUFJLEVBQ1IsTUFBTTZGLEVBQW1CYixFQUFTakcsU0FDbEMsSUFBSUEsRUFBVzhHLEVBRWYsS0FBTzdGLEVBQUlqQixFQUFTb0IsUUFBUSxDQUMxQixNQUFNeUYsRUFBVzdHLEVBQVNpQixHQUUxQixHQUFnQixNQUFaNEYsRUFRSixHQUFJM0UsTUFBTXFDLFFBQVFzQyxHQUNaN0csSUFBYThHLElBQ2Y5RyxFQUFXLElBQUk4RyxJQUVqQjlHLEVBQVMyRSxPQUFPMUQsRUFBRyxLQUFNNEYsUUFJM0IsR0FBSUEsYUFBb0JqSCxJQUN0QmlILEVBQVM5RyxNQUFROEcsRUFBUzlHLE9BQVMsQ0FBQyxFQUNwQzhHLEVBQVMzRyxNQUFRK0YsRUFBUy9GLE9BQTBCLFFBQWpCMkcsRUFBUy9HLElBRWhCLGlCQUFqQitHLEVBQVMvRyxLQUp0QixDQUtRRSxJQUFhOEcsSUFDZjlHLEVBQVcsSUFBSThHLElBR2pCLE1BQU16RyxFQUFhcUMsRUFBUXJDLFVBQVl3RyxFQUFTL0csSUFFaERFLEVBQVNpQixJQUFNYixFQUFnQkMsR0FBYUEsRUFBVTBHLEtBQU8xRyxHQUFXMkcsS0FBSzNHLEVBQW5FLENBQ1J3RyxFQUFTOUcsTUFDVDhHLEVBQVM3RyxTQUtmLE1BRUFpQixTQW5DTWpCLElBQWE4RyxJQUNmOUcsRUFBVyxJQUFJOEcsSUFFakI5RyxFQUFTMkUsT0FBTzFELEVBQUcsRUFpQ3ZCLENBRUEsT0FBT2pCLENBQ1QsQ0FFQSxTQUFTaUgsRUFBaUJKLEVBQXdCWixFQUF3QmlCLEdBQ3hFLE1BQU1qSCxFQUFNOEIsRUFBYzhFLEVBQVMvRyxJQUFLK0csRUFBUzNHLE9BU2pELEdBUklnSCxFQUNGakIsRUFBU2hHLElBQUkwRCxhQUFhMUQsRUFBS2lILEdBRS9CakIsRUFBU2hHLElBQUlrSCxZQUFZbEgsR0FFM0I0RyxFQUFTNUcsSUFBTUEsRUFDZnVHLEVBQWlCSyxFQUFVLE1BQzNCQSxFQUFTNUcsSUFBSUYsTUFBUThHLEVBQVM5RyxNQUMxQixXQUFZOEcsRUFBUzlHLE1BRXZCLFlBREE4RyxFQUFTNUcsSUFBSW1ILFlBQWNQLEVBQVM5RyxNQUFNLFdBSTVDLE1BQU1DLEVBQVc0RyxFQUFTQyxHQUMxQixHQUF3QixJQUFwQjdHLEVBQVNvQixPQUtiLFFBQVNILEVBQUksRUFBR0MsRUFBSWxCLEVBQVNvQixPQUFRSCxFQUFJQyxFQUFHRCxJQUN0Q2pCLEVBQVNpQixhQUFjckIsSUFBVSxFQUlyQ3FILEVBQWlCakgsRUFBU2lCLEdBQUk0RixFQUFVLE1BSHRDQSxFQUFTNUcsSUFBSWtILFlBQVlyRixTQUFTOEIsZUFBZTVELEVBQVNpQixVQU41RDRGLEVBQVM1RyxJQUFJbUgsWUFBYyxFQVcvQixDQTBEQSxTQUFTQyxFQUFNcEIsR0FDYixNQUFNakcsRUFBVzRHLEVBQVNYLEdBRXBCaEcsRUFBTWdHLEVBQVNoRyxJQUVyQixHQUF3QixJQUFwQkQsRUFBU29CLE9BSVgsWUFISW5CLEVBQUlrQixXQUFXQyxTQUNqQm5CLEVBQUltSCxZQUFjLEtBS3RCLE1BQU1FLEVBQWlCckgsRUFBSWtCLFdBQ3JCb0csRUFBb0JELEVBQWVsRyxPQUN6QyxHQUFJbUcsRUFBb0IsRUFBRyxDQUN6QixNQUFNQyxFQUFnQkYsRUFBZSxHQUFHdkgsTUFDbEMwSCxFQUFhekgsRUFBUyxHQUM1QixHQUFJd0gsR0FBaUJDLGFBQXNCN0gsR0FBUyxRQUFTNkgsRUFBVzFILE9BQVMsUUFBU3lILEVBRXhGLFlBM0VOLFNBQW9CdkIsRUFBd0JqRyxHQUMxQyxNQUFNMEgsRUFBVSxJQUFJeEYsTUFBTUMsS0FBSzhELEVBQVNoRyxJQUFJa0IsYUFDdENBLEVBQWE4RSxFQUFTaEcsSUFBSWtCLFdBQzFCd0csRUFBdUMsQ0FBQyxFQUN4Q0MsRUFBdUMsQ0FBQyxFQUU5QyxRQUFTM0csRUFBSSxFQUFHQyxFQUFJd0csRUFBUXRHLE9BQVFILEVBQUlDLEVBQUdELElBQUssQ0FDOUMsTUFBTW1FLEVBQVdzQyxFQUFRekcsR0FBR2xCLE1BQ3hCcUYsSUFDRnVDLEVBQWF2QyxFQUFTeUMsS0FBaUI1RyxHQUdyQ0EsRUFBSWpCLEVBQVNvQixRQUFVcEIsRUFBU2lCLGFBQWNyQixJQUNoRGdJLEVBQWE1SCxFQUFTaUIsR0FBR2xCLE1BQU04SCxLQUFpQjVHLEVBRXBELENBRUEsUUFBU0EsRUFBSSxFQUFHQyxFQUFJbEIsRUFBU29CLE9BQVFILEVBQUlDLEVBQUdELElBQUssQ0FDL0MsTUFBTTRGLEVBQVc3RyxFQUFTaUIsR0FDcEJpRyxFQUFXUSxFQUFRQyxFQUFhZCxFQUFTOUcsTUFBTThILE1BRXJELElBQUtYLEVBQVUsQ0FDYkQsRUFBaUJKLEVBQVVaLEVBQVU5RSxFQUFXRixJQUNoRCxRQUNGLENBRUE0RixFQUFTNUcsSUFBTWlILEVBQ2YsTUFBTVksRUFBZTNHLEVBQVdGLEdBT2hDLEdBTks2RyxFQUVNQSxJQUFpQlosR0FDMUJqQixFQUFTaEcsSUFBSTBELGFBQWF1RCxFQUFVWSxHQUZwQzdCLEVBQVNoRyxJQUFJa0gsWUFBWUQsR0FLdkIsV0FBWUwsRUFBUzlHLE9BQVUsR0FBU21ILEVBQVNuSCxNQUFNLFlBQWM4RyxFQUFTOUcsTUFBTSxVQUFXLENBSWpHLEdBSEF5RyxFQUFpQkssRUFBMEJLLEVBQVNuSCxPQUNwRG1ILEVBQVNuSCxNQUFROEcsRUFBUzlHLE1BRXRCLFdBQVk4RyxFQUFTOUcsTUFBTyxDQUUxQm1ILEVBQVNFLGFBQWVQLEVBQVM5RyxNQUFNLFlBQ3pDbUgsRUFBU0UsWUFBY1AsRUFBUzlHLE1BQU0sV0FFeEMsUUFDRixDQUVBc0gsRUFBTVIsRUFDUixDQUNGLENBRUEsUUFBUzVGLEVBQUlqQixFQUFTb0IsT0FBUUYsRUFBSUMsRUFBV0MsT0FBUUgsRUFBSUMsRUFBR0QsSUFDMURFLEVBQVdGLElBQUk4RyxRQUVuQixDQXFCTUMsQ0FBVy9CLEVBQVVqRyxFQUd6QixDQUVBLE1BQU1pSSxFQUFpQmpJLEVBQVNvQixPQUNoQyxHQUEwQixJQUF0Qm1HLEVBQUosQ0FXQSxRQUFTdEcsRUFBSSxFQUFHQSxFQUFJZ0gsRUFBZ0JoSCxJQUFLLENBQ3ZDLE1BQU00RixFQUFXN0csRUFBU2lCLEdBQ3BCaUcsRUFBV0ksRUFBZXJHLEdBRWhDLEdBQUtpRyxFQVVMLEdBQUlMLGFBQW9CakgsSUFBVSxFQUFsQyxDQWFBLEdBQUksV0FBWWlILEVBQVM5RyxNQUFPLENBQzlCLEdBQUltSCxFQUFTbkgsT0FBU21ILEVBQVNuSCxNQUFNLFlBQWM4RyxFQUFTOUcsTUFBTSxVQUNoRSxTQUdGLE1BQU1tSSxFQUFlWixFQUFlckcsRUFBSSxHQUN4QyxHQUFJaUgsR0FBZ0JBLEVBQWFuSSxPQUFTbUksRUFBYW5JLE1BQU0sWUFBYzhHLEVBQVM5RyxNQUFNLFVBQVcsQ0FDbkdtSCxFQUFTYSxTQUNULFFBQ0YsQ0FDRixDQUVJbEIsRUFBUy9HLE1BQVFvSCxFQUFTbkcsU0FBU0MsZUFLdkM2RixFQUFTNUcsSUFBTWlILEVBQ2ZWLEVBQWlCSyxFQUEwQkssRUFBU25ILE9BQVMsTUFDN0RtSCxFQUFTbkgsTUFBUThHLEVBQVM5RyxNQUN0QixXQUFZOEcsRUFBUzlHLE1BRW5COEcsRUFBUzVHLElBQUltSCxhQUFlUCxFQUFTOUcsTUFBTSxZQUM3QzhHLEVBQVM1RyxJQUFJbUgsWUFBY1AsRUFBUzlHLE1BQU0sV0FJOUNzSCxFQUFNUixJQWRKSSxFQUFpQkosRUFBVVosRUFBVWlCLEVBZnZDLEtBWEEsQ0FDRSxHQUEwQixJQUF0QkEsRUFBU3JHLFNBQWdCLENBQzNCb0YsRUFBU2hHLElBQUkwRCxhQUFhN0IsU0FBUzhCLGVBQWVpRCxHQUFXSyxHQUM3RCxRQUNGLENBR0lBLEVBQVNwRyxXQUFhK0YsSUFDeEJLLEVBQVNwRyxVQUFZK0YsRUFHekIsS0FyQkEsQ0FDRSxHQUFJQSxhQUFvQmpILElBQVUsRUFBTyxDQUN2Q3FHLEVBQVNoRyxJQUFJa0gsWUFBWXJGLFNBQVM4QixlQUFlaUQsSUFDakQsUUFDRixDQUVBSSxFQUFpQkosRUFBVVosRUFBVSxLQUV2QyxDQTJDRixDQUVBLFFBQVNoRixFQUFJZ0gsRUFBZ0IvRyxFQUFJb0csRUFBZWxHLE9BQVFILEVBQUlDLEVBQUdELElBQzdEcUcsRUFBZXJHLElBQUk4RyxRQTVEckIsTUFSRSxRQUFTOUcsRUFBSSxFQUFHQSxFQUFJZ0gsRUFBZ0JoSCxJQUM5QmpCLEVBQVNpQixhQUFjckIsSUFBVSxFQUlyQ3FILEVBQWlCakgsRUFBU2lCLEdBQUlnRixFQUFVLE1BSHRDaEcsRUFBSWtILFlBQVlyRixTQUFTOEIsZUFBZTVELEVBQVNpQixJQW9FekQsQ0FFTyxTQUFTa0gsRUFBWXpHLEdBQzFCMkIsRUFBUVAsR0FDUnBCLEVBQU0zQixNQUFRMkIsRUFBTTNCLE9BQVMsQ0FBQyxFQUM5QnNILEVBQU0zRixHQUNOMkIsRUFBUVosRUFBWU8sRUFBY0QsR0FDbENOLEdBQVksRUFDWkMsRUFBUWhCLE1BQVEsS0FDaEJnQixFQUFRckMsVUFBWSxJQUN0QixDQUVPLFNBQVMyRixJQUNkLEdBQUl4RCxJQUNGQSxFQUFVeEMsU0FBVyxDQUFDdUMsR0FDdEI0RixFQUFZM0YsR0FDUmpELEdBQ0YsT0FBT2lELEVBQVV2QyxJQUFJK0IsU0FHM0IsQ0FJQSxJQUFNb0csRUFBNkI3SSxFQUFXOEksYUFBZUMscUJBQ3ZEQyxFQUEyQmhKLEVBQVcsSUFBTWlKLFdBQVd4QyxFQUFRLEdBQUssSUFBTXlDLHNCQUFzQnpDLEcseURBRS9GLFdBQ0xvQyxFQUEyQnhDLEdBQzNCQSxFQUF5QjJDLEdBQzNCLEUsVUE3WE8sU0FBbUJyRSxFQUFjd0UsR0FDdEMsTUFBTUMsRUFBZ0IsS0FBS3pFLElBQzNCVixFQUFXbUYsR0FBaUJELEVBQzVCOUYsRUFBY1EsSUFBSXVGLEVBQ3BCLEUsK0dBK1lPLFNBQWVDLEVBQXlDdkksR0FDN0QsTUFBTXdJLE9BQ2lCLElBQWR4SSxFQUNIeUIsU0FBU2dILEtBQ2UsaUJBQWpCRixFQUNQckosRUFDRXdDLEVBQWM2RyxFQUErQixRQUFqQkEsR0FDNUI5RyxTQUFTaUgsY0FBY0gsR0FDekJBLEVBRU4sSUFBSUksT0FBc0MsSUFBZDNJLEVBQTRCdUksRUFBZXZJLEVBV3ZFLE9BUkVrQyxFQURFakMsRUFBWTBJLEdBQ0UsSUFBSXBKLEVBQU1vSixFQUFnQixDQUFDLEVBQUcsSUFDckN2SSxFQUFpQnVJLEdBQ1ZBLEVBRUEsSUFBSXBKLEVBQU0sSUFBTW9KLEVBQWdCLENBQUMsRUFBRyxJQUd0RHhHLEVBQVk1QixFQUFrQmlJLEdBQ3ZCN0MsR0FDVCxFLG9CQTFvQndCN0MsSUFBd0JWLEdBQWFNLEVBQVdLLElBQUlELEcsVUFHbERBLElBQXdCVixHQUFhUSxFQUFhRyxJQUFJRCxHLFNBRnZEQSxHQUF1QkgsRUFBWUksSUFBSUQsRyw2QkF5UnpELFNBQXNCZSxFQUFjVCxFQUFZd0MsR0FDaERyRCxFQUFjeUQsSUFBSW5DLEtBQ3JCK0IsRUFBU2xHLE1BQU1tRSxHQUFRVCxFQUN2Qm1CLEVBQW1CVixFQUFNVCxFQUFPd0MsR0FFcEMsRSxvQkF4RE8sU0FBNkIvQixHQUNsQ3RCLEVBQWNRLElBQUljLEVBQ3BCLEUsZ0JBdVhPLFdBQ0wsR0FBSTFCLEVBQVcsQ0FDYkQsRUFBZ0I3QixFQUFFLElBQU0sS0FBTSxDQUFDLEdBQy9CLE1BQU11SSxFQUFTakQsSUFDZjNDLEVBQVFKLEdBQ1IsVUFBV2lCLEtBQVEyQixFQUNqQnJELEVBQVV2QyxJQUFJaUosb0JBQW9CaEYsRUFBS3FDLE1BQU0sR0FBR3ZGLGNBQWU4RSxHQUMvRHFELFFBQVFDLGVBQWV2RCxFQUFvQjNCLEdBUzdDLE9BTkEzQixFQUFnQixLQUNoQkMsRUFBWSxLQUNaQyxHQUFZLEVBQ1pDLEVBQVFoQixNQUFRLEtBQ2hCZ0IsRUFBUXJDLFVBQVksS0FDcEJxQyxFQUFRQyxNQUFRLEtBQ1RzRyxDQUNULENBQ0YsRSJ9