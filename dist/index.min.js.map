//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc05vZGVKcyIsIkJvb2xlYW4iLCJwcm9jZXNzIiwidmVyc2lvbnMiLCJub2RlIiwiVm5vZGUiLCJjb25zdHJ1Y3RvciIsInRhZyIsInByb3BzIiwiY2hpbGRyZW4iLCJkb20iLCJpc1NWRyIsInRoaXMiLCJpc1BPSk9Db21wb25lbnQiLCJjb21wb25lbnQiLCJpc0NvbXBvbmVudCIsImlzVm5vZGUiLCJvYmplY3QiLCJpc1Zub2RlQ29tcG9uZW50IiwidiIsInRhZ09yQ29tcG9uZW50IiwiaGlkcmF0ZURvbVRvVm5vZGUiLCJub2RlVHlwZSIsIm5vZGVWYWx1ZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJpIiwibCIsImNoaWxkTm9kZXMiLCJsZW5ndGgiLCJjaGlsZERvbSIsInB1c2giLCJjaGlsZFZub2RlIiwiYXR0cmlidXRlcyIsImF0dHIiLCJ2bm9kZSIsInRydXN0IiwiaHRtbFN0cmluZyIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRyaW0iLCJBcnJheSIsImZyb20iLCJtYXAiLCJmcmFnbWVudCIsIl8iLCJtYWluQ29tcG9uZW50IiwibWFpblZub2RlIiwiaXNNb3VudGVkIiwiY3VycmVudCIsImV2ZW50IiwicmVzZXJ2ZWRQcm9wcyIsIlNldCIsIm9uQ2xlYW51cFNldCIsIm9uTW91bnRTZXQiLCJvblVwZGF0ZVNldCIsIm9uVW5tb3VudFNldCIsIm9uQ2xlYW51cCIsImNhbGxiYWNrIiwiYWRkIiwiY2FsbFNldCIsInNldCIsImNsZWFyIiwiZGlyZWN0aXZlcyIsInZhbHVlIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiYm9vbCIsInN0eWxlIiwiZGlzcGxheSIsIm1vZGVsIiwicHJvcGVydHkiLCJuYW1lIiwiaGFuZGxlciIsImUiLCJ0YXJnZXQiLCJ0eXBlIiwiaXNBcnJheSIsInZhbCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJzaGFyZWRTZXRBdHRyaWJ1dGUiLCJtdWx0aXBsZSIsImN0cmxLZXkiLCJmb3JFYWNoIiwiY2hpbGQiLCJqb2luIiwic2VsZWN0ZWQiLCJwcmV2SGFuZGxlciIsIm9sZFByb3BzIiwiY2xlYW51cCIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNsYXNzIiwiaWQiLCJkb21TdHlsZSIsInVwZGF0ZVRpbWVvdXQiLCJldmVudExpc3RlbmVyTmFtZXMiLCJldmVudExpc3RlbmVyIiwiZGVmYXVsdFByZXZlbnRlZCIsInVwZGF0ZSIsIm5ld1Zub2RlIiwibmV3Vm5vZGVEb20iLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJoYXMiLCJhZGRFdmVudExpc3RlbmVyIiwic2xpY2UiLCJ1cGRhdGVBdHRyaWJ1dGVzIiwidm5vZGVEb20iLCJ2bm9kZVByb3BzIiwiY3JlYXRlRWxlbWVudE5TIiwiZmxhdFRyZWUiLCJuZXdDaGlsZCIsIm9yaWdpbmFsQ2hpbGRyZW4iLCJ2aWV3IiwiYmluZCIsImNyZWF0ZU5ld0VsZW1lbnQiLCJvbGRDaGlsZCIsImFwcGVuZENoaWxkIiwidGV4dENvbnRlbnQiLCJwYXRjaCIsIm9sZERvbUNoaWxkcmVuIiwib2xkQ2hpbGRyZW5MZW5ndGgiLCJmaXJzdE9sZFByb3BzIiwiZmlyc3RWbm9kZSIsIm9sZFRyZWUiLCJvbGRLZXllZExpc3QiLCJuZXdLZXllZExpc3QiLCJrZXkiLCJjdXJyZW50Q2hpbGQiLCJyZW1vdmUiLCJwYXRjaEtleWVkIiwiY2hpbGRyZW5MZW5ndGgiLCJuZXh0T2xkQ2hpbGQiLCJ1cGRhdGVWbm9kZSIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJkaXJlY3RpdmUiLCJkaXJlY3RpdmVOYW1lIiwiZG9tT3JDb250ZW50IiwiY29udGFpbmVyIiwiYm9keSIsInF1ZXJ5U2VsZWN0b3IiLCJmaW5hbENvbXBvbmVudCIsInJlc3VsdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJSZWZsZWN0IiwiZGVsZXRlUHJvcGVydHkiXSwic291cmNlcyI6WyIuLi9saWIvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgKi9cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgdmFyIGRvY3VtZW50OiBEb2N1bWVudDtcbiAgbmFtZXNwYWNlIEpTWCB7XG4gICAgaW50ZXJmYWNlIEludHJpbnNpY0VsZW1lbnRzIGV4dGVuZHMgRGVmYXVsdFJlY29yZCB7fVxuICB9XG59XG5cbmludGVyZmFjZSBEZWZhdWx0UmVjb3JkIGV4dGVuZHMgUmVjb3JkPHN0cmluZyB8IG51bWJlciB8IHN5bWJvbCwgYW55PiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIFZub2RlUHJvcGVydGllcyBleHRlbmRzIERlZmF1bHRSZWNvcmQge1xuICBrZXk/OiBzdHJpbmcgfCBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9tRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIERlZmF1bHRSZWNvcmQge31cblxuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnQgZXh0ZW5kcyBEZWZhdWx0UmVjb3JkIHtcbiAgKHByb3BzOiBWbm9kZVByb3BlcnRpZXMsIGNoaWxkcmVuOiBhbnlbXSk6IFZub2RlIHwgYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBPSk9Db21wb25lbnQgZXh0ZW5kcyBEZWZhdWx0UmVjb3JkIHtcbiAgdmlldzogQ29tcG9uZW50O1xufVxuXG5leHBvcnQgdHlwZSBWYWx5cmlhbkNvbXBvbmVudCA9IENvbXBvbmVudCB8IFBPSk9Db21wb25lbnQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVm5vZGVDb21wb25lbnRJbnRlcmZhY2UgZXh0ZW5kcyBWbm9kZSB7XG4gIHRhZzogVmFseXJpYW5Db21wb25lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hpbGRyZW4gZXh0ZW5kcyBBcnJheTxWbm9kZSB8IFZub2RlQ29tcG9uZW50SW50ZXJmYWNlIHwgVmFseXJpYW5Db21wb25lbnQgfCBhbnk+IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlyZWN0aXZlIHtcbiAgKHZhbHVlOiBhbnksIHZub2RlOiBWbm9kZVdpdGhEb20sIG9sZFByb3BzOiBWbm9kZVByb3BlcnRpZXMgfCBudWxsKTogdm9pZCB8IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBpc05vZGVKcyA9IEJvb2xlYW4odHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUpO1xuXG5leHBvcnQgY2xhc3MgVm5vZGUge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgdGFnOiBzdHJpbmcgfCBDb21wb25lbnQgfCBQT0pPQ29tcG9uZW50LFxuICAgIHB1YmxpYyBwcm9wczogbnVsbCB8IFZub2RlUHJvcGVydGllcyxcbiAgICBwdWJsaWMgY2hpbGRyZW46IENoaWxkcmVuLFxuICAgIHB1YmxpYyBkb20/OiBEb21FbGVtZW50LFxuICAgIHB1YmxpYyBpc1NWRz86IGJvb2xlYW5cbiAgKSB7fVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZub2RlV2l0aERvbSBleHRlbmRzIFZub2RlIHtcbiAgdGFnOiBzdHJpbmc7XG4gIGRvbTogRG9tRWxlbWVudDtcbiAgcHJvcHM6IFZub2RlUHJvcGVydGllcztcbn1cblxuZXhwb3J0IGNvbnN0IGlzUE9KT0NvbXBvbmVudCA9IChjb21wb25lbnQ6IHVua25vd24pOiBjb21wb25lbnQgaXMgUE9KT0NvbXBvbmVudCA9PlxuICBCb29sZWFuKGNvbXBvbmVudCAmJiB0eXBlb2YgY29tcG9uZW50ID09PSBcIm9iamVjdFwiICYmIFwidmlld1wiIGluIGNvbXBvbmVudCk7XG5cbmV4cG9ydCBjb25zdCBpc0NvbXBvbmVudCA9IChjb21wb25lbnQ6IHVua25vd24pOiBjb21wb25lbnQgaXMgQ29tcG9uZW50ID0+XG4gIEJvb2xlYW4odHlwZW9mIGNvbXBvbmVudCA9PT0gXCJmdW5jdGlvblwiIHx8IGlzUE9KT0NvbXBvbmVudChjb21wb25lbnQpKTtcbmV4cG9ydCBjb25zdCBpc1Zub2RlID0gKG9iamVjdD86IHVua25vd24pOiBvYmplY3QgaXMgVm5vZGUgPT4gb2JqZWN0IGluc3RhbmNlb2YgVm5vZGU7XG5cbmV4cG9ydCBjb25zdCBpc1Zub2RlQ29tcG9uZW50ID0gKG9iamVjdD86IHVua25vd24pOiBvYmplY3QgaXMgVm5vZGVDb21wb25lbnRJbnRlcmZhY2UgPT4ge1xuICByZXR1cm4gaXNWbm9kZShvYmplY3QpICYmIGlzQ29tcG9uZW50KG9iamVjdC50YWcpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHYodGFnT3JDb21wb25lbnQ6IHN0cmluZyB8IFZhbHlyaWFuQ29tcG9uZW50LCBwcm9wczogVm5vZGVQcm9wZXJ0aWVzLCAuLi5jaGlsZHJlbjogQ2hpbGRyZW4pIHtcbiAgcmV0dXJuIG5ldyBWbm9kZSh0YWdPckNvbXBvbmVudCwgcHJvcHMsIGNoaWxkcmVuKTtcbn1cblxudi5mcmFnbWVudCA9IChfOiBWbm9kZVByb3BlcnRpZXMsIC4uLmNoaWxkcmVuOiBDaGlsZHJlbikgPT4gY2hpbGRyZW47XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRyYXRlRG9tVG9Wbm9kZShkb206IGFueSk6IFZub2RlV2l0aERvbSB8IHZvaWQge1xuICBpZiAoZG9tLm5vZGVUeXBlID09PSAzKSB7XG4gICAgcmV0dXJuIGRvbS5ub2RlVmFsdWU7XG4gIH1cblxuICBpZiAoZG9tLm5vZGVUeXBlID09PSAxKSB7XG4gICAgY29uc3QgdGFnID0gZG9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgcHJvcHMgPSB7fSBhcyBWbm9kZVByb3BlcnRpZXM7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBbXSBhcyBDaGlsZHJlbjtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gZG9tLmNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZERvbSA9IGRvbS5jaGlsZE5vZGVzW2ldO1xuICAgICAgaWYgKGNoaWxkRG9tLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGREb20ubm9kZVZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGREb20ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgY29uc3QgY2hpbGRWbm9kZSA9IGhpZHJhdGVEb21Ub1Zub2RlKGNoaWxkRG9tKTtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZFZub2RlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gZG9tLmF0dHJpYnV0ZXM7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3QgYXR0ciA9IGF0dHJpYnV0ZXNbaV07XG4gICAgICBwcm9wc1thdHRyLm5vZGVOYW1lXSA9IGF0dHIubm9kZVZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0IHZub2RlID0gbmV3IFZub2RlKHRhZywgcHJvcHMsIGNoaWxkcmVuKTtcbiAgICB2bm9kZS5kb20gPSBkb207XG4gICAgdm5vZGUuaXNTVkcgPSB0YWcgPT09IFwic3ZnXCI7XG4gICAgcmV0dXJuIHZub2RlIGFzIFZub2RlV2l0aERvbTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJ1c3QoaHRtbFN0cmluZzogc3RyaW5nKSB7XG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGRpdi5pbm5lckhUTUwgPSBodG1sU3RyaW5nLnRyaW0oKTtcbiAgcmV0dXJuIEFycmF5LmZyb20oZGl2LmNoaWxkTm9kZXMpLm1hcChoaWRyYXRlRG9tVG9Wbm9kZSk7XG59XG5cbmxldCBtYWluQ29tcG9uZW50OiBWbm9kZUNvbXBvbmVudEludGVyZmFjZSB8IG51bGwgPSBudWxsO1xubGV0IG1haW5Wbm9kZTogVm5vZGVXaXRoRG9tIHwgbnVsbCA9IG51bGw7XG5sZXQgaXNNb3VudGVkID0gZmFsc2U7XG5cbmV4cG9ydCBjb25zdCBjdXJyZW50ID0ge1xuICB2bm9kZTogbnVsbCBhcyBWbm9kZSB8IG51bGwsXG4gIGNvbXBvbmVudDogbnVsbCBhcyBWYWx5cmlhbkNvbXBvbmVudCB8IG51bGwsXG4gIGV2ZW50OiBudWxsIGFzIEV2ZW50IHwgbnVsbFxufTtcblxuZXhwb3J0IGNvbnN0IHJlc2VydmVkUHJvcHMgPSBuZXcgU2V0PHN0cmluZz4oW1xuICBcImtleVwiLFxuICBcInN0YXRlXCIsXG4gIFwidi1rZWVwXCIsXG4gIFwidi10ZXh0XCIsXG4gIFwidi1pZlwiLFxuICBcInYtZm9yXCIsXG4gIFwidi1zaG93XCIsXG4gIFwidi1jbGFzc1wiLFxuICBcInYtaHRtbFwiLFxuICBcInYtbW9kZWxcIixcbiAgXCJ2LWNyZWF0ZVwiLFxuICBcInYtdXBkYXRlXCIsXG4gIFwidi1jbGVhbnVwXCJcbl0pO1xuXG5jb25zdCBvbkNsZWFudXBTZXQgPSBuZXcgU2V0PEZ1bmN0aW9uPigpO1xuY29uc3Qgb25Nb3VudFNldCA9IG5ldyBTZXQ8RnVuY3Rpb24+KCk7XG5jb25zdCBvblVwZGF0ZVNldCA9IG5ldyBTZXQ8RnVuY3Rpb24+KCk7XG5jb25zdCBvblVubW91bnRTZXQgPSBuZXcgU2V0PEZ1bmN0aW9uPigpO1xuZXhwb3J0IGNvbnN0IG9uTW91bnQgPSAoY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiAhaXNNb3VudGVkICYmIG9uTW91bnRTZXQuYWRkKGNhbGxiYWNrKTtcbmV4cG9ydCBjb25zdCBvblVwZGF0ZSA9IChjYWxsYmFjazogRnVuY3Rpb24pID0+IG9uVXBkYXRlU2V0LmFkZChjYWxsYmFjayk7XG5leHBvcnQgY29uc3Qgb25DbGVhbnVwID0gKGNhbGxiYWNrOiBGdW5jdGlvbikgPT4gb25DbGVhbnVwU2V0LmFkZChjYWxsYmFjayk7XG5leHBvcnQgY29uc3Qgb25Vbm1vdW50ID0gKGNhbGxiYWNrOiBGdW5jdGlvbikgPT4gIWlzTW91bnRlZCAmJiBvblVubW91bnRTZXQuYWRkKGNhbGxiYWNrKTtcbmNvbnN0IGNhbGxTZXQgPSAoc2V0OiBTZXQ8RnVuY3Rpb24+KSA9PiB7XG4gIGZvciAoY29uc3QgY2FsbGJhY2sgb2Ygc2V0KSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxuICBzZXQuY2xlYXIoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkaXJlY3RpdmVzOiBSZWNvcmQ8c3RyaW5nLCBEaXJlY3RpdmU+ID0ge1xuICBcInYtaWZcIjogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIGlmICghQm9vbGVhbih2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IHBhcmVudE5vZGUgPSB2bm9kZS5kb20/LnBhcmVudE5vZGU7XG4gICAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgICBwYXJlbnROb2RlLnJlcGxhY2VDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSwgdm5vZGUuZG9tKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICBcInYtc2hvd1wiOiAodmFsdWUsIHZub2RlKSA9PiB7XG4gICAgY29uc3QgYm9vbCA9IEJvb2xlYW4odmFsdWUpO1xuICAgIChcbiAgICAgIHZub2RlLmRvbSBhcyB1bmtub3duIGFzIHtcbiAgICAgICAgc3R5bGU6IHsgZGlzcGxheTogc3RyaW5nIH07XG4gICAgICB9XG4gICAgKS5zdHlsZS5kaXNwbGF5ID0gYm9vbCA/IFwiXCIgOiBcIm5vbmVcIjtcbiAgfSxcblxuICBcInYtaHRtbFwiOiAodmFsdWUsIHZub2RlKSA9PiB7XG4gICAgdm5vZGUuY2hpbGRyZW4gPSB0cnVzdCh2YWx1ZSBhcyBzdHJpbmcpO1xuICB9LFxuXG4gIC8vIFRoZSBcInYtbW9kZWxcIiBkaXJlY3RpdmUgYmluZHMgdGhlIHZhbHVlIG9mIGFuIGlucHV0IGVsZW1lbnQgdG8gYSBtb2RlbCBwcm9wZXJ0eVxuICBcInYtbW9kZWxcIjogKG1vZGVsLCB2bm9kZSkgPT4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcbiAgICBpZiAoXCJuYW1lXCIgaW4gdm5vZGUucHJvcHMgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHZhbHVlO1xuICAgIGNvbnN0IHByb3BlcnR5ID0gdm5vZGUucHJvcHMubmFtZTtcbiAgICBsZXQgZXZlbnQgPSBcIm9uaW5wdXRcIjtcblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gdXBkYXRlcyB0aGUgbW9kZWwgcHJvcGVydHkgd2hlbiB0aGUgaW5wdXQgZWxlbWVudCdzIHZhbHVlIGNoYW5nZXNcbiAgICBsZXQgaGFuZGxlciA9IChlOiBFdmVudCkgPT4gKG1vZGVsW3Byb3BlcnR5XSA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWUpO1xuICAgIGlmICh2bm9kZS50YWcgPT09IFwiaW5wdXRcIikge1xuICAgICAgLy8gRGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIGlucHV0IGVsZW1lbnQsIHVzZSBhIGRpZmZlcmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICBzd2l0Y2ggKHZub2RlLnByb3BzLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6IHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtb2RlbFtwcm9wZXJ0eV0pKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgbW9kZWwgcHJvcGVydHkgaXMgYW4gYXJyYXksIGFkZCBvciByZW1vdmUgdGhlIHZhbHVlIGZyb20gdGhlIGFycmF5IHdoZW4gdGhlIGNoZWNrYm94IGlzIGNoZWNrZWQgb3IgdW5jaGVja2VkXG4gICAgICAgICAgICBoYW5kbGVyID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbCA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWU7XG4gICAgICAgICAgICAgIGNvbnN0IGlkeCA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZhbCk7XG4gICAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBJZiB0aGUgdmFsdWUgaXMgaW4gdGhlIGFycmF5LCBzZXQgdGhlIGNoZWNrYm94IHRvIGJlIGNoZWNrZWRcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2Yodm5vZGUuZG9tLnZhbHVlKSAhPT0gLTE7XG4gICAgICAgICAgfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gdm5vZGUucHJvcHMpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbnB1dCBlbGVtZW50IGhhcyBhIFwidmFsdWVcIiBhdHRyaWJ1dGUsIHVzZSBpdCB0byBkZXRlcm1pbmUgdGhlIGNoZWNrZWQgc3RhdGVcbiAgICAgICAgICAgIGhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChtb2RlbFtwcm9wZXJ0eV0gPT09IHZub2RlLnByb3BzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldID0gbnVsbDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0gPSB2bm9kZS5wcm9wcy52YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldID09PSB2bm9kZS5wcm9wcy52YWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gXCJ2YWx1ZVwiIGF0dHJpYnV0ZSwgdXNlIGEgYm9vbGVhbiB2YWx1ZSBmb3IgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgICAgICBoYW5kbGVyID0gKCkgPT4gKG1vZGVsW3Byb3BlcnR5XSA9ICFtb2RlbFtwcm9wZXJ0eV0pO1xuICAgICAgICAgICAgdmFsdWUgPSBtb2RlbFtwcm9wZXJ0eV07XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFNldCB0aGUgXCJjaGVja2VkXCIgYXR0cmlidXRlIG9uIHRoZSBpbnB1dCBlbGVtZW50XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLCB2YWx1ZSwgdm5vZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJyYWRpb1wiOiB7XG4gICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgYSByYWRpbyBidXR0b24sIHNldCB0aGUgXCJjaGVja2VkXCIgYXR0cmlidXRlIGJhc2VkIG9uIHRoZSB2YWx1ZSBvZiB0aGUgbW9kZWwgcHJvcGVydHlcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICBzaGFyZWRTZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsIG1vZGVsW3Byb3BlcnR5XSA9PT0gdm5vZGUuZG9tLnZhbHVlLCB2bm9kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIC8vIEZvciBhbGwgb3RoZXIgaW5wdXQgdHlwZXMsIHNldCB0aGUgXCJ2YWx1ZVwiIGF0dHJpYnV0ZSBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKFwidmFsdWVcIiwgbW9kZWxbcHJvcGVydHldLCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZub2RlLnRhZyA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgYSBzZWxlY3QgZWxlbWVudCwgdXNlIHRoZSBcImNsaWNrXCIgZXZlbnQgYnkgZGVmYXVsdFxuICAgICAgZXZlbnQgPSBcIm9uY2xpY2tcIjtcbiAgICAgIGlmICh2bm9kZS5wcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICAvLyBJZiB0aGUgc2VsZWN0IGVsZW1lbnQgYWxsb3dzIG11bHRpcGxlIHNlbGVjdGlvbnMsIHVwZGF0ZSB0aGUgbW9kZWwgcHJvcGVydHkgd2l0aCBhbiBhcnJheSBvZiBzZWxlY3RlZCB2YWx1ZXNcbiAgICAgICAgaGFuZGxlciA9IChlOiBFdmVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pID0+IHtcbiAgICAgICAgICBjb25zdCB2YWwgPSAoZS50YXJnZXQgYXMgRG9tRWxlbWVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pLnZhbHVlO1xuICAgICAgICAgIGlmIChlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBDdHJsIGtleSBpcyBwcmVzc2VkLCBhZGQgb3IgcmVtb3ZlIHRoZSB2YWx1ZSBmcm9tIHRoZSBhcnJheVxuICAgICAgICAgICAgY29uc3QgaWR4ID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsKTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBDdHJsIGtleSBpcyBub3QgcHJlc3NlZCwgc2V0IHRoZSBtb2RlbCBwcm9wZXJ0eSB0byBhbiBhcnJheSB3aXRoIHRoZSBzZWxlY3RlZCB2YWx1ZVxuICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnNwbGljZSgwLCBtb2RlbFtwcm9wZXJ0eV0ubGVuZ3RoKTtcbiAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBTZXQgdGhlIFwic2VsZWN0ZWRcIiBhdHRyaWJ1dGUgb24gdGhlIG9wdGlvbnMgYmFzZWQgb24gd2hldGhlciB0aGV5IGFyZSBpbiB0aGUgbW9kZWwgcHJvcGVydHkgYXJyYXlcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgICAgICAgIGlmIChjaGlsZC50YWcgPT09IFwib3B0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gXCJ2YWx1ZVwiIGluIGNoaWxkLnByb3BzID8gY2hpbGQucHJvcHMudmFsdWUgOiBjaGlsZC5jaGlsZHJlbi5qb2luKFwiXCIpLnRyaW0oKTtcbiAgICAgICAgICAgIGNoaWxkLnByb3BzLnNlbGVjdGVkID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsdWUpICE9PSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhlIHNlbGVjdCBlbGVtZW50IGRvZXMgbm90IGFsbG93IG11bHRpcGxlIHNlbGVjdGlvbnMsIHNldCB0aGUgXCJzZWxlY3RlZFwiIGF0dHJpYnV0ZSBvbiB0aGUgb3B0aW9ucyBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudGFnID09PSBcIm9wdGlvblwiKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IFwidmFsdWVcIiBpbiBjaGlsZC5wcm9wcyA/IGNoaWxkLnByb3BzLnZhbHVlIDogY2hpbGQuY2hpbGRyZW4uam9pbihcIlwiKS50cmltKCk7XG4gICAgICAgICAgICBjaGlsZC5wcm9wcy5zZWxlY3RlZCA9IHZhbHVlID09PSBtb2RlbFtwcm9wZXJ0eV07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZub2RlLnRhZyA9PT0gXCJ0ZXh0YXJlYVwiKSB7XG4gICAgICAvLyBTZXQgdGhlIHRleHRhcmVhJ3MgY29udGVudCB0byB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICB2bm9kZS5jaGlsZHJlbiA9IFttb2RlbFtwcm9wZXJ0eV1dO1xuICAgIH1cblxuICAgIC8vIFdlIGFzc3VtZSB0aGF0IHRoZSBwcmV2IGhhbmRsZXIgaWYgYW55IHdpbGwgbm90IGJlIGNoYW5nZWQgYnkgdGhlIHVzZXIgYWNyb3NzIHBhdGNoc1xuICAgIGNvbnN0IHByZXZIYW5kbGVyID0gdm5vZGUucHJvcHNbZXZlbnRdO1xuXG4gICAgLy8gU2V0IHRoZSBldmVudCBoYW5kbGVyIG9uIHRoZSBlbGVtZW50XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgc2hhcmVkU2V0QXR0cmlidXRlKFxuICAgICAgZXZlbnQsXG4gICAgICAoZTogRXZlbnQpID0+IHtcbiAgICAgICAgaGFuZGxlcihlKTtcblxuICAgICAgICAvLyBJZiB0aGUgcHJldmlvdXMgaGFuZGxlciBpcyBkZWZpbmVkLCBjYWxsIGl0IGFmdGVyIHRoZSBtb2RlbCBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICAgIGlmIChwcmV2SGFuZGxlcikge1xuICAgICAgICAgIHByZXZIYW5kbGVyKGUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdm5vZGVcbiAgICApO1xuICB9LFxuXG4gIFwidi1jcmVhdGVcIjogKGNhbGxiYWNrLCB2bm9kZSwgb2xkUHJvcHMpID0+IHtcbiAgICBpZiAoIW9sZFByb3BzKSB7XG4gICAgICBjb25zdCBjbGVhbnVwID0gY2FsbGJhY2sodm5vZGUpO1xuXG4gICAgICBpZiAodHlwZW9mIGNsZWFudXAgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBvbkNsZWFudXAoY2xlYW51cCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIFwidi11cGRhdGVcIjogKGNhbGxiYWNrLCB2bm9kZSwgb2xkUHJvcHMpID0+IHtcbiAgICBpZiAob2xkUHJvcHMpIHtcbiAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsYmFjayh2bm9kZSwgb2xkUHJvcHMpO1xuXG4gICAgICBpZiAodHlwZW9mIGNsZWFudXAgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBvbkNsZWFudXAoY2xlYW51cCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIFwidi1jbGVhbnVwXCI6IChjYWxsYmFjaywgdm5vZGUpID0+IHtcbiAgICBvbkNsZWFudXAoKCkgPT4gY2FsbGJhY2sodm5vZGUpKTtcbiAgfSxcblxuICBcInYtY2xhc3NcIjogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHZub2RlLmRvbS5jbGFzc05hbWUgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2bm9kZS5kb20uY2xhc3NOYW1lID0gdmFsdWUuam9pbihcIiBcIik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IHZub2RlLmRvbS5jbGFzc0xpc3Q7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWUpIHtcbiAgICAgICAgY29uc3QgdmFsID0gdHlwZW9mIHZhbHVlW25hbWVdID09PSBcImZ1bmN0aW9uXCIgPyAodmFsdWVbbmFtZV0gYXMgRnVuY3Rpb24pKCkgOiB2YWx1ZVtuYW1lXTtcbiAgICAgICAgY2xhc3NMaXN0LnRvZ2dsZShuYW1lLCB2YWwpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvLyBGcmVxdWVudCB1c2VkIHByb3BlcnRpZXNcbiAgY2xhc3ModmFsdWUsIHZub2RlKSB7XG4gICAgaWYgKHZub2RlLmRvbS5jbGFzc05hbWUgIT09IHZhbHVlKSB7XG4gICAgICB2bm9kZS5kb20uY2xhc3NOYW1lID0gdmFsdWU7XG4gICAgfVxuICB9LFxuXG4gIGNsYXNzTmFtZSh2YWx1ZSwgdm5vZGUpIHtcbiAgICBkaXJlY3RpdmVzLmNsYXNzKHZhbHVlLCB2bm9kZSwgbnVsbCk7XG4gIH0sXG5cbiAgaWQ6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICB2bm9kZS5kb20uaWQgPSB2YWx1ZTtcbiAgfSxcblxuICBzdHlsZTogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHZub2RlLmRvbS5zdHlsZSA9IHZhbHVlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICB2bm9kZS5kb20uc3R5bGUgPSBcIlwiO1xuICAgICAgY29uc3QgZG9tU3R5bGUgPSB2bm9kZS5kb20uc3R5bGU7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWUpIHtcbiAgICAgICAgZG9tU3R5bGVbbmFtZV0gPSB2YWx1ZVtuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXJlY3RpdmUobmFtZTogc3RyaW5nLCBkaXJlY3RpdmU6IERpcmVjdGl2ZSkge1xuICBjb25zdCBkaXJlY3RpdmVOYW1lID0gYHYtJHtuYW1lfWA7XG4gIGRpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV0gPSBkaXJlY3RpdmU7XG4gIHJlc2VydmVkUHJvcHMuYWRkKGRpcmVjdGl2ZU5hbWUpO1xufVxuXG5jb25zdCBldmVudExpc3RlbmVyTmFtZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcihlOiBFdmVudCkge1xuICBjdXJyZW50LmV2ZW50ID0gZTtcbiAgbGV0IGRvbSA9IGUudGFyZ2V0IGFzIERvbUVsZW1lbnQ7XG4gIGNvbnN0IG5hbWUgPSBgb24ke2UudHlwZX1gO1xuXG4gIHdoaWxlIChkb20pIHtcbiAgICBjb25zdCBvbGRQcm9wcyA9IGRvbS5wcm9wcztcbiAgICBpZiAob2xkUHJvcHMgJiYgb2xkUHJvcHNbbmFtZV0pIHtcbiAgICAgIG9sZFByb3BzW25hbWVdKGUsIGRvbSk7XG5cbiAgICAgIGlmICghZS5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICB1cGRhdGUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZG9tID0gZG9tLnBhcmVudE5vZGUgYXMgRG9tRWxlbWVudDtcbiAgfVxuXG4gIGN1cnJlbnQuZXZlbnQgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBzaGFyZWRTZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55LCBuZXdWbm9kZTogVm5vZGVXaXRoRG9tKTogdm9pZCB8IGJvb2xlYW4ge1xuICBjb25zdCBuZXdWbm9kZURvbSA9IG5ld1Zub2RlLmRvbTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgaWYgKCFldmVudExpc3RlbmVyTmFtZXMuaGFzKG5hbWUpKSB7XG4gICAgICAvLyBXZSBhdHRhdGNoIHRoZSBkZWxlZ2F0ZWQgZXZlbnQgbGlzdGVuZXIgdG8gdGhlIG1haW4gdm5vZGUgZG9tIGVsZW1lbnQsIHdoaWNoIGlzIHRoZSByb290IG9mIHRoZSBjb21wb25lbnRcbiAgICAgIChtYWluVm5vZGUgYXMgVm5vZGVXaXRoRG9tKS5kb20uYWRkRXZlbnRMaXN0ZW5lcihuYW1lLnNsaWNlKDIpLCBldmVudExpc3RlbmVyKTtcbiAgICAgIGV2ZW50TGlzdGVuZXJOYW1lcy5hZGQobmFtZSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChuYW1lIGluIG5ld1Zub2RlRG9tKSB7XG4gICAgbmV3Vm5vZGVEb21bbmFtZV0gPSB2YWx1ZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodmFsdWUgPT09IGZhbHNlKSB7XG4gICAgbmV3Vm5vZGVEb20ucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9IGVsc2Uge1xuICAgIG5ld1Zub2RlRG9tLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnksIG5ld1Zub2RlOiBWbm9kZVdpdGhEb20pOiB2b2lkIHtcbiAgaWYgKCFyZXNlcnZlZFByb3BzLmhhcyhuYW1lKSkge1xuICAgIG5ld1Zub2RlLnByb3BzW25hbWVdID0gdmFsdWU7XG4gICAgc2hhcmVkU2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlLCBuZXdWbm9kZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUF0dHJpYnV0ZXMobmV3Vm5vZGU6IFZub2RlV2l0aERvbSwgb2xkUHJvcHM6IFZub2RlUHJvcGVydGllcyB8IG51bGwpOiB2b2lkIHtcbiAgY29uc3Qgdm5vZGVEb20gPSBuZXdWbm9kZS5kb207XG4gIGNvbnN0IHZub2RlUHJvcHMgPSBuZXdWbm9kZS5wcm9wcztcblxuICBpZiAob2xkUHJvcHMpIHtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gb2xkUHJvcHMpIHtcbiAgICAgIGlmIChuYW1lIGluIHZub2RlUHJvcHMgPT09IGZhbHNlICYmICFldmVudExpc3RlbmVyTmFtZXMuaGFzKG5hbWUpICYmICFyZXNlcnZlZFByb3BzLmhhcyhuYW1lKSkge1xuICAgICAgICBpZiAobmFtZSBpbiB2bm9kZURvbSkge1xuICAgICAgICAgIHZub2RlRG9tW25hbWVdID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2bm9kZURvbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3IgKGNvbnN0IG5hbWUgaW4gdm5vZGVQcm9wcykge1xuICAgIGlmIChkaXJlY3RpdmVzW25hbWVdKSB7XG4gICAgICBpZiAoZGlyZWN0aXZlc1tuYW1lXSh2bm9kZVByb3BzW25hbWVdLCBuZXdWbm9kZSwgb2xkUHJvcHMpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmICghcmVzZXJ2ZWRQcm9wcy5oYXMobmFtZSkpIHtcbiAgICAgIHNoYXJlZFNldEF0dHJpYnV0ZShuYW1lLCB2bm9kZVByb3BzW25hbWVdLCBuZXdWbm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZzogc3RyaW5nLCBpc1NWRzogYm9vbGVhbik6IERvbUVsZW1lbnQge1xuICByZXR1cm4gaXNTVkdcbiAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHRhZylcbiAgICA6IChkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZykgYXMgRG9tRWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIGZsYXRUcmVlKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20pIHtcbiAgY3VycmVudC52bm9kZSA9IG5ld1Zub2RlO1xuXG4gIGlmIChcInYtZm9yXCIgaW4gbmV3Vm5vZGUucHJvcHMpIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xuICAgIGNvbnN0IHNldCA9IG5ld1Zub2RlLnByb3BzW1widi1mb3JcIl07XG4gICAgY29uc3QgbCA9IHNldC5sZW5ndGg7XG4gICAgY29uc3QgY2FsbGJhY2sgPSBuZXdWbm9kZS5jaGlsZHJlblswXTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBuZXdDaGlsZCA9IGNhbGxiYWNrKHNldFtpXSwgaSk7XG4gICAgICBpZiAobmV3Q2hpbGQgaW5zdGFuY2VvZiBWbm9kZSkge1xuICAgICAgICBuZXdDaGlsZC5wcm9wcyA9IG5ld0NoaWxkLnByb3BzIHx8IHt9O1xuICAgICAgICBuZXdDaGlsZC5pc1NWRyA9IG5ld1Zub2RlLmlzU1ZHIHx8IG5ld0NoaWxkLnRhZyA9PT0gXCJzdmdcIjtcbiAgICAgIH1cbiAgICAgIGNoaWxkcmVuW2ldID0gbmV3Q2hpbGQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG5cbiAgbGV0IGkgPSAwO1xuICBjb25zdCBvcmlnaW5hbENoaWxkcmVuID0gbmV3Vm5vZGUuY2hpbGRyZW47XG4gIGxldCBjaGlsZHJlbiA9IG9yaWdpbmFsQ2hpbGRyZW47XG5cbiAgd2hpbGUgKGkgPCBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICBjb25zdCBuZXdDaGlsZCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgaWYgKG5ld0NoaWxkID09IG51bGwpIHtcbiAgICAgIGlmIChjaGlsZHJlbiA9PT0gb3JpZ2luYWxDaGlsZHJlbikge1xuICAgICAgICBjaGlsZHJlbiA9IFsuLi5vcmlnaW5hbENoaWxkcmVuXTtcbiAgICAgIH1cbiAgICAgIGNoaWxkcmVuLnNwbGljZShpLCAxKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KG5ld0NoaWxkKSkge1xuICAgICAgaWYgKGNoaWxkcmVuID09PSBvcmlnaW5hbENoaWxkcmVuKSB7XG4gICAgICAgIGNoaWxkcmVuID0gWy4uLm9yaWdpbmFsQ2hpbGRyZW5dO1xuICAgICAgfVxuICAgICAgY2hpbGRyZW4uc3BsaWNlKGksIDEsIC4uLm5ld0NoaWxkKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChuZXdDaGlsZCBpbnN0YW5jZW9mIFZub2RlKSB7XG4gICAgICBuZXdDaGlsZC5wcm9wcyA9IG5ld0NoaWxkLnByb3BzIHx8IHt9O1xuICAgICAgbmV3Q2hpbGQuaXNTVkcgPSBuZXdWbm9kZS5pc1NWRyB8fCBuZXdDaGlsZC50YWcgPT09IFwic3ZnXCI7XG5cbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQudGFnICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGlmIChjaGlsZHJlbiA9PT0gb3JpZ2luYWxDaGlsZHJlbikge1xuICAgICAgICAgIGNoaWxkcmVuID0gWy4uLm9yaWdpbmFsQ2hpbGRyZW5dO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gKGN1cnJlbnQuY29tcG9uZW50ID0gbmV3Q2hpbGQudGFnKTtcblxuICAgICAgICBjaGlsZHJlbltpXSA9IChpc1BPSk9Db21wb25lbnQoY29tcG9uZW50KSA/IGNvbXBvbmVudC52aWV3IDogY29tcG9uZW50KS5iaW5kKGNvbXBvbmVudCkoXG4gICAgICAgICAgbmV3Q2hpbGQucHJvcHMsXG4gICAgICAgICAgbmV3Q2hpbGQuY2hpbGRyZW5cbiAgICAgICAgKTtcblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpKys7XG4gIH1cblxuICByZXR1cm4gY2hpbGRyZW47XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0VsZW1lbnQobmV3Q2hpbGQ6IFZub2RlV2l0aERvbSwgbmV3Vm5vZGU6IFZub2RlV2l0aERvbSwgb2xkQ2hpbGQ6IERvbUVsZW1lbnQgfCBudWxsKSB7XG4gIGNvbnN0IGRvbSA9IGNyZWF0ZUVsZW1lbnQobmV3Q2hpbGQudGFnLCBuZXdDaGlsZC5pc1NWRyBhcyBib29sZWFuKTtcbiAgaWYgKG9sZENoaWxkKSB7XG4gICAgbmV3Vm5vZGUuZG9tLnJlcGxhY2VDaGlsZChkb20sIG9sZENoaWxkKTtcbiAgfSBlbHNlIHtcbiAgICBuZXdWbm9kZS5kb20uYXBwZW5kQ2hpbGQoZG9tKTtcbiAgfVxuICBuZXdDaGlsZC5kb20gPSBkb207XG4gIHVwZGF0ZUF0dHJpYnV0ZXMobmV3Q2hpbGQsIG51bGwpO1xuICBuZXdDaGlsZC5kb20ucHJvcHMgPSBuZXdDaGlsZC5wcm9wcztcbiAgaWYgKFwidi10ZXh0XCIgaW4gbmV3Q2hpbGQucHJvcHMpIHtcbiAgICBuZXdDaGlsZC5kb20udGV4dENvbnRlbnQgPSBuZXdDaGlsZC5wcm9wc1tcInYtdGV4dFwiXTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjaGlsZHJlbiA9IGZsYXRUcmVlKG5ld0NoaWxkKTtcbiAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgIG5ld0NoaWxkLmRvbS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoY2hpbGRyZW5baV0gaW5zdGFuY2VvZiBWbm9kZSA9PT0gZmFsc2UpIHtcbiAgICAgIG5ld0NoaWxkLmRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZHJlbltpXSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNyZWF0ZU5ld0VsZW1lbnQoY2hpbGRyZW5baV0sIG5ld0NoaWxkLCBudWxsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXRjaEtleWVkKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sIGNoaWxkcmVuOiBDaGlsZHJlbikge1xuICBjb25zdCBvbGRUcmVlID0gWy4uLkFycmF5LmZyb20obmV3Vm5vZGUuZG9tLmNoaWxkTm9kZXMpXSBhcyB1bmtub3duIGFzIERvbUVsZW1lbnRbXTtcbiAgY29uc3QgY2hpbGROb2RlcyA9IG5ld1Zub2RlLmRvbS5jaGlsZE5vZGVzO1xuICBjb25zdCBvbGRLZXllZExpc3Q6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgY29uc3QgbmV3S2V5ZWRMaXN0OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBvbGRUcmVlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IG9sZFByb3BzID0gb2xkVHJlZVtpXS5wcm9wcztcbiAgICBpZiAob2xkUHJvcHMpIHtcbiAgICAgIG9sZEtleWVkTGlzdFtvbGRQcm9wcy5rZXkgYXMgc3RyaW5nXSA9IGk7XG4gICAgfVxuXG4gICAgaWYgKGkgPCBjaGlsZHJlbi5sZW5ndGggJiYgY2hpbGRyZW5baV0gaW5zdGFuY2VvZiBWbm9kZSkge1xuICAgICAgbmV3S2V5ZWRMaXN0W2NoaWxkcmVuW2ldLnByb3BzLmtleSBhcyBzdHJpbmddID0gaTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IG5ld0NoaWxkID0gY2hpbGRyZW5baV07XG4gICAgY29uc3Qgb2xkQ2hpbGQgPSBvbGRUcmVlW29sZEtleWVkTGlzdFtuZXdDaGlsZC5wcm9wcy5rZXkgYXMgc3RyaW5nXV07XG5cbiAgICBpZiAoIW9sZENoaWxkKSB7XG4gICAgICBjcmVhdGVOZXdFbGVtZW50KG5ld0NoaWxkLCBuZXdWbm9kZSwgY2hpbGROb2Rlc1tpXSBhcyBEb21FbGVtZW50IHwgbnVsbCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBuZXdDaGlsZC5kb20gPSBvbGRDaGlsZDtcbiAgICBjb25zdCBjdXJyZW50Q2hpbGQgPSBjaGlsZE5vZGVzW2ldO1xuICAgIGlmICghY3VycmVudENoaWxkKSB7XG4gICAgICBuZXdWbm9kZS5kb20uYXBwZW5kQ2hpbGQob2xkQ2hpbGQpO1xuICAgIH0gZWxzZSBpZiAoY3VycmVudENoaWxkICE9PSBvbGRDaGlsZCkge1xuICAgICAgbmV3Vm5vZGUuZG9tLnJlcGxhY2VDaGlsZChvbGRDaGlsZCwgY3VycmVudENoaWxkKTtcbiAgICB9XG5cbiAgICBpZiAoXCJ2LWtlZXBcIiBpbiBuZXdDaGlsZC5wcm9wcyA9PT0gZmFsc2UgfHwgb2xkQ2hpbGQucHJvcHNbXCJ2LWtlZXBcIl0gIT09IG5ld0NoaWxkLnByb3BzW1widi1rZWVwXCJdKSB7XG4gICAgICB1cGRhdGVBdHRyaWJ1dGVzKG5ld0NoaWxkIGFzIFZub2RlV2l0aERvbSwgb2xkQ2hpbGQucHJvcHMpO1xuICAgICAgb2xkQ2hpbGQucHJvcHMgPSBuZXdDaGlsZC5wcm9wcztcblxuICAgICAgaWYgKFwidi10ZXh0XCIgaW4gbmV3Q2hpbGQucHJvcHMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICBpZiAob2xkQ2hpbGQudGV4dENvbnRlbnQgIT0gbmV3Q2hpbGQucHJvcHNbXCJ2LXRleHRcIl0pIHtcbiAgICAgICAgICBvbGRDaGlsZC50ZXh0Q29udGVudCA9IG5ld0NoaWxkLnByb3BzW1widi10ZXh0XCJdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICBwYXRjaChuZXdDaGlsZCBhcyBWbm9kZVdpdGhEb20pO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGkgPSBjaGlsZHJlbi5sZW5ndGgsIGwgPSBjaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNoaWxkTm9kZXNbaV0/LnJlbW92ZSgpO1xuICB9XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiBwYXRjaChuZXdWbm9kZTogVm5vZGVXaXRoRG9tKTogdm9pZCB7XG4gIGNvbnN0IGNoaWxkcmVuID0gZmxhdFRyZWUobmV3Vm5vZGUpO1xuXG4gIGNvbnN0IGRvbSA9IG5ld1Zub2RlLmRvbTtcblxuICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGRvbS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgZG9tLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgb2xkRG9tQ2hpbGRyZW4gPSBkb20uY2hpbGROb2RlcyBhcyB1bmtub3duIGFzIERvbUVsZW1lbnRbXTtcbiAgY29uc3Qgb2xkQ2hpbGRyZW5MZW5ndGggPSBvbGREb21DaGlsZHJlbi5sZW5ndGg7XG4gIGlmIChvbGRDaGlsZHJlbkxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBmaXJzdE9sZFByb3BzID0gb2xkRG9tQ2hpbGRyZW5bMF0ucHJvcHM7XG4gICAgY29uc3QgZmlyc3RWbm9kZSA9IGNoaWxkcmVuWzBdIGFzIFZub2RlV2l0aERvbTtcbiAgICBpZiAoZmlyc3RPbGRQcm9wcyAmJiBmaXJzdFZub2RlIGluc3RhbmNlb2YgVm5vZGUgJiYgXCJrZXlcIiBpbiBmaXJzdFZub2RlLnByb3BzICYmIFwia2V5XCIgaW4gZmlyc3RPbGRQcm9wcykge1xuICAgICAgcGF0Y2hLZXllZChuZXdWbm9kZSwgY2hpbGRyZW4pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGNoaWxkcmVuTGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuICBpZiAob2xkQ2hpbGRyZW5MZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjaGlsZHJlbltpXSBpbnN0YW5jZW9mIFZub2RlID09PSBmYWxzZSkge1xuICAgICAgICBkb20uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY2hpbGRyZW5baV0pKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjcmVhdGVOZXdFbGVtZW50KGNoaWxkcmVuW2ldLCBuZXdWbm9kZSwgbnVsbCk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IG5ld0NoaWxkID0gY2hpbGRyZW5baV0gYXMgVm5vZGVXaXRoRG9tO1xuICAgIGNvbnN0IG9sZENoaWxkID0gb2xkRG9tQ2hpbGRyZW5baV07XG5cbiAgICBpZiAoIW9sZENoaWxkKSB7XG4gICAgICBpZiAobmV3Q2hpbGQgaW5zdGFuY2VvZiBWbm9kZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgbmV3Vm5vZGUuZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5ld0NoaWxkKSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjcmVhdGVOZXdFbGVtZW50KG5ld0NoaWxkLCBuZXdWbm9kZSwgbnVsbCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAobmV3Q2hpbGQgaW5zdGFuY2VvZiBWbm9kZSA9PT0gZmFsc2UpIHtcbiAgICAgIGlmIChvbGRDaGlsZC5ub2RlVHlwZSAhPT0gMykge1xuICAgICAgICBuZXdWbm9kZS5kb20ucmVwbGFjZUNoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5ld0NoaWxkKSwgb2xkQ2hpbGQpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgaWYgKG9sZENoaWxkLm5vZGVWYWx1ZSAhPSBuZXdDaGlsZCkge1xuICAgICAgICBvbGRDaGlsZC5ub2RlVmFsdWUgPSBuZXdDaGlsZDtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChcInYta2VlcFwiIGluIG5ld0NoaWxkLnByb3BzKSB7XG4gICAgICBpZiAob2xkQ2hpbGQucHJvcHMgJiYgb2xkQ2hpbGQucHJvcHNbXCJ2LWtlZXBcIl0gPT09IG5ld0NoaWxkLnByb3BzW1widi1rZWVwXCJdKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXh0T2xkQ2hpbGQgPSBvbGREb21DaGlsZHJlbltpICsgMV07XG4gICAgICBpZiAobmV4dE9sZENoaWxkICYmIG5leHRPbGRDaGlsZC5wcm9wcyAmJiBuZXh0T2xkQ2hpbGQucHJvcHNbXCJ2LWtlZXBcIl0gPT09IG5ld0NoaWxkLnByb3BzW1widi1rZWVwXCJdKSB7XG4gICAgICAgIG9sZENoaWxkLnJlbW92ZSgpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmV3Q2hpbGQudGFnICE9PSBvbGRDaGlsZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjcmVhdGVOZXdFbGVtZW50KG5ld0NoaWxkLCBuZXdWbm9kZSwgb2xkQ2hpbGQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgbmV3Q2hpbGQuZG9tID0gb2xkQ2hpbGQ7XG4gICAgdXBkYXRlQXR0cmlidXRlcyhuZXdDaGlsZCBhcyBWbm9kZVdpdGhEb20sIG9sZENoaWxkLnByb3BzIHx8IG51bGwpO1xuICAgIG9sZENoaWxkLnByb3BzID0gbmV3Q2hpbGQucHJvcHM7XG4gICAgaWYgKFwidi10ZXh0XCIgaW4gbmV3Q2hpbGQucHJvcHMpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgIGlmIChuZXdDaGlsZC5kb20udGV4dENvbnRlbnQgIT0gbmV3Q2hpbGQucHJvcHNbXCJ2LXRleHRcIl0pIHtcbiAgICAgICAgbmV3Q2hpbGQuZG9tLnRleHRDb250ZW50ID0gbmV3Q2hpbGQucHJvcHNbXCJ2LXRleHRcIl07XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgcGF0Y2gobmV3Q2hpbGQpO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IGNoaWxkcmVuTGVuZ3RoLCBsID0gb2xkRG9tQ2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgb2xkRG9tQ2hpbGRyZW5baV0/LnJlbW92ZSgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVWbm9kZSh2bm9kZTogVm5vZGVXaXRoRG9tKTogc3RyaW5nIHwgdm9pZCB7XG4gIGNhbGxTZXQob25DbGVhbnVwU2V0KTtcbiAgdm5vZGUucHJvcHMgPSB2bm9kZS5wcm9wcyB8fCB7fTtcbiAgcGF0Y2godm5vZGUpO1xuICBjYWxsU2V0KGlzTW91bnRlZCA/IG9uVXBkYXRlU2V0IDogb25Nb3VudFNldCk7XG4gIGlzTW91bnRlZCA9IHRydWU7XG4gIGN1cnJlbnQudm5vZGUgPSBudWxsO1xuICBjdXJyZW50LmNvbXBvbmVudCA9IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUoKTogdm9pZCB8IHN0cmluZyB7XG4gIGlmIChtYWluVm5vZGUpIHtcbiAgICBtYWluVm5vZGUuY2hpbGRyZW4gPSBbbWFpbkNvbXBvbmVudF07XG4gICAgdXBkYXRlVm5vZGUobWFpblZub2RlIGFzIFZub2RlV2l0aERvbSk7XG4gICAgaWYgKGlzTm9kZUpzKSB7XG4gICAgICByZXR1cm4gbWFpblZub2RlLmRvbS5pbm5lckhUTUw7XG4gICAgfVxuICB9XG59XG5cbmxldCB1cGRhdGVUaW1lb3V0OiBhbnk7XG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2VkVXBkYXRlKCkge1xuICBjbGVhclRpbWVvdXQodXBkYXRlVGltZW91dCk7XG4gIHVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHVwZGF0ZSwgNSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bm1vdW50KCkge1xuICBpZiAobWFpblZub2RlKSB7XG4gICAgbWFpbkNvbXBvbmVudCA9IHYoKCkgPT4gbnVsbCwge30pIGFzIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlO1xuICAgIGNvbnN0IHJlc3VsdCA9IHVwZGF0ZSgpO1xuICAgIGNhbGxTZXQob25Vbm1vdW50U2V0KTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZXZlbnRMaXN0ZW5lck5hbWVzKSB7XG4gICAgICBtYWluVm5vZGUuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZS5zbGljZSgyKS50b0xvd2VyQ2FzZSgpLCBldmVudExpc3RlbmVyKTtcbiAgICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkoZXZlbnRMaXN0ZW5lck5hbWVzLCBuYW1lKTtcbiAgICB9XG5cbiAgICBtYWluQ29tcG9uZW50ID0gbnVsbDtcbiAgICBtYWluVm5vZGUgPSBudWxsO1xuICAgIGlzTW91bnRlZCA9IGZhbHNlO1xuICAgIGN1cnJlbnQudm5vZGUgPSBudWxsO1xuICAgIGN1cnJlbnQuY29tcG9uZW50ID0gbnVsbDtcbiAgICBjdXJyZW50LmV2ZW50ID0gbnVsbDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VudChkb21PckNvbnRlbnQ6IHN0cmluZyB8IERvbUVsZW1lbnQgfCBhbnksIGNvbXBvbmVudD86IGFueSkge1xuICBjb25zdCBjb250YWluZXIgPVxuICAgIHR5cGVvZiBjb21wb25lbnQgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgID8gZG9jdW1lbnQuYm9keVxuICAgICAgOiB0eXBlb2YgZG9tT3JDb250ZW50ID09PSBcInN0cmluZ1wiXG4gICAgICA/IGlzTm9kZUpzXG4gICAgICAgID8gY3JlYXRlRWxlbWVudChkb21PckNvbnRlbnQsIGRvbU9yQ29udGVudCA9PT0gXCJzdmdcIilcbiAgICAgICAgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRvbU9yQ29udGVudClcbiAgICAgIDogZG9tT3JDb250ZW50O1xuXG4gIGxldCBmaW5hbENvbXBvbmVudCA9IHR5cGVvZiBjb21wb25lbnQgPT09IFwidW5kZWZpbmVkXCIgPyBkb21PckNvbnRlbnQgOiBjb21wb25lbnQ7XG5cbiAgaWYgKGlzQ29tcG9uZW50KGZpbmFsQ29tcG9uZW50KSkge1xuICAgIG1haW5Db21wb25lbnQgPSBuZXcgVm5vZGUoZmluYWxDb21wb25lbnQsIHt9LCBbXSkgYXMgVm5vZGVDb21wb25lbnRJbnRlcmZhY2U7XG4gIH0gZWxzZSBpZiAoaXNWbm9kZUNvbXBvbmVudChmaW5hbENvbXBvbmVudCkpIHtcbiAgICBtYWluQ29tcG9uZW50ID0gZmluYWxDb21wb25lbnQ7XG4gIH0gZWxzZSB7XG4gICAgbWFpbkNvbXBvbmVudCA9IG5ldyBWbm9kZSgoKSA9PiBmaW5hbENvbXBvbmVudCwge30sIFtdKSBhcyBWbm9kZUNvbXBvbmVudEludGVyZmFjZTtcbiAgfVxuXG4gIG1haW5Wbm9kZSA9IGhpZHJhdGVEb21Ub1Zub2RlKGNvbnRhaW5lcikgYXMgVm5vZGVXaXRoRG9tO1xuICByZXR1cm4gdXBkYXRlKCk7XG59XG4iXSwibWFwcGluZ3MiOiJNQW9DTyxJQUFNQSxFQUFXQyxRQUEyQixvQkFBWkMsU0FBMkJBLFFBQVFDLFVBQVlELFFBQVFDLFNBQVNDLE1BRTFGQyxFQUFOLE1BQ0wsV0FBQUMsQ0FDU0MsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FKQUMsS0FBQUwsTUFDQUssS0FBQUosUUFDQUksS0FBQUgsV0FDQUcsS0FBQUYsTUFDQUUsS0FBQUQsT0FDTixHQVNRRSxFQUFtQkMsR0FDOUJiLFFBQVFhLEdBQWtDLGlCQUFkQSxHQUEwQixTQUFVQSxHQUVyREMsRUFBZUQsR0FDMUJiLFFBQTZCLG1CQUFkYSxHQUE0QkQsRUFBZ0JDLElBQ2hERSxFQUFXQyxHQUFzQ0EsYUFBa0JaLEVBRW5FYSxFQUFvQkQsR0FDeEJELEVBQVFDLElBQVdGLEVBQVlFLEVBQU9WLEtBR3hDLFNBQVNZLEVBQUVDLEVBQTRDWixLQUEyQkMsR0FDdkYsT0FBTyxJQUFJSixFQUFNZSxFQUFnQlosRUFBT0MsRUFDMUMsQ0FJTyxTQUFTWSxFQUFrQlgsR0FDaEMsR0FBcUIsSUFBakJBLEVBQUlZLFNBQ04sT0FBT1osRUFBSWEsVUFHYixHQUFxQixJQUFqQmIsRUFBSVksU0FBZ0IsQ0FDdEIsTUFBTWYsRUFBTUcsRUFBSWMsU0FBU0MsY0FDbkJqQixFQUFRLENBQUMsRUFDVEMsRUFBVyxHQUVqQixRQUFTaUIsRUFBSSxFQUFHQyxFQUFJakIsRUFBSWtCLFdBQVdDLE9BQVFILEVBQUlDLEVBQUdELElBQUssQ0FDckQsTUFBTUksRUFBV3BCLEVBQUlrQixXQUFXRixHQUNoQyxHQUEwQixJQUF0QkksRUFBU1IsU0FDWGIsRUFBU3NCLEtBQUtELEVBQVNQLGdCQUN6QixHQUFpQyxJQUF0Qk8s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