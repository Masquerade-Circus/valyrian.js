//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2xpYi9pbmRleC50cyJdLCJuYW1lcyI6WyJDb21wb25lbnRTdHJpbmciLCJUZXh0U3RyaW5nIiwiaXNOb2RlSnMiLCJCb29sZWFuIiwicHJvY2VzcyIsInZlcnNpb25zIiwibm9kZSIsIlZhbHlyaWFuU3ltYm9sIiwiU3ltYm9sIiwiVW5kIiwiVm5vZGUiLCJ0YWciLCJwcm9wcyIsImNoaWxkcmVuIiwidGhpcyIsImlzQ29tcG9uZW50IiwiY29tcG9uZW50IiwiaXNWbm9kZUNvbXBvbmVudCIsInZub2RlIiwiY3JlYXRlRG9tRWxlbWVudCIsImlzU1ZHIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVFbGVtZW50IiwiZG9tVG9Wbm9kZSIsImRvbSIsInYiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJBcnJheSIsImZyb20iLCJjaGlsZE5vZGVzIiwiZmlsdGVyIiwiY2hpbGQiLCJub2RlVHlwZSIsIm1hcCIsInRleHQiLCJub2RlVmFsdWUiLCJTdHJpbmciLCJmb3JFYWNoIiwiY2FsbCIsImF0dHJpYnV0ZXMiLCJwcm9wIiwibm9kZU5hbWUiLCJ0cnVzdCIsImh0bWxTdHJpbmciLCJkaXYiLCJpbm5lckhUTUwiLCJ0cmltIiwiaXRlbSIsInJlc2VydmVkUHJvcHMiLCJrZXkiLCJzdGF0ZSIsIm9uY3JlYXRlIiwib251cGRhdGUiLCJvbnJlbW92ZSIsInNob3VsZHVwZGF0ZSIsImN1cnJlbnQiLCJjYWxsQ2xlYW51cCIsInZhbHlyaWFuQXBwIiwiaSIsIm9uQ2xlYW51cCIsImxlbmd0aCIsInVwZGF0ZSIsImFwcCIsIm9sZFZub2RlIiwibWFpblZub2RlIiwicGF0Y2giLCJpc01vdW50ZWQiLCJvbk1vdW50IiwiY2FsbE1vdW50Iiwib25VcGRhdGUiLCJjYWxsVXBkYXRlIiwidW5tb3VudCIsIm9uVW5tb3VudCIsImNhbGxVbm1vdW50IiwiUmVmbGVjdCIsImRlbGV0ZVByb3BlcnR5IiwiZW1wdHlWbm9kZSIsInNoYXJlZFNldEF0dHJpYnV0ZSIsInZhbHVlIiwiZGlyZWN0aXZlcyIsImV2ZW50TGlzdGVuZXJOYW1lcyIsImNvbnRhaW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJzbGljZSIsImV2ZW50TGlzdGVuZXIiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJuYW1lIiwic2V0QXR0cmlidXRlcyIsIm5ld1Zub2RlIiwibmV3VHJlZSIsIm9sZFRyZWUiLCJjaGlsZFZub2RlIiwicmVzdWx0IiwidmlldyIsInNwbGljZSIsImlzQXJyYXkiLCJvbGRUcmVlTGVuZ3RoIiwibmV3VHJlZUxlbmd0aCIsIm9sZEtleWVkTGlzdCIsIm5ld0tleWVkTGlzdCIsIm9sZENoaWxkVm5vZGUiLCJzaG91bGRQYXRjaCIsImFwcGVuZENoaWxkIiwicmVwbGFjZUNoaWxkIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwibmV3Q2hpbGRWbm9kZSIsImNyZWF0ZVRleHROb2RlIiwidGV4dENvbnRlbnQiLCJoaWRlRGlyZWN0aXZlIiwidGVzdCIsImJvb2wiLCJuZXdkb20iLCJzZXQiLCJzdHlsZSIsImRpc3BsYXkiLCJjbGFzc2VzIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiaHRtbCIsIm1vZGVsIiwicHJvcGVydHkiLCJldmVudCIsImhhbmRsZXIiLCJ0eXBlIiwiZSIsInZhbCIsInRhcmdldCIsImlkeCIsImluZGV4T2YiLCJwdXNoIiwibXVsdGlwbGUiLCJjdHJsS2V5IiwidmFsdWUyIiwiam9pbiIsInNlbGVjdGVkIiwicGx1Z2lucyIsIk1hcCIsInRhZ09yQ29tcG9uZW50IiwiZnJhZ21lbnQiLCJpc1Zub2RlIiwib2JqZWN0IiwiY2FsbGJhY2siLCJtb3VudCIsInZub2RlQ29tcG9uZW50IiwiYXBwQ29udGFpbmVyIiwicXVlcnlTZWxlY3RvckFsbCIsIkVycm9yIiwiZGVmYXVsdFByZXZlbnRlZCIsImRpcmVjdGl2ZSIsImRpcmVjdGl2ZTIiLCJmdWxsTmFtZSIsInVzZSIsInBsdWdpbiIsIm9wdGlvbnMiLCJoYXMiLCJn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Q3JCLElBQUl2RyxFQUFNdUcsRUFBRUUsT0FDUnpDLEVBQU8sT0FBT3VDLEVBQUVELE9BQ3BCLEtBQU90RyxHQUFLLENBQ1YsR0FBSUEsRUFBSWdFLEdBS04sT0FKQWhFLEVBQUlnRSxHQUFNdUMsRUFBR3ZHLFFBQ1J1RyxFQUFFdUIsa0JBQ0x4RixFQUFPL0MsSUFJWFMsRUFBTUEsRUFBSWtGLGFBbkJkM0YsRUFBVVQsR0FBa0IsQ0FDMUI2RCxXQUFXLEVBQ1hjLG1CQUFvQixHQUNwQnJCLFVBQVcsR0FDWFEsUUFBUyxHQUNURSxTQUFVLEdBQ1ZHLFVBQVcsSUFnQmIxRCxFQUFVVCxHQUFnQitFLGNBQWdCQSxFQVE1QyxPQUxBdEUsRUFBVVQsR0FBZ0JTLFVBQVltSSxFQUN0Q25JLEVBQVVULEdBQWdCNEUsVUFBWWlFLEVBQ3RDcEksRUFBVVQsR0FBZ0IyRCxVQUFZMUMsRUFBVzRILEdBRzFDckYsRUFBTy9DLElBMGdCaEJVLEVBQUUrQyxRQUFVQSxFQUNaL0MsRUFBRXFDLE9BQVNBLEVBRVhyQyxFQUFFOEQsYUFBZUEsRUFDakI5RCxFQUFFOEgsVUF0TEYsU0FBbUIvRCxFQUFjZ0UsR0FDL0IsSUFBSUMsRUFBVyxLQUFLakUsSUFDcEJSLEVBQVd5RSxHQUFZRCxFQUN2QnZHLEVBQWN3RyxJQUFZLEdBb0w1QmhJLEVBQUVpSSxJQXBERixTQUFhQyxFQUFnQkMsR0FDM0IsR0FBSWxCLEVBQVFtQixJQUFJRixHQUNkLE9BQU9qQixFQUFRb0IsSUFBSUgsR0FHckIsSUFBSTdELEVBQVM2RCxFQUFPbEksRUFBR21JLEdBRXZCLE9BREFsQixFQUFRdkIsSUFBSXdDLEVBQVE3RCxHQUNiQSIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lICovXG4vKiBlc2xpbnQtZGlzYWJsZSBzb25hcmpzL2NvZ25pdGl2ZS1jb21wbGV4aXR5ICovXG4vKioqIFZub2RlICoqKi9cblxuaW1wb3J0IHtcbiAgQ2hpbGRyZW4sXG4gIEN1cnJlbnQsXG4gIERpcmVjdGl2ZSxcbiAgRGlyZWN0aXZlcyxcbiAgRG9tRWxlbWVudCxcbiAgSVZub2RlLFxuICBNb3VudGVkVmFseXJpYW5BcHAsXG4gIFBsdWdpbixcbiAgUHJvcHMsXG4gIFJlc2VydmVkUHJvcHMsXG4gIFZhbHlyaWFuLFxuICBWYWx5cmlhbkFwcCxcbiAgVmFseXJpYW5Db21wb25lbnQsXG4gIFZub2RlQ29tcG9uZW50LFxuICBWbm9kZVdpdGhEb21cbn0gZnJvbSBcIi4vaW50ZXJmYWNlc1wiO1xuXG4vKioqIENvbnN0YW50cyAqKiovXG5jb25zdCBDb21wb25lbnRTdHJpbmcgPSBcIl9fY29tcG9uZW50X19cIjtcbmNvbnN0IFRleHRTdHJpbmcgPSBcIiN0ZXh0XCI7XG5jb25zdCBpc05vZGVKcyA9IEJvb2xlYW4odHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUpO1xuY29uc3QgVmFseXJpYW5TeW1ib2wgPSBTeW1ib2woXCJWYWx5cmlhblwiKTtcbmNvbnN0IFVuZCA9IHVuZGVmaW5lZDtcblxuLyoqKiBWbm9kZSAqKiovXG5cbmNvbnN0IFZub2RlID0gZnVuY3Rpb24gVm5vZGUodGhpczogSVZub2RlLCB0YWc6IHN0cmluZywgcHJvcHM6IFByb3BzLCBjaGlsZHJlbjogQ2hpbGRyZW4pIHtcbiAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gIHRoaXMudGFnID0gdGFnO1xufSBhcyB1bmtub3duIGFzIElWbm9kZTtcblxuZnVuY3Rpb24gaXNWbm9kZShvYmplY3Q/OiB1bmtub3duIHwgSVZub2RlKTogb2JqZWN0IGlzIElWbm9kZSB7XG4gIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBWbm9kZTtcbn1cblxuZnVuY3Rpb24gaXNDb21wb25lbnQoY29tcG9uZW50PzogdW5rbm93biB8IFZhbHlyaWFuQ29tcG9uZW50KTogY29tcG9uZW50IGlzIFZhbHlyaWFuQ29tcG9uZW50IHtcbiAgcmV0dXJuIHR5cGVvZiBjb21wb25lbnQgPT09IFwiZnVuY3Rpb25cIiB8fCAodHlwZW9mIGNvbXBvbmVudCA9PT0gXCJvYmplY3RcIiAmJiBjb21wb25lbnQgIT09IG51bGwgJiYgXCJ2aWV3XCIgaW4gY29tcG9uZW50KTtcbn1cblxuZnVuY3Rpb24gaXNWbm9kZUNvbXBvbmVudCh2bm9kZT86IHVua25vd24gfCBWbm9kZUNvbXBvbmVudCk6IHZub2RlIGlzIFZub2RlQ29tcG9uZW50IHtcbiAgcmV0dXJuIHZub2RlIGluc3RhbmNlb2YgVm5vZGUgJiYgdm5vZGUudGFnID09PSBDb21wb25lbnRTdHJpbmc7XG59XG5cbi8qKiogVXRpbCAqKiovXG5cbmZ1bmN0aW9uIGNyZWF0ZURvbUVsZW1lbnQodGFnOiBzdHJpbmcsIGlzU1ZHOiBib29sZWFuID0gZmFsc2UpIHtcbiAgcmV0dXJuIGlzU1ZHID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgdGFnKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbn1cblxuZnVuY3Rpb24gZG9tVG9Wbm9kZShkb206IERvbUVsZW1lbnQpOiBWbm9kZVdpdGhEb20ge1xuICBsZXQgdm5vZGUgPSB2KFxuICAgIGRvbS50YWdOYW1lLnRvTG93ZXJDYXNlKCksXG4gICAge30sXG4gICAgLi4uQXJyYXkuZnJvbShkb20uY2hpbGROb2RlcylcbiAgICAgIC5maWx0ZXIoKGNoaWxkKSA9PiAoY2hpbGQgYXMgRG9tRWxlbWVudCkubm9kZVR5cGUgPT09IDEgfHwgKGNoaWxkIGFzIERvbUVsZW1lbnQpLm5vZGVUeXBlID09PSAzKVxuICAgICAgLm1hcCgoY2hpbGQpID0+IHtcbiAgICAgICAgaWYgKChjaGlsZCBhcyBEb21FbGVtZW50KS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiBkb21Ub1Zub2RlKGNoaWxkIGFzIERvbUVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRleHQgPSBuZXcgVm5vZGUoVGV4dFN0cmluZywge30sIFtdKTtcbiAgICAgICAgdGV4dC5ub2RlVmFsdWUgPSBTdHJpbmcoKGNoaWxkIGFzIERvbUVsZW1lbnQpLm5vZGVWYWx1ZSk7XG4gICAgICAgIHRleHQuZG9tID0gY2hpbGQgYXMgRG9tRWxlbWVudDtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICB9KVxuICApO1xuICBbXS5mb3JFYWNoLmNhbGwoZG9tLmF0dHJpYnV0ZXMsIChwcm9wOiBBdHRyKSA9PiAodm5vZGUucHJvcHNbcHJvcC5ub2RlTmFtZV0gPSBwcm9wLm5vZGVWYWx1ZSkpO1xuICB2bm9kZS5kb20gPSBkb207XG4gIHJldHVybiB2bm9kZSBhcyBWbm9kZVdpdGhEb207XG59XG5cbmNvbnN0IHRydXN0ID0gKGh0bWxTdHJpbmc6IHN0cmluZyk6IENoaWxkcmVuID0+IHtcbiAgbGV0IGRpdiA9IGNyZWF0ZURvbUVsZW1lbnQoXCJkaXZcIik7XG4gIGRpdi5pbm5lckhUTUwgPSBodG1sU3RyaW5nLnRyaW0oKTtcblxuICByZXR1cm4gW10ubWFwLmNhbGwoZGl2LmNoaWxkTm9kZXMsIChpdGVtKSA9PiBkb21Ub1Zub2RlKGl0ZW0pKSBhcyBDaGlsZHJlbjtcbn07XG5cbmNvbnN0IHJlc2VydmVkUHJvcHM6IFJlc2VydmVkUHJvcHMgPSB7XG4gIGtleTogdHJ1ZSxcbiAgc3RhdGU6IHRydWUsXG4gIG9uY3JlYXRlOiB0cnVlLFxuICBvbnVwZGF0ZTogdHJ1ZSxcbiAgb25yZW1vdmU6IHRydWUsXG4gIHNob3VsZHVwZGF0ZTogdHJ1ZSxcbiAgXCJ2LW9uY2VcIjogdHJ1ZSxcblxuICAvLyBCdWlsdCBpbiBkaXJlY3RpdmVzXG4gIFwidi1pZlwiOiB0cnVlLFxuICBcInYtdW5sZXNzXCI6IHRydWUsXG4gIFwidi1mb3JcIjogdHJ1ZSxcbiAgXCJ2LXNob3dcIjogdHJ1ZSxcbiAgXCJ2LWNsYXNzXCI6IHRydWUsXG4gIFwidi1odG1sXCI6IHRydWVcbn07XG5cbi8qKiogTW91bnQgKioqL1xuXG5jb25zdCBjdXJyZW50OiBDdXJyZW50ID0ge307XG5cbmZ1bmN0aW9uIG9uQ2xlYW51cChjYWxsYmFjazogRnVuY3Rpb24pIHtcbiAgaWYgKGN1cnJlbnQuYXBwPy5vbkNsZWFudXAuaW5kZXhPZihjYWxsYmFjaykgPT09IC0xKSB7XG4gICAgY3VycmVudC5hcHA/Lm9uQ2xlYW51cC5wdXNoKGNhbGxiYWNrKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvblVubW91bnQoY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gIGlmIChjdXJyZW50LmFwcD8ub25Vbm1vdW50LmluZGV4T2YoY2FsbGJhY2spID09PSAtMSkge1xuICAgIGN1cnJlbnQuYXBwPy5vblVubW91bnQucHVzaChjYWxsYmFjayk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25Nb3VudChjYWxsYmFjazogRnVuY3Rpb24pIHtcbiAgaWYgKGN1cnJlbnQuYXBwPy5vbk1vdW50LmluZGV4T2YoY2FsbGJhY2spID09PSAtMSkge1xuICAgIGN1cnJlbnQuYXBwPy5vbk1vdW50LnB1c2goY2FsbGJhY2spO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uVXBkYXRlKGNhbGxiYWNrOiBGdW5jdGlvbikge1xuICBpZiAoY3VycmVudC5hcHA/Lm9uVXBkYXRlLmluZGV4T2YoY2FsbGJhY2spID09PSAtMSkge1xuICAgIGN1cnJlbnQuYXBwPy5vblVwZGF0ZS5wdXNoKGNhbGxiYWNrKTtcbiAgfVxufVxuXG4vKlxuICAqIE1vdW50cyBhIGNvbXBvbmVudCB0byB0aGUgRE9NXG4gIG1vdW50KCcjYXBwJywgKCkgPT4gPGRpdj5IZWxsbyB3b3JsZDwvZGl2Pik7IC8vIEFwcCBpcyBhIEZ1bmN0aW9uYWwgQ29tcG9uZW50XG4gIG1vdW50KCcjYXBwJywgeyB2aWV3OiAoKSA9PiA8ZGl2PkhlbGxvIHdvcmxkPC9kaXY+IH0pOyAvLyBBcHAgaXMgYSBQT0pPIGNvbXBvbmVudCB3aXRoIGEgdmlldyBtZXRob2RcbiAgbW91bnQoJyNhcHAnLCBjbGFzc0luc3RhbmNlKTsgLy8gQXBwIGlzIGEgY2xhc3MgaW5zdGFuY2Ugd2l0aCBhIHZpZXcgbWV0aG9kXG4gIG1vdW50KCcjYXBwJywgPEFwcD48ZGl2PkhlbGxvIHdvcmxkPC9kaXY+PC9BcHA+KTsgLy8gQXBwIGlzIGEgVm5vZGUgY29tcG9uZW50IChWbm9kZSB3aXRoIHRhZyBfX2NvbXBvbmVudF9fKVxuKi9cblxuZnVuY3Rpb24gbW91bnQoY29udGFpbmVyOiBEb21FbGVtZW50IHwgc3RyaW5nLCBjb21wb25lbnQ6IFZhbHlyaWFuQ29tcG9uZW50IHwgSVZub2RlKTogdm9pZCB8IHN0cmluZyB7XG4gIGxldCBhcHBDb250YWluZXIgPSBudWxsO1xuXG4gIGlmIChpc05vZGVKcykge1xuICAgIGFwcENvbnRhaW5lciA9IHR5cGVvZiBjb250YWluZXIgPT09IFwic3RyaW5nXCIgPyBjcmVhdGVEb21FbGVtZW50KGNvbnRhaW5lciA9PT0gXCJzdmdcIiA/IFwic3ZnXCIgOiBcImRpdlwiLCBjb250YWluZXIgPT09IFwic3ZnXCIpIDogY29udGFpbmVyO1xuICB9IGVsc2Uge1xuICAgIGFwcENvbnRhaW5lciA9IHR5cGVvZiBjb250YWluZXIgPT09IFwic3RyaW5nXCIgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbnRhaW5lcilbMF0gOiBjb250YWluZXI7XG4gIH1cblxuICBpZiAoIWFwcENvbnRhaW5lcikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnRhaW5lciBub3QgZm91bmRcIik7XG4gIH1cblxuICBsZXQgdm5vZGVDb21wb25lbnQ6IFZub2RlQ29tcG9uZW50IHwgSVZub2RlO1xuXG4gIGlmIChpc1Zub2RlQ29tcG9uZW50KGNvbXBvbmVudCkpIHtcbiAgICB2bm9kZUNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgfSBlbHNlIGlmIChpc0NvbXBvbmVudChjb21wb25lbnQpKSB7XG4gICAgdm5vZGVDb21wb25lbnQgPSB2KGNvbXBvbmVudCwge30pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvbXBvbmVudCBtdXN0IGJlIGEgVmFseXJpYW4gQ29tcG9uZW50IG9yIGEgVm5vZGUgY29tcG9uZW50XCIpO1xuICB9XG5cbiAgaWYgKGNvbXBvbmVudFtWYWx5cmlhblN5bWJvbF0pIHtcbiAgICB1bm1vdW50KGNvbXBvbmVudCk7XG4gIH0gZWxzZSB7XG4gICAgY29tcG9uZW50W1ZhbHlyaWFuU3ltYm9sXSA9IHtcbiAgICAgIGlzTW91bnRlZDogZmFsc2UsXG4gICAgICBldmVudExpc3RlbmVyTmFtZXM6IHt9LFxuICAgICAgb25DbGVhbnVwOiBbXSxcbiAgICAgIG9uTW91bnQ6IFtdLFxuICAgICAgb25VcGRhdGU6IFtdLFxuICAgICAgb25Vbm1vdW50OiBbXVxuICAgIH07XG4gICAgZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcihlOiBFdmVudCkge1xuICAgICAgbGV0IGRvbSA9IGUudGFyZ2V0IGFzIERvbUVsZW1lbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgICAgbGV0IG5hbWUgPSBgdi1vbiR7ZS50eXBlfWA7XG4gICAgICB3aGlsZSAoZG9tKSB7XG4gICAgICAgIGlmIChkb21bbmFtZV0pIHtcbiAgICAgICAgICBkb21bbmFtZV0oZSwgZG9tKTtcbiAgICAgICAgICBpZiAoIWUuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgdXBkYXRlKGNvbXBvbmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkb20gPSBkb20ucGFyZW50Tm9kZSBhcyBEb21FbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnRbVmFseXJpYW5TeW1ib2xdLmV2ZW50TGlzdGVuZXIgPSBldmVudExpc3RlbmVyO1xuICB9XG5cbiAgY29tcG9uZW50W1ZhbHlyaWFuU3ltYm9sXS5jb21wb25lbnQgPSB2bm9kZUNvbXBvbmVudDtcbiAgY29tcG9uZW50W1ZhbHlyaWFuU3ltYm9sXS5jb250YWluZXIgPSBhcHBDb250YWluZXI7XG4gIGNvbXBvbmVudFtWYWx5cmlhblN5bWJvbF0ubWFpblZub2RlID0gZG9tVG9Wbm9kZShhcHBDb250YWluZXIpO1xuXG4gIC8vIHVwZGF0ZVxuICByZXR1cm4gdXBkYXRlKGNvbXBvbmVudCk7XG59XG5cbmZ1bmN0aW9uIGNhbGxDbGVhbnVwKHZhbHlyaWFuQXBwOiBWYWx5cmlhbkFwcCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHlyaWFuQXBwLm9uQ2xlYW51cC5sZW5ndGg7IGkrKykge1xuICAgIHZhbHlyaWFuQXBwLm9uQ2xlYW51cFtpXSgpO1xuICB9XG4gIHZhbHlyaWFuQXBwLm9uQ2xlYW51cCA9IFtdO1xufVxuXG5mdW5jdGlvbiBjYWxsVW5tb3VudCh2YWx5cmlhbkFwcDogVmFseXJpYW5BcHApIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx5cmlhbkFwcC5vblVubW91bnQubGVuZ3RoOyBpKyspIHtcbiAgICB2YWx5cmlhbkFwcC5vblVubW91bnRbaV0oKTtcbiAgfVxuICB2YWx5cmlhbkFwcC5vblVubW91bnQgPSBbXTtcbn1cblxuZnVuY3Rpb24gY2FsbE1vdW50KHZhbHlyaWFuQXBwOiBWYWx5cmlhbkFwcCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHlyaWFuQXBwLm9uTW91bnQubGVuZ3RoOyBpKyspIHtcbiAgICB2YWx5cmlhbkFwcC5vbk1vdW50W2ldKCk7XG4gIH1cbiAgdmFseXJpYW5BcHAub25Nb3VudCA9IFtdO1xufVxuXG5mdW5jdGlvbiBjYWxsVXBkYXRlKHZhbHlyaWFuQXBwOiBWYWx5cmlhbkFwcCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHlyaWFuQXBwLm9uVXBkYXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFseXJpYW5BcHAub25VcGRhdGVbaV0oKTtcbiAgfVxuICB2YWx5cmlhbkFwcC5vblVwZGF0ZSA9IFtdO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUoY29tcG9uZW50PzogVmFseXJpYW5Db21wb25lbnQgfCBJVm5vZGUpOiB2b2lkIHwgc3RyaW5nIHtcbiAgaWYgKGNvbXBvbmVudCAmJiBjb21wb25lbnRbVmFseXJpYW5TeW1ib2xdKSB7XG4gICAgbGV0IHZhbHlyaWFuQXBwID0gY29tcG9uZW50W1ZhbHlyaWFuU3ltYm9sXTtcbiAgICBjdXJyZW50LmFwcCA9IHZhbHlyaWFuQXBwO1xuICAgIHZhbHlyaWFuQXBwLm9uQ2xlYW51cC5sZW5ndGggJiYgY2FsbENsZWFudXAodmFseXJpYW5BcHApO1xuICAgIGxldCBvbGRWbm9kZTogVm5vZGVXaXRoRG9tIHwgbnVsbCA9IHZhbHlyaWFuQXBwLm1haW5Wbm9kZSBhcyBWbm9kZVdpdGhEb207XG4gICAgdmFseXJpYW5BcHAubWFpblZub2RlID0gbmV3IFZub2RlKHZhbHlyaWFuQXBwLm1haW5Wbm9kZS50YWcsIHZhbHlyaWFuQXBwLm1haW5Wbm9kZS5wcm9wcywgW3ZhbHlyaWFuQXBwLmNvbXBvbmVudF0pIGFzIFZub2RlV2l0aERvbTtcbiAgICB2YWx5cmlhbkFwcC5tYWluVm5vZGUuZG9tID0gb2xkVm5vZGUuZG9tO1xuICAgIHBhdGNoKHZhbHlyaWFuQXBwLm1haW5Wbm9kZSwgb2xkVm5vZGUsIHZhbHlyaWFuQXBwKTtcbiAgICBvbGRWbm9kZSA9IG51bGw7XG4gICAgaWYgKHZhbHlyaWFuQXBwLmlzTW91bnRlZCA9PT0gZmFsc2UpIHtcbiAgICAgIHZhbHlyaWFuQXBwLm9uTW91bnQubGVuZ3RoICYmIGNhbGxNb3VudCh2YWx5cmlhbkFwcCk7XG4gICAgICB2YWx5cmlhbkFwcC5pc01vdW50ZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx5cmlhbkFwcC5vblVwZGF0ZS5sZW5ndGggJiYgY2FsbFVwZGF0ZSh2YWx5cmlhbkFwcCk7XG4gICAgfVxuXG4gICAgaWYgKGlzTm9kZUpzKSB7XG4gICAgICByZXR1cm4gdmFseXJpYW5BcHAubWFpblZub2RlLmRvbS5pbm5lckhUTUw7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVubW91bnQoY29tcG9uZW50PzogVmFseXJpYW5Db21wb25lbnQgfCBJVm5vZGUpOiB2b2lkIHwgc3RyaW5nIHtcbiAgaWYgKCFjb21wb25lbnQgfHwgIWNvbXBvbmVudFtWYWx5cmlhblN5bWJvbF0pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgdmFseXJpYW5BcHAgPSBjb21wb25lbnRbVmFseXJpYW5TeW1ib2xdIGFzIE1vdW50ZWRWYWx5cmlhbkFwcDtcblxuICBpZiAodmFseXJpYW5BcHAuaXNNb3VudGVkKSB7XG4gICAgdmFseXJpYW5BcHAub25DbGVhbnVwLmxlbmd0aCAmJiBjYWxsQ2xlYW51cCh2YWx5cmlhbkFwcCk7XG4gICAgdmFseXJpYW5BcHAub25Vbm1vdW50Lmxlbmd0aCAmJiBjYWxsVW5tb3VudCh2YWx5cmlhbkFwcCk7XG4gICAgbGV0IG9sZFZub2RlOiBWbm9kZVdpdGhEb20gfCBudWxsID0gdmFseXJpYW5BcHAubWFpblZub2RlIGFzIFZub2RlV2l0aERvbTtcbiAgICB2YWx5cmlhbkFwcC5tYWluVm5vZGUgPSBuZXcgVm5vZGUodmFseXJpYW5BcHAubWFpblZub2RlLnRhZywgdmFseXJpYW5BcHAubWFpblZub2RlLnByb3BzLCBbXSkgYXMgVm5vZGVXaXRoRG9tO1xuICAgIHZhbHlyaWFuQXBwLm1haW5Wbm9kZS5kb20gPSBvbGRWbm9kZS5kb207XG4gICAgdmFseXJpYW5BcHAubWFpblZub2RlLmlzU1ZHID0gb2xkVm5vZGUuaXNTVkc7XG4gICAgcGF0Y2godmFseXJpYW5BcHAubWFpblZub2RlLCBvbGRWbm9kZSwgdmFseXJpYW5BcHApO1xuICAgIG9sZFZub2RlID0gbnVsbDtcblxuICAgIGlmIChpc05vZGVKcykge1xuICAgICAgcmV0dXJuIHZhbHlyaWFuQXBwLm1haW5Wbm9kZS5kb20uaW5uZXJIVE1MO1xuICAgIH1cblxuICAgICh2YWx5cmlhbkFwcCBhcyBhbnkpID0gbnVsbDtcbiAgICBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KGNvbXBvbmVudCwgVmFseXJpYW5TeW1ib2wpO1xuICB9XG59XG5cbmxldCBlbXB0eVZub2RlID0gbmV3IFZub2RlKFwiX19lbXB0eV9fXCIsIHt9LCBbXSk7XG5cbmZ1bmN0aW9uIG9ucmVtb3ZlKHZub2RlOiBJVm5vZGUpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2bm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIHZub2RlLmNoaWxkcmVuW2ldLnRhZyAhPT0gVGV4dFN0cmluZyAmJiBvbnJlbW92ZSh2bm9kZS5jaGlsZHJlbltpXSk7XG4gIH1cblxuICB2bm9kZS5wcm9wcy5vbnJlbW92ZSAmJiB2bm9kZS5wcm9wcy5vbnJlbW92ZSh2bm9kZSk7XG59XG5cbmZ1bmN0aW9uIHNoYXJlZFNldEF0dHJpYnV0ZShwcm9wOiBzdHJpbmcsIHZhbHVlOiBhbnksIHZub2RlOiBWbm9kZVdpdGhEb20sIG9sZFZub2RlPzogVm5vZGVXaXRoRG9tKTogdm9pZCB8IGJvb2xlYW4ge1xuICAvLyBJdCBpcyBhIHJlc2VydmVkIHByb3BcbiAgaWYgKHJlc2VydmVkUHJvcHNbcHJvcF0pIHtcbiAgICAvLyBJZiBpdCBpcyBhIGRpcmVjdGl2ZSBuYW1lIGNhbGwgdGhlIGRpcmVjdGl2ZVxuICAgIGlmIChkaXJlY3RpdmVzW3Byb3BdKSB7XG4gICAgICByZXR1cm4gZGlyZWN0aXZlc1twcm9wXSh2bm9kZS5wcm9wc1twcm9wXSwgdm5vZGUsIG9sZFZub2RlKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJdCBpcyBub3QgYSByZXNlcnZlZCBwcm9wIHNvIHdlIGFkZCBpdCB0byB0aGUgZG9tXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGxldCB2YWx5cmlhbkFwcCA9IGN1cnJlbnQuYXBwIGFzIE1vdW50ZWRWYWx5cmlhbkFwcDtcbiAgICBpZiAocHJvcCBpbiB2YWx5cmlhbkFwcC5ldmVudExpc3RlbmVyTmFtZXMgPT09IGZhbHNlKSB7XG4gICAgICB2YWx5cmlhbkFwcC5ldmVudExpc3RlbmVyTmFtZXNbcHJvcF0gPSB0cnVlO1xuICAgICAgdmFseXJpYW5BcHAuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIocHJvcC5zbGljZSgyKSwgdmFseXJpYW5BcHAuZXZlbnRMaXN0ZW5lcik7XG4gICAgfVxuICAgIHZub2RlLmRvbVtgdi0ke3Byb3B9YF0gPSB2YWx1ZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocHJvcCBpbiB2bm9kZS5kb20gJiYgdm5vZGUuaXNTVkcgPT09IGZhbHNlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgIGlmICh2bm9kZS5kb21bcHJvcF0gIT0gdmFsdWUpIHtcbiAgICAgIHZub2RlLmRvbVtwcm9wXSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBVc2Ugc2V0IGF0dHJpYnV0ZVxuICBpZiAoIW9sZFZub2RlIHx8IG9sZFZub2RlLnByb3BzW3Byb3BdICE9PSB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgIHZub2RlLmRvbS5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZub2RlLmRvbS5zZXRBdHRyaWJ1dGUocHJvcCwgdmFsdWUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55LCB2bm9kZTogVm5vZGVXaXRoRG9tLCBvbGRWbm9kZT86IFZub2RlV2l0aERvbSkge1xuICB2bm9kZS5wcm9wc1tuYW1lXSA9IHZhbHVlO1xuXG4gIHNoYXJlZFNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgdm5vZGUsIG9sZFZub2RlKTtcbn1cblxuZnVuY3Rpb24gc2V0QXR0cmlidXRlcyh2bm9kZTogVm5vZGVXaXRoRG9tLCBvbGRWbm9kZT86IFZub2RlV2l0aERvbSkge1xuICBmb3IgKGxldCBwcm9wIGluIHZub2RlLnByb3BzKSB7XG4gICAgaWYgKHNoYXJlZFNldEF0dHJpYnV0ZShwcm9wLCB2bm9kZS5wcm9wc1twcm9wXSwgdm5vZGUsIG9sZFZub2RlKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBpZiAob2xkVm5vZGUpIHtcbiAgICBmb3IgKGxldCBwcm9wIGluIG9sZFZub2RlLnByb3BzKSB7XG4gICAgICBpZiAocHJvcCBpbiB2bm9kZS5wcm9wcyA9PT0gZmFsc2UgJiYgdHlwZW9mIG9sZFZub2RlLnByb3BzW3Byb3BdICE9PSBcImZ1bmN0aW9uXCIgJiYgcHJvcCBpbiByZXNlcnZlZFByb3BzID09PSBmYWxzZSkge1xuICAgICAgICBpZiAocHJvcCBpbiBvbGRWbm9kZS5kb20gJiYgdm5vZGUuaXNTVkcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgb2xkVm5vZGUuZG9tW3Byb3BdID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbGRWbm9kZS5kb20ucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiBwYXRjaChuZXdWbm9kZTogVm5vZGVXaXRoRG9tLCBvbGRWbm9kZTogVm5vZGVXaXRoRG9tIHwgSVZub2RlID0gZW1wdHlWbm9kZSwgdmFseXJpYW5BcHA6IE1vdW50ZWRWYWx5cmlhbkFwcCkge1xuICBjdXJyZW50LnZub2RlID0gbmV3Vm5vZGU7XG4gIGN1cnJlbnQub2xkVm5vZGUgPSBvbGRWbm9kZSA9PT0gZW1wdHlWbm9kZSA/IFVuZCA6IChvbGRWbm9kZSBhcyBWbm9kZVdpdGhEb20pO1xuICBsZXQgbmV3VHJlZSA9IG5ld1Zub2RlLmNoaWxkcmVuO1xuICBsZXQgb2xkVHJlZSA9IG9sZFZub2RlLmNoaWxkcmVuO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VHJlZS5sZW5ndGg7IGkrKykge1xuICAgIGxldCBjaGlsZFZub2RlID0gbmV3VHJlZVtpXTtcbiAgICBpZiAoY2hpbGRWbm9kZSBpbnN0YW5jZW9mIFZub2RlKSB7XG4gICAgICBpZiAoY2hpbGRWbm9kZS50YWcgIT09IFRleHRTdHJpbmcpIHtcbiAgICAgICAgaWYgKGNoaWxkVm5vZGUudGFnID09PSBDb21wb25lbnRTdHJpbmcpIHtcbiAgICAgICAgICBsZXQgY29tcG9uZW50ID0gY2hpbGRWbm9kZS5jb21wb25lbnQgYXMgVmFseXJpYW5Db21wb25lbnQ7XG4gICAgICAgICAgY3VycmVudC5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IChcInZpZXdcIiBpbiBjb21wb25lbnQgPyBjb21wb25lbnQudmlldyA6IGNvbXBvbmVudCkuY2FsbChjb21wb25lbnQsIGNoaWxkVm5vZGUucHJvcHMsIC4uLmNoaWxkVm5vZGUuY2hpbGRyZW4pO1xuXG4gICAgICAgICAgbmV3VHJlZS5zcGxpY2UoaS0tLCAxLCByZXN1bHQpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkVm5vZGUuaXNTVkcgPSBuZXdWbm9kZS5pc1NWRyB8fCBjaGlsZFZub2RlLnRhZyA9PT0gXCJzdmdcIjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRWbm9kZSkpIHtcbiAgICAgIG5ld1RyZWUuc3BsaWNlKGktLSwgMSwgLi4uY2hpbGRWbm9kZSk7XG4gICAgfSBlbHNlIGlmIChjaGlsZFZub2RlID09PSBudWxsIHx8IGNoaWxkVm5vZGUgPT09IFVuZCkge1xuICAgICAgbmV3VHJlZS5zcGxpY2UoaS0tLCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3VHJlZVtpXSA9IG5ldyBWbm9kZShUZXh0U3RyaW5nLCB7fSwgW10pO1xuICAgICAgbmV3VHJlZVtpXS5ub2RlVmFsdWUgPSBjaGlsZFZub2RlO1xuICAgIH1cbiAgfVxuXG4gIGxldCBvbGRUcmVlTGVuZ3RoID0gb2xkVHJlZS5sZW5ndGg7XG4gIGxldCBuZXdUcmVlTGVuZ3RoID0gbmV3VHJlZS5sZW5ndGg7XG5cbiAgLy8gSWYgbmV3IHRyZWUgaXMgZW1wdHksIHJlbW92ZSBhbGwgb2xkIG5vZGVzXG4gIGlmIChuZXdUcmVlTGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbGRUcmVlTGVuZ3RoOyBpKyspIHtcbiAgICAgIG9sZFRyZWVbaV0udGFnICE9PSBUZXh0U3RyaW5nICYmIG9ucmVtb3ZlKG9sZFRyZWVbaV0pO1xuICAgIH1cblxuICAgIG5ld1Zub2RlLmRvbS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSWYgdGhlIHRyZWUgaXMga2V5ZWQgbGlzdCBhbmQgaXMgbm90IGZpcnN0IHJlbmRlciBhbmQgb2xkIHRyZWUgaXMga2V5ZWQgbGlzdCB0b29cbiAgaWYgKG9sZFRyZWVMZW5ndGggJiYgXCJrZXlcIiBpbiBuZXdUcmVlWzBdLnByb3BzICYmIFwia2V5XCIgaW4gb2xkVHJlZVswXS5wcm9wcykge1xuICAgIGxldCBvbGRLZXllZExpc3Q6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9sZFRyZWVMZW5ndGg7IGkrKykge1xuICAgICAgb2xkS2V5ZWRMaXN0W29sZFRyZWVbaV0ucHJvcHMua2V5XSA9IGk7XG4gICAgfVxuXG4gICAgbGV0IG5ld0tleWVkTGlzdDogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgICBuZXdLZXllZExpc3RbbmV3VHJlZVtpXS5wcm9wcy5rZXldID0gaTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1RyZWVMZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGNoaWxkVm5vZGUgPSBuZXdUcmVlW2ldO1xuICAgICAgbGV0IG9sZENoaWxkVm5vZGUgPSBvbGRUcmVlW29sZEtleWVkTGlzdFtjaGlsZFZub2RlLnByb3BzLmtleV1dO1xuICAgICAgbGV0IHNob3VsZFBhdGNoID0gdHJ1ZTtcblxuICAgICAgaWYgKG9sZENoaWxkVm5vZGUpIHtcbiAgICAgICAgY2hpbGRWbm9kZS5kb20gPSBvbGRDaGlsZFZub2RlLmRvbTtcbiAgICAgICAgaWYgKFwidi1vbmNlXCIgaW4gY2hpbGRWbm9kZS5wcm9wcyB8fCAoY2hpbGRWbm9kZS5wcm9wcy5zaG91bGR1cGRhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5zaG91bGR1cGRhdGUoY2hpbGRWbm9kZSwgb2xkQ2hpbGRWbm9kZSkgPT09IGZhbHNlKSkge1xuICAgICAgICAgIC8vIHNraXAgdGhpcyBwYXRjaFxuICAgICAgICAgIGNoaWxkVm5vZGUuY2hpbGRyZW4gPSBvbGRDaGlsZFZub2RlLmNoaWxkcmVuO1xuICAgICAgICAgIHNob3VsZFBhdGNoID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0QXR0cmlidXRlcyhjaGlsZFZub2RlLCBvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgICBpZiAodmFseXJpYW5BcHAuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICBjaGlsZFZub2RlLnByb3BzLm9udXBkYXRlICYmIGNoaWxkVm5vZGUucHJvcHMub251cGRhdGUoY2hpbGRWbm9kZSwgb2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShjaGlsZFZub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkVm5vZGUuZG9tID0gY3JlYXRlRG9tRWxlbWVudChjaGlsZFZub2RlLnRhZywgY2hpbGRWbm9kZS5pc1NWRyk7XG4gICAgICAgIHNldEF0dHJpYnV0ZXMoY2hpbGRWbm9kZSk7XG4gICAgICAgIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShjaGlsZFZub2RlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5ld1Zub2RlLmRvbS5jaGlsZE5vZGVzW2ldID09PSBVbmQpIHtcbiAgICAgICAgbmV3Vm5vZGUuZG9tLmFwcGVuZENoaWxkKGNoaWxkVm5vZGUuZG9tKTtcbiAgICAgIH0gZWxzZSBpZiAobmV3Vm5vZGUuZG9tLmNoaWxkTm9kZXNbaV0gIT09IGNoaWxkVm5vZGUuZG9tKSB7XG4gICAgICAgIG9sZFRyZWVbaV0gJiYgbmV3S2V5ZWRMaXN0W29sZFRyZWVbaV0ucHJvcHMua2V5XSA9PT0gVW5kICYmIG9ucmVtb3ZlKG9sZFRyZWVbaV0pO1xuICAgICAgICBuZXdWbm9kZS5kb20ucmVwbGFjZUNoaWxkKGNoaWxkVm5vZGUuZG9tLCBuZXdWbm9kZS5kb20uY2hpbGROb2Rlc1tpXSk7XG4gICAgICB9XG5cbiAgICAgIHNob3VsZFBhdGNoICYmIHBhdGNoKGNoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUsIHZhbHlyaWFuQXBwKTtcbiAgICB9XG5cbiAgICAvLyBGb3IgdGhlIHJlc3Qgb2YgdGhlIGNoaWxkcmVuLCB3ZSBzaG91bGQgcmVtb3ZlIHRoZW1cbiAgICBmb3IgKGxldCBpID0gbmV3VHJlZUxlbmd0aDsgaSA8IG9sZFRyZWVMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG5ld0tleWVkTGlzdFtvbGRUcmVlW2ldLnByb3BzLmtleV0gPT09IFVuZCkge1xuICAgICAgICBsZXQgb2xkQ2hpbGRWbm9kZSA9IG9sZFRyZWVbaV07XG4gICAgICAgIG9ucmVtb3ZlKG9sZENoaWxkVm5vZGUpO1xuICAgICAgICBvbGRDaGlsZFZub2RlLmRvbS5wYXJlbnROb2RlICYmIG9sZENoaWxkVm5vZGUuZG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQob2xkQ2hpbGRWbm9kZS5kb20pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIElmIG5ldyB0cmVlIGFuZCBvbGQgdHJlZSBoYXZlIG1vcmUgdGhhbiBvbmUgY2hpbGQsIHdlIHNob3VsZCB1cGRhdGUgdGhlIGRvbVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1RyZWVMZW5ndGg7IGkrKykge1xuICAgIGxldCBuZXdDaGlsZFZub2RlID0gbmV3VHJlZVtpXTtcblxuICAgIC8vIE9sZCBjaGlsZCBleGlzdHNcbiAgICBpZiAoaSA8IG9sZFRyZWVMZW5ndGgpIHtcbiAgICAgIGxldCBvbGRDaGlsZFZub2RlID0gb2xkVHJlZVtpXTtcbiAgICAgIC8vIE5ldyBjaGlsZCBpcyBhIHRleHQgbm9kZVxuICAgICAgaWYgKG5ld0NoaWxkVm5vZGUudGFnID09PSBUZXh0U3RyaW5nKSB7XG4gICAgICAgIC8vIE9sZCBjaGlsZCBpcyBhIHRleHQgbm9kZVxuICAgICAgICBpZiAob2xkQ2hpbGRWbm9kZS50YWcgPT09IFRleHRTdHJpbmcpIHtcbiAgICAgICAgICBuZXdDaGlsZFZub2RlLmRvbSA9IG9sZENoaWxkVm5vZGUuZG9tO1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgICAgICBpZiAobmV3Q2hpbGRWbm9kZS5kb20ubm9kZVZhbHVlICE9IG5ld0NoaWxkVm5vZGUubm9kZVZhbHVlKSB7XG4gICAgICAgICAgICBuZXdDaGlsZFZub2RlLmRvbS5ub2RlVmFsdWUgPSBuZXdDaGlsZFZub2RlLm5vZGVWYWx1ZSBhcyBzdHJpbmc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT2xkIGNoaWxkIGlzIGEgbm9ybWFsIG5vZGVcbiAgICAgICAgbmV3Q2hpbGRWbm9kZS5kb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuZXdDaGlsZFZub2RlLm5vZGVWYWx1ZSBhcyBzdHJpbmcpIGFzIHVua25vd24gYXMgRG9tRWxlbWVudDtcbiAgICAgICAgb25yZW1vdmUob2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgIG5ld1Zub2RlLmRvbS5yZXBsYWNlQ2hpbGQobmV3Q2hpbGRWbm9kZS5kb20sIG9sZENoaWxkVm5vZGUuZG9tKTtcblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gTmV3IGNoaWxkIGlzIGEgbm9ybWFsIG5vZGVcbiAgICAgIC8vIE9sZCBjaGlsZCBpcyB0aGUgc2FtZSB0eXBlIGFzIG5ldyBjaGlsZFxuICAgICAgaWYgKG9sZENoaWxkVm5vZGUudGFnID09PSBuZXdDaGlsZFZub2RlLnRhZykge1xuICAgICAgICBuZXdDaGlsZFZub2RlLmRvbSA9IG9sZENoaWxkVm5vZGUuZG9tO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgdi1vbmNlIGRpcmVjdGl2ZSBvciBhIHNob3VsZHVwZGF0ZSBtZXRob2QgdGhhdCByZXR1cm5zIGZhbHNlLCB3ZSBza2lwIHRoZSB1cGRhdGVcbiAgICAgICAgaWYgKG5ld0NoaWxkVm5vZGUucHJvcHNbXCJ2LW9uY2VcIl0gfHwgKG5ld0NoaWxkVm5vZGUucHJvcHMuc2hvdWxkdXBkYXRlICYmIG5ld0NoaWxkVm5vZGUucHJvcHMuc2hvdWxkdXBkYXRlKG5ld0NoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpID09PSBmYWxzZSkpIHtcbiAgICAgICAgICBuZXdDaGlsZFZub2RlLmNoaWxkcmVuID0gb2xkQ2hpbGRWbm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlIHVwZGF0ZSB0aGUgZG9tIGVsZW1lbnRcbiAgICAgICAgc2V0QXR0cmlidXRlcyhuZXdDaGlsZFZub2RlLCBvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgaWYgKHZhbHlyaWFuQXBwLmlzTW91bnRlZCkge1xuICAgICAgICAgIG5ld0NoaWxkVm5vZGUucHJvcHMub251cGRhdGUgJiYgbmV3Q2hpbGRWbm9kZS5wcm9wcy5vbnVwZGF0ZShuZXdDaGlsZFZub2RlLCBvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdDaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlICYmIG5ld0NoaWxkVm5vZGUucHJvcHMub25jcmVhdGUobmV3Q2hpbGRWbm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXRjaChuZXdDaGlsZFZub2RlLCBvbGRDaGlsZFZub2RlLCB2YWx5cmlhbkFwcCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBPbGQgY2hpbGQgaXMgb2YgYSBkaWZmZXJlbnQgdHlwZSB0aGFuIG5ldyBjaGlsZFxuICAgICAgbmV3Q2hpbGRWbm9kZS5kb20gPSBjcmVhdGVEb21FbGVtZW50KG5ld0NoaWxkVm5vZGUudGFnLCBuZXdDaGlsZFZub2RlLmlzU1ZHKTtcbiAgICAgIHNldEF0dHJpYnV0ZXMobmV3Q2hpbGRWbm9kZSk7XG4gICAgICBvbGRDaGlsZFZub2RlLnRhZyAhPT0gVGV4dFN0cmluZyAmJiBvbnJlbW92ZShvbGRDaGlsZFZub2RlKTtcbiAgICAgIG5ld0NoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgbmV3Q2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShuZXdDaGlsZFZub2RlKTtcbiAgICAgIG5ld1Zub2RlLmRvbS5yZXBsYWNlQ2hpbGQobmV3Q2hpbGRWbm9kZS5kb20sIG9sZENoaWxkVm5vZGUuZG9tKTtcbiAgICAgIHBhdGNoKG5ld0NoaWxkVm5vZGUsIGVtcHR5Vm5vZGUsIHZhbHlyaWFuQXBwKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIE9sZCBjaGlsZCBkb2VzIG5vdCBleGlzdHNcbiAgICAvLyBOZXcgY2hpbGQgaXMgYSB0ZXh0IG5vZGVcbiAgICBpZiAobmV3Q2hpbGRWbm9kZS50YWcgPT09IFRleHRTdHJpbmcpIHtcbiAgICAgIG5ld0NoaWxkVm5vZGUuZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3Q2hpbGRWbm9kZS5ub2RlVmFsdWUgYXMgc3RyaW5nKSBhcyB1bmtub3duIGFzIERvbUVsZW1lbnQ7XG4gICAgICBuZXdWbm9kZS5kb20uYXBwZW5kQ2hpbGQobmV3Q2hpbGRWbm9kZS5kb20pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gTmV3IGNoaWxkIGlzIGEgbm9ybWFsIG5vZGVcbiAgICBuZXdDaGlsZFZub2RlLmRvbSA9IGNyZWF0ZURvbUVsZW1lbnQobmV3Q2hpbGRWbm9kZS50YWcsIG5ld0NoaWxkVm5vZGUuaXNTVkcpO1xuICAgIHNldEF0dHJpYnV0ZXMobmV3Q2hpbGRWbm9kZSk7XG4gICAgbmV3Vm5vZGUuZG9tLmFwcGVuZENoaWxkKG5ld0NoaWxkVm5vZGUuZG9tKTtcbiAgICBuZXdDaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlICYmIG5ld0NoaWxkVm5vZGUucHJvcHMub25jcmVhdGUobmV3Q2hpbGRWbm9kZSk7XG4gICAgcGF0Y2gobmV3Q2hpbGRWbm9kZSwgZW1wdHlWbm9kZSwgdmFseXJpYW5BcHApO1xuICB9XG5cbiAgLy8gRm9yIHRoZSByZXN0IG9mIHRoZSBjaGlsZHJlbiwgd2Ugc2hvdWxkIHJlbW92ZSB0aGVtXG4gIGZvciAobGV0IGkgPSBuZXdUcmVlTGVuZ3RoOyBpIDwgb2xkVHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG9sZENoaWxkVm5vZGUgPSBvbGRUcmVlW2ldO1xuICAgIG9sZENoaWxkVm5vZGUudGFnICE9PSBUZXh0U3RyaW5nICYmIG9ucmVtb3ZlKG9sZENoaWxkVm5vZGUpO1xuICAgIG9sZENoaWxkVm5vZGUuZG9tLnBhcmVudE5vZGUgJiYgb2xkQ2hpbGRWbm9kZS5kb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvbGRDaGlsZFZub2RlLmRvbSk7XG4gIH1cbn1cblxuLyoqKiBEaXJlY3RpdmVzICoqKi9cblxuZnVuY3Rpb24gZGlyZWN0aXZlKG5hbWU6IHN0cmluZywgZGlyZWN0aXZlOiBEaXJlY3RpdmUpIHtcbiAgbGV0IGZ1bGxOYW1lID0gYHYtJHtuYW1lfWA7XG4gIGRpcmVjdGl2ZXNbZnVsbE5hbWVdID0gZGlyZWN0aXZlO1xuICByZXNlcnZlZFByb3BzW2Z1bGxOYW1lXSA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIGhpZGVEaXJlY3RpdmUodGVzdDogYm9vbGVhbik6IERpcmVjdGl2ZSB7XG4gIHJldHVybiAoYm9vbDogYm9vbGVhbiwgdm5vZGU6IElWbm9kZSwgb2xkVm5vZGU/OiBJVm5vZGUpID0+IHtcbiAgICBsZXQgdmFsdWUgPSB0ZXN0ID8gYm9vbCA6ICFib29sO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgbGV0IG5ld2RvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO1xuICAgICAgaWYgKG9sZFZub2RlICYmIG9sZFZub2RlLmRvbSAmJiBvbGRWbm9kZS5kb20ucGFyZW50Tm9kZSkge1xuICAgICAgICBvbGRWbm9kZS50YWcgIT09IFRleHRTdHJpbmcgJiYgb25yZW1vdmUob2xkVm5vZGUpO1xuICAgICAgICBvbGRWbm9kZS5kb20ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3ZG9tLCBvbGRWbm9kZS5kb20pO1xuICAgICAgfVxuICAgICAgdm5vZGUudGFnID0gVGV4dFN0cmluZztcbiAgICAgIHZub2RlLmNoaWxkcmVuID0gW107XG4gICAgICB2bm9kZS5wcm9wcyA9IHt9O1xuICAgICAgdm5vZGUuZG9tID0gbmV3ZG9tIGFzIHVua25vd24gYXMgRG9tRWxlbWVudDtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IGRpcmVjdGl2ZXM6IERpcmVjdGl2ZXMgPSB7XG4gIFwidi1pZlwiOiBoaWRlRGlyZWN0aXZlKGZhbHNlKSxcbiAgXCJ2LXVubGVzc1wiOiBoaWRlRGlyZWN0aXZlKHRydWUpLFxuICBcInYtZm9yXCI6IChzZXQ6IHVua25vd25bXSwgdm5vZGU6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgIHZub2RlLmNoaWxkcmVuID0gc2V0Lm1hcCh2bm9kZS5jaGlsZHJlblswXSk7XG4gIH0sXG4gIFwidi1zaG93XCI6IChib29sOiBib29sZWFuLCB2bm9kZTogVm5vZGVXaXRoRG9tKSA9PiB7XG4gICAgKHZub2RlLmRvbSBhcyB1bmtub3duIGFzIHsgc3R5bGU6IHsgZGlzcGxheTogc3RyaW5nIH0gfSkuc3R5bGUuZGlzcGxheSA9IGJvb2wgPyBcIlwiIDogXCJub25lXCI7XG4gIH0sXG4gIFwidi1jbGFzc1wiOiAoY2xhc3NlczogeyBbeDogc3RyaW5nXTogYm9vbGVhbiB9LCB2bm9kZTogVm5vZGVXaXRoRG9tKSA9PiB7XG4gICAgZm9yIChsZXQgbmFtZSBpbiBjbGFzc2VzKSB7XG4gICAgICAodm5vZGUuZG9tIGFzIERvbUVsZW1lbnQpLmNsYXNzTGlzdC50b2dnbGUobmFtZSwgY2xhc3Nlc1tuYW1lXSk7XG4gICAgfVxuICB9LFxuICBcInYtaHRtbFwiOiAoaHRtbDogc3RyaW5nLCB2bm9kZTogVm5vZGVXaXRoRG9tKSA9PiB7XG4gICAgdm5vZGUuY2hpbGRyZW4gPSBbdHJ1c3QoaHRtbCldO1xuICB9LFxuICBcInYtbW9kZWxcIjogKFttb2RlbCwgcHJvcGVydHksIGV2ZW50XTogYW55W10sIHZub2RlOiBWbm9kZVdpdGhEb20sIG9sZFZub2RlPzogVm5vZGVXaXRoRG9tKSA9PiB7XG4gICAgbGV0IHZhbHVlO1xuICAgIGxldCBoYW5kbGVyO1xuICAgIGlmICh2bm9kZS5uYW1lID09PSBcImlucHV0XCIpIHtcbiAgICAgIGV2ZW50ID0gZXZlbnQgfHwgXCJvbmlucHV0XCI7XG4gICAgICBzd2l0Y2ggKHZub2RlLnByb3BzLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6IHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtb2RlbFtwcm9wZXJ0eV0pKSB7XG4gICAgICAgICAgICBoYW5kbGVyID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGxldCB2YWwgPSAoZS50YXJnZXQgYXMgRG9tRWxlbWVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pLnZhbHVlO1xuICAgICAgICAgICAgICBsZXQgaWR4ID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsKTtcbiAgICAgICAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0ucHVzaCh2YWwpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2Yodm5vZGUuZG9tLnZhbHVlKSAhPT0gLTE7XG4gICAgICAgICAgfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gdm5vZGUucHJvcHMpIHtcbiAgICAgICAgICAgIGhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChtb2RlbFtwcm9wZXJ0eV0gPT09IHZub2RlLnByb3BzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldID0gbnVsbDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0gPSB2bm9kZS5wcm9wcy52YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldID09PSB2bm9kZS5wcm9wcy52YWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlciA9ICgpID0+IChtb2RlbFtwcm9wZXJ0eV0gPSAhbW9kZWxbcHJvcGVydHldKTtcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsIHZhbHVlLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJyYWRpb1wiOiB7XG4gICAgICAgICAgc2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLCBtb2RlbFtwcm9wZXJ0eV0gPT09IHZub2RlLmRvbS52YWx1ZSwgdm5vZGUsIG9sZFZub2RlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgbW9kZWxbcHJvcGVydHldLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2bm9kZS5uYW1lID09PSBcInNlbGVjdFwiKSB7XG4gICAgICBldmVudCA9IGV2ZW50IHx8IFwib25jbGlja1wiO1xuICAgICAgaWYgKHZub2RlLnByb3BzLm11bHRpcGxlKSB7XG4gICAgICAgIGhhbmRsZXIgPSAoZTogRXZlbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSA9PiB7XG4gICAgICAgICAgbGV0IHZhbCA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWU7XG4gICAgICAgICAgaWYgKGUuY3RybEtleSkge1xuICAgICAgICAgICAgbGV0IGlkeCA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZhbCk7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0ucHVzaCh2YWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKDAsIG1vZGVsW3Byb3BlcnR5XS5sZW5ndGgpO1xuICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnB1c2godmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBJVm5vZGUpID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudGFnID09PSBcIm9wdGlvblwiKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBcInZhbHVlXCIgaW4gY2hpbGQucHJvcHMgPyBjaGlsZC5wcm9wcy52YWx1ZSA6IGNoaWxkLmNoaWxkcmVuLmpvaW4oXCJcIikudHJpbSgpO1xuICAgICAgICAgICAgY2hpbGQucHJvcHMuc2VsZWN0ZWQgPSBtb2RlbFtwcm9wZXJ0eV0uaW5kZXhPZih2YWx1ZSkgIT09IC0xO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZDogSVZub2RlKSA9PiB7XG4gICAgICAgICAgaWYgKGNoaWxkLnRhZyA9PT0gXCJvcHRpb25cIikge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gXCJ2YWx1ZVwiIGluIGNoaWxkLnByb3BzID8gY2hpbGQucHJvcHMudmFsdWUgOiBjaGlsZC5jaGlsZHJlbi5qb2luKFwiXCIpLnRyaW0oKTtcbiAgICAgICAgICAgIGNoaWxkLnByb3BzLnNlbGVjdGVkID0gdmFsdWUgPT09IG1vZGVsW3Byb3BlcnR5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodm5vZGUubmFtZSA9PT0gXCJ0ZXh0YXJlYVwiKSB7XG4gICAgICBldmVudCA9IGV2ZW50IHx8IFwib25pbnB1dFwiO1xuICAgICAgdm5vZGUuY2hpbGRyZW4gPSBbbW9kZWxbcHJvcGVydHldXTtcbiAgICB9XG5cbiAgICBpZiAoIXZub2RlLnByb3BzW2V2ZW50XSkge1xuICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgIGhhbmRsZXIgPSAoZTogRXZlbnQpID0+IChtb2RlbFtwcm9wZXJ0eV0gPSAoZS50YXJnZXQgYXMgRG9tRWxlbWVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pLnZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHNldEF0dHJpYnV0ZShldmVudCwgaGFuZGxlciwgdm5vZGUsIG9sZFZub2RlKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKiogUGx1Z2lucyAqKiovXG5jb25zdCBwbHVnaW5zID0gbmV3IE1hcDxQbHVnaW4sIGFueT4oKTtcblxuZnVuY3Rpb24gdXNlKHBsdWdpbjogUGx1Z2luLCBvcHRpb25zPzogUmVjb3JkPHN0cmluZyB8IG51bWJlciB8IHN5bWJvbCwgYW55Pik6IHZvaWQgfCBhbnkge1xuICBpZiAocGx1Z2lucy5oYXMocGx1Z2luKSkge1xuICAgIHJldHVybiBwbHVnaW5zLmdldChwbHVnaW4pO1xuICB9XG5cbiAgbGV0IHJlc3VsdCA9IHBsdWdpbih2LCBvcHRpb25zKTtcbiAgcGx1Z2lucy5zZXQocGx1Z2luLCByZXN1bHQpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKioqIEh5cGVyc2NyaXB0ICoqKi9cblxuZXhwb3J0IGNvbnN0IHY6IFZhbHlyaWFuID0gZnVuY3Rpb24gdih0YWdPckNvbXBvbmVudDogc3RyaW5nIHwgVmFseXJpYW5Db21wb25lbnQsIHByb3BzOiBQcm9wcywgLi4uY2hpbGRyZW46IENoaWxkcmVuKTogSVZub2RlIHwgVm5vZGVDb21wb25lbnQge1xuICBpZiAodHlwZW9mIHRhZ09yQ29tcG9uZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIG5ldyBWbm9kZSh0YWdPckNvbXBvbmVudCwgcHJvcHMgfHwge30sIGNoaWxkcmVuKTtcbiAgfVxuXG4gIGNvbnN0IHZub2RlID0gbmV3IFZub2RlKFwiX19jb21wb25lbnRfX1wiLCBwcm9wcyB8fCB7fSwgY2hpbGRyZW4pO1xuICB2bm9kZS5jb21wb25lbnQgPSB0YWdPckNvbXBvbmVudDtcbiAgcmV0dXJuIHZub2RlIGFzIFZub2RlQ29tcG9uZW50O1xufTtcblxudi5mcmFnbWVudCA9IChwcm9wczogUHJvcHMsIC4uLmNoaWxkcmVuOiBDaGlsZHJlbik6IENoaWxkcmVuID0+IHtcbiAgcmV0dXJuIGNoaWxkcmVuO1xufTtcblxuLyoqKiBWIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgKioqL1xuLy8gVGhpcyBpcyBpbnRlbmRlZCB0byBtYWtlIHRoZSBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIGF2YWlsYWJsZSBmb3IgcGx1Z2luc1xudi5jdXJyZW50ID0gY3VycmVudDtcblxudi5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcblxudi5yZXNlcnZlZFByb3BzID0gcmVzZXJ2ZWRQcm9wcztcblxudi5pc1Zub2RlID0gaXNWbm9kZTtcbnYuaXNDb21wb25lbnQgPSBpc0NvbXBvbmVudDtcbnYuaXNWbm9kZUNvbXBvbmVudCA9IGlzVm5vZGVDb21wb25lbnQ7XG5cbnYuaXNOb2RlSnMgPSBpc05vZGVKcztcbnYudHJ1c3QgPSB0cnVzdDtcblxudi5vbkNsZWFudXAgPSBvbkNsZWFudXA7XG52Lm9uVW5tb3VudCA9IG9uVW5tb3VudDtcbnYub25Nb3VudCA9IG9uTW91bnQ7XG52Lm9uVXBkYXRlID0gb25VcGRhdGU7XG5cbnYubW91bnQgPSBtb3VudDtcbnYudW5tb3VudCA9IHVubW91bnQ7XG52LnVwZGF0ZSA9IHVwZGF0ZTtcblxudi5zZXRBdHRyaWJ1dGUgPSBzZXRBdHRyaWJ1dGU7XG52LmRpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcbnYudXNlID0gdXNlO1xuIl19