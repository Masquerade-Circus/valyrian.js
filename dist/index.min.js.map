//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2xpYi9pbmRleC50cyJdLCJuYW1lcyI6WyJWbm9kZSIsInRhZyIsInByb3BzIiwiY2hpbGRyZW4iLCJ0aGlzIiwiaXNDb21wb25lbnQiLCJjb21wb25lbnQiLCJpc1Zub2RlQ29tcG9uZW50Iiwidm5vZGUiLCJpc05vZGVKcyIsIkJvb2xlYW4iLCJwcm9jZXNzIiwidmVyc2lvbnMiLCJub2RlIiwiY3JlYXRlRG9tRWxlbWVudCIsImlzU1ZHIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVFbGVtZW50IiwiZG9tVG9Wbm9kZSIsImRvbSIsInYiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJBcnJheSIsImZyb20iLCJjaGlsZE5vZGVzIiwiZmlsdGVyIiwiY2hpbGQiLCJub2RlVHlwZSIsIm1hcCIsInRleHQiLCJub2RlVmFsdWUiLCJTdHJpbmciLCJmb3JFYWNoIiwiY2FsbCIsImF0dHJpYnV0ZXMiLCJwcm9wIiwibm9kZU5hbWUiLCJ0cnVzdCIsImh0bWxTdHJpbmciLCJkaXYiLCJpbm5lckhUTUwiLCJ0cmltIiwiaXRlbSIsIlZhbHlyaWFuU3ltYm9sIiwiU3ltYm9sIiwiY2FsbENsZWFudXAiLCJ2YWx5cmlhbkFwcCIsImkiLCJvbkNsZWFudXAiLCJsZW5ndGgiLCJ1cGRhdGUiLCJjdXJyZW50IiwiYXBwIiwib2xkVm5vZGUiLCJtYWluVm5vZGUiLCJwYXRjaCIsImlzTW91bnRlZCIsIm9uTW91bnQiLCJjYWxsTW91bnQiLCJvblVwZGF0ZSIsImNhbGxVcGRhdGUiLCJ1bm1vdW50Iiwib25Vbm1vdW50IiwiY2FsbFVubW91bnQiLCJSZWZsZWN0IiwiZGVsZXRlUHJvcGVydHkiLCJlbXB0eVZub2RlIiwib25yZW1vdmUiLCJzaGFyZWRVcGRhdGVQcm9wZXJ0eSIsInZhbHVlIiwicmVzZXJ2ZWRQcm9wcyIsImRpcmVjdGl2ZXMiLCJldmVudExpc3RlbmVyTmFtZXMiLCJjb250YWluZXIiLCJhZGRFdmVudExpc3RlbmVyIiwic2xpY2UiLCJldmVudExpc3RlbmVyIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwic2V0UHJvcGVydHkiLCJuYW1lIiwidXBkYXRlUHJvcGVydGllcyIsIm5ld1Zub2RlIiwibmV3VHJlZSIsImNoaWxkVm5vZGUiLCJyZXN1bHQiLCJ2aWV3Iiwic3BsaWNlIiwiaXNBcnJheSIsImZsYXRUcmVlIiwib2xkVHJlZSIsIm9sZFRyZWVMZW5ndGgiLCJuZXdUcmVlTGVuZ3RoIiwib2xkS2V5ZWRMaXN0IiwicmVkdWNlIiwiYWNjIiwia2V5IiwibmV3S2V5ZWRMaXN0Iiwib2xkQ2hpbGRWbm9kZSIsInNob3VsZFBhdGNoIiwic2hvdWxkdXBkYXRlIiwib251cGRhdGUiLCJvbmNyZWF0ZSIsImFwcGVuZENoaWxkIiwicmVwbGFjZUNoaWxkIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicGF0Y2hLZXllZFRyZWUiLCJuZXdDaGlsZFZub2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJwYXRjaE5vcm1hbFRyZWUiLCJ0ZXh0Q29udGVudCIsImhpZGVEaXJlY3RpdmUiLCJ0ZXN0IiwiYm9vbCIsIm5ld2RvbSIsImJ1aWx0SW5EaXJlY3RpdmVzIiwic2V0Iiwic3R5bGUiLCJkaXNwbGF5IiwiY2xhc3NlcyIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImh0bWwiLCJtb2RlbCIsInByb3BlcnR5IiwiZXZlbnQiLCJoYW5kbGVyIiwidHlwZSIsImUiLCJ2YWwiLCJ0YXJnZXQiLCJpZHgiLCJpbmRleE9mIiwicHVzaCIsIm11bHRpcGxlIiwiY3RybEtleSIsInZhbHVlMiIsImpvaW4iLCJzZWxlY3RlZCIsInRhZ09yQ29tcG9uZW50IiwiZnJhZ21lbnQiLCJzdGF0ZSIsImdsb2JhbCIsIndpbmRvdyIsImRpcmVjdGl2ZTIiLCJmdWxsTmFtZSIsInZub2RlQ29tcG9uZW50IiwiYXBwQ29udGFpbmVyIiwicXVlcnlTZWxlY3RvckFsbCIsIkVycm9yIiwiZGVmYXVsdFByZXZlbnRlZCIsImNhbGxiYWNrIl0sIm1hcHBp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cEIsS0FBTzlHLEdBQUssQ0FDVixHQUFJQSxFQUFJOEQsR0FLTixPQUpBOUQsRUFBSThELEdBQU1pRCxFQUFHL0csUUFDUitHLEVBQUVzQixrQkFDTHJHLEVBQU85QyxJQUlYYyxFQUFNQSxFQUFJdUYsYUFuQmRyRyxFQUFVdUMsR0FBa0IsQ0FDMUJhLFdBQVcsRUFDWGdCLG1CQUFvQixHQUNwQnhCLFVBQVcsR0FDWFMsUUFBUyxHQUNURSxTQUFVLEdBQ1ZHLFVBQVcsSUFnQmIxRCxFQUFVdUMsR0FBZ0JpQyxjQUFnQkEsRUFTNUMsT0FOQXhFLEVBQVV1QyxHQUFnQnZDLFVBQVkrSSxFQUN0Qy9JLEVBQVV1QyxHQUFnQjhCLFVBQVkyRSxFQUN0Q2hKLEVBQVV1QyxHQUFnQlcsVUFBWXJDLEVBQVdtSSxHQUNqRGhKLEVBQVV1QyxHQUFnQlcsVUFBVXpDLE1BQTBDLFFBQWxDVCxFQUFVdUMsR0FBZ0I1QyxJQUcvRG1ELEVBQU85QyxjQXpGVCxTQUFtQm9KLElBQzJCLElBQS9DckksRUFBRWdDLFFBQVFDLEtBQUtKLFVBQVVxRixRQUFRbUIsSUFDbkNySSxFQUFFZ0MsUUFBUUMsS0FBS0osVUFBVXNGLEtBQUtrQixZQVUzQixTQUFpQkEsSUFDMkIsSUFBN0NySSxFQUFFZ0MsUUFBUUMsS0FBS0ssUUFBUTRFLFFBQVFtQixJQUNqQ3JJLEVBQUVnQyxRQUFRQyxLQUFLSyxRQUFRNkUsS0FBS2tCLGNBUnpCLFNBQW1CQSxJQUMyQixJQUEvQ3JJLEVBQUVnQyxRQUFRQyxLQUFLVSxVQUFVdUUsUUFBUW1CLElBQ25DckksRUFBRWdDLFFBQVFDLEtBQUtVLFVBQVV3RSxLQUFLa0IsYUFVM0IsU0FBa0JBLElBQzJCLElBQTlDckksRUFBRWdDLFFBQVFDLEtBQUtPLFNBQVMwRSxRQUFRbUIsSUFDbENySSxFQUFFZ0MsUUFBUUMsS0FBS08sU0FBUzJFLEtBQUtrQiIsInNvdXJjZXNDb250ZW50IjpbIi8qKiogVm5vZGUgKioqL1xuXG5pbXBvcnQge1xuICBDaGlsZHJlbixcbiAgQ3VycmVudCxcbiAgRGlyZWN0aXZlLFxuICBEb21FbGVtZW50LFxuICBJVm5vZGUsXG4gIE1vdW50ZWRWYWx5cmlhbkFwcCxcbiAgUHJvcHMsXG4gIFZhbHlyaWFuLFxuICBWYWx5cmlhbkFwcCxcbiAgVmFseXJpYW5Db21wb25lbnQsXG4gIFZub2RlQ29tcG9uZW50LFxuICBWbm9kZVdpdGhEb21cbn0gZnJvbSBcIi4vaW50ZXJmYWNlc1wiO1xuXG5leHBvcnQgY29uc3QgVm5vZGUgPSBmdW5jdGlvbiBWbm9kZSh0aGlzOiBJVm5vZGUsIHRhZzogc3RyaW5nLCBwcm9wczogUHJvcHMsIGNoaWxkcmVuOiBDaGlsZHJlbikge1xuICB0aGlzLnByb3BzID0gcHJvcHM7XG4gIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgdGhpcy50YWcgPSB0YWc7XG59IGFzIHVua25vd24gYXMgSVZub2RlO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNWbm9kZShjb21wb25lbnQ/OiB1bmtub3duKTogY29tcG9uZW50IGlzIElWbm9kZSB7XG4gIHJldHVybiBjb21wb25lbnQgaW5zdGFuY2VvZiBWbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29tcG9uZW50KGNvbXBvbmVudD86IHVua25vd24gfCBWYWx5cmlhbkNvbXBvbmVudCk6IGNvbXBvbmVudCBpcyBWYWx5cmlhbkNvbXBvbmVudCB7XG4gIHJldHVybiB0eXBlb2YgY29tcG9uZW50ID09PSBcImZ1bmN0aW9uXCIgfHwgKHR5cGVvZiBjb21wb25lbnQgPT09IFwib2JqZWN0XCIgJiYgY29tcG9uZW50ICE9PSBudWxsICYmIFwidmlld1wiIGluIGNvbXBvbmVudCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Zub2RlQ29tcG9uZW50KHZub2RlPzogdW5rbm93bik6IHZub2RlIGlzIFZub2RlQ29tcG9uZW50IHtcbiAgcmV0dXJuIHZub2RlIGluc3RhbmNlb2YgVm5vZGUgJiYgdm5vZGUudGFnID09PSBcIl9fY29tcG9uZW50X19cIjtcbn1cblxuLyoqKiBVdGlsICoqKi9cblxuZXhwb3J0IGNvbnN0IGlzTm9kZUpzID0gQm9vbGVhbih0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzLnZlcnNpb25zICYmIHByb2Nlc3MudmVyc2lvbnMubm9kZSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZURvbUVsZW1lbnQodGFnOiBzdHJpbmcsIGlzU1ZHOiBib29sZWFuID0gZmFsc2UpIHtcbiAgcmV0dXJuIGlzU1ZHID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgdGFnKSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbn1cblxuZnVuY3Rpb24gZG9tVG9Wbm9kZShkb206IERvbUVsZW1lbnQpOiBWbm9kZVdpdGhEb20ge1xuICBsZXQgdm5vZGUgPSB2KFxuICAgIGRvbS50YWdOYW1lLnRvTG93ZXJDYXNlKCksXG4gICAge30sXG4gICAgLi4uQXJyYXkuZnJvbShkb20uY2hpbGROb2RlcylcbiAgICAgIC5maWx0ZXIoKGNoaWxkKSA9PiAoY2hpbGQgYXMgRG9tRWxlbWVudCkubm9kZVR5cGUgPT09IDEgfHwgKGNoaWxkIGFzIERvbUVsZW1lbnQpLm5vZGVUeXBlID09PSAzKVxuICAgICAgLm1hcCgoY2hpbGQpID0+IHtcbiAgICAgICAgaWYgKChjaGlsZCBhcyBEb21FbGVtZW50KS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiBkb21Ub1Zub2RlKGNoaWxkIGFzIERvbUVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRleHQgPSBuZXcgVm5vZGUoXCIjdGV4dFwiLCB7fSwgW10pO1xuICAgICAgICB0ZXh0Lm5vZGVWYWx1ZSA9IFN0cmluZygoY2hpbGQgYXMgRG9tRWxlbWVudCkubm9kZVZhbHVlKTtcbiAgICAgICAgdGV4dC5kb20gPSBjaGlsZCBhcyBEb21FbGVtZW50O1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgIH0pXG4gICk7XG4gIFtdLmZvckVhY2guY2FsbChkb20uYXR0cmlidXRlcywgKHByb3A6IEF0dHIpID0+ICh2bm9kZS5wcm9wc1twcm9wLm5vZGVOYW1lXSA9IHByb3Aubm9kZVZhbHVlKSk7XG4gIHZub2RlLmRvbSA9IGRvbTtcbiAgcmV0dXJuIHZub2RlIGFzIFZub2RlV2l0aERvbTtcbn1cblxuZXhwb3J0IGNvbnN0IHRydXN0ID0gKGh0bWxTdHJpbmc6IHN0cmluZykgPT4ge1xuICBsZXQgZGl2ID0gY3JlYXRlRG9tRWxlbWVudChcImRpdlwiKTtcbiAgZGl2LmlubmVySFRNTCA9IGh0bWxTdHJpbmcudHJpbSgpO1xuXG4gIHJldHVybiBbXS5tYXAuY2FsbChkaXYuY2hpbGROb2RlcywgKGl0ZW0pID0+IGRvbVRvVm5vZGUoaXRlbSkpIGFzIElWbm9kZVtdO1xufTtcblxuLyoqKiBNb3VudCAqKiovXG5cbmNvbnN0IFZhbHlyaWFuU3ltYm9sID0gU3ltYm9sKFwiVmFseXJpYW5cIik7XG5cbmV4cG9ydCBmdW5jdGlvbiBvbkNsZWFudXAoY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gIGlmICh2LmN1cnJlbnQuYXBwPy5vbkNsZWFudXAuaW5kZXhPZihjYWxsYmFjaykgPT09IC0xKSB7XG4gICAgdi5jdXJyZW50LmFwcD8ub25DbGVhbnVwLnB1c2goY2FsbGJhY2spO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvblVubW91bnQoY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gIGlmICh2LmN1cnJlbnQuYXBwPy5vblVubW91bnQuaW5kZXhPZihjYWxsYmFjaykgPT09IC0xKSB7XG4gICAgdi5jdXJyZW50LmFwcD8ub25Vbm1vdW50LnB1c2goY2FsbGJhY2spO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbk1vdW50KGNhbGxiYWNrOiBGdW5jdGlvbikge1xuICBpZiAodi5jdXJyZW50LmFwcD8ub25Nb3VudC5pbmRleE9mKGNhbGxiYWNrKSA9PT0gLTEpIHtcbiAgICB2LmN1cnJlbnQuYXBwPy5vbk1vdW50LnB1c2goY2FsbGJhY2spO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvblVwZGF0ZShjYWxsYmFjazogRnVuY3Rpb24pIHtcbiAgaWYgKHYuY3VycmVudC5hcHA/Lm9uVXBkYXRlLmluZGV4T2YoY2FsbGJhY2spID09PSAtMSkge1xuICAgIHYuY3VycmVudC5hcHA/Lm9uVXBkYXRlLnB1c2goY2FsbGJhY2spO1xuICB9XG59XG5cbi8qXG4gICogTW91bnRzIGEgY29tcG9uZW50IHRvIHRoZSBET01cbiAgbW91bnQoJyNhcHAnLCAoKSA9PiA8ZGl2PkhlbGxvIHdvcmxkPC9kaXY+KTsgLy8gQXBwIGlzIGEgRnVuY3Rpb25hbCBDb21wb25lbnRcbiAgbW91bnQoJyNhcHAnLCB7IHZpZXc6ICgpID0+IDxkaXY+SGVsbG8gd29ybGQ8L2Rpdj4gfSk7IC8vIEFwcCBpcyBhIFBPSk8gY29tcG9uZW50IHdpdGggYSB2aWV3IG1ldGhvZFxuICBtb3VudCgnI2FwcCcsIGNsYXNzSW5zdGFuY2UpOyAvLyBBcHAgaXMgYSBjbGFzcyBpbnN0YW5jZSB3aXRoIGEgdmlldyBtZXRob2RcbiAgbW91bnQoJyNhcHAnLCA8QXBwPjxkaXY+SGVsbG8gd29ybGQ8L2Rpdj48L0FwcD4pOyAvLyBBcHAgaXMgYSBWbm9kZSBjb21wb25lbnQgKFZub2RlIHdpdGggdGFnIF9fY29tcG9uZW50X18pXG4qL1xuXG5leHBvcnQgZnVuY3Rpb24gbW91bnQoY29udGFpbmVyOiBEb21FbGVtZW50IHwgc3RyaW5nLCBjb21wb25lbnQ6IFZhbHlyaWFuQ29tcG9uZW50IHwgSVZub2RlKSB7XG4gIGxldCBhcHBDb250YWluZXIgPSBudWxsO1xuXG4gIGlmIChpc05vZGVKcykge1xuICAgIGFwcENvbnRhaW5lciA9IHR5cGVvZiBjb250YWluZXIgPT09IFwic3RyaW5nXCIgPyBjcmVhdGVEb21FbGVtZW50KGNvbnRhaW5lciA9PT0gXCJzdmdcIiA/IFwic3ZnXCIgOiBcImRpdlwiLCBjb250YWluZXIgPT09IFwic3ZnXCIpIDogY29udGFpbmVyO1xuICB9IGVsc2Uge1xuICAgIGFwcENvbnRhaW5lciA9IHR5cGVvZiBjb250YWluZXIgPT09IFwic3RyaW5nXCIgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbnRhaW5lcilbMF0gOiBjb250YWluZXI7XG4gIH1cblxuICBpZiAoIWFwcENvbnRhaW5lcikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnRhaW5lciBub3QgZm91bmRcIik7XG4gIH1cblxuICBsZXQgdm5vZGVDb21wb25lbnQ6IFZub2RlQ29tcG9uZW50IHwgSVZub2RlO1xuXG4gIGlmIChpc1Zub2RlQ29tcG9uZW50KGNvbXBvbmVudCkpIHtcbiAgICB2bm9kZUNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgfSBlbHNlIGlmIChpc0NvbXBvbmVudChjb21wb25lbnQpKSB7XG4gICAgdm5vZGVDb21wb25lbnQgPSB2KGNvbXBvbmVudCwge30pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvbXBvbmVudCBtdXN0IGJlIGEgVmFseXJpYW4gQ29tcG9uZW50IG9yIGEgVm5vZGUgY29tcG9uZW50XCIpO1xuICB9XG5cbiAgaWYgKGNvbXBvbmVudFtWYWx5cmlhblN5bWJvbF0pIHtcbiAgICB1bm1vdW50KGNvbXBvbmVudCk7XG4gIH0gZWxzZSB7XG4gICAgY29tcG9uZW50W1ZhbHlyaWFuU3ltYm9sXSA9IHtcbiAgICAgIGlzTW91bnRlZDogZmFsc2UsXG4gICAgICBldmVudExpc3RlbmVyTmFtZXM6IHt9LFxuICAgICAgb25DbGVhbnVwOiBbXSxcbiAgICAgIG9uTW91bnQ6IFtdLFxuICAgICAgb25VcGRhdGU6IFtdLFxuICAgICAgb25Vbm1vdW50OiBbXVxuICAgIH07XG4gICAgZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcihlOiBFdmVudCkge1xuICAgICAgbGV0IGRvbSA9IGUudGFyZ2V0IGFzIERvbUVsZW1lbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgICAgbGV0IG5hbWUgPSBgdi1vbiR7ZS50eXBlfWA7XG4gICAgICB3aGlsZSAoZG9tKSB7XG4gICAgICAgIGlmIChkb21bbmFtZV0pIHtcbiAgICAgICAgICBkb21bbmFtZV0oZSwgZG9tKTtcbiAgICAgICAgICBpZiAoIWUuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgdXBkYXRlKGNvbXBvbmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkb20gPSBkb20ucGFyZW50Tm9kZSBhcyBEb21FbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgICBjb21wb25lbnRbVmFseXJpYW5TeW1ib2xdLmV2ZW50TGlzdGVuZXIgPSBldmVudExpc3RlbmVyO1xuICB9XG5cbiAgY29tcG9uZW50W1ZhbHlyaWFuU3ltYm9sXS5jb21wb25lbnQgPSB2bm9kZUNvbXBvbmVudDtcbiAgY29tcG9uZW50W1ZhbHlyaWFuU3ltYm9sXS5jb250YWluZXIgPSBhcHBDb250YWluZXI7XG4gIGNvbXBvbmVudFtWYWx5cmlhblN5bWJvbF0ubWFpblZub2RlID0gZG9tVG9Wbm9kZShhcHBDb250YWluZXIpO1xuICBjb21wb25lbnRbVmFseXJpYW5TeW1ib2xdLm1haW5Wbm9kZS5pc1NWRyA9IGNvbXBvbmVudFtWYWx5cmlhblN5bWJvbF0udGFnID09PSBcInN2Z1wiO1xuXG4gIC8vIHVwZGF0ZVxuICByZXR1cm4gdXBkYXRlKGNvbXBvbmVudCk7XG59XG5cbmZ1bmN0aW9uIGNhbGxDbGVhbnVwKHZhbHlyaWFuQXBwOiBWYWx5cmlhbkFwcCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHlyaWFuQXBwLm9uQ2xlYW51cC5sZW5ndGg7IGkrKykge1xuICAgIHZhbHlyaWFuQXBwLm9uQ2xlYW51cFtpXSgpO1xuICB9XG4gIHZhbHlyaWFuQXBwLm9uQ2xlYW51cCA9IFtdO1xufVxuXG5mdW5jdGlvbiBjYWxsVW5tb3VudCh2YWx5cmlhbkFwcDogVmFseXJpYW5BcHApIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx5cmlhbkFwcC5vblVubW91bnQubGVuZ3RoOyBpKyspIHtcbiAgICB2YWx5cmlhbkFwcC5vblVubW91bnRbaV0oKTtcbiAgfVxuICB2YWx5cmlhbkFwcC5vblVubW91bnQgPSBbXTtcbn1cblxuZnVuY3Rpb24gY2FsbE1vdW50KHZhbHlyaWFuQXBwOiBWYWx5cmlhbkFwcCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHlyaWFuQXBwLm9uTW91bnQubGVuZ3RoOyBpKyspIHtcbiAgICB2YWx5cmlhbkFwcC5vbk1vdW50W2ldKCk7XG4gIH1cbiAgdmFseXJpYW5BcHAub25Nb3VudCA9IFtdO1xufVxuXG5mdW5jdGlvbiBjYWxsVXBkYXRlKHZhbHlyaWFuQXBwOiBWYWx5cmlhbkFwcCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHlyaWFuQXBwLm9uVXBkYXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFseXJpYW5BcHAub25VcGRhdGVbaV0oKTtcbiAgfVxuICB2YWx5cmlhbkFwcC5vblVwZGF0ZSA9IFtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKGNvbXBvbmVudD86IFZhbHlyaWFuQ29tcG9uZW50IHwgSVZub2RlKSB7XG4gIGlmIChjb21wb25lbnQgJiYgY29tcG9uZW50W1ZhbHlyaWFuU3ltYm9sXSkge1xuICAgIGxldCB2YWx5cmlhbkFwcCA9IGNvbXBvbmVudFtWYWx5cmlhblN5bWJvbF07XG4gICAgdi5jdXJyZW50LmFwcCA9IHZhbHlyaWFuQXBwO1xuICAgIHZhbHlyaWFuQXBwLm9uQ2xlYW51cC5sZW5ndGggJiYgY2FsbENsZWFudXAodmFseXJpYW5BcHApO1xuICAgIGxldCBvbGRWbm9kZTogVm5vZGVXaXRoRG9tIHwgbnVsbCA9IHZhbHlyaWFuQXBwLm1haW5Wbm9kZSBhcyBWbm9kZVdpdGhEb207XG4gICAgdmFseXJpYW5BcHAubWFpblZub2RlID0gbmV3IFZub2RlKHZhbHlyaWFuQXBwLm1haW5Wbm9kZS50YWcsIHZhbHlyaWFuQXBwLm1haW5Wbm9kZS5wcm9wcywgW3ZhbHlyaWFuQXBwLmNvbXBvbmVudF0pIGFzIFZub2RlV2l0aERvbTtcbiAgICB2YWx5cmlhbkFwcC5tYWluVm5vZGUuZG9tID0gb2xkVm5vZGUuZG9tO1xuICAgIHZhbHlyaWFuQXBwLm1haW5Wbm9kZS5pc1NWRyA9IG9sZFZub2RlLmlzU1ZHO1xuICAgIHBhdGNoKHZhbHlyaWFuQXBwLm1haW5Wbm9kZSwgb2xkVm5vZGUsIHZhbHlyaWFuQXBwKTtcbiAgICBvbGRWbm9kZSA9IG51bGw7XG4gICAgaWYgKHZhbHlyaWFuQXBwLmlzTW91bnRlZCA9PT0gZmFsc2UpIHtcbiAgICAgIHZhbHlyaWFuQXBwLm9uTW91bnQubGVuZ3RoICYmIGNhbGxNb3VudCh2YWx5cmlhbkFwcCk7XG4gICAgICB2YWx5cmlhbkFwcC5pc01vdW50ZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx5cmlhbkFwcC5vblVwZGF0ZS5sZW5ndGggJiYgY2FsbFVwZGF0ZSh2YWx5cmlhbkFwcCk7XG4gICAgfVxuXG4gICAgaWYgKGlzTm9kZUpzKSB7XG4gICAgICByZXR1cm4gdmFseXJpYW5BcHAubWFpblZub2RlLmRvbS5pbm5lckhUTUw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bm1vdW50KGNvbXBvbmVudD86IFZhbHlyaWFuQ29tcG9uZW50IHwgSVZub2RlKSB7XG4gIGlmICghY29tcG9uZW50IHx8ICFjb21wb25lbnRbVmFseXJpYW5TeW1ib2xdKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IHZhbHlyaWFuQXBwID0gY29tcG9uZW50W1ZhbHlyaWFuU3ltYm9sXSBhcyBNb3VudGVkVmFseXJpYW5BcHA7XG5cbiAgaWYgKHZhbHlyaWFuQXBwLmlzTW91bnRlZCkge1xuICAgIHZhbHlyaWFuQXBwLm9uQ2xlYW51cC5sZW5ndGggJiYgY2FsbENsZWFudXAodmFseXJpYW5BcHApO1xuICAgIHZhbHlyaWFuQXBwLm9uVW5tb3VudC5sZW5ndGggJiYgY2FsbFVubW91bnQodmFseXJpYW5BcHApO1xuICAgIGxldCBvbGRWbm9kZTogVm5vZGVXaXRoRG9tIHwgbnVsbCA9IHZhbHlyaWFuQXBwLm1haW5Wbm9kZSBhcyBWbm9kZVdpdGhEb207XG4gICAgdmFseXJpYW5BcHAubWFpblZub2RlID0gbmV3IFZub2RlKHZhbHlyaWFuQXBwLm1haW5Wbm9kZS50YWcsIHZhbHlyaWFuQXBwLm1haW5Wbm9kZS5wcm9wcywgW10pIGFzIFZub2RlV2l0aERvbTtcbiAgICB2YWx5cmlhbkFwcC5tYWluVm5vZGUuZG9tID0gb2xkVm5vZGUuZG9tO1xuICAgIHZhbHlyaWFuQXBwLm1haW5Wbm9kZS5pc1NWRyA9IG9sZFZub2RlLmlzU1ZHO1xuICAgIHBhdGNoKHZhbHlyaWFuQXBwLm1haW5Wbm9kZSwgb2xkVm5vZGUsIHZhbHlyaWFuQXBwKTtcbiAgICBvbGRWbm9kZSA9IG51bGw7XG5cbiAgICBpZiAoaXNOb2RlSnMpIHtcbiAgICAgIHJldHVybiB2YWx5cmlhbkFwcC5tYWluVm5vZGUuZG9tLmlubmVySFRNTDtcbiAgICB9XG5cbiAgICAodmFseXJpYW5BcHAgYXMgYW55KSA9IG51bGw7XG4gICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShjb21wb25lbnQsIFZhbHlyaWFuU3ltYm9sKTtcbiAgfVxufVxuXG5sZXQgZW1wdHlWbm9kZSA9IG5ldyBWbm9kZShcIl9fZW1wdHlfX1wiLCB7fSwgW10pO1xuXG5mdW5jdGlvbiBvbnJlbW92ZSh2bm9kZTogSVZub2RlKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICB2bm9kZS5jaGlsZHJlbltpXS50YWcgIT09IFwiI3RleHRcIiAmJiBvbnJlbW92ZSh2bm9kZS5jaGlsZHJlbltpXSk7XG4gIH1cblxuICB2bm9kZS5wcm9wcy5vbnJlbW92ZSAmJiB2bm9kZS5wcm9wcy5vbnJlbW92ZSh2bm9kZSk7XG59XG5cbmZ1bmN0aW9uIHNoYXJlZFVwZGF0ZVByb3BlcnR5KHByb3A6IHN0cmluZywgdmFsdWU6IGFueSwgdm5vZGU6IFZub2RlV2l0aERvbSwgb2xkVm5vZGU/OiBWbm9kZVdpdGhEb20pIHtcbiAgLy8gSXQgaXMgYSByZXNlcnZlZCBwcm9wXG4gIGlmICh2LnJlc2VydmVkUHJvcHNbcHJvcF0pIHtcbiAgICAvLyBJZiBpdCBpcyBhIGRpcmVjdGl2ZSBuYW1lIGNhbGwgdGhlIGRpcmVjdGl2ZVxuICAgIGlmICh2LmRpcmVjdGl2ZXNbcHJvcF0pIHtcbiAgICAgIHYuZGlyZWN0aXZlc1twcm9wXSh2bm9kZS5wcm9wc1twcm9wXSwgdm5vZGUsIG9sZFZub2RlKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSXQgaXMgbm90IGEgcmVzZXJ2ZWQgcHJvcCBzbyB3ZSBhZGQgaXQgdG8gdGhlIGRvbVxuICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBsZXQgdmFseXJpYW5BcHAgPSB2LmN1cnJlbnQuYXBwIGFzIE1vdW50ZWRWYWx5cmlhbkFwcDtcbiAgICBpZiAocHJvcCBpbiB2YWx5cmlhbkFwcC5ldmVudExpc3RlbmVyTmFtZXMgPT09IGZhbHNlKSB7XG4gICAgICB2YWx5cmlhbkFwcC5ldmVudExpc3RlbmVyTmFtZXNbcHJvcF0gPSB0cnVlO1xuICAgICAgdmFseXJpYW5BcHAuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIocHJvcC5zbGljZSgyKSwgdmFseXJpYW5BcHAuZXZlbnRMaXN0ZW5lcik7XG4gICAgfVxuICAgIHZub2RlLmRvbVtgdi0ke3Byb3B9YF0gPSB2YWx1ZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocHJvcCBpbiB2bm9kZS5kb20gJiYgdm5vZGUuaXNTVkcgPT09IGZhbHNlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgIGlmICh2bm9kZS5kb21bcHJvcF0gIT0gdmFsdWUpIHtcbiAgICAgIHZub2RlLmRvbVtwcm9wXSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBVc2Ugc2V0IGF0dHJpYnV0ZVxuICBpZiAoIW9sZFZub2RlIHx8IG9sZFZub2RlLnByb3BzW3Byb3BdICE9PSB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgIHZub2RlLmRvbS5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZub2RlLmRvbS5zZXRBdHRyaWJ1dGUocHJvcCwgdmFsdWUpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0UHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55LCB2bm9kZTogVm5vZGVXaXRoRG9tLCBvbGRWbm9kZT86IFZub2RlV2l0aERvbSkge1xuICBpZiAobmFtZSBpbiB2bm9kZS5wcm9wcyA9PT0gZmFsc2UpIHtcbiAgICB2bm9kZS5wcm9wc1tuYW1lXSA9IHZhbHVlO1xuICB9XG5cbiAgc2hhcmVkVXBkYXRlUHJvcGVydHkobmFtZSwgdmFsdWUsIHZub2RlLCBvbGRWbm9kZSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVByb3BlcnRpZXModm5vZGU6IFZub2RlV2l0aERvbSwgb2xkVm5vZGU/OiBWbm9kZVdpdGhEb20pIHtcbiAgZm9yIChsZXQgcHJvcCBpbiB2bm9kZS5wcm9wcykge1xuICAgIC8vIFdlIGFzdW1lIHRoYXQgd2UgY2xlYW4gdGhlIHByb3BzIGluIHNvbWUgZGlyZWN0aXZlXG4gICAgaWYgKHByb3AgaW4gdm5vZGUucHJvcHMgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2hhcmVkVXBkYXRlUHJvcGVydHkocHJvcCwgdm5vZGUucHJvcHNbcHJvcF0sIHZub2RlLCBvbGRWbm9kZSk7XG4gIH1cblxuICBpZiAob2xkVm5vZGUpIHtcbiAgICBmb3IgKGxldCBwcm9wIGluIG9sZFZub2RlLnByb3BzKSB7XG4gICAgICBpZiAocHJvcCBpbiB2bm9kZS5wcm9wcyA9PT0gZmFsc2UgJiYgdHlwZW9mIG9sZFZub2RlLnByb3BzW3Byb3BdICE9PSBcImZ1bmN0aW9uXCIgJiYgcHJvcCBpbiB2LnJlc2VydmVkUHJvcHMgPT09IGZhbHNlKSB7XG4gICAgICAgIGlmIChwcm9wIGluIG9sZFZub2RlLmRvbSAmJiB2bm9kZS5pc1NWRyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBvbGRWbm9kZS5kb21bcHJvcF0gPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9sZFZub2RlLmRvbS5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmxhdFRyZWUobmV3Vm5vZGU6IElWbm9kZSk6IHZvaWQge1xuICBsZXQgbmV3VHJlZSA9IG5ld1Zub2RlLmNoaWxkcmVuO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1RyZWUubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgY2hpbGRWbm9kZSA9IG5ld1RyZWVbaV07XG4gICAgaWYgKGNoaWxkVm5vZGUgaW5zdGFuY2VvZiBWbm9kZSkge1xuICAgICAgaWYgKGNoaWxkVm5vZGUudGFnICE9PSBcIiN0ZXh0XCIpIHtcbiAgICAgICAgaWYgKGNoaWxkVm5vZGUudGFnID09PSBcIl9fY29tcG9uZW50X19cIikge1xuICAgICAgICAgIGxldCBjb21wb25lbnQgPSBjaGlsZFZub2RlLmNvbXBvbmVudCBhcyBWYWx5cmlhbkNvbXBvbmVudDtcbiAgICAgICAgICB2LmN1cnJlbnQuY29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgICAgICAgIGxldCByZXN1bHQgPSAoXCJ2aWV3XCIgaW4gY29tcG9uZW50ID8gY29tcG9uZW50LnZpZXcgOiBjb21wb25lbnQpLmNhbGwoY29tcG9uZW50LCBjaGlsZFZub2RlLnByb3BzLCAuLi5jaGlsZFZub2RlLmNoaWxkcmVuKTtcblxuICAgICAgICAgIG5ld1RyZWUuc3BsaWNlKGktLSwgMSwgcmVzdWx0KTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZFZub2RlLmlzU1ZHID0gbmV3Vm5vZGUuaXNTVkcgfHwgY2hpbGRWbm9kZS50YWcgPT09IFwic3ZnXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjaGlsZFZub2RlID09PSBudWxsIHx8IGNoaWxkVm5vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbmV3VHJlZS5zcGxpY2UoaS0tLCAxKTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRWbm9kZSkpIHtcbiAgICAgIG5ld1RyZWUuc3BsaWNlKGktLSwgMSwgLi4uY2hpbGRWbm9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpID4gMCAmJiBuZXdUcmVlW2kgLSAxXS50YWcgPT09IFwiI3RleHRcIikge1xuICAgICAgICBuZXdUcmVlW2kgLSAxXS5ub2RlVmFsdWUgKz0gY2hpbGRWbm9kZTtcbiAgICAgICAgbmV3VHJlZS5zcGxpY2UoaS0tLCAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1RyZWVbaV0gPSBuZXcgVm5vZGUoXCIjdGV4dFwiLCB7fSwgW10pO1xuICAgICAgICBuZXdUcmVlW2ldLm5vZGVWYWx1ZSA9IFN0cmluZyhjaGlsZFZub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcGF0Y2hLZXllZFRyZWUoXG4gIG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sXG4gIG5ld1RyZWU6IChWbm9kZVdpdGhEb20gJiB7IHByb3BzOiBQcm9wcyAmIHsga2V5OiBzdHJpbmcgfSB9KVtdLFxuICBvbGRUcmVlOiAoVm5vZGVXaXRoRG9tICYgeyBwcm9wczogUHJvcHMgJiB7IGtleTogc3RyaW5nIH0gfSlbXSxcbiAgbmV3VHJlZUxlbmd0aDogbnVtYmVyLFxuICBvbGRUcmVlTGVuZ3RoOiBudW1iZXIsXG4gIHZhbHlyaWFuQXBwOiBNb3VudGVkVmFseXJpYW5BcHBcbikge1xuICBsZXQgb2xkS2V5ZWRMaXN0ID0gb2xkVHJlZS5yZWR1Y2UoKGFjYywgdm5vZGUsIGkpID0+IHtcbiAgICBhY2Nbdm5vZGUucHJvcHMua2V5XSA9IGk7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30gYXMgeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSk7XG4gIGxldCBuZXdLZXllZExpc3QgPSBuZXdUcmVlLnJlZHVjZSgoYWNjLCB2bm9kZSwgaSkgPT4ge1xuICAgIGFjY1t2bm9kZS5wcm9wcy5rZXldID0gaTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSBhcyB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9KTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1RyZWVMZW5ndGg7IGkrKykge1xuICAgIGxldCBjaGlsZFZub2RlID0gbmV3VHJlZVtpXTtcbiAgICBsZXQgb2xkQ2hpbGRWbm9kZSA9IG9sZFRyZWVbb2xkS2V5ZWRMaXN0W2NoaWxkVm5vZGUucHJvcHMua2V5XV07XG4gICAgbGV0IHNob3VsZFBhdGNoID0gdHJ1ZTtcblxuICAgIGlmIChvbGRDaGlsZFZub2RlKSB7XG4gICAgICBjaGlsZFZub2RlLmRvbSA9IG9sZENoaWxkVm5vZGUuZG9tO1xuICAgICAgaWYgKFwidi1vbmNlXCIgaW4gY2hpbGRWbm9kZS5wcm9wcyB8fCAoY2hpbGRWbm9kZS5wcm9wcy5zaG91bGR1cGRhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5zaG91bGR1cGRhdGUoY2hpbGRWbm9kZSwgb2xkQ2hpbGRWbm9kZSkgPT09IGZhbHNlKSkge1xuICAgICAgICAvLyBza2lwIHRoaXMgcGF0Y2hcbiAgICAgICAgY2hpbGRWbm9kZS5jaGlsZHJlbiA9IG9sZENoaWxkVm5vZGUuY2hpbGRyZW47XG4gICAgICAgIHNob3VsZFBhdGNoID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVQcm9wZXJ0aWVzKGNoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICBpZiAodmFseXJpYW5BcHAuaXNNb3VudGVkKSB7XG4gICAgICAgICAgY2hpbGRWbm9kZS5wcm9wcy5vbnVwZGF0ZSAmJiBjaGlsZFZub2RlLnByb3BzLm9udXBkYXRlKGNoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShjaGlsZFZub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjaGlsZFZub2RlLmRvbSA9IGNyZWF0ZURvbUVsZW1lbnQoY2hpbGRWbm9kZS50YWcsIGNoaWxkVm5vZGUuaXNTVkcpO1xuICAgICAgdXBkYXRlUHJvcGVydGllcyhjaGlsZFZub2RlKTtcbiAgICAgIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShjaGlsZFZub2RlKTtcbiAgICB9XG5cbiAgICBpZiAobmV3Vm5vZGUuZG9tLmNoaWxkTm9kZXNbaV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgbmV3Vm5vZGUuZG9tLmFwcGVuZENoaWxkKGNoaWxkVm5vZGUuZG9tKTtcbiAgICB9IGVsc2UgaWYgKG5ld1Zub2RlLmRvbS5jaGlsZE5vZGVzW2ldICE9PSBjaGlsZFZub2RlLmRvbSkge1xuICAgICAgb2xkVHJlZVtpXSAmJiBuZXdLZXllZExpc3Rbb2xkVHJlZVtpXS5wcm9wcy5rZXldID09PSB1bmRlZmluZWQgJiYgb25yZW1vdmUob2xkVHJlZVtpXSk7XG4gICAgICBuZXdWbm9kZS5kb20ucmVwbGFjZUNoaWxkKGNoaWxkVm5vZGUuZG9tLCBuZXdWbm9kZS5kb20uY2hpbGROb2Rlc1tpXSk7XG4gICAgfVxuXG4gICAgc2hvdWxkUGF0Y2ggJiYgcGF0Y2goY2hpbGRWbm9kZSwgb2xkQ2hpbGRWbm9kZSwgdmFseXJpYW5BcHApO1xuICB9XG5cbiAgLy8gRm9yIHRoZSByZXN0IG9mIHRoZSBjaGlsZHJlbiwgd2Ugc2hvdWxkIHJlbW92ZSB0aGVtXG4gIGZvciAobGV0IGkgPSBuZXdUcmVlTGVuZ3RoOyBpIDwgb2xkVHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKG5ld0tleWVkTGlzdFtvbGRUcmVlW2ldLnByb3BzLmtleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IG9sZENoaWxkVm5vZGUgPSBvbGRUcmVlW2ldO1xuICAgICAgb25yZW1vdmUob2xkQ2hpbGRWbm9kZSk7XG4gICAgICBvbGRDaGlsZFZub2RlLmRvbS5wYXJlbnROb2RlICYmIG9sZENoaWxkVm5vZGUuZG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQob2xkQ2hpbGRWbm9kZS5kb20pO1xuICAgIH1cbiAgfVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gcGF0Y2hOb3JtYWxUcmVlKFxuICBuZXdWbm9kZTogVm5vZGVXaXRoRG9tLFxuICBuZXdUcmVlOiAoVm5vZGVXaXRoRG9tICYgeyBwcm9wczogUHJvcHMgJiB7IGtleTogc3RyaW5nIH0gfSlbXSxcbiAgb2xkVHJlZTogKFZub2RlV2l0aERvbSAmIHsgcHJvcHM6IFByb3BzICYgeyBrZXk6IHN0cmluZyB9IH0pW10sXG4gIG5ld1RyZWVMZW5ndGg6IG51bWJlcixcbiAgb2xkVHJlZUxlbmd0aDogbnVtYmVyLFxuICB2YWx5cmlhbkFwcDogTW91bnRlZFZhbHlyaWFuQXBwXG4pIHtcbiAgLy8gSWYgbmV3IHRyZWUgYW5kIG9sZCB0cmVlIGhhdmUgbW9yZSB0aGFuIG9uZSBjaGlsZCwgd2Ugc2hvdWxkIHVwZGF0ZSB0aGUgZG9tXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG9sZENoaWxkVm5vZGUgPSBvbGRUcmVlW2ldO1xuICAgIGxldCBuZXdDaGlsZFZub2RlID0gbmV3VHJlZVtpXTtcblxuICAgIC8vIE9sZCBjaGlsZCBkb2VzIG5vdCBleGlzdHNcbiAgICBpZiAoIW9sZENoaWxkVm5vZGUpIHtcbiAgICAgIC8vIE5ldyBjaGlsZCBpcyBhIHRleHQgbm9kZVxuICAgICAgaWYgKG5ld0NoaWxkVm5vZGUudGFnID09PSBcIiN0ZXh0XCIpIHtcbiAgICAgICAgbmV3Q2hpbGRWbm9kZS5kb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuZXdDaGlsZFZub2RlLm5vZGVWYWx1ZSBhcyBzdHJpbmcpIGFzIHVua25vd24gYXMgRG9tRWxlbWVudDtcbiAgICAgICAgbmV3Vm5vZGUuZG9tLmFwcGVuZENoaWxkKG5ld0NoaWxkVm5vZGUuZG9tKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIE5ldyBjaGlsZCBpcyBhIG5vcm1hbCBub2RlXG4gICAgICBuZXdDaGlsZFZub2RlLmRvbSA9IGNyZWF0ZURvbUVsZW1lbnQobmV3Q2hpbGRWbm9kZS50YWcsIG5ld0NoaWxkVm5vZGUuaXNTVkcpO1xuICAgICAgdXBkYXRlUHJvcGVydGllcyhuZXdDaGlsZFZub2RlKTtcbiAgICAgIG5ld1Zub2RlLmRvbS5hcHBlbmRDaGlsZChuZXdDaGlsZFZub2RlLmRvbSk7XG4gICAgICBuZXdDaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlICYmIG5ld0NoaWxkVm5vZGUucHJvcHMub25jcmVhdGUobmV3Q2hpbGRWbm9kZSk7XG4gICAgICBwYXRjaChuZXdDaGlsZFZub2RlLCB1bmRlZmluZWQsIHZhbHlyaWFuQXBwKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIE9sZCBjaGlsZCBleGlzdHNcbiAgICAvLyBOZXcgY2hpbGQgaXMgYSB0ZXh0IG5vZGVcbiAgICBpZiAobmV3Q2hpbGRWbm9kZS50YWcgPT09IFwiI3RleHRcIikge1xuICAgICAgLy8gT2xkIGNoaWxkIGlzIGEgdGV4dCBub2RlXG4gICAgICBpZiAob2xkQ2hpbGRWbm9kZS50YWcgPT09IFwiI3RleHRcIikge1xuICAgICAgICBuZXdDaGlsZFZub2RlLmRvbSA9IG9sZENoaWxkVm5vZGUuZG9tO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgIGlmIChuZXdDaGlsZFZub2RlLmRvbS5ub2RlVmFsdWUgIT0gbmV3Q2hpbGRWbm9kZS5ub2RlVmFsdWUpIHtcbiAgICAgICAgICBuZXdDaGlsZFZub2RlLmRvbS5ub2RlVmFsdWUgPSBuZXdDaGlsZFZub2RlLm5vZGVWYWx1ZSBhcyBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIE9sZCBjaGlsZCBpcyBhIG5vcm1hbCBub2RlXG4gICAgICBuZXdDaGlsZFZub2RlLmRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5ld0NoaWxkVm5vZGUubm9kZVZhbHVlIGFzIHN0cmluZykgYXMgdW5rbm93biBhcyBEb21FbGVtZW50O1xuICAgICAgb25yZW1vdmUob2xkQ2hpbGRWbm9kZSk7XG4gICAgICBuZXdWbm9kZS5kb20ucmVwbGFjZUNoaWxkKG5ld0NoaWxkVm5vZGUuZG9tLCBvbGRDaGlsZFZub2RlLmRvbSk7XG5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIE5ldyBjaGlsZCBpcyBhIG5vcm1hbCBub2RlXG4gICAgLy8gT2xkIGNoaWxkIGlzIHRoZSBzYW1lIHR5cGUgYXMgbmV3IGNoaWxkXG4gICAgaWYgKG9sZENoaWxkVm5vZGUudGFnID09PSBuZXdDaGlsZFZub2RlLnRhZykge1xuICAgICAgbmV3Q2hpbGRWbm9kZS5kb20gPSBvbGRDaGlsZFZub2RlLmRvbTtcbiAgICAgIC8vIElmIHdlIGhhdmUgYSB2LW9uY2UgZGlyZWN0aXZlIG9yIGEgc2hvdWxkdXBkYXRlIG1ldGhvZCB0aGF0IHJldHVybnMgZmFsc2UsIHdlIHNraXAgdGhlIHVwZGF0ZVxuICAgICAgaWYgKG5ld0NoaWxkVm5vZGUucHJvcHNbXCJ2LW9uY2VcIl0gfHwgKG5ld0NoaWxkVm5vZGUucHJvcHMuc2hvdWxkdXBkYXRlICYmIG5ld0NoaWxkVm5vZGUucHJvcHMuc2hvdWxkdXBkYXRlKG5ld0NoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpID09PSBmYWxzZSkpIHtcbiAgICAgICAgbmV3Q2hpbGRWbm9kZS5jaGlsZHJlbiA9IG9sZENoaWxkVm5vZGUuY2hpbGRyZW47XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSB1cGRhdGUgdGhlIGRvbSBlbGVtZW50XG4gICAgICB1cGRhdGVQcm9wZXJ0aWVzKG5ld0NoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpO1xuICAgICAgaWYgKHZhbHlyaWFuQXBwICYmIHZhbHlyaWFuQXBwLmlzTW91bnRlZCkge1xuICAgICAgICBuZXdDaGlsZFZub2RlLnByb3BzLm9udXBkYXRlICYmIG5ld0NoaWxkVm5vZGUucHJvcHMub251cGRhdGUobmV3Q2hpbGRWbm9kZSwgb2xkQ2hpbGRWbm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdDaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlICYmIG5ld0NoaWxkVm5vZGUucHJvcHMub25jcmVhdGUobmV3Q2hpbGRWbm9kZSk7XG4gICAgICB9XG4gICAgICBwYXRjaChuZXdDaGlsZFZub2RlLCBvbGRDaGlsZFZub2RlLCB2YWx5cmlhbkFwcCk7XG5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIE9sZCBjaGlsZCBpcyBvZiBhIGRpZmZlcmVudCB0eXBlIHRoYW4gbmV3IGNoaWxkXG4gICAgbmV3Q2hpbGRWbm9kZS5kb20gPSBjcmVhdGVEb21FbGVtZW50KG5ld0NoaWxkVm5vZGUudGFnLCBuZXdDaGlsZFZub2RlLmlzU1ZHKTtcbiAgICB1cGRhdGVQcm9wZXJ0aWVzKG5ld0NoaWxkVm5vZGUpO1xuICAgIGlmIChvbGRDaGlsZFZub2RlLnRhZyAhPT0gXCIjdGV4dFwiKSB7XG4gICAgICBvbnJlbW92ZShvbGRDaGlsZFZub2RlKTtcbiAgICB9XG4gICAgbmV3Q2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZSAmJiBuZXdDaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlKG5ld0NoaWxkVm5vZGUpO1xuICAgIG5ld1Zub2RlLmRvbS5yZXBsYWNlQ2hpbGQobmV3Q2hpbGRWbm9kZS5kb20sIG9sZENoaWxkVm5vZGUuZG9tKTtcbiAgICBwYXRjaChuZXdDaGlsZFZub2RlLCB1bmRlZmluZWQsIHZhbHlyaWFuQXBwKTtcbiAgfVxuXG4gIC8vIEZvciB0aGUgcmVzdCBvZiB0aGUgY2hpbGRyZW4sIHdlIHNob3VsZCByZW1vdmUgdGhlbVxuICBmb3IgKGxldCBpID0gbmV3VHJlZUxlbmd0aDsgaSA8IG9sZFRyZWVMZW5ndGg7IGkrKykge1xuICAgIGxldCBvbGRDaGlsZFZub2RlID0gb2xkVHJlZVtpXTtcbiAgICBpZiAob2xkQ2hpbGRWbm9kZS50YWcgIT09IFwiI3RleHRcIikge1xuICAgICAgb25yZW1vdmUob2xkQ2hpbGRWbm9kZSk7XG4gICAgfVxuICAgIG9sZENoaWxkVm5vZGUuZG9tLnBhcmVudE5vZGUgJiYgb2xkQ2hpbGRWbm9kZS5kb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvbGRDaGlsZFZub2RlLmRvbSk7XG4gIH1cbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHBhdGNoKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sIG9sZFZub2RlOiBWbm9kZVdpdGhEb20gPSBlbXB0eVZub2RlIGFzIFZub2RlV2l0aERvbSwgdmFseXJpYW5BcHA6IE1vdW50ZWRWYWx5cmlhbkFwcCkge1xuICB2LmN1cnJlbnQudm5vZGUgPSBuZXdWbm9kZTtcbiAgdi5jdXJyZW50Lm9sZFZub2RlID0gb2xkVm5vZGU7XG5cbiAgZmxhdFRyZWUobmV3Vm5vZGUpO1xuXG4gIGxldCBuZXdUcmVlID0gbmV3Vm5vZGUuY2hpbGRyZW47XG4gIGxldCBvbGRUcmVlID0gb2xkVm5vZGUuY2hpbGRyZW47XG4gIGxldCBvbGRUcmVlTGVuZ3RoID0gb2xkVHJlZS5sZW5ndGg7XG4gIGxldCBuZXdUcmVlTGVuZ3RoID0gbmV3VHJlZS5sZW5ndGg7XG5cbiAgLy8gSWYgbmV3IHRyZWUgaXMgZW1wdHksIHJlbW92ZSBhbGwgb2xkIG5vZGVzXG4gIGlmIChuZXdUcmVlTGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbGRUcmVlTGVuZ3RoOyBpKyspIHtcbiAgICAgIG9ucmVtb3ZlKG9sZFRyZWVbaV0pO1xuICAgIH1cblxuICAgIG5ld1Zub2RlLmRvbS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSWYgdGhlIHRyZWUgaXMga2V5ZWQgbGlzdCBhbmQgaXMgbm90IGZpcnN0IHJlbmRlciBhbmQgb2xkIHRyZWUgaXMga2V5ZWQgbGlzdCB0b29cbiAgaWYgKG9sZFRyZWVMZW5ndGggJiYgXCJrZXlcIiBpbiBuZXdUcmVlWzBdLnByb3BzICYmIFwia2V5XCIgaW4gb2xkVHJlZVswXS5wcm9wcykge1xuICAgIHBhdGNoS2V5ZWRUcmVlKG5ld1Zub2RlLCBuZXdUcmVlLCBvbGRUcmVlLCBuZXdUcmVlTGVuZ3RoLCBvbGRUcmVlTGVuZ3RoLCB2YWx5cmlhbkFwcCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcGF0Y2hOb3JtYWxUcmVlKG5ld1Zub2RlLCBuZXdUcmVlLCBvbGRUcmVlLCBuZXdUcmVlTGVuZ3RoLCBvbGRUcmVlTGVuZ3RoLCB2YWx5cmlhbkFwcCk7XG59XG5cbi8qKiogRGlyZWN0aXZlcyAqKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXJlY3RpdmUobmFtZTogc3RyaW5nLCBkaXJlY3RpdmU6IERpcmVjdGl2ZSkge1xuICBsZXQgZnVsbE5hbWUgPSBgdi0ke25hbWV9YDtcbiAgdi5kaXJlY3RpdmVzW2Z1bGxOYW1lXSA9IGRpcmVjdGl2ZTtcbiAgdi5yZXNlcnZlZFByb3BzW2Z1bGxOYW1lXSA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIGhpZGVEaXJlY3RpdmUodGVzdDogYm9vbGVhbik6IERpcmVjdGl2ZSB7XG4gIHJldHVybiAoYm9vbDogYm9vbGVhbiwgdm5vZGU6IElWbm9kZSwgb2xkVm5vZGU/OiBJVm5vZGUpID0+IHtcbiAgICBsZXQgdmFsdWUgPSB0ZXN0ID8gYm9vbCA6ICFib29sO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgbGV0IG5ld2RvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO1xuICAgICAgaWYgKG9sZFZub2RlICYmIG9sZFZub2RlLmRvbSAmJiBvbGRWbm9kZS5kb20ucGFyZW50Tm9kZSkge1xuICAgICAgICBvbGRWbm9kZS50YWcgIT09IFwiI3RleHRcIiAmJiBvbnJlbW92ZShvbGRWbm9kZSk7XG4gICAgICAgIG9sZFZub2RlLmRvbS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdkb20sIG9sZFZub2RlLmRvbSk7XG4gICAgICB9XG4gICAgICB2bm9kZS50YWcgPSBcIiN0ZXh0XCI7XG4gICAgICB2bm9kZS5jaGlsZHJlbiA9IFtdO1xuICAgICAgdm5vZGUucHJvcHMgPSB7fTtcbiAgICAgIHZub2RlLmRvbSA9IG5ld2RvbSBhcyB1bmtub3duIGFzIERvbUVsZW1lbnQ7XG4gICAgfVxuICB9O1xufVxuXG5jb25zdCBidWlsdEluRGlyZWN0aXZlcyA9IHtcbiAgXCJ2LWlmXCI6IGhpZGVEaXJlY3RpdmUoZmFsc2UpLFxuICBcInYtdW5sZXNzXCI6IGhpZGVEaXJlY3RpdmUodHJ1ZSksXG4gIFwidi1mb3JcIjogKHNldDogdW5rbm93bltdLCB2bm9kZTogVm5vZGVXaXRoRG9tKSA9PiB7XG4gICAgdm5vZGUuY2hpbGRyZW4gPSBzZXQubWFwKHZub2RlLmNoaWxkcmVuWzBdIGFzICh2YWx1ZTogdW5rbm93bikgPT4gRnVuY3Rpb24pO1xuICB9LFxuICBcInYtc2hvd1wiOiAoYm9vbDogYm9vbGVhbiwgdm5vZGU6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgICh2bm9kZS5kb20gYXMgdW5rbm93biBhcyB7IHN0eWxlOiB7IGRpc3BsYXk6IHN0cmluZyB9IH0pLnN0eWxlLmRpc3BsYXkgPSBib29sID8gXCJcIiA6IFwibm9uZVwiO1xuICB9LFxuICBcInYtY2xhc3NcIjogKGNsYXNzZXM6IHsgW3g6IHN0cmluZ106IGJvb2xlYW4gfSwgdm5vZGU6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgIGZvciAobGV0IG5hbWUgaW4gY2xhc3Nlcykge1xuICAgICAgKHZub2RlLmRvbSBhcyBEb21FbGVtZW50KS5jbGFzc0xpc3QudG9nZ2xlKG5hbWUsIGNsYXNzZXNbbmFtZV0pO1xuICAgIH1cbiAgfSxcbiAgXCJ2LWh0bWxcIjogKGh0bWw6IHN0cmluZywgdm5vZGU6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgIHZub2RlLmNoaWxkcmVuID0gW3RydXN0KGh0bWwpXTtcbiAgfSxcbiAgXCJ2LW1vZGVsXCI6IChbbW9kZWwsIHByb3BlcnR5LCBldmVudF06IGFueVtdLCB2bm9kZTogVm5vZGVXaXRoRG9tLCBvbGRWbm9kZT86IFZub2RlV2l0aERvbSkgPT4ge1xuICAgIGxldCB2YWx1ZTtcbiAgICBsZXQgaGFuZGxlcjtcbiAgICBpZiAodm5vZGUubmFtZSA9PT0gXCJpbnB1dFwiKSB7XG4gICAgICBldmVudCA9IGV2ZW50IHx8IFwib25pbnB1dFwiO1xuICAgICAgc3dpdGNoICh2bm9kZS5wcm9wcy50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJjaGVja2JveFwiOiB7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobW9kZWxbcHJvcGVydHldKSkge1xuICAgICAgICAgICAgaGFuZGxlciA9IChlOiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgICBsZXQgdmFsID0gKGUudGFyZ2V0IGFzIERvbUVsZW1lbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+KS52YWx1ZTtcbiAgICAgICAgICAgICAgbGV0IGlkeCA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZhbCk7XG4gICAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YWx1ZSA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZub2RlLmRvbS52YWx1ZSkgIT09IC0xO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIHZub2RlLnByb3BzKSB7XG4gICAgICAgICAgICBoYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAobW9kZWxbcHJvcGVydHldID09PSB2bm9kZS5wcm9wcy52YWx1ZSkge1xuICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XSA9IG51bGw7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldID0gdm5vZGUucHJvcHMudmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YWx1ZSA9IG1vZGVsW3Byb3BlcnR5XSA9PT0gdm5vZGUucHJvcHMudmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZXIgPSAoKSA9PiAobW9kZWxbcHJvcGVydHldID0gIW1vZGVsW3Byb3BlcnR5XSk7XG4gICAgICAgICAgICB2YWx1ZSA9IG1vZGVsW3Byb3BlcnR5XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0UHJvcGVydHkoXCJjaGVja2VkXCIsIHZhbHVlLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJyYWRpb1wiOiB7XG4gICAgICAgICAgc2V0UHJvcGVydHkoXCJjaGVja2VkXCIsIG1vZGVsW3Byb3BlcnR5XSA9PT0gdm5vZGUuZG9tLnZhbHVlLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBzZXRQcm9wZXJ0eShcInZhbHVlXCIsIG1vZGVsW3Byb3BlcnR5XSwgdm5vZGUsIG9sZFZub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodm5vZGUubmFtZSA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgZXZlbnQgPSBldmVudCB8fCBcIm9uY2xpY2tcIjtcbiAgICAgIGlmICh2bm9kZS5wcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICBoYW5kbGVyID0gKGU6IEV2ZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikgPT4ge1xuICAgICAgICAgIGxldCB2YWwgPSAoZS50YXJnZXQgYXMgRG9tRWxlbWVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pLnZhbHVlO1xuICAgICAgICAgIGlmIChlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgIGxldCBpZHggPSBtb2RlbFtwcm9wZXJ0eV0uaW5kZXhPZih2YWwpO1xuICAgICAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnB1c2godmFsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnNwbGljZSgwLCBtb2RlbFtwcm9wZXJ0eV0ubGVuZ3RoKTtcbiAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgIGlmIChjaGlsZC5uYW1lID09PSBcIm9wdGlvblwiKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBcInZhbHVlXCIgaW4gY2hpbGQucHJvcHMgPyBjaGlsZC5wcm9wcy52YWx1ZSA6IGNoaWxkLmNoaWxkcmVuLmpvaW4oXCJcIikudHJpbSgpO1xuICAgICAgICAgICAgY2hpbGQucHJvcHMuc2VsZWN0ZWQgPSBtb2RlbFtwcm9wZXJ0eV0uaW5kZXhPZih2YWx1ZSkgIT09IC0xO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgIGlmIChjaGlsZC5uYW1lID09PSBcIm9wdGlvblwiKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBcInZhbHVlXCIgaW4gY2hpbGQucHJvcHMgPyBjaGlsZC5wcm9wcy52YWx1ZSA6IGNoaWxkLmNoaWxkcmVuLmpvaW4oXCJcIikudHJpbSgpO1xuICAgICAgICAgICAgY2hpbGQucHJvcHMuc2VsZWN0ZWQgPSB2YWx1ZSA9PT0gbW9kZWxbcHJvcGVydHldO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2bm9kZS5uYW1lID09PSBcInRleHRhcmVhXCIpIHtcbiAgICAgIGV2ZW50ID0gZXZlbnQgfHwgXCJvbmlucHV0XCI7XG4gICAgICB2bm9kZS5jaGlsZHJlbiA9IFttb2RlbFtwcm9wZXJ0eV1dO1xuICAgIH1cblxuICAgIGlmICghdm5vZGUucHJvcHNbZXZlbnRdKSB7XG4gICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgaGFuZGxlciA9IChlOiBFdmVudCkgPT4gKG1vZGVsW3Byb3BlcnR5XSA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWUpO1xuICAgICAgfVxuICAgICAgc2V0UHJvcGVydHkoZXZlbnQsIGhhbmRsZXIsIHZub2RlLCBvbGRWbm9kZSk7XG4gICAgfVxuICB9XG59O1xuXG4vKioqIEh5cGVyc2NyaXB0ICoqKi9cblxuZXhwb3J0IGNvbnN0IHY6IFZhbHlyaWFuID0gZnVuY3Rpb24gdih0YWdPckNvbXBvbmVudDogc3RyaW5nIHwgVmFseXJpYW5Db21wb25lbnQsIHByb3BzOiBQcm9wcywgLi4uY2hpbGRyZW46IENoaWxkcmVuKTogSVZub2RlIHwgVm5vZGVDb21wb25lbnQge1xuICBpZiAodHlwZW9mIHRhZ09yQ29tcG9uZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIG5ldyBWbm9kZSh0YWdPckNvbXBvbmVudCwgcHJvcHMgfHwge30sIGNoaWxkcmVuKTtcbiAgfVxuXG4gIGNvbnN0IHZub2RlID0gbmV3IFZub2RlKFwiX19jb21wb25lbnRfX1wiLCBwcm9wcyB8fCB7fSwgY2hpbGRyZW4pO1xuICB2bm9kZS5jb21wb25lbnQgPSB0YWdPckNvbXBvbmVudDtcbiAgcmV0dXJuIHZub2RlIGFzIFZub2RlQ29tcG9uZW50O1xufTtcblxudi5mcmFnbWVudCA9IChwcm9wczogUHJvcHMsIC4uLmNoaWxkcmVuOiBDaGlsZHJlbik6IENoaWxkcmVuID0+IHtcbiAgcmV0dXJuIGNoaWxkcmVuO1xufTtcblxudi5jdXJyZW50ID0ge30gYXMgQ3VycmVudDtcblxudi5kaXJlY3RpdmVzID0geyAuLi5idWlsdEluRGlyZWN0aXZlcyB9O1xuXG52LnJlc2VydmVkUHJvcHMgPSB7XG4gIGtleTogdHJ1ZSxcbiAgc3RhdGU6IHRydWUsXG4gIG9uY3JlYXRlOiB0cnVlLFxuICBvbnVwZGF0ZTogdHJ1ZSxcbiAgb25yZW1vdmU6IHRydWUsXG4gIHNob3VsZHVwZGF0ZTogdHJ1ZSxcbiAgXCJ2LWNsZWFudXBcIjogdHJ1ZSxcbiAgXCJ2LW9uY2VcIjogdHJ1ZSxcblxuICAvLyBCdWlsdCBpbiBkaXJlY3RpdmVzXG4gIFwidi1pZlwiOiB0cnVlLFxuICBcInYtdW5sZXNzXCI6IHRydWUsXG4gIFwidi1mb3JcIjogdHJ1ZSxcbiAgXCJ2LXNob3dcIjogdHJ1ZSxcbiAgXCJ2LWNsYXNzXCI6IHRydWUsXG4gIFwidi1odG1sXCI6IHRydWVcbn07XG5cbigoaXNOb2RlSnMgPyBnbG9iYWwgOiB3aW5kb3cpIGFzIHVua25vd24gYXMgeyB2OiBWYWx5cmlhbiB9KS52ID0gdiBhcyBWYWx5cmlhbjtcbiJdfQ==