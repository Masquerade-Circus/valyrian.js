//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc05vZGVKcyIsIkJvb2xlYW4iLCJwcm9jZXNzIiwidmVyc2lvbnMiLCJub2RlIiwiVm5vZGUiLCJjb25zdHJ1Y3RvciIsInRhZyIsInByb3BzIiwiY2hpbGRyZW4iLCJkb20iLCJpc1NWRyIsInRoaXMiLCJpc1BPSk9Db21wb25lbnQiLCJjb21wb25lbnQiLCJpc0NvbXBvbmVudCIsImlzVm5vZGUiLCJvYmplY3QiLCJpc1Zub2RlQ29tcG9uZW50IiwidiIsInRhZ09yQ29tcG9uZW50IiwiaGlkcmF0ZURvbVRvVm5vZGUiLCJub2RlVHlwZSIsIm5vZGVWYWx1ZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJpIiwibCIsImNoaWxkTm9kZXMiLCJsZW5ndGgiLCJjaGlsZERvbSIsInB1c2giLCJjaGlsZFZub2RlIiwiYXR0cmlidXRlcyIsImF0dHIiLCJ2bm9kZSIsInRydXN0IiwiaHRtbFN0cmluZyIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRyaW0iLCJBcnJheSIsImZyb20iLCJtYXAiLCJmcmFnbWVudCIsIl8iLCJtYWluQ29tcG9uZW50IiwibWFpblZub2RlIiwiaXNNb3VudGVkIiwiY3VycmVudCIsImV2ZW50IiwicmVzZXJ2ZWRQcm9wcyIsIlNldCIsIm9uQ2xlYW51cFNldCIsIm9uTW91bnRTZXQiLCJvblVwZGF0ZVNldCIsIm9uVW5tb3VudFNldCIsIm9uQ2xlYW51cCIsImNhbGxiYWNrIiwiYWRkIiwiY2FsbFNldCIsInNldCIsImNsZWFyIiwiZGlyZWN0aXZlcyIsInZhbHVlIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiYm9vbCIsInN0eWxlIiwiZGlzcGxheSIsIm1vZGVsIiwicHJvcGVydHkiLCJuYW1lIiwiaGFuZGxlciIsImUiLCJ0YXJnZXQiLCJ0eXBlIiwiaXNBcnJheSIsInZhbCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJzaGFyZWRTZXRBdHRyaWJ1dGUiLCJtdWx0aXBsZSIsImN0cmxLZXkiLCJmb3JFYWNoIiwiY2hpbGQiLCJqb2luIiwic2VsZWN0ZWQiLCJwcmV2SGFuZGxlciIsIm9sZFByb3BzIiwiY2xlYW51cCIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNsYXNzIiwiaWQiLCJkb21TdHlsZSIsImRlYm91bmNlZFVwZGF0ZVRpbWVvdXQiLCJldmVudExpc3RlbmVyTmFtZXMiLCJldmVudExpc3RlbmVyIiwiZGVmYXVsdFByZXZlbnRlZCIsInVwZGF0ZSIsIm5ld1Zub2RlIiwibmV3Vm5vZGVEb20iLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJoYXMiLCJhZGRFdmVudExpc3RlbmVyIiwic2xpY2UiLCJ1cGRhdGVBdHRyaWJ1dGVzIiwidm5vZGVEb20iLCJ2bm9kZVByb3BzIiwiY3JlYXRlRWxlbWVudE5TIiwiZmxhdFRyZWUiLCJuZXdDaGlsZCIsIm9yaWdpbmFsQ2hpbGRyZW4iLCJ2aWV3IiwiYmluZCIsImNyZWF0ZU5ld0VsZW1lbnQiLCJvbGRDaGlsZCIsImFwcGVuZENoaWxkIiwidGV4dENvbnRlbnQiLCJwYXRjaCIsIm9sZERvbUNoaWxkcmVuIiwib2xkQ2hpbGRyZW5MZW5ndGgiLCJmaXJzdE9sZFByb3BzIiwiZmlyc3RWbm9kZSIsIm9sZFRyZWUiLCJvbGRLZXllZExpc3QiLCJuZXdLZXllZExpc3QiLCJrZXkiLCJjdXJyZW50Q2hpbGQiLCJyZW1vdmUiLCJwYXRjaEtleWVkIiwiY2hpbGRyZW5MZW5ndGgiLCJpc1RleHQiLCJuZXh0T2xkQ2hpbGQiLCJ1cGRhdGVWbm9kZSIsImNsZWFyRGVib3VuY2VkVXBkYXRlTWV0aG9kIiwiY2xlYXJUaW1lb3V0IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJzZXREZWJvdW5jZWRVcGRhdGVNZXRob2QiLCJzZXRUaW1lb3V0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZGlyZWN0aXZlIiwiZGlyZWN0aXZlTmFtZSIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJyZXN1bHQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUmVmbGVjdCIsImRlbGV0ZVByb3BlcnR5Il0sInNvdXJjZXMiOlsiLi4vbGliL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG5kZWNsYXJlIGdsb2JhbCB7XG4gIHZhciBkb2N1bWVudDogRG9jdW1lbnQ7XG4gIG5hbWVzcGFjZSBKU1gge1xuICAgIGludGVyZmFjZSBJbnRyaW5zaWNFbGVtZW50cyBleHRlbmRzIERlZmF1bHRSZWNvcmQge31cbiAgICB0eXBlIEVsZW1lbnQgPSBSZXR1cm5UeXBlPFxuICAgICAgdHlwZW9mIHYgfCAoKC4uLmFyZ3M6IGFueSkgPT4gc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZCB8IGJvb2xlYW4gfCBQcm9taXNlPGFueT4pXG4gICAgPjtcbiAgICB0eXBlIENvbXBvbmVudFJldHVyblR5cGUgPSBzdHJpbmcgfCBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkIHwgYm9vbGVhbiB8IEVsZW1lbnQgfCBFbGVtZW50W107XG4gIH1cbn1cblxuaW50ZXJmYWNlIERlZmF1bHRSZWNvcmQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nIHwgbnVtYmVyIHwgc3ltYm9sLCBhbnk+IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcGVydGllcyBleHRlbmRzIERlZmF1bHRSZWNvcmQge1xuICBrZXk/OiBzdHJpbmcgfCBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9tRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIERlZmF1bHRSZWNvcmQge31cblxuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnQgZXh0ZW5kcyBEZWZhdWx0UmVjb3JkIHtcbiAgKHByb3BzOiBQcm9wZXJ0aWVzLCBjaGlsZHJlbjogYW55W10pOiBWbm9kZSB8IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQT0pPQ29tcG9uZW50IGV4dGVuZHMgRGVmYXVsdFJlY29yZCB7XG4gIHZpZXc6IENvbXBvbmVudDtcbn1cblxuZXhwb3J0IHR5cGUgVmFseXJpYW5Db21wb25lbnQgPSBDb21wb25lbnQgfCBQT0pPQ29tcG9uZW50O1xuXG5leHBvcnQgaW50ZXJmYWNlIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlIGV4dGVuZHMgVm5vZGUge1xuICB0YWc6IFZhbHlyaWFuQ29tcG9uZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoaWxkcmVuIGV4dGVuZHMgQXJyYXk8Vm5vZGUgfCBWbm9kZUNvbXBvbmVudEludGVyZmFjZSB8IFZhbHlyaWFuQ29tcG9uZW50IHwgYW55PiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdGl2ZSB7XG4gICh2YWx1ZTogYW55LCB2bm9kZTogVm5vZGVXaXRoRG9tLCBvbGRQcm9wczogUHJvcGVydGllcyB8IG51bGwpOiBmYWxzZSB8IHZvaWQgfCBhbnk7XG59XG5cbmV4cG9ydCBjb25zdCBpc05vZGVKcyA9IEJvb2xlYW4odHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUpO1xuXG5leHBvcnQgY2xhc3MgVm5vZGUge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgdGFnOiBzdHJpbmcgfCBDb21wb25lbnQgfCBQT0pPQ29tcG9uZW50LFxuICAgIHB1YmxpYyBwcm9wczogbnVsbCB8IFByb3BlcnRpZXMsXG4gICAgcHVibGljIGNoaWxkcmVuOiBDaGlsZHJlbixcbiAgICBwdWJsaWMgZG9tPzogRG9tRWxlbWVudCxcbiAgICBwdWJsaWMgaXNTVkc/OiBib29sZWFuXG4gICkge31cbn1cblxuZXhwb3J0IGludGVyZmFjZSBWbm9kZVdpdGhEb20gZXh0ZW5kcyBWbm9kZSB7XG4gIHRhZzogc3RyaW5nO1xuICBkb206IERvbUVsZW1lbnQ7XG4gIHByb3BzOiBQcm9wZXJ0aWVzO1xufVxuXG5leHBvcnQgY29uc3QgaXNQT0pPQ29tcG9uZW50ID0gKGNvbXBvbmVudDogdW5rbm93bik6IGNvbXBvbmVudCBpcyBQT0pPQ29tcG9uZW50ID0+XG4gIEJvb2xlYW4oY29tcG9uZW50ICYmIHR5cGVvZiBjb21wb25lbnQgPT09IFwib2JqZWN0XCIgJiYgXCJ2aWV3XCIgaW4gY29tcG9uZW50KTtcblxuZXhwb3J0IGNvbnN0IGlzQ29tcG9uZW50ID0gKGNvbXBvbmVudDogdW5rbm93bik6IGNvbXBvbmVudCBpcyBDb21wb25lbnQgPT5cbiAgQm9vbGVhbih0eXBlb2YgY29tcG9uZW50ID09PSBcImZ1bmN0aW9uXCIgfHwgaXNQT0pPQ29tcG9uZW50KGNvbXBvbmVudCkpO1xuZXhwb3J0IGNvbnN0IGlzVm5vZGUgPSAob2JqZWN0PzogdW5rbm93bik6IG9iamVjdCBpcyBWbm9kZSA9PiBvYmplY3QgaW5zdGFuY2VvZiBWbm9kZTtcblxuZXhwb3J0IGNvbnN0IGlzVm5vZGVDb21wb25lbnQgPSAob2JqZWN0PzogdW5rbm93bik6IG9iamVjdCBpcyBWbm9kZUNvbXBvbmVudEludGVyZmFjZSA9PiB7XG4gIHJldHVybiBpc1Zub2RlKG9iamVjdCkgJiYgaXNDb21wb25lbnQob2JqZWN0LnRhZyk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdih0YWdPckNvbXBvbmVudDogc3RyaW5nIHwgVmFseXJpYW5Db21wb25lbnQsIHByb3BzOiBQcm9wZXJ0aWVzIHwgbnVsbCwgLi4uY2hpbGRyZW46IENoaWxkcmVuKSB7XG4gIHJldHVybiBuZXcgVm5vZGUodGFnT3JDb21wb25lbnQsIHByb3BzLCBjaGlsZHJlbik7XG59XG5cbnYuZnJhZ21lbnQgPSAoXzogUHJvcGVydGllcywgLi4uY2hpbGRyZW46IENoaWxkcmVuKSA9PiBjaGlsZHJlbjtcblxuZXhwb3J0IGZ1bmN0aW9uIGhpZHJhdGVEb21Ub1Zub2RlKGRvbTogYW55KTogVm5vZGVXaXRoRG9tIHwgdm9pZCB7XG4gIGlmIChkb20ubm9kZVR5cGUgPT09IDMpIHtcbiAgICByZXR1cm4gZG9tLm5vZGVWYWx1ZTtcbiAgfVxuXG4gIGlmIChkb20ubm9kZVR5cGUgPT09IDEpIHtcbiAgICBjb25zdCB0YWcgPSBkb20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBwcm9wcyA9IHt9IGFzIFByb3BlcnRpZXM7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBbXSBhcyBDaGlsZHJlbjtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gZG9tLmNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZERvbSA9IGRvbS5jaGlsZE5vZGVzW2ldO1xuICAgICAgaWYgKGNoaWxkRG9tLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGREb20ubm9kZVZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGREb20ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgY29uc3QgY2hpbGRWbm9kZSA9IGhpZHJhdGVEb21Ub1Zub2RlKGNoaWxkRG9tKTtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZFZub2RlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gZG9tLmF0dHJpYnV0ZXM7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3QgYXR0ciA9IGF0dHJpYnV0ZXNbaV07XG4gICAgICBwcm9wc1thdHRyLm5vZGVOYW1lXSA9IGF0dHIubm9kZVZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0IHZub2RlID0gbmV3IFZub2RlKHRhZywgcHJvcHMsIGNoaWxkcmVuKTtcbiAgICB2bm9kZS5kb20gPSBkb207XG4gICAgdm5vZGUuaXNTVkcgPSB0YWcgPT09IFwic3ZnXCI7XG4gICAgcmV0dXJuIHZub2RlIGFzIFZub2RlV2l0aERvbTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJ1c3QoaHRtbFN0cmluZzogc3RyaW5nKSB7XG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGRpdi5pbm5lckhUTUwgPSBodG1sU3RyaW5nLnRyaW0oKTtcbiAgcmV0dXJuIEFycmF5LmZyb20oZGl2LmNoaWxkTm9kZXMpLm1hcChoaWRyYXRlRG9tVG9Wbm9kZSk7XG59XG5cbmxldCBtYWluQ29tcG9uZW50OiBWbm9kZUNvbXBvbmVudEludGVyZmFjZSB8IG51bGwgPSBudWxsO1xubGV0IG1haW5Wbm9kZTogVm5vZGVXaXRoRG9tIHwgbnVsbCA9IG51bGw7XG5sZXQgaXNNb3VudGVkID0gZmFsc2U7XG5cbmV4cG9ydCBjb25zdCBjdXJyZW50ID0ge1xuICB2bm9kZTogbnVsbCBhcyBWbm9kZSB8IG51bGwsXG4gIGNvbXBvbmVudDogbnVsbCBhcyBWYWx5cmlhbkNvbXBvbmVudCB8IG51bGwsXG4gIGV2ZW50OiBudWxsIGFzIEV2ZW50IHwgbnVsbFxufTtcblxuZXhwb3J0IGNvbnN0IHJlc2VydmVkUHJvcHMgPSBuZXcgU2V0PHN0cmluZz4oW1xuICBcImtleVwiLFxuICBcInN0YXRlXCIsXG4gIFwidi1rZWVwXCIsXG4gIFwidi10ZXh0XCIsXG4gIFwidi1pZlwiLFxuICBcInYtZm9yXCIsXG4gIFwidi1zaG93XCIsXG4gIFwidi1jbGFzc1wiLFxuICBcInYtaHRtbFwiLFxuICBcInYtbW9kZWxcIixcbiAgXCJ2LWNyZWF0ZVwiLFxuICBcInYtdXBkYXRlXCIsXG4gIFwidi1jbGVhbnVwXCJcbl0pO1xuXG5jb25zdCBvbkNsZWFudXBTZXQgPSBuZXcgU2V0PEZ1bmN0aW9uPigpO1xuY29uc3Qgb25Nb3VudFNldCA9IG5ldyBTZXQ8RnVuY3Rpb24+KCk7XG5jb25zdCBvblVwZGF0ZVNldCA9IG5ldyBTZXQ8RnVuY3Rpb24+KCk7XG5jb25zdCBvblVubW91bnRTZXQgPSBuZXcgU2V0PEZ1bmN0aW9uPigpO1xuZXhwb3J0IGNvbnN0IG9uTW91bnQgPSAoY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiAhaXNNb3VudGVkICYmIG9uTW91bnRTZXQuYWRkKGNhbGxiYWNrKTtcbmV4cG9ydCBjb25zdCBvblVwZGF0ZSA9IChjYWxsYmFjazogRnVuY3Rpb24pID0+IG9uVXBkYXRlU2V0LmFkZChjYWxsYmFjayk7XG5leHBvcnQgY29uc3Qgb25DbGVhbnVwID0gKGNhbGxiYWNrOiBGdW5jdGlvbikgPT4gb25DbGVhbnVwU2V0LmFkZChjYWxsYmFjayk7XG5leHBvcnQgY29uc3Qgb25Vbm1vdW50ID0gKGNhbGxiYWNrOiBGdW5jdGlvbikgPT4gIWlzTW91bnRlZCAmJiBvblVubW91bnRTZXQuYWRkKGNhbGxiYWNrKTtcbmNvbnN0IGNhbGxTZXQgPSAoc2V0OiBTZXQ8RnVuY3Rpb24+KSA9PiB7XG4gIGZvciAoY29uc3QgY2FsbGJhY2sgb2Ygc2V0KSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxuICBzZXQuY2xlYXIoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkaXJlY3RpdmVzOiBSZWNvcmQ8c3RyaW5nLCBEaXJlY3RpdmU+ID0ge1xuICBcInYtaWZcIjogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIGlmICghQm9vbGVhbih2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IHBhcmVudE5vZGUgPSB2bm9kZS5kb20/LnBhcmVudE5vZGU7XG4gICAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgICBwYXJlbnROb2RlLnJlcGxhY2VDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSwgdm5vZGUuZG9tKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICBcInYtc2hvd1wiOiAodmFsdWUsIHZub2RlKSA9PiB7XG4gICAgY29uc3QgYm9vbCA9IEJvb2xlYW4odmFsdWUpO1xuICAgIChcbiAgICAgIHZub2RlLmRvbSBhcyB1bmtub3duIGFzIHtcbiAgICAgICAgc3R5bGU6IHsgZGlzcGxheTogc3RyaW5nIH07XG4gICAgICB9XG4gICAgKS5zdHlsZS5kaXNwbGF5ID0gYm9vbCA/IFwiXCIgOiBcIm5vbmVcIjtcbiAgfSxcblxuICBcInYtaHRtbFwiOiAodmFsdWUsIHZub2RlKSA9PiB7XG4gICAgdm5vZGUuY2hpbGRyZW4gPSB0cnVzdCh2YWx1ZSBhcyBzdHJpbmcpO1xuICB9LFxuXG4gIC8vIFRoZSBcInYtbW9kZWxcIiBkaXJlY3RpdmUgYmluZHMgdGhlIHZhbHVlIG9mIGFuIGlucHV0IGVsZW1lbnQgdG8gYSBtb2RlbCBwcm9wZXJ0eVxuICBcInYtbW9kZWxcIjogKG1vZGVsLCB2bm9kZSkgPT4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcbiAgICBpZiAoXCJuYW1lXCIgaW4gdm5vZGUucHJvcHMgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHZhbHVlO1xuICAgIGNvbnN0IHByb3BlcnR5ID0gdm5vZGUucHJvcHMubmFtZTtcbiAgICBsZXQgZXZlbnQgPSBcIm9uaW5wdXRcIjtcblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gdXBkYXRlcyB0aGUgbW9kZWwgcHJvcGVydHkgd2hlbiB0aGUgaW5wdXQgZWxlbWVudCdzIHZhbHVlIGNoYW5nZXNcbiAgICBsZXQgaGFuZGxlciA9IChlOiBFdmVudCkgPT4gKG1vZGVsW3Byb3BlcnR5XSA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWUpO1xuICAgIGlmICh2bm9kZS50YWcgPT09IFwiaW5wdXRcIikge1xuICAgICAgLy8gRGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIGlucHV0IGVsZW1lbnQsIHVzZSBhIGRpZmZlcmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICBzd2l0Y2ggKHZub2RlLnByb3BzLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6IHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtb2RlbFtwcm9wZXJ0eV0pKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgbW9kZWwgcHJvcGVydHkgaXMgYW4gYXJyYXksIGFkZCBvciByZW1vdmUgdGhlIHZhbHVlIGZyb20gdGhlIGFycmF5IHdoZW4gdGhlIGNoZWNrYm94IGlzIGNoZWNrZWQgb3IgdW5jaGVja2VkXG4gICAgICAgICAgICBoYW5kbGVyID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbCA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWU7XG4gICAgICAgICAgICAgIGNvbnN0IGlkeCA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZhbCk7XG4gICAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBJZiB0aGUgdmFsdWUgaXMgaW4gdGhlIGFycmF5LCBzZXQgdGhlIGNoZWNrYm94IHRvIGJlIGNoZWNrZWRcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2Yodm5vZGUuZG9tLnZhbHVlKSAhPT0gLTE7XG4gICAgICAgICAgfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gdm5vZGUucHJvcHMpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbnB1dCBlbGVtZW50IGhhcyBhIFwidmFsdWVcIiBhdHRyaWJ1dGUsIHVzZSBpdCB0byBkZXRlcm1pbmUgdGhlIGNoZWNrZWQgc3RhdGVcbiAgICAgICAgICAgIGhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChtb2RlbFtwcm9wZXJ0eV0gPT09IHZub2RlLnByb3BzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldID0gbnVsbDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0gPSB2bm9kZS5wcm9wcy52YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldID09PSB2bm9kZS5wcm9wcy52YWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gXCJ2YWx1ZVwiIGF0dHJpYnV0ZSwgdXNlIGEgYm9vbGVhbiB2YWx1ZSBmb3IgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgICAgICBoYW5kbGVyID0gKCkgPT4gKG1vZGVsW3Byb3BlcnR5XSA9ICFtb2RlbFtwcm9wZXJ0eV0pO1xuICAgICAgICAgICAgdmFsdWUgPSBtb2RlbFtwcm9wZXJ0eV07XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFNldCB0aGUgXCJjaGVja2VkXCIgYXR0cmlidXRlIG9uIHRoZSBpbnB1dCBlbGVtZW50XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLCB2YWx1ZSwgdm5vZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJyYWRpb1wiOiB7XG4gICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgYSByYWRpbyBidXR0b24sIHNldCB0aGUgXCJjaGVja2VkXCIgYXR0cmlidXRlIGJhc2VkIG9uIHRoZSB2YWx1ZSBvZiB0aGUgbW9kZWwgcHJvcGVydHlcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICBzaGFyZWRTZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsIG1vZGVsW3Byb3BlcnR5XSA9PT0gdm5vZGUuZG9tLnZhbHVlLCB2bm9kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIC8vIEZvciBhbGwgb3RoZXIgaW5wdXQgdHlwZXMsIHNldCB0aGUgXCJ2YWx1ZVwiIGF0dHJpYnV0ZSBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKFwidmFsdWVcIiwgbW9kZWxbcHJvcGVydHldLCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZub2RlLnRhZyA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgYSBzZWxlY3QgZWxlbWVudCwgdXNlIHRoZSBcImNsaWNrXCIgZXZlbnQgYnkgZGVmYXVsdFxuICAgICAgZXZlbnQgPSBcIm9uY2xpY2tcIjtcbiAgICAgIGlmICh2bm9kZS5wcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICAvLyBJZiB0aGUgc2VsZWN0IGVsZW1lbnQgYWxsb3dzIG11bHRpcGxlIHNlbGVjdGlvbnMsIHVwZGF0ZSB0aGUgbW9kZWwgcHJvcGVydHkgd2l0aCBhbiBhcnJheSBvZiBzZWxlY3RlZCB2YWx1ZXNcbiAgICAgICAgaGFuZGxlciA9IChlOiBFdmVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pID0+IHtcbiAgICAgICAgICBjb25zdCB2YWwgPSAoZS50YXJnZXQgYXMgRG9tRWxlbWVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pLnZhbHVlO1xuICAgICAgICAgIGlmIChlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBDdHJsIGtleSBpcyBwcmVzc2VkLCBhZGQgb3IgcmVtb3ZlIHRoZSB2YWx1ZSBmcm9tIHRoZSBhcnJheVxuICAgICAgICAgICAgY29uc3QgaWR4ID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsKTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBDdHJsIGtleSBpcyBub3QgcHJlc3NlZCwgc2V0IHRoZSBtb2RlbCBwcm9wZXJ0eSB0byBhbiBhcnJheSB3aXRoIHRoZSBzZWxlY3RlZCB2YWx1ZVxuICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnNwbGljZSgwLCBtb2RlbFtwcm9wZXJ0eV0ubGVuZ3RoKTtcbiAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBTZXQgdGhlIFwic2VsZWN0ZWRcIiBhdHRyaWJ1dGUgb24gdGhlIG9wdGlvbnMgYmFzZWQgb24gd2hldGhlciB0aGV5IGFyZSBpbiB0aGUgbW9kZWwgcHJvcGVydHkgYXJyYXlcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgICAgICAgIGlmIChjaGlsZC50YWcgPT09IFwib3B0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gXCJ2YWx1ZVwiIGluIGNoaWxkLnByb3BzID8gY2hpbGQucHJvcHMudmFsdWUgOiBjaGlsZC5jaGlsZHJlbi5qb2luKFwiXCIpLnRyaW0oKTtcbiAgICAgICAgICAgIGNoaWxkLnByb3BzLnNlbGVjdGVkID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsdWUpICE9PSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhlIHNlbGVjdCBlbGVtZW50IGRvZXMgbm90IGFsbG93IG11bHRpcGxlIHNlbGVjdGlvbnMsIHNldCB0aGUgXCJzZWxlY3RlZFwiIGF0dHJpYnV0ZSBvbiB0aGUgb3B0aW9ucyBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudGFnID09PSBcIm9wdGlvblwiKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IFwidmFsdWVcIiBpbiBjaGlsZC5wcm9wcyA/IGNoaWxkLnByb3BzLnZhbHVlIDogY2hpbGQuY2hpbGRyZW4uam9pbihcIlwiKS50cmltKCk7XG4gICAgICAgICAgICBjaGlsZC5wcm9wcy5zZWxlY3RlZCA9IHZhbHVlID09PSBtb2RlbFtwcm9wZXJ0eV07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZub2RlLnRhZyA9PT0gXCJ0ZXh0YXJlYVwiKSB7XG4gICAgICAvLyBTZXQgdGhlIHRleHRhcmVhJ3MgY29udGVudCB0byB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICB2bm9kZS5jaGlsZHJlbiA9IFttb2RlbFtwcm9wZXJ0eV1dO1xuICAgIH1cblxuICAgIC8vIFdlIGFzc3VtZSB0aGF0IHRoZSBwcmV2IGhhbmRsZXIgaWYgYW55IHdpbGwgbm90IGJlIGNoYW5nZWQgYnkgdGhlIHVzZXIgYWNyb3NzIHBhdGNoc1xuICAgIGNvbnN0IHByZXZIYW5kbGVyID0gdm5vZGUucHJvcHNbZXZlbnRdO1xuXG4gICAgLy8gU2V0IHRoZSBldmVudCBoYW5kbGVyIG9uIHRoZSBlbGVtZW50XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgc2hhcmVkU2V0QXR0cmlidXRlKFxuICAgICAgZXZlbnQsXG4gICAgICAoZTogRXZlbnQpID0+IHtcbiAgICAgICAgaGFuZGxlcihlKTtcblxuICAgICAgICAvLyBJZiB0aGUgcHJldmlvdXMgaGFuZGxlciBpcyBkZWZpbmVkLCBjYWxsIGl0IGFmdGVyIHRoZSBtb2RlbCBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICAgIGlmIChwcmV2SGFuZGxlcikge1xuICAgICAgICAgIHByZXZIYW5kbGVyKGUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdm5vZGVcbiAgICApO1xuICB9LFxuXG4gIFwidi1jcmVhdGVcIjogKGNhbGxiYWNrLCB2bm9kZSwgb2xkUHJvcHMpID0+IHtcbiAgICBpZiAoIW9sZFByb3BzKSB7XG4gICAgICBjb25zdCBjbGVhbnVwID0gY2FsbGJhY2sodm5vZGUpO1xuXG4gICAgICBpZiAodHlwZW9mIGNsZWFudXAgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBvbkNsZWFudXAoY2xlYW51cCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIFwidi11cGRhdGVcIjogKGNhbGxiYWNrLCB2bm9kZSwgb2xkUHJvcHMpID0+IHtcbiAgICBpZiAob2xkUHJvcHMpIHtcbiAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsYmFjayh2bm9kZSwgb2xkUHJvcHMpO1xuXG4gICAgICBpZiAodHlwZW9mIGNsZWFudXAgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBvbkNsZWFudXAoY2xlYW51cCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIFwidi1jbGVhbnVwXCI6IChjYWxsYmFjaywgdm5vZGUpID0+IHtcbiAgICBvbkNsZWFudXAoKCkgPT4gY2FsbGJhY2sodm5vZGUpKTtcbiAgfSxcblxuICBcInYtY2xhc3NcIjogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHZub2RlLmRvbS5jbGFzc05hbWUgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2bm9kZS5kb20uY2xhc3NOYW1lID0gdmFsdWUuam9pbihcIiBcIik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IHZub2RlLmRvbS5jbGFzc0xpc3Q7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWUpIHtcbiAgICAgICAgY29uc3QgdmFsID0gdHlwZW9mIHZhbHVlW25hbWVdID09PSBcImZ1bmN0aW9uXCIgPyAodmFsdWVbbmFtZV0gYXMgRnVuY3Rpb24pKCkgOiB2YWx1ZVtuYW1lXTtcbiAgICAgICAgY2xhc3NMaXN0LnRvZ2dsZShuYW1lLCB2YWwpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvLyBGcmVxdWVudCB1c2VkIHByb3BlcnRpZXNcbiAgY2xhc3ModmFsdWUsIHZub2RlKSB7XG4gICAgaWYgKHZub2RlLmRvbS5jbGFzc05hbWUgIT09IHZhbHVlKSB7XG4gICAgICB2bm9kZS5kb20uY2xhc3NOYW1lID0gdmFsdWU7XG4gICAgfVxuICB9LFxuXG4gIGNsYXNzTmFtZSh2YWx1ZSwgdm5vZGUpIHtcbiAgICBkaXJlY3RpdmVzLmNsYXNzKHZhbHVlLCB2bm9kZSwgbnVsbCk7XG4gIH0sXG5cbiAgaWQ6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICB2bm9kZS5kb20uaWQgPSB2YWx1ZTtcbiAgfSxcblxuICBzdHlsZTogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHZub2RlLmRvbS5zdHlsZSA9IHZhbHVlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICB2bm9kZS5kb20uc3R5bGUgPSBcIlwiO1xuICAgICAgY29uc3QgZG9tU3R5bGUgPSB2bm9kZS5kb20uc3R5bGU7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWUpIHtcbiAgICAgICAgZG9tU3R5bGVbbmFtZV0gPSB2YWx1ZVtuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXJlY3RpdmUobmFtZTogc3RyaW5nLCBkaXJlY3RpdmU6IERpcmVjdGl2ZSkge1xuICBjb25zdCBkaXJlY3RpdmVOYW1lID0gYHYtJHtuYW1lfWA7XG4gIGRpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV0gPSBkaXJlY3RpdmU7XG4gIHJlc2VydmVkUHJvcHMuYWRkKGRpcmVjdGl2ZU5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0UHJvcE5hbWVSZXNlcnZlZChuYW1lOiBzdHJpbmcpIHtcbiAgcmVzZXJ2ZWRQcm9wcy5hZGQobmFtZSk7XG59XG5cbmNvbnN0IGV2ZW50TGlzdGVuZXJOYW1lcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG5mdW5jdGlvbiBldmVudExpc3RlbmVyKGU6IEV2ZW50KSB7XG4gIGN1cnJlbnQuZXZlbnQgPSBlO1xuICBsZXQgZG9tID0gZS50YXJnZXQgYXMgRG9tRWxlbWVudDtcbiAgY29uc3QgbmFtZSA9IGBvbiR7ZS50eXBlfWA7XG5cbiAgd2hpbGUgKGRvbSkge1xuICAgIGNvbnN0IG9sZFByb3BzID0gZG9tLnByb3BzO1xuICAgIGlmIChvbGRQcm9wcyAmJiBvbGRQcm9wc1tuYW1lXSkge1xuICAgICAgb2xkUHJvcHNbbmFtZV0oZSwgZG9tKTtcblxuICAgICAgaWYgKCFlLmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgIHVwZGF0ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkb20gPSBkb20ucGFyZW50Tm9kZSBhcyBEb21FbGVtZW50O1xuICB9XG5cbiAgY3VycmVudC5ldmVudCA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIHNoYXJlZFNldEF0dHJpYnV0ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnksIG5ld1Zub2RlOiBWbm9kZVdpdGhEb20pOiB2b2lkIHwgYm9vbGVhbiB7XG4gIGNvbnN0IG5ld1Zub2RlRG9tID0gbmV3Vm5vZGUuZG9tO1xuICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBpZiAoIWV2ZW50TGlzdGVuZXJOYW1lcy5oYXMobmFtZSkpIHtcbiAgICAgIC8vIFdlIGF0dGFjaCB0aGUgZGVsZWdhdGVkIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBtYWluIHZub2RlIGRvbSBlbGVtZW50LCB3aGljaCBpcyB0aGUgcm9vdCBvZiB0aGUgY29tcG9uZW50XG4gICAgICAobWFpblZub2RlIGFzIFZub2RlV2l0aERvbSkuZG9tLmFkZEV2ZW50TGlzdGVuZXIobmFtZS5zbGljZSgyKSwgZXZlbnRMaXN0ZW5lcik7XG4gICAgICBldmVudExpc3RlbmVyTmFtZXMuYWRkKG5hbWUpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAobmFtZSBpbiBuZXdWbm9kZURvbSkge1xuICAgIG5ld1Zub2RlRG9tW25hbWVdID0gdmFsdWU7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHZhbHVlID09PSBmYWxzZSkge1xuICAgIG5ld1Zub2RlRG9tLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfSBlbHNlIHtcbiAgICBuZXdWbm9kZURvbS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55LCBuZXdWbm9kZTogVm5vZGVXaXRoRG9tKTogdm9pZCB7XG4gIGlmICghcmVzZXJ2ZWRQcm9wcy5oYXMobmFtZSkpIHtcbiAgICBuZXdWbm9kZS5wcm9wc1tuYW1lXSA9IHZhbHVlO1xuICAgIHNoYXJlZFNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgbmV3Vm5vZGUpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVBdHRyaWJ1dGVzKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sIG9sZFByb3BzOiBQcm9wZXJ0aWVzIHwgbnVsbCk6IHZvaWQge1xuICBjb25zdCB2bm9kZURvbSA9IG5ld1Zub2RlLmRvbTtcbiAgY29uc3Qgdm5vZGVQcm9wcyA9IG5ld1Zub2RlLnByb3BzO1xuXG4gIGlmIChvbGRQcm9wcykge1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBvbGRQcm9wcykge1xuICAgICAgaWYgKG5hbWUgaW4gdm5vZGVQcm9wcyA9PT0gZmFsc2UgJiYgIWV2ZW50TGlzdGVuZXJOYW1lcy5oYXMobmFtZSkgJiYgIXJlc2VydmVkUHJvcHMuaGFzKG5hbWUpKSB7XG4gICAgICAgIGlmIChuYW1lIGluIHZub2RlRG9tKSB7XG4gICAgICAgICAgdm5vZGVEb21bbmFtZV0gPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZub2RlRG9tLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoY29uc3QgbmFtZSBpbiB2bm9kZVByb3BzKSB7XG4gICAgaWYgKGRpcmVjdGl2ZXNbbmFtZV0pIHtcbiAgICAgIGlmIChkaXJlY3RpdmVzW25hbWVdKHZub2RlUHJvcHNbbmFtZV0sIG5ld1Zub2RlLCBvbGRQcm9wcykgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKCFyZXNlcnZlZFByb3BzLmhhcyhuYW1lKSkge1xuICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKG5hbWUsIHZub2RlUHJvcHNbbmFtZV0sIG5ld1Zub2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnOiBzdHJpbmcsIGlzU1ZHOiBib29sZWFuKTogRG9tRWxlbWVudCB7XG4gIHJldHVybiBpc1NWR1xuICAgID8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgdGFnKVxuICAgIDogKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKSBhcyBEb21FbGVtZW50KTtcbn1cblxuZnVuY3Rpb24gZmxhdFRyZWUobmV3Vm5vZGU6IFZub2RlV2l0aERvbSkge1xuICBjdXJyZW50LnZub2RlID0gbmV3Vm5vZGU7XG5cbiAgaWYgKFwidi1mb3JcIiBpbiBuZXdWbm9kZS5wcm9wcykge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gW107XG4gICAgY29uc3Qgc2V0ID0gbmV3Vm5vZGUucHJvcHNbXCJ2LWZvclwiXTtcbiAgICBjb25zdCBsID0gc2V0Lmxlbmd0aDtcbiAgICBjb25zdCBjYWxsYmFjayA9IG5ld1Zub2RlLmNoaWxkcmVuWzBdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IG5ld0NoaWxkID0gY2FsbGJhY2soc2V0W2ldLCBpKTtcbiAgICAgIGlmIChuZXdDaGlsZCBpbnN0YW5jZW9mIFZub2RlKSB7XG4gICAgICAgIG5ld0NoaWxkLnByb3BzID0gbmV3Q2hpbGQucHJvcHMgfHwge307XG4gICAgICAgIG5ld0NoaWxkLmlzU1ZHID0gbmV3Vm5vZGUuaXNTVkcgfHwgbmV3Q2hpbGQudGFnID09PSBcInN2Z1wiO1xuICAgICAgfVxuICAgICAgY2hpbGRyZW5baV0gPSBuZXdDaGlsZDtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cblxuICBsZXQgaSA9IDA7XG4gIGNvbnN0IG9yaWdpbmFsQ2hpbGRyZW4gPSBuZXdWbm9kZS5jaGlsZHJlbjtcbiAgbGV0IGNoaWxkcmVuID0gb3JpZ2luYWxDaGlsZHJlbjtcblxuICB3aGlsZSAoaSA8IGNoaWxkcmVuLmxlbmd0aCkge1xuICAgIGNvbnN0IG5ld0NoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICBpZiAobmV3Q2hpbGQgPT0gbnVsbCkge1xuICAgICAgaWYgKGNoaWxkcmVuID09PSBvcmlnaW5hbENoaWxkcmVuKSB7XG4gICAgICAgIGNoaWxkcmVuID0gWy4uLm9yaWdpbmFsQ2hpbGRyZW5dO1xuICAgICAgfVxuICAgICAgY2hpbGRyZW4uc3BsaWNlKGksIDEpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmV3Q2hpbGQpKSB7XG4gICAgICBpZiAoY2hpbGRyZW4gPT09IG9yaWdpbmFsQ2hpbGRyZW4pIHtcbiAgICAgICAgY2hpbGRyZW4gPSBbLi4ub3JpZ2luYWxDaGlsZHJlbl07XG4gICAgICB9XG4gICAgICBjaGlsZHJlbi5zcGxpY2UoaSwgMSwgLi4ubmV3Q2hpbGQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKG5ld0NoaWxkIGluc3RhbmNlb2YgVm5vZGUpIHtcbiAgICAgIG5ld0NoaWxkLnByb3BzID0gbmV3Q2hpbGQucHJvcHMgfHwge307XG4gICAgICBuZXdDaGlsZC5pc1NWRyA9IG5ld1Zub2RlLmlzU1ZHIHx8IG5ld0NoaWxkLnRhZyA9PT0gXCJzdmdcIjtcblxuICAgICAgaWYgKHR5cGVvZiBuZXdDaGlsZC50YWcgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKGNoaWxkcmVuID09PSBvcmlnaW5hbENoaWxkcmVuKSB7XG4gICAgICAgICAgY2hpbGRyZW4gPSBbLi4ub3JpZ2luYWxDaGlsZHJlbl07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb21wb25lbnQgPSAoY3VycmVudC5jb21wb25lbnQgPSBuZXdDaGlsZC50YWcpO1xuXG4gICAgICAgIGNoaWxkcmVuW2ldID0gKGlzUE9KT0NvbXBvbmVudChjb21wb25lbnQpID8gY29tcG9uZW50LnZpZXcgOiBjb21wb25lbnQpLmJpbmQoY29tcG9uZW50KShcbiAgICAgICAgICBuZXdDaGlsZC5wcm9wcyxcbiAgICAgICAgICBuZXdDaGlsZC5jaGlsZHJlblxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGkrKztcbiAgfVxuXG4gIHJldHVybiBjaGlsZHJlbjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTmV3RWxlbWVudChuZXdDaGlsZDogVm5vZGVXaXRoRG9tLCBuZXdWbm9kZTogVm5vZGVXaXRoRG9tLCBvbGRDaGlsZDogRG9tRWxlbWVudCB8IG51bGwpIHtcbiAgY29uc3QgZG9tID0gY3JlYXRlRWxlbWVudChuZXdDaGlsZC50YWcsIG5ld0NoaWxkLmlzU1ZHIGFzIGJvb2xlYW4pO1xuICBpZiAob2xkQ2hpbGQpIHtcbiAgICBuZXdWbm9kZS5kb20ucmVwbGFjZUNoaWxkKGRvbSwgb2xkQ2hpbGQpO1xuICB9IGVsc2Uge1xuICAgIG5ld1Zub2RlLmRvbS5hcHBlbmRDaGlsZChkb20pO1xuICB9XG4gIG5ld0NoaWxkLmRvbSA9IGRvbTtcbiAgdXBkYXRlQXR0cmlidXRlcyhuZXdDaGlsZCwgbnVsbCk7XG4gIG5ld0NoaWxkLmRvbS5wcm9wcyA9IG5ld0NoaWxkLnByb3BzO1xuICBpZiAoXCJ2LXRleHRcIiBpbiBuZXdDaGlsZC5wcm9wcykge1xuICAgIG5ld0NoaWxkLmRvbS50ZXh0Q29udGVudCA9IG5ld0NoaWxkLnByb3BzW1widi10ZXh0XCJdO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNoaWxkcmVuID0gZmxhdFRyZWUobmV3Q2hpbGQpO1xuICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgbmV3Q2hpbGQuZG9tLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICByZXR1cm47XG4gIH1cblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmIChjaGlsZHJlbltpXSBpbnN0YW5jZW9mIFZub2RlID09PSBmYWxzZSkge1xuICAgICAgbmV3Q2hpbGQuZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNoaWxkcmVuW2ldKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY3JlYXRlTmV3RWxlbWVudChjaGlsZHJlbltpXSwgbmV3Q2hpbGQsIG51bGwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhdGNoS2V5ZWQobmV3Vm5vZGU6IFZub2RlV2l0aERvbSwgY2hpbGRyZW46IENoaWxkcmVuKSB7XG4gIGNvbnN0IG9sZFRyZWUgPSBbLi4uQXJyYXkuZnJvbShuZXdWbm9kZS5kb20uY2hpbGROb2RlcyldIGFzIHVua25vd24gYXMgRG9tRWxlbWVudFtdO1xuICBjb25zdCBjaGlsZE5vZGVzID0gbmV3Vm5vZGUuZG9tLmNoaWxkTm9kZXM7XG4gIGNvbnN0IG9sZEtleWVkTGlzdDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xuICBjb25zdCBuZXdLZXllZExpc3Q6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcblxuICBmb3IgKGxldCBpID0gMCwgbCA9IG9sZFRyZWUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3Qgb2xkUHJvcHMgPSBvbGRUcmVlW2ldLnByb3BzO1xuICAgIGlmIChvbGRQcm9wcykge1xuICAgICAgb2xkS2V5ZWRMaXN0W29sZFByb3BzLmtleSBhcyBzdHJpbmddID0gaTtcbiAgICB9XG5cbiAgICBpZiAoaSA8IGNoaWxkcmVuLmxlbmd0aCAmJiBjaGlsZHJlbltpXSBpbnN0YW5jZW9mIFZub2RlKSB7XG4gICAgICBuZXdLZXllZExpc3RbY2hpbGRyZW5baV0ucHJvcHMua2V5IGFzIHN0cmluZ10gPSBpO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3QgbmV3Q2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBjb25zdCBvbGRDaGlsZCA9IG9sZFRyZWVbb2xkS2V5ZWRMaXN0W25ld0NoaWxkLnByb3BzLmtleSBhcyBzdHJpbmddXTtcblxuICAgIGlmICghb2xkQ2hpbGQpIHtcbiAgICAgIGNyZWF0ZU5ld0VsZW1lbnQobmV3Q2hpbGQsIG5ld1Zub2RlLCBjaGlsZE5vZGVzW2ldIGFzIERvbUVsZW1lbnQgfCBudWxsKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIG5ld0NoaWxkLmRvbSA9IG9sZENoaWxkO1xuICAgIGNvbnN0IGN1cnJlbnRDaGlsZCA9IGNoaWxkTm9kZXNbaV07XG4gICAgaWYgKCFjdXJyZW50Q2hpbGQpIHtcbiAgICAgIG5ld1Zub2RlLmRvbS5hcHBlbmRDaGlsZChvbGRDaGlsZCk7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50Q2hpbGQgIT09IG9sZENoaWxkKSB7XG4gICAgICBuZXdWbm9kZS5kb20ucmVwbGFjZUNoaWxkKG9sZENoaWxkLCBjdXJyZW50Q2hpbGQpO1xuICAgIH1cblxuICAgIGlmIChcInYta2VlcFwiIGluIG5ld0NoaWxkLnByb3BzID09PSBmYWxzZSB8fCBvbGRDaGlsZC5wcm9wc1tcInYta2VlcFwiXSAhPT0gbmV3Q2hpbGQucHJvcHNbXCJ2LWtlZXBcIl0pIHtcbiAgICAgIHVwZGF0ZUF0dHJpYnV0ZXMobmV3Q2hpbGQgYXMgVm5vZGVXaXRoRG9tLCBvbGRDaGlsZC5wcm9wcyk7XG4gICAgICBvbGRDaGlsZC5wcm9wcyA9IG5ld0NoaWxkLnByb3BzO1xuXG4gICAgICBpZiAoXCJ2LXRleHRcIiBpbiBuZXdDaGlsZC5wcm9wcykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgIGlmIChvbGRDaGlsZC50ZXh0Q29udGVudCAhPSBuZXdDaGlsZC5wcm9wc1tcInYtdGV4dFwiXSkge1xuICAgICAgICAgIG9sZENoaWxkLnRleHRDb250ZW50ID0gbmV3Q2hpbGQucHJvcHNbXCJ2LXRleHRcIl07XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIHBhdGNoKG5ld0NoaWxkIGFzIFZub2RlV2l0aERvbSk7XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IGNoaWxkcmVuLmxlbmd0aCwgbCA9IGNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY2hpbGROb2Rlc1tpXT8ucmVtb3ZlKCk7XG4gIH1cbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHBhdGNoKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20pOiB2b2lkIHtcbiAgY29uc3QgY2hpbGRyZW4gPSBmbGF0VHJlZShuZXdWbm9kZSk7XG5cbiAgY29uc3QgZG9tID0gbmV3Vm5vZGUuZG9tO1xuXG4gIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoZG9tLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBkb20udGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBvbGREb21DaGlsZHJlbiA9IGRvbS5jaGlsZE5vZGVzIGFzIHVua25vd24gYXMgRG9tRWxlbWVudFtdO1xuICBjb25zdCBvbGRDaGlsZHJlbkxlbmd0aCA9IG9sZERvbUNoaWxkcmVuLmxlbmd0aDtcbiAgaWYgKG9sZENoaWxkcmVuTGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGZpcnN0T2xkUHJvcHMgPSBvbGREb21DaGlsZHJlblswXS5wcm9wcztcbiAgICBjb25zdCBmaXJzdFZub2RlID0gY2hpbGRyZW5bMF0gYXMgVm5vZGVXaXRoRG9tO1xuICAgIGlmIChmaXJzdE9sZFByb3BzICYmIGZpcnN0Vm5vZGUgaW5zdGFuY2VvZiBWbm9kZSAmJiBcImtleVwiIGluIGZpcnN0Vm5vZGUucHJvcHMgJiYgXCJrZXlcIiBpbiBmaXJzdE9sZFByb3BzKSB7XG4gICAgICBwYXRjaEtleWVkKG5ld1Zub2RlLCBjaGlsZHJlbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY2hpbGRyZW5MZW5ndGggPSBjaGlsZHJlbi5sZW5ndGg7XG4gIGlmIChvbGRDaGlsZHJlbkxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGNoaWxkcmVuW2ldIGluc3RhbmNlb2YgVm5vZGUgPT09IGZhbHNlKSB7XG4gICAgICAgIGRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZHJlbltpXSkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNyZWF0ZU5ld0VsZW1lbnQoY2hpbGRyZW5baV0sIG5ld1Zub2RlLCBudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgbmV3Q2hpbGQgPSBjaGlsZHJlbltpXSBhcyBWbm9kZVdpdGhEb207XG4gICAgY29uc3QgaXNUZXh0ID0gbmV3Q2hpbGQgaW5zdGFuY2VvZiBWbm9kZSA9PT0gZmFsc2U7XG4gICAgY29uc3Qgb2xkQ2hpbGQgPSBvbGREb21DaGlsZHJlbltpXTtcblxuICAgIGlmICghb2xkQ2hpbGQpIHtcbiAgICAgIGlmIChpc1RleHQpIHtcbiAgICAgICAgbmV3Vm5vZGUuZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5ld0NoaWxkIGFzIHVua25vd24gYXMgc3RyaW5nKSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjcmVhdGVOZXdFbGVtZW50KG5ld0NoaWxkIGFzIFZub2RlV2l0aERvbSwgbmV3Vm5vZGUsIG51bGwpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGlzVGV4dCkge1xuICAgICAgaWYgKG9sZENoaWxkLm5vZGVUeXBlICE9PSAzKSB7XG4gICAgICAgIG5ld1Zub2RlLmRvbS5yZXBsYWNlQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3Q2hpbGQgYXMgdW5rbm93biBhcyBzdHJpbmcpLCBvbGRDaGlsZCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICBpZiAob2xkQ2hpbGQubm9kZVZhbHVlICE9IChuZXdDaGlsZCBhcyB1bmtub3duIGFzIHN0cmluZykpIHtcbiAgICAgICAgb2xkQ2hpbGQubm9kZVZhbHVlID0gbmV3Q2hpbGQgYXMgdW5rbm93biBhcyBzdHJpbmc7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoXCJ2LWtlZXBcIiBpbiBuZXdDaGlsZC5wcm9wcykge1xuICAgICAgaWYgKG9sZENoaWxkLnByb3BzICYmIG9sZENoaWxkLnByb3BzW1widi1rZWVwXCJdID09PSBuZXdDaGlsZC5wcm9wc1tcInYta2VlcFwiXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV4dE9sZENoaWxkID0gb2xkRG9tQ2hpbGRyZW5baSArIDFdO1xuICAgICAgaWYgKG5leHRPbGRDaGlsZCAmJiBuZXh0T2xkQ2hpbGQucHJvcHMgJiYgbmV4dE9sZENoaWxkLnByb3BzW1widi1rZWVwXCJdID09PSBuZXdDaGlsZC5wcm9wc1tcInYta2VlcFwiXSkge1xuICAgICAgICBvbGRDaGlsZC5yZW1vdmUoKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5ld0NoaWxkLnRhZyAhPT0gb2xkQ2hpbGQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgY3JlYXRlTmV3RWxlbWVudChuZXdDaGlsZCwgbmV3Vm5vZGUsIG9sZENoaWxkKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIG5ld0NoaWxkLmRvbSA9IG9sZENoaWxkO1xuICAgIHVwZGF0ZUF0dHJpYnV0ZXMobmV3Q2hpbGQsIG9sZENoaWxkLnByb3BzIHx8IG51bGwpO1xuICAgIG9sZENoaWxkLnByb3BzID0gbmV3Q2hpbGQucHJvcHM7XG4gICAgaWYgKFwidi10ZXh0XCIgaW4gbmV3Q2hpbGQucHJvcHMpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgIGlmIChuZXdDaGlsZC5kb20udGV4dENvbnRlbnQgIT0gbmV3Q2hpbGQucHJvcHNbXCJ2LXRleHRcIl0pIHtcbiAgICAgICAgbmV3Q2hpbGQuZG9tLnRleHRDb250ZW50ID0gbmV3Q2hpbGQucHJvcHNbXCJ2LXRleHRcIl07XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgcGF0Y2gobmV3Q2hpbGQpO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IGNoaWxkcmVuTGVuZ3RoLCBsID0gb2xkRG9tQ2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgb2xkRG9tQ2hpbGRyZW5baV0/LnJlbW92ZSgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVWbm9kZSh2bm9kZTogVm5vZGVXaXRoRG9tKTogc3RyaW5nIHwgdm9pZCB7XG4gIGNhbGxTZXQob25DbGVhbnVwU2V0KTtcbiAgdm5vZGUucHJvcHMgPSB2bm9kZS5wcm9wcyB8fCB7fTtcbiAgcGF0Y2godm5vZGUpO1xuICBjYWxsU2V0KGlzTW91bnRlZCA/IG9uVXBkYXRlU2V0IDogb25Nb3VudFNldCk7XG4gIGlzTW91bnRlZCA9IHRydWU7XG4gIGN1cnJlbnQudm5vZGUgPSBudWxsO1xuICBjdXJyZW50LmNvbXBvbmVudCA9IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUoKTogc3RyaW5nIHtcbiAgaWYgKG1haW5Wbm9kZSkge1xuICAgIG1haW5Wbm9kZS5jaGlsZHJlbiA9IFttYWluQ29tcG9uZW50XTtcbiAgICB1cGRhdGVWbm9kZShtYWluVm5vZGUgYXMgVm5vZGVXaXRoRG9tKTtcbiAgICBpZiAoaXNOb2RlSnMpIHtcbiAgICAgIHJldHVybiBtYWluVm5vZGUuZG9tLmlubmVySFRNTDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5cbmxldCBkZWJvdW5jZWRVcGRhdGVUaW1lb3V0OiBhbnk7XG5cbmNvbnN0IGNsZWFyRGVib3VuY2VkVXBkYXRlTWV0aG9kID0gaXNOb2RlSnMgPyBjbGVhclRpbWVvdXQgOiBjYW5jZWxBbmltYXRpb25GcmFtZTtcbmNvbnN0IHNldERlYm91bmNlZFVwZGF0ZU1ldGhvZCA9IGlzTm9kZUpzID8gKCkgPT4gc2V0VGltZW91dCh1cGRhdGUsIDUpIDogKCkgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZWRVcGRhdGUoKSB7XG4gIGNsZWFyRGVib3VuY2VkVXBkYXRlTWV0aG9kKGRlYm91bmNlZFVwZGF0ZVRpbWVvdXQpO1xuICBkZWJvdW5jZWRVcGRhdGVUaW1lb3V0ID0gc2V0RGVib3VuY2VkVXBkYXRlTWV0aG9kKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bm1vdW50KCkge1xuICBpZiAobWFpblZub2RlKSB7XG4gICAgbWFpbkNvbXBvbmVudCA9IHYoKCkgPT4gbnVsbCwge30pIGFzIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlO1xuICAgIGNvbnN0IHJlc3VsdCA9IHVwZGF0ZSgpO1xuICAgIGNhbGxTZXQob25Vbm1vdW50U2V0KTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZXZlbnRMaXN0ZW5lck5hbWVzKSB7XG4gICAgICBtYWluVm5vZGUuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZS5zbGljZSgyKS50b0xvd2VyQ2FzZSgpLCBldmVudExpc3RlbmVyKTtcbiAgICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkoZXZlbnRMaXN0ZW5lck5hbWVzLCBuYW1lKTtcbiAgICB9XG5cbiAgICBtYWluQ29tcG9uZW50ID0gbnVsbDtcbiAgICBtYWluVm5vZGUgPSBudWxsO1xuICAgIGlzTW91bnRlZCA9IGZhbHNlO1xuICAgIGN1cnJlbnQudm5vZGUgPSBudWxsO1xuICAgIGN1cnJlbnQuY29tcG9uZW50ID0gbnVsbDtcbiAgICBjdXJyZW50LmV2ZW50ID0gbnVsbDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcmV0dXJuIFwiXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VudChkb206IHN0cmluZyB8IERvbUVsZW1lbnQsIGNvbXBvbmVudDogVmFseXJpYW5Db21wb25lbnQgfCBWbm9kZUNvbXBvbmVudEludGVyZmFjZSB8IGFueSkge1xuICBjb25zdCBjb250YWluZXIgPVxuICAgIHR5cGVvZiBkb20gPT09IFwic3RyaW5nXCIgPyAoaXNOb2RlSnMgPyBjcmVhdGVFbGVtZW50KGRvbSwgZG9tID09PSBcInN2Z1wiKSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZG9tKSkgOiBkb207XG5cbiAgaWYgKGlzQ29tcG9uZW50KGNvbXBvbmVudCkpIHtcbiAgICBtYWluQ29tcG9uZW50ID0gdihjb21wb25lbnQsIHt9LCBbXSkgYXMgVm5vZGVDb21wb25lbnRJbnRlcmZhY2U7XG4gIH0gZWxzZSBpZiAoaXNWbm9kZUNvbXBvbmVudChjb21wb25lbnQpKSB7XG4gICAgbWFpbkNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgfSBlbHNlIHtcbiAgICBtYWluQ29tcG9uZW50ID0gdigoKSA9PiBjb21wb25lbnQsIHt9LCBbXSkgYXMgVm5vZGVDb21wb25lbnRJbnRlcmZhY2U7XG4gIH1cblxuICBtYWluVm5vZGUgPSBoaWRyYXRlRG9tVG9Wbm9kZShjb250YWluZXIpIGFzIFZub2RlV2l0aERvbTtcbiAgcmV0dXJuIHVwZGF0ZSgpO1xufVxuIl0sIm1hcHBpbmdzIjoiTUF3Q08sSUFBTUEsRUFBV0MsUUFBMkIsb0JBQVpDLFNBQTJCQSxRQUFRQyxVQUFZRCxRQUFRQyxTQUFTQyxNQUUxRkMsRUFBTixNQUNMLFdBQUFDLENBQ1NDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBSkFDLEtBQUFMLE1BQ0FLLEtBQUFKLFFBQ0FJLEtBQUFILFdBQ0FHLEtBQUFGLE1BQ0FFLEtBQUFELE9BQ04sR0FTUUUsRUFBbUJDLEdBQzlCYixRQUFRYSxHQUFrQyxpQkFBZEEsR0FBMEIsU0FBVUEsR0FFckRDLEVBQWVELEdBQzFCYixRQUE2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