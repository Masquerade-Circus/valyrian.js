//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2xpYi9pbmRleC50cyJdLCJuYW1lcyI6WyJDb21wb25lbnRTdHJpbmciLCJUZXh0U3RyaW5nIiwiaXNOb2RlSnMiLCJCb29sZWFuIiwicHJvY2VzcyIsInZlcnNpb25zIiwibm9kZSIsIlVuZCIsIlZub2RlIiwidGFnIiwicHJvcHMiLCJjaGlsZHJlbiIsInRoaXMiLCJpc0NvbXBvbmVudCIsImNvbXBvbmVudCIsImlzVm5vZGVDb21wb25lbnQiLCJ2bm9kZSIsImNyZWF0ZURvbUVsZW1lbnQiLCJpc1NWRyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRWxlbWVudCIsImRvbVRvVm5vZGUiLCJkb20iLCJub2RlVHlwZSIsInYiLCJub2RlVmFsdWUiLCJpIiwiY2hpbGROb2RlcyIsImxlbmd0aCIsImNoaWxkIiwicHVzaCIsImZvckVhY2giLCJjYWxsIiwiYXR0cmlidXRlcyIsInByb3AiLCJub2RlTmFtZSIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsInRydXN0IiwiaHRtbFN0cmluZyIsImRpdiIsImlubmVySFRNTCIsInRyaW0iLCJtYXAiLCJpdGVtIiwicmVzZXJ2ZWRQcm9wcyIsImtleSIsInN0YXRlIiwib25jcmVhdGUiLCJvbnVwZGF0ZSIsIm9ucmVtb3ZlIiwic2hvdWxkdXBkYXRlIiwiZXZlbnRMaXN0ZW5lck5hbWVzIiwib25DbGVhbnVwTGlzdCIsIm9uTW91bnRMaXN0Iiwib25VcGRhdGVMaXN0Iiwib25Vbm1vdW50TGlzdCIsImN1cnJlbnQiLCJldmVudExpc3RlbmVyIiwiZSIsInRhcmdldCIsIm5hbWUiLCJ0eXBlIiwiZGVmYXVsdFByZXZlbnRlZCIsInVwZGF0ZSIsInBhcmVudE5vZGUiLCJjYWxsQ2FsbGJhY2tMaXN0IiwibGlzdCIsIm1haW5Wbm9kZSIsIm9sZFZub2RlIiwicGF0Y2giLCJpc01vdW50ZWQiLCJ1bm1vdW50IiwiZW1wdHlWbm9kZSIsInNoYXJlZFNldEF0dHJpYnV0ZSIsInZhbHVlIiwiZGlyZWN0aXZlcyIsImNvbnRhaW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJzbGljZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZXMiLCJuZXdWbm9kZSIsIm5ld1RyZWUiLCJvbGRUcmVlIiwiY2hpbGRWbm9kZSIsInJlc3VsdCIsInZpZXciLCJzcGxpY2UiLCJBcnJheSIsImlzQXJyYXkiLCJvbGRUcmVlTGVuZ3RoIiwibmV3VHJlZUxlbmd0aCIsIm9sZEtleWVkTGlzdCIsIm5ld0tleWVkTGlzdCIsIm9sZENoaWxkVm5vZGUiLCJzaG91bGRQYXRjaCIsImFwcGVuZENoaWxkIiwicmVwbGFjZUNoaWxkIiwicmVtb3ZlQ2hpbGQiLCJuZXdDaGlsZFZub2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJ0ZXh0Q29udGVudCIsImhpZGVEaXJlY3RpdmUiLCJ0ZXN0IiwiYm9vbCIsIm5ld2RvbSIsInNldCIsInN0eWxlIiwiZGlzcGxheSIsImNsYXNzZXMiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJodG1sIiwibW9kZWwiLCJwcm9wZXJ0eSIsImV2ZW50IiwiaGFuZGxlciIsInZhbCIsImlkeCIsImluZGV4T2YiLCJtdWx0aXBsZSIsImN0cmxLZXkiLCJ2YWx1ZTIiLCJqb2luIiwic2VsZWN0ZWQiLCJwbHVnaW5zIiwiTWFwIiwidGFnT3JDb21wb25lbnQiLCJmcmFnbWVudCIsImlzVm5vZGUiLCJvYmplY3QiLCJvbkNsZWFudXAiLCJjYWxsYmFjayIsIm9uVW5tb3VudCIsIm9uTW91bnQiLCJvblVwZGF0ZSIsIm1vdW50Iiwidm5vZGVDb21wb25lbnQiLCJhcHBDb250YWluZXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiRXJyb3IiLCJkaXJlY3RpdmUiLCJkaXJlY3RpdmUyIiwiZnVsbE5hbWUiLCJ1c2UiLCJwbHVnaW4iLCJvcHRpb25zIiwiaGFzIiwiZ2V0Il0sIm1hcHBpbmdzIjoiTUFxQkEsSUFBTUEsRUFBa0IsZ0JBQ2xCQyxFQUFhLFFBQ2JDLEVBQVdDLFFBQTJCLG9CQUFa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c291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tdXNlLWJlZm9yZS1kZWZpbmUgKi9cbi8qIGVzbGludC1kaXNhYmxlIHNvbmFyanMvY29nbml0aXZlLWNvbXBsZXhpdHkgKi9cbi8qKiogVm5vZGUgKioqL1xuXG5pbXBvcnQge1xuICBDaGlsZHJlbixcbiAgQ3VycmVudCxcbiAgRGlyZWN0aXZlLFxuICBEaXJlY3RpdmVzLFxuICBEb21FbGVtZW50LFxuICBJVm5vZGUsXG4gIFBsdWdpbixcbiAgUHJvcHMsXG4gIFJlc2VydmVkUHJvcHMsXG4gIFZhbHlyaWFuLFxuICBWYWx5cmlhbkNvbXBvbmVudCxcbiAgVm5vZGVDb21wb25lbnQsXG4gIFZub2RlV2l0aERvbVxufSBmcm9tIFwiLi9pbnRlcmZhY2VzXCI7XG5cbi8qKiogQ29uc3RhbnRzICoqKi9cbmNvbnN0IENvbXBvbmVudFN0cmluZyA9IFwiX19jb21wb25lbnRfX1wiO1xuY29uc3QgVGV4dFN0cmluZyA9IFwiI3RleHRcIjtcbmNvbnN0IGlzTm9kZUpzID0gQm9vbGVhbih0eXBlb2YgcHJvY2VzcyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwcm9jZXNzLnZlcnNpb25zICYmIHByb2Nlc3MudmVyc2lvbnMubm9kZSk7XG5jb25zdCBVbmQgPSB1bmRlZmluZWQ7XG5cbi8qKiogVm5vZGUgKioqL1xuXG5jb25zdCBWbm9kZSA9IGZ1bmN0aW9uIFZub2RlKHRoaXM6IElWbm9kZSwgdGFnOiBzdHJpbmcsIHByb3BzOiBQcm9wcywgY2hpbGRyZW46IENoaWxkcmVuKSB7XG4gIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB0aGlzLnRhZyA9IHRhZztcbn0gYXMgdW5rbm93biBhcyBJVm5vZGU7XG5cbmZ1bmN0aW9uIGlzVm5vZGUob2JqZWN0PzogdW5rbm93biB8IElWbm9kZSk6IG9iamVjdCBpcyBJVm5vZGUge1xuICByZXR1cm4gb2JqZWN0IGluc3RhbmNlb2YgVm5vZGU7XG59XG5cbmZ1bmN0aW9uIGlzQ29tcG9uZW50KGNvbXBvbmVudD86IHVua25vd24gfCBWYWx5cmlhbkNvbXBvbmVudCk6IGNvbXBvbmVudCBpcyBWYWx5cmlhbkNvbXBvbmVudCB7XG4gIHJldHVybiB0eXBlb2YgY29tcG9uZW50ID09PSBcImZ1bmN0aW9uXCIgfHwgKHR5cGVvZiBjb21wb25lbnQgPT09IFwib2JqZWN0XCIgJiYgY29tcG9uZW50ICE9PSBudWxsICYmIFwidmlld1wiIGluIGNvbXBvbmVudCk7XG59XG5cbmZ1bmN0aW9uIGlzVm5vZGVDb21wb25lbnQodm5vZGU/OiB1bmtub3duIHwgVm5vZGVDb21wb25lbnQpOiB2bm9kZSBpcyBWbm9kZUNvbXBvbmVudCB7XG4gIHJldHVybiB2bm9kZSBpbnN0YW5jZW9mIFZub2RlICYmIHZub2RlLnRhZyA9PT0gQ29tcG9uZW50U3RyaW5nO1xufVxuXG4vKioqIFV0aWwgKioqL1xuXG5mdW5jdGlvbiBjcmVhdGVEb21FbGVtZW50KHRhZzogc3RyaW5nLCBpc1NWRzogYm9vbGVhbiA9IGZhbHNlKSB7XG4gIHJldHVybiBpc1NWRyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHRhZykgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG59XG5cbmZ1bmN0aW9uIGRvbVRvVm5vZGUoZG9tOiBEb21FbGVtZW50KTogdm9pZCB8IFZub2RlV2l0aERvbSB7XG4gIGlmIChkb20ubm9kZVR5cGUgPT09IDMpIHtcbiAgICBsZXQgdm5vZGUgPSB2KFRleHRTdHJpbmcsIHt9LCBbXSk7XG4gICAgdm5vZGUubm9kZVZhbHVlID0gZG9tLm5vZGVWYWx1ZSBhcyBzdHJpbmc7XG4gICAgdm5vZGUuZG9tID0gZG9tO1xuICAgIHJldHVybiB2bm9kZSBhcyBWbm9kZVdpdGhEb207XG4gIH1cblxuICBpZiAoZG9tLm5vZGVUeXBlID09PSAxKSB7XG4gICAgbGV0IGNoaWxkcmVuID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb20uY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGNoaWxkID0gZG9tVG9Wbm9kZShkb20uY2hpbGROb2Rlc1tpXSBhcyBEb21FbGVtZW50KTtcbiAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgcHJvcHM6IFByb3BzID0ge307XG4gICAgW10uZm9yRWFjaC5jYWxsKGRvbS5hdHRyaWJ1dGVzLCAocHJvcDogQXR0cikgPT4gKHByb3BzW3Byb3Aubm9kZU5hbWVdID0gcHJvcC5ub2RlVmFsdWUpKTtcblxuICAgIGxldCB2bm9kZSA9IHYoZG9tLnRhZ05hbWUudG9Mb3dlckNhc2UoKSwgcHJvcHMsIC4uLmNoaWxkcmVuKTtcbiAgICB2bm9kZS5kb20gPSBkb207XG4gICAgcmV0dXJuIHZub2RlIGFzIFZub2RlV2l0aERvbTtcbiAgfVxufVxuXG5jb25zdCB0cnVzdCA9IChodG1sU3RyaW5nOiBzdHJpbmcpOiBDaGlsZHJlbiA9PiB7XG4gIGxldCBkaXYgPSBjcmVhdGVEb21FbGVtZW50KFwiZGl2XCIpO1xuICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZy50cmltKCk7XG5cbiAgcmV0dXJuIFtdLm1hcC5jYWxsKGRpdi5jaGlsZE5vZGVzLCAoaXRlbSkgPT4gZG9tVG9Wbm9kZShpdGVtKSkgYXMgQ2hpbGRyZW47XG59O1xuXG5jb25zdCByZXNlcnZlZFByb3BzOiBSZXNlcnZlZFByb3BzID0ge1xuICBrZXk6IHRydWUsXG4gIHN0YXRlOiB0cnVlLFxuICBvbmNyZWF0ZTogdHJ1ZSxcbiAgb251cGRhdGU6IHRydWUsXG4gIG9ucmVtb3ZlOiB0cnVlLFxuICBzaG91bGR1cGRhdGU6IHRydWUsXG4gIFwidi1vbmNlXCI6IHRydWUsXG5cbiAgLy8gQnVpbHQgaW4gZGlyZWN0aXZlc1xuICBcInYtaWZcIjogdHJ1ZSxcbiAgXCJ2LXVubGVzc1wiOiB0cnVlLFxuICBcInYtZm9yXCI6IHRydWUsXG4gIFwidi1zaG93XCI6IHRydWUsXG4gIFwidi1jbGFzc1wiOiB0cnVlLFxuICBcInYtaHRtbFwiOiB0cnVlLFxuICBcInYtbW9kZWxcIjogdHJ1ZVxufTtcblxuLyoqKiBNb3VudCAqKiovXG5cbmNvbnN0IGV2ZW50TGlzdGVuZXJOYW1lczogUmVjb3JkPHN0cmluZywgdHJ1ZT4gPSB7fTtcbmxldCBvbkNsZWFudXBMaXN0OiBGdW5jdGlvbltdID0gW107XG5sZXQgb25Nb3VudExpc3Q6IEZ1bmN0aW9uW10gPSBbXTtcbmxldCBvblVwZGF0ZUxpc3Q6IEZ1bmN0aW9uW10gPSBbXTtcbmxldCBvblVubW91bnRMaXN0OiBGdW5jdGlvbltdID0gW107XG5jb25zdCBjdXJyZW50OiBDdXJyZW50ID0ge307XG5mdW5jdGlvbiBldmVudExpc3RlbmVyKGU6IEV2ZW50KSB7XG4gIGxldCBkb20gPSBlLnRhcmdldCBhcyBEb21FbGVtZW50O1xuICBsZXQgbmFtZSA9IGB2LW9uJHtlLnR5cGV9YDtcbiAgd2hpbGUgKGRvbSkge1xuICAgIGlmIChkb21bbmFtZV0pIHtcbiAgICAgIGRvbVtuYW1lXShlLCBkb20pO1xuICAgICAgaWYgKCFlLmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgdXBkYXRlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvbSA9IGRvbS5wYXJlbnROb2RlIGFzIERvbUVsZW1lbnQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25DbGVhbnVwKGNhbGxiYWNrOiBGdW5jdGlvbik6IHZvaWQge1xuICBpZiAob25DbGVhbnVwTGlzdC5pbmRleE9mKGNhbGxiYWNrKSA9PT0gLTEpIHtcbiAgICBvbkNsZWFudXBMaXN0LnB1c2goY2FsbGJhY2spO1xuICB9XG59XG5mdW5jdGlvbiBvblVubW91bnQoY2FsbGJhY2s6IEZ1bmN0aW9uKTogdm9pZCB7XG4gIGlmIChvblVubW91bnRMaXN0LmluZGV4T2YoY2FsbGJhY2spID09PSAtMSkge1xuICAgIG9uVW5tb3VudExpc3QucHVzaChjYWxsYmFjayk7XG4gIH1cbn1cbmZ1bmN0aW9uIG9uTW91bnQoY2FsbGJhY2s6IEZ1bmN0aW9uKTogdm9pZCB7XG4gIGlmIChvbk1vdW50TGlzdC5pbmRleE9mKGNhbGxiYWNrKSA9PT0gLTEpIHtcbiAgICBvbk1vdW50TGlzdC5wdXNoKGNhbGxiYWNrKTtcbiAgfVxufVxuZnVuY3Rpb24gb25VcGRhdGUoY2FsbGJhY2s6IEZ1bmN0aW9uKTogdm9pZCB7XG4gIGlmIChvblVwZGF0ZUxpc3QuaW5kZXhPZihjYWxsYmFjaykgPT09IC0xKSB7XG4gICAgb25VcGRhdGVMaXN0LnB1c2goY2FsbGJhY2spO1xuICB9XG59XG5cbi8qXG4gICogTW91bnRzIGEgY29tcG9uZW50IHRvIHRoZSBET01cbiAgbW91bnQoJyNhcHAnLCAoKSA9PiA8ZGl2PkhlbGxvIHdvcmxkPC9kaXY+KTsgLy8gQXBwIGlzIGEgRnVuY3Rpb25hbCBDb21wb25lbnRcbiAgbW91bnQoJyNhcHAnLCB7IHZpZXc6ICgpID0+IDxkaXY+SGVsbG8gd29ybGQ8L2Rpdj4gfSk7IC8vIEFwcCBpcyBhIFBPSk8gY29tcG9uZW50IHdpdGggYSB2aWV3IG1ldGhvZFxuICBtb3VudCgnI2FwcCcsIGNsYXNzSW5zdGFuY2UpOyAvLyBBcHAgaXMgYSBjbGFzcyBpbnN0YW5jZSB3aXRoIGEgdmlldyBtZXRob2RcbiAgbW91bnQoJyNhcHAnLCA8QXBwPjxkaXY+SGVsbG8gd29ybGQ8L2Rpdj48L0FwcD4pOyAvLyBBcHAgaXMgYSBWbm9kZSBjb21wb25lbnQgKFZub2RlIHdpdGggdGFnIF9fY29tcG9uZW50X18pXG4qL1xuXG5mdW5jdGlvbiBtb3VudChjb250YWluZXI6IERvbUVsZW1lbnQgfCBzdHJpbmcsIGNvbXBvbmVudDogVmFseXJpYW5Db21wb25lbnQgfCBJVm5vZGUpOiB2b2lkIHwgc3RyaW5nIHtcbiAgbGV0IGFwcENvbnRhaW5lciA9IG51bGw7XG5cbiAgaWYgKGlzTm9kZUpzKSB7XG4gICAgYXBwQ29udGFpbmVyID0gdHlwZW9mIGNvbnRhaW5lciA9PT0gXCJzdHJpbmdcIiA/IGNyZWF0ZURvbUVsZW1lbnQoY29udGFpbmVyID09PSBcInN2Z1wiID8gXCJzdmdcIiA6IFwiZGl2XCIsIGNvbnRhaW5lciA9PT0gXCJzdmdcIikgOiBjb250YWluZXI7XG4gIH0gZWxzZSB7XG4gICAgYXBwQ29udGFpbmVyID0gdHlwZW9mIGNvbnRhaW5lciA9PT0gXCJzdHJpbmdcIiA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29udGFpbmVyKVswXSA6IGNvbnRhaW5lcjtcbiAgfVxuXG4gIGlmICghYXBwQ29udGFpbmVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udGFpbmVyIG5vdCBmb3VuZFwiKTtcbiAgfVxuXG4gIGxldCB2bm9kZUNvbXBvbmVudDogVm5vZGVDb21wb25lbnQgfCBJVm5vZGU7XG5cbiAgaWYgKGlzVm5vZGVDb21wb25lbnQoY29tcG9uZW50KSkge1xuICAgIHZub2RlQ29tcG9uZW50ID0gY29tcG9uZW50O1xuICB9IGVsc2UgaWYgKGlzQ29tcG9uZW50KGNvbXBvbmVudCkpIHtcbiAgICB2bm9kZUNvbXBvbmVudCA9IHYoY29tcG9uZW50LCB7fSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ29tcG9uZW50IG11c3QgYmUgYSBWYWx5cmlhbiBDb21wb25lbnQgb3IgYSBWbm9kZSBjb21wb25lbnRcIik7XG4gIH1cblxuICBpZiAodi5pc01vdW50ZWQpIHtcbiAgICB1bm1vdW50KCk7XG4gIH1cblxuICB2LmNvbXBvbmVudCA9IHZub2RlQ29tcG9uZW50IGFzIFZub2RlQ29tcG9uZW50O1xuICB2LmNvbnRhaW5lciA9IGFwcENvbnRhaW5lcjtcbiAgdi5tYWluVm5vZGUgPSBkb21Ub1Zub2RlKGFwcENvbnRhaW5lcikgYXMgVm5vZGVXaXRoRG9tO1xuXG4gIC8vIHVwZGF0ZVxuICByZXR1cm4gdXBkYXRlKCk7XG59XG5cbmZ1bmN0aW9uIGNhbGxDYWxsYmFja0xpc3QobGlzdDogRnVuY3Rpb25bXSk6IHZvaWQge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBsaXN0W2ldKCk7XG4gIH1cbiAgbGlzdCA9IFtdO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUoKTogdm9pZCB8IHN0cmluZyB7XG4gIGlmICh2LmNvbXBvbmVudCAmJiB2Lm1haW5Wbm9kZSkge1xuICAgIG9uQ2xlYW51cExpc3QubGVuZ3RoICYmIGNhbGxDYWxsYmFja0xpc3Qob25DbGVhbnVwTGlzdCk7XG4gICAgbGV0IG9sZFZub2RlOiBWbm9kZVdpdGhEb20gfCBudWxsID0gdi5tYWluVm5vZGUgYXMgVm5vZGVXaXRoRG9tO1xuICAgIHYubWFpblZub2RlID0gbmV3IFZub2RlKHYubWFpblZub2RlLnRhZywgdi5tYWluVm5vZGUucHJvcHMsIFt2LmNvbXBvbmVudF0pIGFzIFZub2RlV2l0aERvbTtcbiAgICB2Lm1haW5Wbm9kZS5kb20gPSBvbGRWbm9kZS5kb207XG4gICAgcGF0Y2godi5tYWluVm5vZGUsIG9sZFZub2RlKTtcbiAgICBvbGRWbm9kZSA9IG51bGw7XG4gICAgaWYgKHYuaXNNb3VudGVkID09PSBmYWxzZSkge1xuICAgICAgb25Nb3VudExpc3QubGVuZ3RoICYmIGNhbGxDYWxsYmFja0xpc3Qob25Nb3VudExpc3QpO1xuICAgICAgdi5pc01vdW50ZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblVwZGF0ZUxpc3QubGVuZ3RoICYmIGNhbGxDYWxsYmFja0xpc3Qob25VcGRhdGVMaXN0KTtcbiAgICB9XG5cbiAgICBpZiAoaXNOb2RlSnMpIHtcbiAgICAgIHJldHVybiB2Lm1haW5Wbm9kZS5kb20uaW5uZXJIVE1MO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1bm1vdW50KCk6IHZvaWQgfCBzdHJpbmcge1xuICBpZiAodi5pc01vdW50ZWQgJiYgdi5tYWluVm5vZGUgJiYgdi5jb21wb25lbnQpIHtcbiAgICBvbkNsZWFudXBMaXN0Lmxlbmd0aCAmJiBjYWxsQ2FsbGJhY2tMaXN0KG9uQ2xlYW51cExpc3QpO1xuICAgIG9uVW5tb3VudExpc3QubGVuZ3RoICYmIGNhbGxDYWxsYmFja0xpc3Qob25Vbm1vdW50TGlzdCk7XG4gICAgbGV0IG9sZFZub2RlOiBWbm9kZVdpdGhEb20gfCBudWxsID0gdi5tYWluVm5vZGUgYXMgVm5vZGVXaXRoRG9tO1xuICAgIHYubWFpblZub2RlID0gbmV3IFZub2RlKHYubWFpblZub2RlLnRhZywgdi5tYWluVm5vZGUucHJvcHMsIFtdKSBhcyBWbm9kZVdpdGhEb207XG4gICAgdi5tYWluVm5vZGUuZG9tID0gb2xkVm5vZGUuZG9tO1xuICAgIHYubWFpblZub2RlLmlzU1ZHID0gb2xkVm5vZGUuaXNTVkc7XG4gICAgcGF0Y2godi5tYWluVm5vZGUsIG9sZFZub2RlKTtcbiAgICBvbGRWbm9kZSA9IG51bGw7XG4gICAgdi5jb21wb25lbnQgPSBudWxsO1xuICAgIHYuaXNNb3VudGVkID0gZmFsc2U7XG4gICAgaWYgKGlzTm9kZUpzKSB7XG4gICAgICByZXR1cm4gdi5tYWluVm5vZGUuZG9tLmlubmVySFRNTDtcbiAgICB9XG4gIH1cbn1cblxubGV0IGVtcHR5Vm5vZGUgPSBuZXcgVm5vZGUoXCJfX2VtcHR5X19cIiwge30sIFtdKTtcblxuZnVuY3Rpb24gb25yZW1vdmUodm5vZGU6IElWbm9kZSkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHZub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgdm5vZGUuY2hpbGRyZW5baV0udGFnICE9PSBUZXh0U3RyaW5nICYmIG9ucmVtb3ZlKHZub2RlLmNoaWxkcmVuW2ldKTtcbiAgfVxuXG4gIHZub2RlLnByb3BzLm9ucmVtb3ZlICYmIHZub2RlLnByb3BzLm9ucmVtb3ZlKHZub2RlKTtcbn1cblxuZnVuY3Rpb24gc2hhcmVkU2V0QXR0cmlidXRlKHByb3A6IHN0cmluZywgdmFsdWU6IGFueSwgdm5vZGU6IFZub2RlV2l0aERvbSwgb2xkVm5vZGU/OiBWbm9kZVdpdGhEb20pOiB2b2lkIHwgYm9vbGVhbiB7XG4gIC8vIEl0IGlzIGEgcmVzZXJ2ZWQgcHJvcFxuICBpZiAocmVzZXJ2ZWRQcm9wc1twcm9wXSkge1xuICAgIC8vIElmIGl0IGlzIGEgZGlyZWN0aXZlIG5hbWUgY2FsbCB0aGUgZGlyZWN0aXZlXG4gICAgaWYgKGRpcmVjdGl2ZXNbcHJvcF0pIHtcbiAgICAgIHJldHVybiBkaXJlY3RpdmVzW3Byb3BdKHZub2RlLnByb3BzW3Byb3BdLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEl0IGlzIG5vdCBhIHJlc2VydmVkIHByb3Agc28gd2UgYWRkIGl0IHRvIHRoZSBkb21cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgaWYgKHByb3AgaW4gZXZlbnRMaXN0ZW5lck5hbWVzID09PSBmYWxzZSkge1xuICAgICAgZXZlbnRMaXN0ZW5lck5hbWVzW3Byb3BdID0gdHJ1ZTtcbiAgICAgICh2LmNvbnRhaW5lciBhcyBEb21FbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKHByb3Auc2xpY2UoMiksIGV2ZW50TGlzdGVuZXIpO1xuICAgIH1cbiAgICB2bm9kZS5kb21bYHYtJHtwcm9wfWBdID0gdmFsdWU7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHByb3AgaW4gdm5vZGUuZG9tICYmIHZub2RlLmlzU1ZHID09PSBmYWxzZSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICBpZiAodm5vZGUuZG9tW3Byb3BdICE9IHZhbHVlKSB7XG4gICAgICB2bm9kZS5kb21bcHJvcF0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gVXNlIHNldCBhdHRyaWJ1dGVcbiAgaWYgKCFvbGRWbm9kZSB8fCBvbGRWbm9kZS5wcm9wc1twcm9wXSAhPT0gdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICB2bm9kZS5kb20ucmVtb3ZlQXR0cmlidXRlKHByb3ApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bm9kZS5kb20uc2V0QXR0cmlidXRlKHByb3AsIHZhbHVlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0QXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSwgdm5vZGU6IFZub2RlV2l0aERvbSwgb2xkVm5vZGU/OiBWbm9kZVdpdGhEb20pIHtcbiAgdm5vZGUucHJvcHNbbmFtZV0gPSB2YWx1ZTtcblxuICBzaGFyZWRTZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUsIHZub2RlLCBvbGRWbm9kZSk7XG59XG5cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXModm5vZGU6IFZub2RlV2l0aERvbSwgb2xkVm5vZGU/OiBWbm9kZVdpdGhEb20pIHtcbiAgZm9yIChsZXQgcHJvcCBpbiB2bm9kZS5wcm9wcykge1xuICAgIGlmIChzaGFyZWRTZXRBdHRyaWJ1dGUocHJvcCwgdm5vZGUucHJvcHNbcHJvcF0sIHZub2RlLCBvbGRWbm9kZSkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgaWYgKG9sZFZub2RlKSB7XG4gICAgZm9yIChsZXQgcHJvcCBpbiBvbGRWbm9kZS5wcm9wcykge1xuICAgICAgaWYgKHByb3AgaW4gdm5vZGUucHJvcHMgPT09IGZhbHNlICYmIHR5cGVvZiBvbGRWbm9kZS5wcm9wc1twcm9wXSAhPT0gXCJmdW5jdGlvblwiICYmIHByb3AgaW4gcmVzZXJ2ZWRQcm9wcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHByb3AgaW4gb2xkVm5vZGUuZG9tICYmIHZub2RlLmlzU1ZHID09PSBmYWxzZSkge1xuICAgICAgICAgIG9sZFZub2RlLmRvbVtwcm9wXSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2xkVm5vZGUuZG9tLnJlbW92ZUF0dHJpYnV0ZShwcm9wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gcGF0Y2gobmV3Vm5vZGU6IFZub2RlV2l0aERvbSwgb2xkVm5vZGU6IFZub2RlV2l0aERvbSB8IElWbm9kZSA9IGVtcHR5Vm5vZGUpIHtcbiAgY3VycmVudC52bm9kZSA9IG5ld1Zub2RlO1xuICBjdXJyZW50Lm9sZFZub2RlID0gb2xkVm5vZGUgPT09IGVtcHR5Vm5vZGUgPyBVbmQgOiAob2xkVm5vZGUgYXMgVm5vZGVXaXRoRG9tKTtcbiAgbGV0IG5ld1RyZWUgPSBuZXdWbm9kZS5jaGlsZHJlbjtcbiAgbGV0IG9sZFRyZWUgPSBvbGRWbm9kZS5jaGlsZHJlbjtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1RyZWUubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgY2hpbGRWbm9kZSA9IG5ld1RyZWVbaV07XG4gICAgaWYgKGNoaWxkVm5vZGUgaW5zdGFuY2VvZiBWbm9kZSkge1xuICAgICAgaWYgKGNoaWxkVm5vZGUudGFnICE9PSBUZXh0U3RyaW5nKSB7XG4gICAgICAgIGlmIChjaGlsZFZub2RlLnRhZyA9PT0gQ29tcG9uZW50U3RyaW5nKSB7XG4gICAgICAgICAgbGV0IGNvbXBvbmVudCA9IGNoaWxkVm5vZGUuY29tcG9uZW50IGFzIFZhbHlyaWFuQ29tcG9uZW50O1xuICAgICAgICAgIGN1cnJlbnQuY29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgICAgICAgIGxldCByZXN1bHQgPSAoXCJ2aWV3XCIgaW4gY29tcG9uZW50ID8gY29tcG9uZW50LnZpZXcgOiBjb21wb25lbnQpLmNhbGwoY29tcG9uZW50LCBjaGlsZFZub2RlLnByb3BzLCAuLi5jaGlsZFZub2RlLmNoaWxkcmVuKTtcblxuICAgICAgICAgIG5ld1RyZWUuc3BsaWNlKGktLSwgMSwgcmVzdWx0KTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZFZub2RlLmlzU1ZHID0gbmV3Vm5vZGUuaXNTVkcgfHwgY2hpbGRWbm9kZS50YWcgPT09IFwic3ZnXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNoaWxkVm5vZGUpKSB7XG4gICAgICBuZXdUcmVlLnNwbGljZShpLS0sIDEsIC4uLmNoaWxkVm5vZGUpO1xuICAgIH0gZWxzZSBpZiAoY2hpbGRWbm9kZSA9PT0gbnVsbCB8fCBjaGlsZFZub2RlID09PSBVbmQpIHtcbiAgICAgIG5ld1RyZWUuc3BsaWNlKGktLSwgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1RyZWVbaV0gPSBuZXcgVm5vZGUoVGV4dFN0cmluZywge30sIFtdKTtcbiAgICAgIG5ld1RyZWVbaV0ubm9kZVZhbHVlID0gY2hpbGRWbm9kZTtcbiAgICB9XG4gIH1cblxuICBsZXQgb2xkVHJlZUxlbmd0aCA9IG9sZFRyZWUubGVuZ3RoO1xuICBsZXQgbmV3VHJlZUxlbmd0aCA9IG5ld1RyZWUubGVuZ3RoO1xuXG4gIC8vIElmIG5ldyB0cmVlIGlzIGVtcHR5LCByZW1vdmUgYWxsIG9sZCBub2Rlc1xuICBpZiAobmV3VHJlZUxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2xkVHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgICBvbGRUcmVlW2ldLnRhZyAhPT0gVGV4dFN0cmluZyAmJiBvbnJlbW92ZShvbGRUcmVlW2ldKTtcbiAgICB9XG5cbiAgICBuZXdWbm9kZS5kb20udGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIElmIHRoZSB0cmVlIGlzIGtleWVkIGxpc3QgYW5kIGlzIG5vdCBmaXJzdCByZW5kZXIgYW5kIG9sZCB0cmVlIGlzIGtleWVkIGxpc3QgdG9vXG4gIGlmIChvbGRUcmVlTGVuZ3RoICYmIFwia2V5XCIgaW4gbmV3VHJlZVswXS5wcm9wcyAmJiBcImtleVwiIGluIG9sZFRyZWVbMF0ucHJvcHMpIHtcbiAgICBsZXQgb2xkS2V5ZWRMaXN0OiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbGRUcmVlTGVuZ3RoOyBpKyspIHtcbiAgICAgIG9sZEtleWVkTGlzdFtvbGRUcmVlW2ldLnByb3BzLmtleV0gPSBpO1xuICAgIH1cblxuICAgIGxldCBuZXdLZXllZExpc3Q6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld1RyZWVMZW5ndGg7IGkrKykge1xuICAgICAgbmV3S2V5ZWRMaXN0W25ld1RyZWVbaV0ucHJvcHMua2V5XSA9IGk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdUcmVlTGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjaGlsZFZub2RlID0gbmV3VHJlZVtpXTtcbiAgICAgIGxldCBvbGRDaGlsZFZub2RlID0gb2xkVHJlZVtvbGRLZXllZExpc3RbY2hpbGRWbm9kZS5wcm9wcy5rZXldXTtcbiAgICAgIGxldCBzaG91bGRQYXRjaCA9IHRydWU7XG5cbiAgICAgIGlmIChvbGRDaGlsZFZub2RlKSB7XG4gICAgICAgIGNoaWxkVm5vZGUuZG9tID0gb2xkQ2hpbGRWbm9kZS5kb207XG4gICAgICAgIGlmIChcInYtb25jZVwiIGluIGNoaWxkVm5vZGUucHJvcHMgfHwgKGNoaWxkVm5vZGUucHJvcHMuc2hvdWxkdXBkYXRlICYmIGNoaWxkVm5vZGUucHJvcHMuc2hvdWxkdXBkYXRlKGNoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpID09PSBmYWxzZSkpIHtcbiAgICAgICAgICAvLyBza2lwIHRoaXMgcGF0Y2hcbiAgICAgICAgICBjaGlsZFZub2RlLmNoaWxkcmVuID0gb2xkQ2hpbGRWbm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICBzaG91bGRQYXRjaCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldEF0dHJpYnV0ZXMoY2hpbGRWbm9kZSwgb2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgICAgaWYgKHYuaXNNb3VudGVkKSB7XG4gICAgICAgICAgICBjaGlsZFZub2RlLnByb3BzLm9udXBkYXRlICYmIGNoaWxkVm5vZGUucHJvcHMub251cGRhdGUoY2hpbGRWbm9kZSwgb2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShjaGlsZFZub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkVm5vZGUuZG9tID0gY3JlYXRlRG9tRWxlbWVudChjaGlsZFZub2RlLnRhZywgY2hpbGRWbm9kZS5pc1NWRyk7XG4gICAgICAgIHNldEF0dHJpYnV0ZXMoY2hpbGRWbm9kZSk7XG4gICAgICAgIGNoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgY2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShjaGlsZFZub2RlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5ld1Zub2RlLmRvbS5jaGlsZE5vZGVzW2ldID09PSBVbmQpIHtcbiAgICAgICAgbmV3Vm5vZGUuZG9tLmFwcGVuZENoaWxkKGNoaWxkVm5vZGUuZG9tKTtcbiAgICAgIH0gZWxzZSBpZiAobmV3Vm5vZGUuZG9tLmNoaWxkTm9kZXNbaV0gIT09IGNoaWxkVm5vZGUuZG9tKSB7XG4gICAgICAgIG9sZFRyZWVbaV0gJiYgbmV3S2V5ZWRMaXN0W29sZFRyZWVbaV0ucHJvcHMua2V5XSA9PT0gVW5kICYmIG9ucmVtb3ZlKG9sZFRyZWVbaV0pO1xuICAgICAgICBuZXdWbm9kZS5kb20ucmVwbGFjZUNoaWxkKGNoaWxkVm5vZGUuZG9tLCBuZXdWbm9kZS5kb20uY2hpbGROb2Rlc1tpXSk7XG4gICAgICB9XG5cbiAgICAgIHNob3VsZFBhdGNoICYmIHBhdGNoKGNoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpO1xuICAgIH1cblxuICAgIC8vIEZvciB0aGUgcmVzdCBvZiB0aGUgY2hpbGRyZW4sIHdlIHNob3VsZCByZW1vdmUgdGhlbVxuICAgIGZvciAobGV0IGkgPSBuZXdUcmVlTGVuZ3RoOyBpIDwgb2xkVHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobmV3S2V5ZWRMaXN0W29sZFRyZWVbaV0ucHJvcHMua2V5XSA9PT0gVW5kKSB7XG4gICAgICAgIGxldCBvbGRDaGlsZFZub2RlID0gb2xkVHJlZVtpXTtcbiAgICAgICAgb25yZW1vdmUob2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgIG9sZENoaWxkVm5vZGUuZG9tLnBhcmVudE5vZGUgJiYgb2xkQ2hpbGRWbm9kZS5kb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvbGRDaGlsZFZub2RlLmRvbSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSWYgbmV3IHRyZWUgYW5kIG9sZCB0cmVlIGhhdmUgbW9yZSB0aGFuIG9uZSBjaGlsZCwgd2Ugc2hvdWxkIHVwZGF0ZSB0aGUgZG9tXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3VHJlZUxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG5ld0NoaWxkVm5vZGUgPSBuZXdUcmVlW2ldO1xuXG4gICAgLy8gT2xkIGNoaWxkIGV4aXN0c1xuICAgIGlmIChpIDwgb2xkVHJlZUxlbmd0aCkge1xuICAgICAgbGV0IG9sZENoaWxkVm5vZGUgPSBvbGRUcmVlW2ldO1xuICAgICAgLy8gTmV3IGNoaWxkIGlzIGEgdGV4dCBub2RlXG4gICAgICBpZiAobmV3Q2hpbGRWbm9kZS50YWcgPT09IFRleHRTdHJpbmcpIHtcbiAgICAgICAgLy8gT2xkIGNoaWxkIGlzIGEgdGV4dCBub2RlXG4gICAgICAgIGlmIChvbGRDaGlsZFZub2RlLnRhZyA9PT0gVGV4dFN0cmluZykge1xuICAgICAgICAgIG5ld0NoaWxkVm5vZGUuZG9tID0gb2xkQ2hpbGRWbm9kZS5kb207XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgIGlmIChuZXdDaGlsZFZub2RlLmRvbS5ub2RlVmFsdWUgIT0gbmV3Q2hpbGRWbm9kZS5ub2RlVmFsdWUpIHtcbiAgICAgICAgICAgIG5ld0NoaWxkVm5vZGUuZG9tLm5vZGVWYWx1ZSA9IG5ld0NoaWxkVm5vZGUubm9kZVZhbHVlIGFzIHN0cmluZztcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPbGQgY2hpbGQgaXMgYSBub3JtYWwgbm9kZVxuICAgICAgICBuZXdDaGlsZFZub2RlLmRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5ld0NoaWxkVm5vZGUubm9kZVZhbHVlIGFzIHN0cmluZykgYXMgdW5rbm93biBhcyBEb21FbGVtZW50O1xuICAgICAgICBvbnJlbW92ZShvbGRDaGlsZFZub2RlKTtcbiAgICAgICAgbmV3Vm5vZGUuZG9tLnJlcGxhY2VDaGlsZChuZXdDaGlsZFZub2RlLmRvbSwgb2xkQ2hpbGRWbm9kZS5kb20pO1xuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBOZXcgY2hpbGQgaXMgYSBub3JtYWwgbm9kZVxuICAgICAgLy8gT2xkIGNoaWxkIGlzIHRoZSBzYW1lIHR5cGUgYXMgbmV3IGNoaWxkXG4gICAgICBpZiAob2xkQ2hpbGRWbm9kZS50YWcgPT09IG5ld0NoaWxkVm5vZGUudGFnKSB7XG4gICAgICAgIG5ld0NoaWxkVm5vZGUuZG9tID0gb2xkQ2hpbGRWbm9kZS5kb207XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSB2LW9uY2UgZGlyZWN0aXZlIG9yIGEgc2hvdWxkdXBkYXRlIG1ldGhvZCB0aGF0IHJldHVybnMgZmFsc2UsIHdlIHNraXAgdGhlIHVwZGF0ZVxuICAgICAgICBpZiAobmV3Q2hpbGRWbm9kZS5wcm9wc1tcInYtb25jZVwiXSB8fCAobmV3Q2hpbGRWbm9kZS5wcm9wcy5zaG91bGR1cGRhdGUgJiYgbmV3Q2hpbGRWbm9kZS5wcm9wcy5zaG91bGR1cGRhdGUobmV3Q2hpbGRWbm9kZSwgb2xkQ2hpbGRWbm9kZSkgPT09IGZhbHNlKSkge1xuICAgICAgICAgIG5ld0NoaWxkVm5vZGUuY2hpbGRyZW4gPSBvbGRDaGlsZFZub2RlLmNoaWxkcmVuO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2UgdXBkYXRlIHRoZSBkb20gZWxlbWVudFxuICAgICAgICBzZXRBdHRyaWJ1dGVzKG5ld0NoaWxkVm5vZGUsIG9sZENoaWxkVm5vZGUpO1xuICAgICAgICBpZiAodi5pc01vdW50ZWQpIHtcbiAgICAgICAgICBuZXdDaGlsZFZub2RlLnByb3BzLm9udXBkYXRlICYmIG5ld0NoaWxkVm5vZGUucHJvcHMub251cGRhdGUobmV3Q2hpbGRWbm9kZSwgb2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3Q2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZSAmJiBuZXdDaGlsZFZub2RlLnByb3BzLm9uY3JlYXRlKG5ld0NoaWxkVm5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGF0Y2gobmV3Q2hpbGRWbm9kZSwgb2xkQ2hpbGRWbm9kZSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBPbGQgY2hpbGQgaXMgb2YgYSBkaWZmZXJlbnQgdHlwZSB0aGFuIG5ldyBjaGlsZFxuICAgICAgbmV3Q2hpbGRWbm9kZS5kb20gPSBjcmVhdGVEb21FbGVtZW50KG5ld0NoaWxkVm5vZGUudGFnLCBuZXdDaGlsZFZub2RlLmlzU1ZHKTtcbiAgICAgIHNldEF0dHJpYnV0ZXMobmV3Q2hpbGRWbm9kZSk7XG4gICAgICBvbGRDaGlsZFZub2RlLnRhZyAhPT0gVGV4dFN0cmluZyAmJiBvbnJlbW92ZShvbGRDaGlsZFZub2RlKTtcbiAgICAgIG5ld0NoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgbmV3Q2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShuZXdDaGlsZFZub2RlKTtcbiAgICAgIG5ld1Zub2RlLmRvbS5yZXBsYWNlQ2hpbGQobmV3Q2hpbGRWbm9kZS5kb20sIG9sZENoaWxkVm5vZGUuZG9tKTtcbiAgICAgIHBhdGNoKG5ld0NoaWxkVm5vZGUsIGVtcHR5Vm5vZGUpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gT2xkIGNoaWxkIGRvZXMgbm90IGV4aXN0c1xuICAgIC8vIE5ldyBjaGlsZCBpcyBhIHRleHQgbm9kZVxuICAgIGlmIChuZXdDaGlsZFZub2RlLnRhZyA9PT0gVGV4dFN0cmluZykge1xuICAgICAgbmV3Q2hpbGRWbm9kZS5kb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuZXdDaGlsZFZub2RlLm5vZGVWYWx1ZSBhcyBzdHJpbmcpIGFzIHVua25vd24gYXMgRG9tRWxlbWVudDtcbiAgICAgIG5ld1Zub2RlLmRvbS5hcHBlbmRDaGlsZChuZXdDaGlsZFZub2RlLmRvbSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBOZXcgY2hpbGQgaXMgYSBub3JtYWwgbm9kZVxuICAgIG5ld0NoaWxkVm5vZGUuZG9tID0gY3JlYXRlRG9tRWxlbWVudChuZXdDaGlsZFZub2RlLnRhZywgbmV3Q2hpbGRWbm9kZS5pc1NWRyk7XG4gICAgc2V0QXR0cmlidXRlcyhuZXdDaGlsZFZub2RlKTtcbiAgICBuZXdWbm9kZS5kb20uYXBwZW5kQ2hpbGQobmV3Q2hpbGRWbm9kZS5kb20pO1xuICAgIG5ld0NoaWxkVm5vZGUucHJvcHMub25jcmVhdGUgJiYgbmV3Q2hpbGRWbm9kZS5wcm9wcy5vbmNyZWF0ZShuZXdDaGlsZFZub2RlKTtcbiAgICBwYXRjaChuZXdDaGlsZFZub2RlLCBlbXB0eVZub2RlKTtcbiAgfVxuXG4gIC8vIEZvciB0aGUgcmVzdCBvZiB0aGUgY2hpbGRyZW4sIHdlIHNob3VsZCByZW1vdmUgdGhlbVxuICBmb3IgKGxldCBpID0gbmV3VHJlZUxlbmd0aDsgaSA8IG9sZFRyZWVMZW5ndGg7IGkrKykge1xuICAgIGxldCBvbGRDaGlsZFZub2RlID0gb2xkVHJlZVtpXTtcbiAgICBvbGRDaGlsZFZub2RlLnRhZyAhPT0gVGV4dFN0cmluZyAmJiBvbnJlbW92ZShvbGRDaGlsZFZub2RlKTtcbiAgICBvbGRDaGlsZFZub2RlLmRvbS5wYXJlbnROb2RlICYmIG9sZENoaWxkVm5vZGUuZG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQob2xkQ2hpbGRWbm9kZS5kb20pO1xuICB9XG59XG5cbi8qKiogRGlyZWN0aXZlcyAqKiovXG5cbmZ1bmN0aW9uIGRpcmVjdGl2ZShuYW1lOiBzdHJpbmcsIGRpcmVjdGl2ZTogRGlyZWN0aXZlKSB7XG4gIGxldCBmdWxsTmFtZSA9IGB2LSR7bmFtZX1gO1xuICBkaXJlY3RpdmVzW2Z1bGxOYW1lXSA9IGRpcmVjdGl2ZTtcbiAgcmVzZXJ2ZWRQcm9wc1tmdWxsTmFtZV0gPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBoaWRlRGlyZWN0aXZlKHRlc3Q6IGJvb2xlYW4pOiBEaXJlY3RpdmUge1xuICByZXR1cm4gKGJvb2w6IGJvb2xlYW4sIHZub2RlOiBJVm5vZGUsIG9sZFZub2RlPzogSVZub2RlKSA9PiB7XG4gICAgbGV0IHZhbHVlID0gdGVzdCA/IGJvb2wgOiAhYm9vbDtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGxldCBuZXdkb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtcbiAgICAgIGlmIChvbGRWbm9kZSAmJiBvbGRWbm9kZS5kb20gJiYgb2xkVm5vZGUuZG9tLnBhcmVudE5vZGUpIHtcbiAgICAgICAgb2xkVm5vZGUudGFnICE9PSBUZXh0U3RyaW5nICYmIG9ucmVtb3ZlKG9sZFZub2RlKTtcbiAgICAgICAgb2xkVm5vZGUuZG9tLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG5ld2RvbSwgb2xkVm5vZGUuZG9tKTtcbiAgICAgIH1cbiAgICAgIHZub2RlLnRhZyA9IFRleHRTdHJpbmc7XG4gICAgICB2bm9kZS5jaGlsZHJlbiA9IFtdO1xuICAgICAgdm5vZGUucHJvcHMgPSB7fTtcbiAgICAgIHZub2RlLmRvbSA9IG5ld2RvbSBhcyB1bmtub3duIGFzIERvbUVsZW1lbnQ7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xufVxuXG5jb25zdCBkaXJlY3RpdmVzOiBEaXJlY3RpdmVzID0ge1xuICBcInYtaWZcIjogaGlkZURpcmVjdGl2ZShmYWxzZSksXG4gIFwidi11bmxlc3NcIjogaGlkZURpcmVjdGl2ZSh0cnVlKSxcbiAgXCJ2LWZvclwiOiAoc2V0OiB1bmtub3duW10sIHZub2RlOiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICB2bm9kZS5jaGlsZHJlbiA9IHNldC5tYXAodm5vZGUuY2hpbGRyZW5bMF0pO1xuICB9LFxuICBcInYtc2hvd1wiOiAoYm9vbDogYm9vbGVhbiwgdm5vZGU6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgICh2bm9kZS5kb20gYXMgdW5rbm93biBhcyB7IHN0eWxlOiB7IGRpc3BsYXk6IHN0cmluZyB9IH0pLnN0eWxlLmRpc3BsYXkgPSBib29sID8gXCJcIiA6IFwibm9uZVwiO1xuICB9LFxuICBcInYtY2xhc3NcIjogKGNsYXNzZXM6IHsgW3g6IHN0cmluZ106IGJvb2xlYW4gfSwgdm5vZGU6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgIGZvciAobGV0IG5hbWUgaW4gY2xhc3Nlcykge1xuICAgICAgKHZub2RlLmRvbSBhcyBEb21FbGVtZW50KS5jbGFzc0xpc3QudG9nZ2xlKG5hbWUsIGNsYXNzZXNbbmFtZV0pO1xuICAgIH1cbiAgfSxcbiAgXCJ2LWh0bWxcIjogKGh0bWw6IHN0cmluZywgdm5vZGU6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgIHZub2RlLmNoaWxkcmVuID0gW3RydXN0KGh0bWwpXTtcbiAgfSxcbiAgXCJ2LW1vZGVsXCI6IChbbW9kZWwsIHByb3BlcnR5LCBldmVudF06IGFueVtdLCB2bm9kZTogVm5vZGVXaXRoRG9tLCBvbGRWbm9kZT86IFZub2RlV2l0aERvbSkgPT4ge1xuICAgIGxldCB2YWx1ZTtcbiAgICBsZXQgaGFuZGxlcjtcbiAgICBpZiAodm5vZGUudGFnID09PSBcImlucHV0XCIpIHtcbiAgICAgIGV2ZW50ID0gZXZlbnQgfHwgXCJvbmlucHV0XCI7XG4gICAgICBzd2l0Y2ggKHZub2RlLnByb3BzLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6IHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtb2RlbFtwcm9wZXJ0eV0pKSB7XG4gICAgICAgICAgICBoYW5kbGVyID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGxldCB2YWwgPSAoZS50YXJnZXQgYXMgRG9tRWxlbWVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pLnZhbHVlO1xuICAgICAgICAgICAgICBsZXQgaWR4ID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsKTtcbiAgICAgICAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0ucHVzaCh2YWwpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2Yodm5vZGUuZG9tLnZhbHVlKSAhPT0gLTE7XG4gICAgICAgICAgfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gdm5vZGUucHJvcHMpIHtcbiAgICAgICAgICAgIGhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChtb2RlbFtwcm9wZXJ0eV0gPT09IHZub2RlLnByb3BzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldID0gbnVsbDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0gPSB2bm9kZS5wcm9wcy52YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldID09PSB2bm9kZS5wcm9wcy52YWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlciA9ICgpID0+IChtb2RlbFtwcm9wZXJ0eV0gPSAhbW9kZWxbcHJvcGVydHldKTtcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsIHZhbHVlLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJyYWRpb1wiOiB7XG4gICAgICAgICAgc2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLCBtb2RlbFtwcm9wZXJ0eV0gPT09IHZub2RlLmRvbS52YWx1ZSwgdm5vZGUsIG9sZFZub2RlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgbW9kZWxbcHJvcGVydHldLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2bm9kZS50YWcgPT09IFwic2VsZWN0XCIpIHtcbiAgICAgIGV2ZW50ID0gZXZlbnQgfHwgXCJvbmNsaWNrXCI7XG4gICAgICBpZiAodm5vZGUucHJvcHMubXVsdGlwbGUpIHtcbiAgICAgICAgaGFuZGxlciA9IChlOiBFdmVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pID0+IHtcbiAgICAgICAgICBsZXQgdmFsID0gKGUudGFyZ2V0IGFzIERvbUVsZW1lbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+KS52YWx1ZTtcbiAgICAgICAgICBpZiAoZS5jdHJsS2V5KSB7XG4gICAgICAgICAgICBsZXQgaWR4ID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsKTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5zcGxpY2UoMCwgbW9kZWxbcHJvcGVydHldLmxlbmd0aCk7XG4gICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0ucHVzaCh2YWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IElWbm9kZSkgPT4ge1xuICAgICAgICAgIGlmIChjaGlsZC50YWcgPT09IFwib3B0aW9uXCIpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IFwidmFsdWVcIiBpbiBjaGlsZC5wcm9wcyA/IGNoaWxkLnByb3BzLnZhbHVlIDogY2hpbGQuY2hpbGRyZW4uam9pbihcIlwiKS50cmltKCk7XG4gICAgICAgICAgICBjaGlsZC5wcm9wcy5zZWxlY3RlZCA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZhbHVlKSAhPT0gLTE7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBJVm5vZGUpID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudGFnID09PSBcIm9wdGlvblwiKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBcInZhbHVlXCIgaW4gY2hpbGQucHJvcHMgPyBjaGlsZC5wcm9wcy52YWx1ZSA6IGNoaWxkLmNoaWxkcmVuLmpvaW4oXCJcIikudHJpbSgpO1xuICAgICAgICAgICAgY2hpbGQucHJvcHMuc2VsZWN0ZWQgPSB2YWx1ZSA9PT0gbW9kZWxbcHJvcGVydHldO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2bm9kZS50YWcgPT09IFwidGV4dGFyZWFcIikge1xuICAgICAgZXZlbnQgPSBldmVudCB8fCBcIm9uaW5wdXRcIjtcbiAgICAgIHZub2RlLmNoaWxkcmVuID0gW21vZGVsW3Byb3BlcnR5XV07XG4gICAgfVxuXG4gICAgaWYgKCF2bm9kZS5wcm9wc1tldmVudF0pIHtcbiAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICBoYW5kbGVyID0gKGU6IEV2ZW50KSA9PiAobW9kZWxbcHJvcGVydHldID0gKGUudGFyZ2V0IGFzIERvbUVsZW1lbnQgJiBSZWNvcmQ8c3RyaW5nLCBhbnk+KS52YWx1ZSk7XG4gICAgICB9XG4gICAgICBzZXRBdHRyaWJ1dGUoZXZlbnQsIGhhbmRsZXIsIHZub2RlLCBvbGRWbm9kZSk7XG4gICAgfVxuICB9XG59O1xuXG4vKioqIFBsdWdpbnMgKioqL1xuY29uc3QgcGx1Z2lucyA9IG5ldyBNYXA8UGx1Z2luLCBhbnk+KCk7XG5cbmZ1bmN0aW9uIHVzZShwbHVnaW46IFBsdWdpbiwgb3B0aW9ucz86IFJlY29yZDxzdHJpbmcgfCBudW1iZXIgfCBzeW1ib2wsIGFueT4pOiB2b2lkIHwgYW55IHtcbiAgaWYgKHBsdWdpbnMuaGFzKHBsdWdpbikpIHtcbiAgICByZXR1cm4gcGx1Z2lucy5nZXQocGx1Z2luKTtcbiAgfVxuXG4gIGxldCByZXN1bHQgPSBwbHVnaW4odiwgb3B0aW9ucyk7XG4gIHBsdWdpbnMuc2V0KHBsdWdpbiwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqKiBIeXBlcnNjcmlwdCAqKiovXG5cbmNvbnN0IHY6IFZhbHlyaWFuID0gZnVuY3Rpb24gdih0YWdPckNvbXBvbmVudDogc3RyaW5nIHwgVmFseXJpYW5Db21wb25lbnQsIHByb3BzOiBQcm9wcywgLi4uY2hpbGRyZW46IENoaWxkcmVuKTogSVZub2RlIHwgVm5vZGVDb21wb25lbnQge1xuICBpZiAodHlwZW9mIHRhZ09yQ29tcG9uZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIG5ldyBWbm9kZSh0YWdPckNvbXBvbmVudCwgcHJvcHMgfHwge30sIGNoaWxkcmVuKTtcbiAgfVxuXG4gIGNvbnN0IHZub2RlID0gbmV3IFZub2RlKFwiX19jb21wb25lbnRfX1wiLCBwcm9wcyB8fCB7fSwgY2hpbGRyZW4pO1xuICB2bm9kZS5jb21wb25lbnQgPSB0YWdPckNvbXBvbmVudDtcbiAgcmV0dXJuIHZub2RlIGFzIFZub2RlQ29tcG9uZW50O1xufTtcblxudi5mcmFnbWVudCA9IChwcm9wczogUHJvcHMsIC4uLmNoaWxkcmVuOiBDaGlsZHJlbik6IENoaWxkcmVuID0+IHtcbiAgcmV0dXJuIGNoaWxkcmVuO1xufTtcblxuLyoqKiBWIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgKioqL1xuLy8gVGhpcyBpcyBpbnRlbmRlZCB0byBtYWtlIHRoZSBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIGF2YWlsYWJsZSBmb3IgcGx1Z2luc1xudi5jdXJyZW50ID0gY3VycmVudDtcblxudi5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcblxudi5yZXNlcnZlZFByb3BzID0gcmVzZXJ2ZWRQcm9wcztcblxudi5pc1Zub2RlID0gaXNWbm9kZTtcbnYuaXNDb21wb25lbnQgPSBpc0NvbXBvbmVudDtcbnYuaXNWbm9kZUNvbXBvbmVudCA9IGlzVm5vZGVDb21wb25lbnQ7XG5cbnYuaXNNb3VudGVkID0gZmFsc2U7XG52LmlzTm9kZUpzID0gaXNOb2RlSnM7XG52LnRydXN0ID0gdHJ1c3Q7XG5cbnYub25DbGVhbnVwID0gb25DbGVhbnVwO1xudi5vblVubW91bnQgPSBvblVubW91bnQ7XG52Lm9uTW91bnQgPSBvbk1vdW50O1xudi5vblVwZGF0ZSA9IG9uVXBkYXRlO1xuXG52Lm1vdW50ID0gbW91bnQ7XG52LnVubW91bnQgPSB1bm1vdW50O1xudi51cGRhdGUgPSB1cGRhdGU7XG5cbnYuc2V0QXR0cmlidXRlID0gc2V0QXR0cmlidXRlO1xudi5kaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG52LnVzZSA9IHVzZTtcblxuZXhwb3J0IGRlZmF1bHQgdjtcbiJdfQ==