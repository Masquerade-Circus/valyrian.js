//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc05vZGVKcyIsIkJvb2xlYW4iLCJwcm9jZXNzIiwidmVyc2lvbnMiLCJub2RlIiwiVm5vZGUiLCJjb25zdHJ1Y3RvciIsInRhZyIsInByb3BzIiwiY2hpbGRyZW4iLCJkb20iLCJpc1NWRyIsInRoaXMiLCJpc1BPSk9Db21wb25lbnQiLCJjb21wb25lbnQiLCJpc0NvbXBvbmVudCIsImlzVm5vZGUiLCJvYmplY3QiLCJpc1Zub2RlQ29tcG9uZW50IiwidiIsInRhZ09yQ29tcG9uZW50IiwiaGlkcmF0ZURvbVRvVm5vZGUiLCJub2RlVHlwZSIsIm5vZGVWYWx1ZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJpIiwibCIsImNoaWxkTm9kZXMiLCJsZW5ndGgiLCJjaGlsZERvbSIsInB1c2giLCJjaGlsZFZub2RlIiwiYXR0cmlidXRlcyIsImF0dHIiLCJ2bm9kZSIsInRydXN0IiwiaHRtbFN0cmluZyIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRyaW0iLCJBcnJheSIsImZyb20iLCJtYXAiLCJmcmFnbWVudCIsIl8iLCJtYWluQ29tcG9uZW50IiwibWFpblZub2RlIiwiaXNNb3VudGVkIiwiY3VycmVudCIsImV2ZW50IiwicmVzZXJ2ZWRQcm9wcyIsIlNldCIsIm9uQ2xlYW51cFNldCIsIm9uTW91bnRTZXQiLCJvblVwZGF0ZVNldCIsIm9uVW5tb3VudFNldCIsIm9uQ2xlYW51cCIsImNhbGxiYWNrIiwiYWRkIiwiY2FsbFNldCIsInNldCIsImNsZWFyIiwiZGlyZWN0aXZlcyIsInZhbHVlIiwicGFyZW50Tm9kZSIsInJlcGxhY2VDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiYm9vbCIsInN0eWxlIiwiZGlzcGxheSIsIm1vZGVsIiwicHJvcGVydHkiLCJuYW1lIiwiaGFuZGxlciIsImUiLCJ0YXJnZXQiLCJ0eXBlIiwiaXNBcnJheSIsInZhbCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJzaGFyZWRTZXRBdHRyaWJ1dGUiLCJtdWx0aXBsZSIsImN0cmxLZXkiLCJmb3JFYWNoIiwiY2hpbGQiLCJqb2luIiwic2VsZWN0ZWQiLCJwcmV2SGFuZGxlciIsIm9sZFByb3BzIiwiY2xlYW51cCIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInNldEF0dHJpYnV0ZSIsImNsYXNzIiwiaWQiLCJkb21TdHlsZSIsImRlYm91bmNlZFVwZGF0ZVRpbWVvdXQiLCJldmVudExpc3RlbmVyTmFtZXMiLCJldmVudExpc3RlbmVyIiwib2xkVm5vZGUiLCJkZWZhdWx0UHJldmVudGVkIiwidXBkYXRlIiwibmV3Vm5vZGUiLCJuZXdWbm9kZURvbSIsInJlbW92ZUF0dHJpYnV0ZSIsImhhcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzbGljZSIsInVwZGF0ZUF0dHJpYnV0ZXMiLCJ2bm9kZURvbSIsInZub2RlUHJvcHMiLCJjcmVhdGVFbGVtZW50TlMiLCJmbGF0VHJlZSIsIm9yaWdpbmFsQ2hpbGRyZW4iLCJjb25zb2xlIiwid2FybiIsIm5ld0NoaWxkIiwidmlldyIsImJpbmQiLCJjcmVhdGVOZXdFbGVtZW50Iiwib2xkQ2hpbGQiLCJhcHBlbmRDaGlsZCIsInRleHRDb250ZW50IiwicGF0Y2giLCJvbGREb21DaGlsZHJlbiIsIm9sZENoaWxkcmVuTGVuZ3RoIiwiZmlyc3RPbGRWbm9kZSIsImZpcnN0Vm5vZGUiLCJvbGRUcmVlIiwib2xkS2V5ZWRMaXN0IiwibmV3S2V5ZWRMaXN0Iiwia2V5IiwiY3VycmVudENoaWxkIiwicmVtb3ZlIiwicGF0Y2hLZXllZCIsImNoaWxkcmVuTGVuZ3RoIiwiaXNUZXh0IiwibmV4dE9sZENoaWxkIiwidXBkYXRlVm5vZGUiLCJkZWJvdW5jZWRVcGRhdGVNZXRob2QiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lb3V0IiwicHJldmVudERlZmF1bHQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZGlyZWN0aXZlIiwiZGlyZWN0aXZlTmFtZSIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJyZXN1bHQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUmVmbGVjdCIsImRlbGV0ZVByb3BlcnR5Il0sInNvdXJjZXMiOlsiLi4vbGliL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG5kZWNsYXJlIGdsb2JhbCB7XG4gIHZhciBkb2N1bWVudDogRG9jdW1lbnQ7XG4gIG5hbWVzcGFjZSBKU1gge1xuICAgIGludGVyZmFjZSBJbnRyaW5zaWNFbGVtZW50cyBleHRlbmRzIERlZmF1bHRSZWNvcmQge31cbiAgICB0eXBlIEVsZW1lbnQgPSBSZXR1cm5UeXBlPFxuICAgICAgdHlwZW9mIHYgfCAoKC4uLmFyZ3M6IGFueSkgPT4gc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZCB8IGJvb2xlYW4gfCBQcm9taXNlPGFueT4pXG4gICAgPjtcbiAgICB0eXBlIENvbXBvbmVudFJldHVyblR5cGUgPSBzdHJpbmcgfCBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkIHwgYm9vbGVhbiB8IEVsZW1lbnQgfCBFbGVtZW50W107XG4gIH1cbn1cblxuaW50ZXJmYWNlIERlZmF1bHRSZWNvcmQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nIHwgbnVtYmVyIHwgc3ltYm9sLCBhbnk+IHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcGVydGllcyBleHRlbmRzIERlZmF1bHRSZWNvcmQge1xuICBrZXk/OiBzdHJpbmcgfCBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9tRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIERlZmF1bHRSZWNvcmQge31cblxuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnQgZXh0ZW5kcyBEZWZhdWx0UmVjb3JkIHtcbiAgKHByb3BzOiBQcm9wZXJ0aWVzLCBjaGlsZHJlbjogYW55W10pOiBWbm9kZSB8IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQT0pPQ29tcG9uZW50IGV4dGVuZHMgRGVmYXVsdFJlY29yZCB7XG4gIHZpZXc6IENvbXBvbmVudDtcbn1cblxuZXhwb3J0IHR5cGUgVmFseXJpYW5Db21wb25lbnQgPSBDb21wb25lbnQgfCBQT0pPQ29tcG9uZW50O1xuXG5leHBvcnQgaW50ZXJmYWNlIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlIGV4dGVuZHMgVm5vZGUge1xuICB0YWc6IFZhbHlyaWFuQ29tcG9uZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoaWxkcmVuIGV4dGVuZHMgQXJyYXk8Vm5vZGUgfCBWbm9kZUNvbXBvbmVudEludGVyZmFjZSB8IFZhbHlyaWFuQ29tcG9uZW50IHwgYW55PiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdGl2ZSB7XG4gICh2YWx1ZTogYW55LCB2bm9kZTogVm5vZGVXaXRoRG9tLCBvbGRQcm9wczogUHJvcGVydGllcyB8IG51bGwpOiBmYWxzZSB8IHZvaWQgfCBhbnk7XG59XG5cbmV4cG9ydCBjb25zdCBpc05vZGVKcyA9IEJvb2xlYW4odHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2Vzcy52ZXJzaW9ucyAmJiBwcm9jZXNzLnZlcnNpb25zLm5vZGUpO1xuXG5leHBvcnQgY2xhc3MgVm5vZGUge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgdGFnOiBzdHJpbmcgfCBDb21wb25lbnQgfCBQT0pPQ29tcG9uZW50LFxuICAgIHB1YmxpYyBwcm9wczogbnVsbCB8IFByb3BlcnRpZXMsXG4gICAgcHVibGljIGNoaWxkcmVuOiBDaGlsZHJlbixcbiAgICBwdWJsaWMgZG9tPzogRG9tRWxlbWVudCxcbiAgICBwdWJsaWMgaXNTVkc/OiBib29sZWFuXG4gICkge31cbn1cblxuZXhwb3J0IGludGVyZmFjZSBWbm9kZVdpdGhEb20gZXh0ZW5kcyBWbm9kZSB7XG4gIHRhZzogc3RyaW5nO1xuICBkb206IERvbUVsZW1lbnQ7XG4gIHByb3BzOiBQcm9wZXJ0aWVzO1xufVxuXG5leHBvcnQgY29uc3QgaXNQT0pPQ29tcG9uZW50ID0gKGNvbXBvbmVudDogdW5rbm93bik6IGNvbXBvbmVudCBpcyBQT0pPQ29tcG9uZW50ID0+XG4gIEJvb2xlYW4oY29tcG9uZW50ICYmIHR5cGVvZiBjb21wb25lbnQgPT09IFwib2JqZWN0XCIgJiYgXCJ2aWV3XCIgaW4gY29tcG9uZW50KTtcblxuZXhwb3J0IGNvbnN0IGlzQ29tcG9uZW50ID0gKGNvbXBvbmVudDogdW5rbm93bik6IGNvbXBvbmVudCBpcyBDb21wb25lbnQgPT5cbiAgQm9vbGVhbih0eXBlb2YgY29tcG9uZW50ID09PSBcImZ1bmN0aW9uXCIgfHwgaXNQT0pPQ29tcG9uZW50KGNvbXBvbmVudCkpO1xuZXhwb3J0IGNvbnN0IGlzVm5vZGUgPSAob2JqZWN0PzogdW5rbm93bik6IG9iamVjdCBpcyBWbm9kZSA9PiBvYmplY3QgaW5zdGFuY2VvZiBWbm9kZTtcblxuZXhwb3J0IGNvbnN0IGlzVm5vZGVDb21wb25lbnQgPSAob2JqZWN0PzogdW5rbm93bik6IG9iamVjdCBpcyBWbm9kZUNvbXBvbmVudEludGVyZmFjZSA9PiB7XG4gIHJldHVybiBpc1Zub2RlKG9iamVjdCkgJiYgaXNDb21wb25lbnQob2JqZWN0LnRhZyk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdih0YWdPckNvbXBvbmVudDogc3RyaW5nIHwgVmFseXJpYW5Db21wb25lbnQsIHByb3BzOiBQcm9wZXJ0aWVzIHwgbnVsbCwgLi4uY2hpbGRyZW46IENoaWxkcmVuKSB7XG4gIHJldHVybiBuZXcgVm5vZGUodGFnT3JDb21wb25lbnQsIHByb3BzLCBjaGlsZHJlbik7XG59XG5cbnYuZnJhZ21lbnQgPSAoXzogUHJvcGVydGllcywgLi4uY2hpbGRyZW46IENoaWxkcmVuKSA9PiBjaGlsZHJlbjtcblxuZXhwb3J0IGZ1bmN0aW9uIGhpZHJhdGVEb21Ub1Zub2RlKGRvbTogYW55KTogVm5vZGVXaXRoRG9tIHwgdm9pZCB7XG4gIGlmIChkb20ubm9kZVR5cGUgPT09IDMpIHtcbiAgICByZXR1cm4gZG9tLm5vZGVWYWx1ZTtcbiAgfVxuXG4gIGlmIChkb20ubm9kZVR5cGUgPT09IDEpIHtcbiAgICBjb25zdCB0YWcgPSBkb20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBwcm9wcyA9IHt9IGFzIFByb3BlcnRpZXM7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBbXSBhcyBDaGlsZHJlbjtcblxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gZG9tLmNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZERvbSA9IGRvbS5jaGlsZE5vZGVzW2ldO1xuICAgICAgaWYgKGNoaWxkRG9tLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGREb20ubm9kZVZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGREb20ubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgY29uc3QgY2hpbGRWbm9kZSA9IGhpZHJhdGVEb21Ub1Zub2RlKGNoaWxkRG9tKTtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZFZub2RlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gZG9tLmF0dHJpYnV0ZXM7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhdHRyaWJ1dGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3QgYXR0ciA9IGF0dHJpYnV0ZXNbaV07XG4gICAgICBwcm9wc1thdHRyLm5vZGVOYW1lXSA9IGF0dHIubm9kZVZhbHVlO1xuICAgIH1cblxuICAgIGNvbnN0IHZub2RlID0gbmV3IFZub2RlKHRhZywgcHJvcHMsIGNoaWxkcmVuKTtcbiAgICB2bm9kZS5kb20gPSBkb207XG4gICAgZG9tLnZub2RlID0gdm5vZGU7XG4gICAgdm5vZGUuaXNTVkcgPSB0YWcgPT09IFwic3ZnXCI7XG4gICAgcmV0dXJuIHZub2RlIGFzIFZub2RlV2l0aERvbTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJ1c3QoaHRtbFN0cmluZzogc3RyaW5nKSB7XG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGRpdi5pbm5lckhUTUwgPSBodG1sU3RyaW5nLnRyaW0oKTtcbiAgcmV0dXJuIEFycmF5LmZyb20oZGl2LmNoaWxkTm9kZXMpLm1hcChoaWRyYXRlRG9tVG9Wbm9kZSk7XG59XG5cbmxldCBtYWluQ29tcG9uZW50OiBWbm9kZUNvbXBvbmVudEludGVyZmFjZSB8IG51bGwgPSBudWxsO1xubGV0IG1haW5Wbm9kZTogVm5vZGVXaXRoRG9tIHwgbnVsbCA9IG51bGw7XG5sZXQgaXNNb3VudGVkID0gZmFsc2U7XG5cbmV4cG9ydCBjb25zdCBjdXJyZW50ID0ge1xuICB2bm9kZTogbnVsbCBhcyBWbm9kZSB8IG51bGwsXG4gIGNvbXBvbmVudDogbnVsbCBhcyBWYWx5cmlhbkNvbXBvbmVudCB8IG51bGwsXG4gIGV2ZW50OiBudWxsIGFzIEV2ZW50IHwgbnVsbFxufTtcblxuZXhwb3J0IGNvbnN0IHJlc2VydmVkUHJvcHMgPSBuZXcgU2V0PHN0cmluZz4oW1xuICBcImtleVwiLFxuICBcInN0YXRlXCIsXG4gIFwidi1rZWVwXCIsXG4gIFwidi10ZXh0XCIsXG4gIFwidi1pZlwiLFxuICBcInYtZm9yXCIsXG4gIFwidi1zaG93XCIsXG4gIFwidi1jbGFzc1wiLFxuICBcInYtaHRtbFwiLFxuICBcInYtbW9kZWxcIixcbiAgXCJ2LWNyZWF0ZVwiLFxuICBcInYtdXBkYXRlXCIsXG4gIFwidi1jbGVhbnVwXCJcbl0pO1xuXG5jb25zdCBvbkNsZWFudXBTZXQgPSBuZXcgU2V0PEZ1bmN0aW9uPigpO1xuY29uc3Qgb25Nb3VudFNldCA9IG5ldyBTZXQ8RnVuY3Rpb24+KCk7XG5jb25zdCBvblVwZGF0ZVNldCA9IG5ldyBTZXQ8RnVuY3Rpb24+KCk7XG5jb25zdCBvblVubW91bnRTZXQgPSBuZXcgU2V0PEZ1bmN0aW9uPigpO1xuZXhwb3J0IGNvbnN0IG9uTW91bnQgPSAoY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiAhaXNNb3VudGVkICYmIG9uTW91bnRTZXQuYWRkKGNhbGxiYWNrKTtcbmV4cG9ydCBjb25zdCBvblVwZGF0ZSA9IChjYWxsYmFjazogRnVuY3Rpb24pID0+IG9uVXBkYXRlU2V0LmFkZChjYWxsYmFjayk7XG5leHBvcnQgY29uc3Qgb25DbGVhbnVwID0gKGNhbGxiYWNrOiBGdW5jdGlvbikgPT4gb25DbGVhbnVwU2V0LmFkZChjYWxsYmFjayk7XG5leHBvcnQgY29uc3Qgb25Vbm1vdW50ID0gKGNhbGxiYWNrOiBGdW5jdGlvbikgPT4gIWlzTW91bnRlZCAmJiBvblVubW91bnRTZXQuYWRkKGNhbGxiYWNrKTtcbmNvbnN0IGNhbGxTZXQgPSAoc2V0OiBTZXQ8RnVuY3Rpb24+KSA9PiB7XG4gIGZvciAoY29uc3QgY2FsbGJhY2sgb2Ygc2V0KSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxuICBzZXQuY2xlYXIoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBkaXJlY3RpdmVzOiBSZWNvcmQ8c3RyaW5nLCBEaXJlY3RpdmU+ID0ge1xuICBcInYtaWZcIjogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIGlmICghQm9vbGVhbih2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IHBhcmVudE5vZGUgPSB2bm9kZS5kb20/LnBhcmVudE5vZGU7XG4gICAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgICBwYXJlbnROb2RlLnJlcGxhY2VDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSwgdm5vZGUuZG9tKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICBcInYtc2hvd1wiOiAodmFsdWUsIHZub2RlKSA9PiB7XG4gICAgY29uc3QgYm9vbCA9IEJvb2xlYW4odmFsdWUpO1xuICAgIChcbiAgICAgIHZub2RlLmRvbSBhcyB1bmtub3duIGFzIHtcbiAgICAgICAgc3R5bGU6IHsgZGlzcGxheTogc3RyaW5nIH07XG4gICAgICB9XG4gICAgKS5zdHlsZS5kaXNwbGF5ID0gYm9vbCA/IFwiXCIgOiBcIm5vbmVcIjtcbiAgfSxcblxuICBcInYtaHRtbFwiOiAodmFsdWUsIHZub2RlKSA9PiB7XG4gICAgdm5vZGUuY2hpbGRyZW4gPSB0cnVzdCh2YWx1ZSBhcyBzdHJpbmcpO1xuICB9LFxuXG4gIC8vIFRoZSBcInYtbW9kZWxcIiBkaXJlY3RpdmUgYmluZHMgdGhlIHZhbHVlIG9mIGFuIGlucHV0IGVsZW1lbnQgdG8gYSBtb2RlbCBwcm9wZXJ0eVxuICBcInYtbW9kZWxcIjogKG1vZGVsLCB2bm9kZSkgPT4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcbiAgICBpZiAoXCJuYW1lXCIgaW4gdm5vZGUucHJvcHMgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHZhbHVlO1xuICAgIGNvbnN0IHByb3BlcnR5ID0gdm5vZGUucHJvcHMubmFtZTtcbiAgICBsZXQgZXZlbnQgPSBcIm9uaW5wdXRcIjtcblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gdXBkYXRlcyB0aGUgbW9kZWwgcHJvcGVydHkgd2hlbiB0aGUgaW5wdXQgZWxlbWVudCdzIHZhbHVlIGNoYW5nZXNcbiAgICBsZXQgaGFuZGxlciA9IChlOiBFdmVudCkgPT4gKG1vZGVsW3Byb3BlcnR5XSA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWUpO1xuICAgIGlmICh2bm9kZS50YWcgPT09IFwiaW5wdXRcIikge1xuICAgICAgLy8gRGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIGlucHV0IGVsZW1lbnQsIHVzZSBhIGRpZmZlcmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICBzd2l0Y2ggKHZub2RlLnByb3BzLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6IHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtb2RlbFtwcm9wZXJ0eV0pKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgbW9kZWwgcHJvcGVydHkgaXMgYW4gYXJyYXksIGFkZCBvciByZW1vdmUgdGhlIHZhbHVlIGZyb20gdGhlIGFycmF5IHdoZW4gdGhlIGNoZWNrYm94IGlzIGNoZWNrZWQgb3IgdW5jaGVja2VkXG4gICAgICAgICAgICBoYW5kbGVyID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbCA9IChlLnRhcmdldCBhcyBEb21FbGVtZW50ICYgUmVjb3JkPHN0cmluZywgYW55PikudmFsdWU7XG4gICAgICAgICAgICAgIGNvbnN0IGlkeCA9IG1vZGVsW3Byb3BlcnR5XS5pbmRleE9mKHZhbCk7XG4gICAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBJZiB0aGUgdmFsdWUgaXMgaW4gdGhlIGFycmF5LCBzZXQgdGhlIGNoZWNrYm94IHRvIGJlIGNoZWNrZWRcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2Yodm5vZGUuZG9tLnZhbHVlKSAhPT0gLTE7XG4gICAgICAgICAgfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gdm5vZGUucHJvcHMpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbnB1dCBlbGVtZW50IGhhcyBhIFwidmFsdWVcIiBhdHRyaWJ1dGUsIHVzZSBpdCB0byBkZXRlcm1pbmUgdGhlIGNoZWNrZWQgc3RhdGVcbiAgICAgICAgICAgIGhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChtb2RlbFtwcm9wZXJ0eV0gPT09IHZub2RlLnByb3BzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldID0gbnVsbDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0gPSB2bm9kZS5wcm9wcy52YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhbHVlID0gbW9kZWxbcHJvcGVydHldID09PSB2bm9kZS5wcm9wcy52YWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gXCJ2YWx1ZVwiIGF0dHJpYnV0ZSwgdXNlIGEgYm9vbGVhbiB2YWx1ZSBmb3IgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgICAgICBoYW5kbGVyID0gKCkgPT4gKG1vZGVsW3Byb3BlcnR5XSA9ICFtb2RlbFtwcm9wZXJ0eV0pO1xuICAgICAgICAgICAgdmFsdWUgPSBtb2RlbFtwcm9wZXJ0eV07XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFNldCB0aGUgXCJjaGVja2VkXCIgYXR0cmlidXRlIG9uIHRoZSBpbnB1dCBlbGVtZW50XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLCB2YWx1ZSwgdm5vZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJyYWRpb1wiOiB7XG4gICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgYSByYWRpbyBidXR0b24sIHNldCB0aGUgXCJjaGVja2VkXCIgYXR0cmlidXRlIGJhc2VkIG9uIHRoZSB2YWx1ZSBvZiB0aGUgbW9kZWwgcHJvcGVydHlcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICBzaGFyZWRTZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsIG1vZGVsW3Byb3BlcnR5XSA9PT0gdm5vZGUuZG9tLnZhbHVlLCB2bm9kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIC8vIEZvciBhbGwgb3RoZXIgaW5wdXQgdHlwZXMsIHNldCB0aGUgXCJ2YWx1ZVwiIGF0dHJpYnV0ZSBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgc2hhcmVkU2V0QXR0cmlidXRlKFwidmFsdWVcIiwgbW9kZWxbcHJvcGVydHldLCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZub2RlLnRhZyA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgYSBzZWxlY3QgZWxlbWVudCwgdXNlIHRoZSBcImNsaWNrXCIgZXZlbnQgYnkgZGVmYXVsdFxuICAgICAgZXZlbnQgPSBcIm9uY2xpY2tcIjtcbiAgICAgIGlmICh2bm9kZS5wcm9wcy5tdWx0aXBsZSkge1xuICAgICAgICAvLyBJZiB0aGUgc2VsZWN0IGVsZW1lbnQgYWxsb3dzIG11bHRpcGxlIHNlbGVjdGlvbnMsIHVwZGF0ZSB0aGUgbW9kZWwgcHJvcGVydHkgd2l0aCBhbiBhcnJheSBvZiBzZWxlY3RlZCB2YWx1ZXNcbiAgICAgICAgaGFuZGxlciA9IChlOiBFdmVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pID0+IHtcbiAgICAgICAgICBjb25zdCB2YWwgPSAoZS50YXJnZXQgYXMgRG9tRWxlbWVudCAmIFJlY29yZDxzdHJpbmcsIGFueT4pLnZhbHVlO1xuICAgICAgICAgIGlmIChlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBDdHJsIGtleSBpcyBwcmVzc2VkLCBhZGQgb3IgcmVtb3ZlIHRoZSB2YWx1ZSBmcm9tIHRoZSBhcnJheVxuICAgICAgICAgICAgY29uc3QgaWR4ID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsKTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBDdHJsIGtleSBpcyBub3QgcHJlc3NlZCwgc2V0IHRoZSBtb2RlbCBwcm9wZXJ0eSB0byBhbiBhcnJheSB3aXRoIHRoZSBzZWxlY3RlZCB2YWx1ZVxuICAgICAgICAgICAgbW9kZWxbcHJvcGVydHldLnNwbGljZSgwLCBtb2RlbFtwcm9wZXJ0eV0ubGVuZ3RoKTtcbiAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5XS5wdXNoKHZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBTZXQgdGhlIFwic2VsZWN0ZWRcIiBhdHRyaWJ1dGUgb24gdGhlIG9wdGlvbnMgYmFzZWQgb24gd2hldGhlciB0aGV5IGFyZSBpbiB0aGUgbW9kZWwgcHJvcGVydHkgYXJyYXlcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IFZub2RlV2l0aERvbSkgPT4ge1xuICAgICAgICAgIGlmIChjaGlsZC50YWcgPT09IFwib3B0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gXCJ2YWx1ZVwiIGluIGNoaWxkLnByb3BzID8gY2hpbGQucHJvcHMudmFsdWUgOiBjaGlsZC5jaGlsZHJlbi5qb2luKFwiXCIpLnRyaW0oKTtcbiAgICAgICAgICAgIGNoaWxkLnByb3BzLnNlbGVjdGVkID0gbW9kZWxbcHJvcGVydHldLmluZGV4T2YodmFsdWUpICE9PSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgdGhlIHNlbGVjdCBlbGVtZW50IGRvZXMgbm90IGFsbG93IG11bHRpcGxlIHNlbGVjdGlvbnMsIHNldCB0aGUgXCJzZWxlY3RlZFwiIGF0dHJpYnV0ZSBvbiB0aGUgb3B0aW9ucyBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBWbm9kZVdpdGhEb20pID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudGFnID09PSBcIm9wdGlvblwiKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IFwidmFsdWVcIiBpbiBjaGlsZC5wcm9wcyA/IGNoaWxkLnByb3BzLnZhbHVlIDogY2hpbGQuY2hpbGRyZW4uam9pbihcIlwiKS50cmltKCk7XG4gICAgICAgICAgICBjaGlsZC5wcm9wcy5zZWxlY3RlZCA9IHZhbHVlID09PSBtb2RlbFtwcm9wZXJ0eV07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZub2RlLnRhZyA9PT0gXCJ0ZXh0YXJlYVwiKSB7XG4gICAgICAvLyBTZXQgdGhlIHRleHRhcmVhJ3MgY29udGVudCB0byB0aGUgdmFsdWUgb2YgdGhlIG1vZGVsIHByb3BlcnR5XG4gICAgICB2bm9kZS5jaGlsZHJlbiA9IFttb2RlbFtwcm9wZXJ0eV1dO1xuICAgIH1cblxuICAgIC8vIFdlIGFzc3VtZSB0aGF0IHRoZSBwcmV2IGhhbmRsZXIgaWYgYW55IHdpbGwgbm90IGJlIGNoYW5nZWQgYnkgdGhlIHVzZXIgYWNyb3NzIHBhdGNoc1xuICAgIGNvbnN0IHByZXZIYW5kbGVyID0gdm5vZGUucHJvcHNbZXZlbnRdO1xuXG4gICAgLy8gU2V0IHRoZSBldmVudCBoYW5kbGVyIG9uIHRoZSBlbGVtZW50XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgc2hhcmVkU2V0QXR0cmlidXRlKFxuICAgICAgZXZlbnQsXG4gICAgICAoZTogRXZlbnQpID0+IHtcbiAgICAgICAgaGFuZGxlcihlKTtcblxuICAgICAgICAvLyBJZiB0aGUgcHJldmlvdXMgaGFuZGxlciBpcyBkZWZpbmVkLCBjYWxsIGl0IGFmdGVyIHRoZSBtb2RlbCBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICAgIGlmIChwcmV2SGFuZGxlcikge1xuICAgICAgICAgIHByZXZIYW5kbGVyKGUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdm5vZGVcbiAgICApO1xuICB9LFxuXG4gIFwidi1jcmVhdGVcIjogKGNhbGxiYWNrLCB2bm9kZSwgb2xkUHJvcHMpID0+IHtcbiAgICBpZiAoIW9sZFByb3BzKSB7XG4gICAgICBjb25zdCBjbGVhbnVwID0gY2FsbGJhY2sodm5vZGUpO1xuXG4gICAgICBpZiAodHlwZW9mIGNsZWFudXAgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBvbkNsZWFudXAoY2xlYW51cCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIFwidi11cGRhdGVcIjogKGNhbGxiYWNrLCB2bm9kZSwgb2xkUHJvcHMpID0+IHtcbiAgICBpZiAob2xkUHJvcHMpIHtcbiAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsYmFjayh2bm9kZSwgb2xkUHJvcHMpO1xuXG4gICAgICBpZiAodHlwZW9mIGNsZWFudXAgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBvbkNsZWFudXAoY2xlYW51cCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIFwidi1jbGVhbnVwXCI6IChjYWxsYmFjaywgdm5vZGUpID0+IHtcbiAgICBvbkNsZWFudXAoKCkgPT4gY2FsbGJhY2sodm5vZGUpKTtcbiAgfSxcblxuICBcInYtY2xhc3NcIjogKHZhbHVlLCB2bm9kZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHZub2RlLmRvbS5jbGFzc05hbWUgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2bm9kZS5kb20uY2xhc3NOYW1lID0gdmFsdWUuam9pbihcIiBcIik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IHZub2RlLmRvbS5jbGFzc0xpc3Q7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWUpIHtcbiAgICAgICAgY29uc3QgdmFsID0gdHlwZW9mIHZhbHVlW25hbWVdID09PSBcImZ1bmN0aW9uXCIgPyAodmFsdWVbbmFtZV0gYXMgRnVuY3Rpb24pKCkgOiB2YWx1ZVtuYW1lXTtcbiAgICAgICAgY2xhc3NMaXN0LnRvZ2dsZShuYW1lLCB2YWwpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvLyBGcmVxdWVudCB1c2VkIHByb3BlcnRpZXNcbiAgY2xhc3ModmFsdWUsIHZub2RlKSB7XG4gICAgaWYgKHZub2RlLmRvbS5jbGFzc05hbWUgIT09IHZhbHVlKSB7XG4gICAgICBpZiAodm5vZGUuaXNTVkcpIHtcbiAgICAgICAgdm5vZGUuZG9tLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdm5vZGUuZG9tLmNsYXNzTmFtZSA9IHZhbHVlO1xuICAgIH1cbiAgfSxcblxuICBjbGFzc05hbWUodmFsdWUsIHZub2RlKSB7XG4gICAgZGlyZWN0aXZlcy5jbGFzcyh2YWx1ZSwgdm5vZGUsIG51bGwpO1xuICB9LFxuXG4gIGlkOiAodmFsdWUsIHZub2RlKSA9PiB7XG4gICAgaWYgKHZub2RlLmRvbS5pZCAhPT0gdmFsdWUpIHtcbiAgICAgIGlmICh2bm9kZS5pc1NWRykge1xuICAgICAgICB2bm9kZS5kb20uc2V0QXR0cmlidXRlKFwiaWRcIiwgdmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2bm9kZS5kb20uaWQgPSB2YWx1ZTtcbiAgICB9XG4gIH0sXG5cbiAgc3R5bGU6ICh2YWx1ZSwgdm5vZGUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAodm5vZGUuaXNTVkcpIHtcbiAgICAgICAgdm5vZGUuZG9tLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdm5vZGUuZG9tLnN0eWxlID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGlmICh2bm9kZS5pc1NWRykge1xuICAgICAgICB2bm9kZS5kb20uc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bm9kZS5kb20uc3R5bGUgPSBcIlwiO1xuICAgICAgfVxuICAgICAgY29uc3QgZG9tU3R5bGUgPSB2bm9kZS5kb20uc3R5bGU7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWUpIHtcbiAgICAgICAgZG9tU3R5bGVbbmFtZV0gPSB2YWx1ZVtuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXJlY3RpdmUobmFtZTogc3RyaW5nLCBkaXJlY3RpdmU6IERpcmVjdGl2ZSkge1xuICBjb25zdCBkaXJlY3RpdmVOYW1lID0gYHYtJHtuYW1lfWA7XG4gIGRpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV0gPSBkaXJlY3RpdmU7XG4gIHJlc2VydmVkUHJvcHMuYWRkKGRpcmVjdGl2ZU5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0UHJvcE5hbWVSZXNlcnZlZChuYW1lOiBzdHJpbmcpIHtcbiAgcmVzZXJ2ZWRQcm9wcy5hZGQobmFtZSk7XG59XG5cbmNvbnN0IGV2ZW50TGlzdGVuZXJOYW1lcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG5mdW5jdGlvbiBldmVudExpc3RlbmVyKGU6IEV2ZW50KSB7XG4gIGN1cnJlbnQuZXZlbnQgPSBlO1xuICBsZXQgZG9tID0gZS50YXJnZXQgYXMgRG9tRWxlbWVudDtcbiAgY29uc3QgbmFtZSA9IGBvbiR7ZS50eXBlfWA7XG5cbiAgd2hpbGUgKGRvbSkge1xuICAgIGNvbnN0IG9sZFZub2RlID0gZG9tLnZub2RlIGFzIFZub2RlV2l0aERvbTtcbiAgICBpZiAob2xkVm5vZGUgJiYgb2xkVm5vZGUucHJvcHNbbmFtZV0pIHtcbiAgICAgIG9sZFZub2RlLnByb3BzW25hbWVdKGUsIG9sZFZub2RlKTtcblxuICAgICAgaWYgKCFlLmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgIHVwZGF0ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkb20gPSBkb20ucGFyZW50Tm9kZSBhcyBEb21FbGVtZW50O1xuICB9XG5cbiAgY3VycmVudC5ldmVudCA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIHNoYXJlZFNldEF0dHJpYnV0ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnksIG5ld1Zub2RlOiBWbm9kZVdpdGhEb20pOiB2b2lkIHwgYm9vbGVhbiB7XG4gIGNvbnN0IG5ld1Zub2RlRG9tID0gbmV3Vm5vZGUuZG9tO1xuICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBpZiAoIWV2ZW50TGlzdGVuZXJOYW1lcy5oYXMobmFtZSkpIHtcbiAgICAgIC8vIFdlIGF0dGFjaCB0aGUgZGVsZWdhdGVkIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBtYWluIHZub2RlIGRvbSBlbGVtZW50LCB3aGljaCBpcyB0aGUgcm9vdCBvZiB0aGUgY29tcG9uZW50XG4gICAgICAobWFpblZub2RlIGFzIFZub2RlV2l0aERvbSkuZG9tLmFkZEV2ZW50TGlzdGVuZXIobmFtZS5zbGljZSgyKSwgZXZlbnRMaXN0ZW5lcik7XG4gICAgICBldmVudExpc3RlbmVyTmFtZXMuYWRkKG5hbWUpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIW5ld1Zub2RlLmlzU1ZHICYmIG5hbWUgaW4gbmV3Vm5vZGVEb20pIHtcbiAgICBuZXdWbm9kZURvbVtuYW1lXSA9IHZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICBuZXdWbm9kZURvbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgbmV3Vm5vZGVEb20uc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSwgbmV3Vm5vZGU6IFZub2RlV2l0aERvbSk6IHZvaWQge1xuICBpZiAoIXJlc2VydmVkUHJvcHMuaGFzKG5hbWUpKSB7XG4gICAgbmV3Vm5vZGUucHJvcHNbbmFtZV0gPSB2YWx1ZTtcbiAgICBzaGFyZWRTZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUsIG5ld1Zub2RlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQXR0cmlidXRlcyhuZXdWbm9kZTogVm5vZGVXaXRoRG9tLCBvbGRQcm9wczogUHJvcGVydGllcyB8IG51bGwpOiB2b2lkIHtcbiAgY29uc3Qgdm5vZGVEb20gPSBuZXdWbm9kZS5kb207XG4gIGNvbnN0IHZub2RlUHJvcHMgPSBuZXdWbm9kZS5wcm9wcztcbiAgdm5vZGVEb20udm5vZGUgPSBuZXdWbm9kZTtcblxuICBpZiAob2xkUHJvcHMpIHtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gb2xkUHJvcHMpIHtcbiAgICAgIGlmIChuYW1lIGluIHZub2RlUHJvcHMgPT09IGZhbHNlICYmICFldmVudExpc3RlbmVyTmFtZXMuaGFzKG5hbWUpICYmICFyZXNlcnZlZFByb3BzLmhhcyhuYW1lKSkge1xuICAgICAgICBpZiAoIW5ld1Zub2RlLmlzU1ZHICYmIG5hbWUgaW4gdm5vZGVEb20pIHtcbiAgICAgICAgICB2bm9kZURvbVtuYW1lXSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdm5vZGVEb20ucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yIChjb25zdCBuYW1lIGluIHZub2RlUHJvcHMpIHtcbiAgICBpZiAoZGlyZWN0aXZlc1tuYW1lXSkge1xuICAgICAgaWYgKGRpcmVjdGl2ZXNbbmFtZV0odm5vZGVQcm9wc1tuYW1lXSwgbmV3Vm5vZGUsIG9sZFByb3BzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoIXJlc2VydmVkUHJvcHMuaGFzKG5hbWUpKSB7XG4gICAgICBzaGFyZWRTZXRBdHRyaWJ1dGUobmFtZSwgdm5vZGVQcm9wc1tuYW1lXSwgbmV3Vm5vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWc6IHN0cmluZywgaXNTVkc6IGJvb2xlYW4pOiBEb21FbGVtZW50IHtcbiAgcmV0dXJuIGlzU1ZHXG4gICAgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB0YWcpXG4gICAgOiAoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpIGFzIERvbUVsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBmbGF0VHJlZShuZXdWbm9kZTogVm5vZGVXaXRoRG9tKSB7XG4gIGN1cnJlbnQudm5vZGUgPSBuZXdWbm9kZTtcblxuICBsZXQgaSA9IDA7XG4gIGNvbnN0IG9yaWdpbmFsQ2hpbGRyZW4gPSBuZXdWbm9kZS5jaGlsZHJlbjtcbiAgbGV0IGNoaWxkcmVuID0gb3JpZ2luYWxDaGlsZHJlbjtcblxuICBpZiAoXCJ2LWZvclwiIGluIG5ld1Zub2RlLnByb3BzKSB7XG4gICAgY2hpbGRyZW4gPSBbXTtcbiAgICBjb25zdCBzZXQgPSBuZXdWbm9kZS5wcm9wc1tcInYtZm9yXCJdO1xuICAgIGNvbnN0IGwgPSBzZXQubGVuZ3RoO1xuICAgIGNvbnN0IGNhbGxiYWNrID0gbmV3Vm5vZGUuY2hpbGRyZW5bMF07XG5cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNvbnNvbGUud2FybihcInYtZm9yIGRpcmVjdGl2ZSBtdXN0IGhhdmUgYSBjYWxsYmFjayBmdW5jdGlvbiBhcyBjaGlsZHJlblwiKTtcbiAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgY2hpbGRyZW5baV0gPSBjYWxsYmFjayhzZXRbaV0sIGkpO1xuICAgIH1cbiAgfVxuXG4gIHdoaWxlIChpIDwgY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgY29uc3QgbmV3Q2hpbGQgPSBjaGlsZHJlbltpXTtcblxuICAgIGlmIChuZXdDaGlsZCA9PSBudWxsKSB7XG4gICAgICBpZiAoY2hpbGRyZW4gPT09IG9yaWdpbmFsQ2hpbGRyZW4pIHtcbiAgICAgICAgY2hpbGRyZW4gPSBbLi4ub3JpZ2luYWxDaGlsZHJlbl07XG4gICAgICB9XG4gICAgICBjaGlsZHJlbi5zcGxpY2UoaSwgMSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShuZXdDaGlsZCkpIHtcbiAgICAgIGlmIChjaGlsZHJlbiA9PT0gb3JpZ2luYWxDaGlsZHJlbikge1xuICAgICAgICBjaGlsZHJlbiA9IFsuLi5vcmlnaW5hbENoaWxkcmVuXTtcbiAgICAgIH1cbiAgICAgIGNoaWxkcmVuLnNwbGljZShpLCAxLCAuLi5uZXdDaGlsZCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAobmV3Q2hpbGQgaW5zdGFuY2VvZiBWbm9kZSkge1xuICAgICAgbmV3Q2hpbGQucHJvcHMgPSBuZXdDaGlsZC5wcm9wcyB8fCB7fTtcbiAgICAgIG5ld0NoaWxkLmlzU1ZHID0gbmV3Vm5vZGUuaXNTVkcgfHwgbmV3Q2hpbGQudGFnID09PSBcInN2Z1wiO1xuXG4gICAgICBpZiAodHlwZW9mIG5ld0NoaWxkLnRhZyAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoY2hpbGRyZW4gPT09IG9yaWdpbmFsQ2hpbGRyZW4pIHtcbiAgICAgICAgICBjaGlsZHJlbiA9IFsuLi5vcmlnaW5hbENoaWxkcmVuXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IChjdXJyZW50LmNvbXBvbmVudCA9IG5ld0NoaWxkLnRhZyk7XG5cbiAgICAgICAgY2hpbGRyZW5baV0gPSAoaXNQT0pPQ29tcG9uZW50KGNvbXBvbmVudCkgPyBjb21wb25lbnQudmlldyA6IGNvbXBvbmVudCkuYmluZChjb21wb25lbnQpKFxuICAgICAgICAgIG5ld0NoaWxkLnByb3BzLFxuICAgICAgICAgIG5ld0NoaWxkLmNoaWxkcmVuXG4gICAgICAgICk7XG5cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaSsrO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkcmVuO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVOZXdFbGVtZW50KG5ld0NoaWxkOiBWbm9kZVdpdGhEb20sIG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sIG9sZENoaWxkOiBEb21FbGVtZW50IHwgbnVsbCkge1xuICBjb25zdCBkb20gPSBjcmVhdGVFbGVtZW50KG5ld0NoaWxkLnRhZywgbmV3Q2hpbGQuaXNTVkcgYXMgYm9vbGVhbik7XG4gIGlmIChvbGRDaGlsZCkge1xuICAgIG5ld1Zub2RlLmRvbS5yZXBsYWNlQ2hpbGQoZG9tLCBvbGRDaGlsZCk7XG4gIH0gZWxzZSB7XG4gICAgbmV3Vm5vZGUuZG9tLmFwcGVuZENoaWxkKGRvbSk7XG4gIH1cbiAgbmV3Q2hpbGQuZG9tID0gZG9tO1xuICB1cGRhdGVBdHRyaWJ1dGVzKG5ld0NoaWxkLCBudWxsKTtcbiAgaWYgKFwidi10ZXh0XCIgaW4gbmV3Q2hpbGQucHJvcHMpIHtcbiAgICBuZXdDaGlsZC5kb20udGV4dENvbnRlbnQgPSBuZXdDaGlsZC5wcm9wc1tcInYtdGV4dFwiXTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBjaGlsZHJlbiA9IGZsYXRUcmVlKG5ld0NoaWxkKTtcbiAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgIG5ld0NoaWxkLmRvbS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoY2hpbGRyZW5baV0gaW5zdGFuY2VvZiBWbm9kZSA9PT0gZmFsc2UpIHtcbiAgICAgIG5ld0NoaWxkLmRvbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZHJlbltpXSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNyZWF0ZU5ld0VsZW1lbnQoY2hpbGRyZW5baV0sIG5ld0NoaWxkLCBudWxsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXRjaEtleWVkKG5ld1Zub2RlOiBWbm9kZVdpdGhEb20sIGNoaWxkcmVuOiBDaGlsZHJlbikge1xuICBjb25zdCBvbGRUcmVlID0gWy4uLkFycmF5LmZyb20obmV3Vm5vZGUuZG9tLmNoaWxkTm9kZXMpXSBhcyB1bmtub3duIGFzIERvbUVsZW1lbnRbXTtcbiAgY29uc3QgY2hpbGROb2RlcyA9IG5ld1Zub2RlLmRvbS5jaGlsZE5vZGVzO1xuICBjb25zdCBvbGRLZXllZExpc3Q6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgY29uc3QgbmV3S2V5ZWRMaXN0OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBvbGRUcmVlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmIChcInZub2RlXCIgaW4gb2xkVHJlZVtpXSkge1xuICAgICAgb2xkS2V5ZWRMaXN0W29sZFRyZWVbaV0udm5vZGUucHJvcHMua2V5IGFzIHN0cmluZ10gPSBpO1xuICAgIH1cblxuICAgIGlmIChpIDwgY2hpbGRyZW4ubGVuZ3RoICYmIGNoaWxkcmVuW2ldIGluc3RhbmNlb2YgVm5vZGUpIHtcbiAgICAgIG5ld0tleWVkTGlzdFtjaGlsZHJlbltpXS5wcm9wcy5rZXkgYXMgc3RyaW5nXSA9IGk7XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCBuZXdDaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGNvbnN0IG9sZENoaWxkID0gb2xkVHJlZVtvbGRLZXllZExpc3RbbmV3Q2hpbGQucHJvcHMua2V5IGFzIHN0cmluZ11dO1xuXG4gICAgaWYgKCFvbGRDaGlsZCkge1xuICAgICAgY3JlYXRlTmV3RWxlbWVudChuZXdDaGlsZCwgbmV3Vm5vZGUsIGNoaWxkTm9kZXNbaV0gYXMgRG9tRWxlbWVudCB8IG51bGwpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgbmV3Q2hpbGQuZG9tID0gb2xkQ2hpbGQ7XG4gICAgY29uc3QgY3VycmVudENoaWxkID0gY2hpbGROb2Rlc1tpXTtcbiAgICBpZiAoIWN1cnJlbnRDaGlsZCkge1xuICAgICAgbmV3Vm5vZGUuZG9tLmFwcGVuZENoaWxkKG9sZENoaWxkKTtcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRDaGlsZCAhPT0gb2xkQ2hpbGQpIHtcbiAgICAgIG5ld1Zub2RlLmRvbS5yZXBsYWNlQ2hpbGQob2xkQ2hpbGQsIGN1cnJlbnRDaGlsZCk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgXCJ2LWtlZXBcIiBpbiBuZXdDaGlsZC5wcm9wcyA9PT0gZmFsc2UgfHxcbiAgICAgICFvbGRDaGlsZC52bm9kZSB8fFxuICAgICAgb2xkQ2hpbGQucHJvcHNbXCJ2LWtlZXBcIl0gIT09IG5ld0NoaWxkLnByb3BzW1widi1rZWVwXCJdXG4gICAgKSB7XG4gICAgICB1cGRhdGVBdHRyaWJ1dGVzKG5ld0NoaWxkIGFzIFZub2RlV2l0aERvbSwgb2xkQ2hpbGQudm5vZGUucHJvcHMpO1xuXG4gICAgICBpZiAoXCJ2LXRleHRcIiBpbiBuZXdDaGlsZC5wcm9wcykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgIGlmIChvbGRDaGlsZC50ZXh0Q29udGVudCAhPSBuZXdDaGlsZC5wcm9wc1tcInYtdGV4dFwiXSkge1xuICAgICAgICAgIG9sZENoaWxkLnRleHRDb250ZW50ID0gbmV3Q2hpbGQucHJvcHNbXCJ2LXRleHRcIl07XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIHBhdGNoKG5ld0NoaWxkIGFzIFZub2RlV2l0aERvbSk7XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IGNoaWxkcmVuLmxlbmd0aCwgbCA9IGNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY2hpbGROb2Rlc1tjaGlsZE5vZGVzLmxlbmd0aCAtIDFdPy5yZW1vdmUoKTtcbiAgfVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gcGF0Y2gobmV3Vm5vZGU6IFZub2RlV2l0aERvbSk6IHZvaWQge1xuICBjb25zdCBjaGlsZHJlbiA9IGZsYXRUcmVlKG5ld1Zub2RlKTtcblxuICBjb25zdCBkb20gPSBuZXdWbm9kZS5kb207XG5cbiAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChkb20uY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIGRvbS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG9sZERvbUNoaWxkcmVuID0gZG9tLmNoaWxkTm9kZXMgYXMgdW5rbm93biBhcyBEb21FbGVtZW50W107XG4gIGNvbnN0IG9sZENoaWxkcmVuTGVuZ3RoID0gb2xkRG9tQ2hpbGRyZW4ubGVuZ3RoO1xuICBpZiAob2xkQ2hpbGRyZW5MZW5ndGggPiAwKSB7XG4gICAgY29uc3QgZmlyc3RPbGRWbm9kZSA9IG9sZERvbUNoaWxkcmVuWzBdLnZub2RlO1xuICAgIGNvbnN0IGZpcnN0Vm5vZGUgPSBjaGlsZHJlblswXSBhcyBWbm9kZVdpdGhEb207XG4gICAgaWYgKGZpcnN0T2xkVm5vZGUgJiYgZmlyc3RWbm9kZSBpbnN0YW5jZW9mIFZub2RlICYmIFwia2V5XCIgaW4gZmlyc3RWbm9kZS5wcm9wcyAmJiBcImtleVwiIGluIGZpcnN0T2xkVm5vZGUucHJvcHMpIHtcbiAgICAgIHBhdGNoS2V5ZWQobmV3Vm5vZGUsIGNoaWxkcmVuKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBjb25zdCBjaGlsZHJlbkxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgaWYgKG9sZENoaWxkcmVuTGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY2hpbGRyZW5baV0gaW5zdGFuY2VvZiBWbm9kZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgZG9tLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNoaWxkcmVuW2ldKSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY3JlYXRlTmV3RWxlbWVudChjaGlsZHJlbltpXSwgbmV3Vm5vZGUsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBuZXdDaGlsZCA9IGNoaWxkcmVuW2ldIGFzIFZub2RlV2l0aERvbTtcbiAgICBjb25zdCBpc1RleHQgPSBuZXdDaGlsZCBpbnN0YW5jZW9mIFZub2RlID09PSBmYWxzZTtcbiAgICBjb25zdCBvbGRDaGlsZCA9IG9sZERvbUNoaWxkcmVuW2ldO1xuXG4gICAgaWYgKCFvbGRDaGlsZCkge1xuICAgICAgaWYgKGlzVGV4dCkge1xuICAgICAgICBuZXdWbm9kZS5kb20uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3Q2hpbGQgYXMgdW5rbm93biBhcyBzdHJpbmcpKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNyZWF0ZU5ld0VsZW1lbnQobmV3Q2hpbGQgYXMgVm5vZGVXaXRoRG9tLCBuZXdWbm9kZSwgbnVsbCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoaXNUZXh0KSB7XG4gICAgICBpZiAob2xkQ2hpbGQubm9kZVR5cGUgIT09IDMpIHtcbiAgICAgICAgbmV3Vm5vZGUuZG9tLnJlcGxhY2VDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuZXdDaGlsZCBhcyB1bmtub3duIGFzIHN0cmluZyksIG9sZENoaWxkKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgICAgIGlmIChvbGRDaGlsZC5ub2RlVmFsdWUgIT0gKG5ld0NoaWxkIGFzIHVua25vd24gYXMgc3RyaW5nKSkge1xuICAgICAgICBvbGRDaGlsZC5ub2RlVmFsdWUgPSBuZXdDaGlsZCBhcyB1bmtub3duIGFzIHN0cmluZztcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChcInYta2VlcFwiIGluIG5ld0NoaWxkLnByb3BzKSB7XG4gICAgICBpZiAob2xkQ2hpbGQudm5vZGUgJiYgb2xkQ2hpbGQudm5vZGUucHJvcHNbXCJ2LWtlZXBcIl0gPT09IG5ld0NoaWxkLnByb3BzW1widi1rZWVwXCJdKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXh0T2xkQ2hpbGQgPSBvbGREb21DaGlsZHJlbltpICsgMV07XG4gICAgICBpZiAobmV4dE9sZENoaWxkICYmIG5leHRPbGRDaGlsZC52bm9kZSAmJiBuZXh0T2xkQ2hpbGQudm5vZGUucHJvcHNbXCJ2LWtlZXBcIl0gPT09IG5ld0NoaWxkLnByb3BzW1widi1rZWVwXCJdKSB7XG4gICAgICAgIG9sZENoaWxkLnJlbW92ZSgpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmV3Q2hpbGQudGFnICE9PSBvbGRDaGlsZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjcmVhdGVOZXdFbGVtZW50KG5ld0NoaWxkLCBuZXdWbm9kZSwgb2xkQ2hpbGQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgbmV3Q2hpbGQuZG9tID0gb2xkQ2hpbGQ7XG4gICAgdXBkYXRlQXR0cmlidXRlcyhuZXdDaGlsZCwgb2xkQ2hpbGQudm5vZGUgPyBvbGRDaGlsZC52bm9kZS5wcm9wcyA6IG51bGwpO1xuICAgIGlmIChcInYtdGV4dFwiIGluIG5ld0NoaWxkLnByb3BzKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICBpZiAobmV3Q2hpbGQuZG9tLnRleHRDb250ZW50ICE9IG5ld0NoaWxkLnByb3BzW1widi10ZXh0XCJdKSB7XG4gICAgICAgIG5ld0NoaWxkLmRvbS50ZXh0Q29udGVudCA9IG5ld0NoaWxkLnByb3BzW1widi10ZXh0XCJdO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHBhdGNoKG5ld0NoaWxkKTtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSBjaGlsZHJlbkxlbmd0aCwgbCA9IG9sZERvbUNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIG9sZERvbUNoaWxkcmVuW2ldPy5yZW1vdmUoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlVm5vZGUodm5vZGU6IFZub2RlV2l0aERvbSk6IHN0cmluZyB8IHZvaWQge1xuICBjYWxsU2V0KG9uQ2xlYW51cFNldCk7XG4gIHZub2RlLnByb3BzID0gdm5vZGUucHJvcHMgfHwge307XG4gIHBhdGNoKHZub2RlKTtcbiAgY2FsbFNldChpc01vdW50ZWQgPyBvblVwZGF0ZVNldCA6IG9uTW91bnRTZXQpO1xuICBpc01vdW50ZWQgPSB0cnVlO1xuICBjdXJyZW50LnZub2RlID0gbnVsbDtcbiAgY3VycmVudC5jb21wb25lbnQgPSBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKCk6IHN0cmluZyB7XG4gIGlmIChtYWluVm5vZGUpIHtcbiAgICBtYWluVm5vZGUuY2hpbGRyZW4gPSBbbWFpbkNvbXBvbmVudF07XG4gICAgdXBkYXRlVm5vZGUobWFpblZub2RlIGFzIFZub2RlV2l0aERvbSk7XG4gICAgaWYgKGlzTm9kZUpzKSB7XG4gICAgICByZXR1cm4gbWFpblZub2RlLmRvbS5pbm5lckhUTUw7XG4gICAgfVxuICB9XG4gIHJldHVybiBcIlwiO1xufVxuXG5sZXQgZGVib3VuY2VkVXBkYXRlVGltZW91dDogYW55O1xuY29uc3QgZGVib3VuY2VkVXBkYXRlTWV0aG9kID0gaXNOb2RlSnMgPyB1cGRhdGUgOiAoKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlZFVwZGF0ZSh0aW1lb3V0ID0gNDIpIHtcbiAgaWYgKGN1cnJlbnQuZXZlbnQpIHtcbiAgICBjdXJyZW50LmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgY2xlYXJUaW1lb3V0KGRlYm91bmNlZFVwZGF0ZVRpbWVvdXQpO1xuICBkZWJvdW5jZWRVcGRhdGVUaW1lb3V0ID0gc2V0VGltZW91dChkZWJvdW5jZWRVcGRhdGVNZXRob2QsIHRpbWVvdXQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5tb3VudCgpIHtcbiAgaWYgKG1haW5Wbm9kZSkge1xuICAgIG1haW5Db21wb25lbnQgPSB2KCgpID0+IG51bGwsIHt9KSBhcyBWbm9kZUNvbXBvbmVudEludGVyZmFjZTtcbiAgICBjb25zdCByZXN1bHQgPSB1cGRhdGUoKTtcbiAgICBjYWxsU2V0KG9uVW5tb3VudFNldCk7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIGV2ZW50TGlzdGVuZXJOYW1lcykge1xuICAgICAgbWFpblZub2RlLmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUuc2xpY2UoMikudG9Mb3dlckNhc2UoKSwgZXZlbnRMaXN0ZW5lcik7XG4gICAgICBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KGV2ZW50TGlzdGVuZXJOYW1lcywgbmFtZSk7XG4gICAgfVxuXG4gICAgbWFpbkNvbXBvbmVudCA9IG51bGw7XG4gICAgbWFpblZub2RlID0gbnVsbDtcbiAgICBpc01vdW50ZWQgPSBmYWxzZTtcbiAgICBjdXJyZW50LnZub2RlID0gbnVsbDtcbiAgICBjdXJyZW50LmNvbXBvbmVudCA9IG51bGw7XG4gICAgY3VycmVudC5ldmVudCA9IG51bGw7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHJldHVybiBcIlwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW91bnQoZG9tOiBzdHJpbmcgfCBEb21FbGVtZW50LCBjb21wb25lbnQ6IFZhbHlyaWFuQ29tcG9uZW50IHwgVm5vZGVDb21wb25lbnRJbnRlcmZhY2UgfCBhbnkpIHtcbiAgY29uc3QgY29udGFpbmVyID1cbiAgICB0eXBlb2YgZG9tID09PSBcInN0cmluZ1wiID8gKGlzTm9kZUpzID8gY3JlYXRlRWxlbWVudChkb20sIGRvbSA9PT0gXCJzdmdcIikgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRvbSkpIDogZG9tO1xuXG4gIGlmIChpc0NvbXBvbmVudChjb21wb25lbnQpKSB7XG4gICAgbWFpbkNvbXBvbmVudCA9IHYoY29tcG9uZW50LCB7fSwgW10pIGFzIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlO1xuICB9IGVsc2UgaWYgKGlzVm5vZGVDb21wb25lbnQoY29tcG9uZW50KSkge1xuICAgIG1haW5Db21wb25lbnQgPSBjb21wb25lbnQ7XG4gIH0gZWxzZSB7XG4gICAgbWFpbkNvbXBvbmVudCA9IHYoKCkgPT4gY29tcG9uZW50LCB7fSwgW10pIGFzIFZub2RlQ29tcG9uZW50SW50ZXJmYWNlO1xuICB9XG5cbiAgbWFpblZub2RlID0gaGlkcmF0ZURvbVRvVm5vZGUoY29udGFpbmVyKSBhcyBWbm9kZVdpdGhEb207XG4gIHJldHVybiB1cGRhdGUoKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ik1Bd0NPLElBQU1BLEVBQVdDLFFBQTJCLG9CQUFaQyxTQUEyQkEsUUFBUUMsVUFBWUQsUUFBUUMsU0FBU0MsTUFFMUZDLEVBQU4sTUFDTCxXQUFBQyxDQUNTQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxHQUpBQyxLQUFBTCxNQUNBSyxLQUFBSixRQUNBSSxLQUFBSCxXQUNBRyxLQUFBRixNQUNBRSxLQUFBRCxPQUNOLEdBU1FFLEVBQW1CQyxHQUM5QmIsUUFBUWEsR0FBa0MsaUJBQWRBLEdBQTBCLFNBQVVBLEdBRXJEQyxFQUFlRCxHQUMxQmIsUUFBNkIsbUJBQWRhLEdBQTRCRCxFQUFnQkMsSUFDaERFLEVBQVdDLEdBQXNDQSxhQUFrQlosRUFFbkVhLEVBQW9CRCxHQUN4QkQsRUFBUUMsSUFBV0YsRUFBWUUsRUFBT1YsS0FHeEMsU0FBU1ksRUFBRUMsRUFBNENaLEtBQTZCQyxHQUN6RixPQUFPLElBQUlKLEVBQU1lLEVBQWdCWixFQUFPQyxFQUMxQyxDQUlPLFNBQVNZLEVBQWtCWCxHQUNoQyxHQUFxQixJQUFqQkEsRUFBSVksU0FDTixPQUFPWixFQUFJYSxVQUdiLEdBQXFCLElBQWpCYixFQUFJWSxTQUFnQixDQUN0QixNQUFNZixFQUFNRyxFQUFJYyxTQUFTQyxjQUNuQmpCLEVBQVEsQ0FBQyxFQUNUQyxFQUFXLEdBRWpCLFFBQVNpQixFQUFJLEVBQUdDLEVBQUlqQixFQUFJa0IsV0FBV0MsT0FBUUgsRUFBSUMsRUFBR0QsSUFBSyxDQUNyRCxNQUFNSSxFQUFXcEIsRUFBSWtCLFdBQVdGLEdBQ2hDLEdBQTBCLElBQXRCSSxF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