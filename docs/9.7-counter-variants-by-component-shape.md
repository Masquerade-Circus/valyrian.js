# 9.7. Counter Variants by Component Shape (Exhaustive)

This page shows equivalent counters with shared/global state and per-instance state.

## 9.7.1. Shared/Global State

Function + shared module variable:

```jsx
let count = 0;

function Counter() {
  return (
    <>
      <span>{count}</span>
      <button onclick={() => count++}>Increment</button>
    </>
  );
}

mount("body", Counter);
```

Function + static property on the function object:

```jsx
function Counter() {
  return (
    <>
      <span>{Counter.count}</span>
      <button onclick={() => Counter.count++}>Increment</button>
    </>
  );
}

Counter.count = 0;

mount("body", Counter);
```

Props-only pure function with shared state container:

```jsx
const sharedCounter = {
  count: 0,
  inc() {
    sharedCounter.count += 1;
  }
};

function Counter(props) {
  return (
    <>
      <span>{props.count}</span>
      <button onclick={() => props.inc()}>Increment</button>
    </>
  );
}

mount("body", () => <Counter count={sharedCounter.count} inc={() => sharedCounter.inc()} />);
```

Class with static state and static view:

```jsx
class Counter {
  static count = 0;

  static view() {
    return (
      <>
        <span>{Counter.count}</span>
        <button onclick={() => Counter.count++}>Increment</button>
      </>
    );
  }
}

mount("body", () => Counter.view());
```

POJO singleton:

```jsx
const Counter = {
  count: 0,
  view() {
    return (
      <>
        <span>{Counter.count}</span>
        <button onclick={() => Counter.count++}>Increment</button>
      </>
    );
  }
};

mount("body", Counter);
```

## 9.7.2. Per-Instance State

Factory returning function component with closure state:

```jsx
function createCounter() {
  let count = 0;

  return function Counter() {
    return (
      <>
        <span>{count}</span>
        <button onclick={() => count++}>Increment</button>
      </>
    );
  };
}

const CounterA = createCounter();
const CounterB = createCounter();
```

Factory returning function component with per-instance static property:

```jsx
function createCounter() {
  function Counter() {
    return (
      <>
        <span>{Counter.count}</span>
        <button onclick={() => Counter.count++}>Increment</button>
      </>
    );
  }

  Counter.count = 0;
  return Counter;
}

const CounterA = createCounter();
const CounterB = createCounter();
```

Props-only pure function with state factory:

```jsx
function Counter(props) {
  return (
    <>
      <span>{props.count}</span>
      <button onclick={() => props.inc()}>Increment</button>
    </>
  );
}

function createCounterModel() {
  const state = { count: 0 };
  return {
    read() {
      return state.count;
    },
    inc() {
      state.count += 1;
    }
  };
}

const counterA = createCounterModel();
const counterB = createCounterModel();
```

Class instances:

```jsx
class Counter {
  count = 0;

  view() {
    return (
      <>
        <span>{this.count}</span>
        <button onclick={() => this.count++}>Increment</button>
      </>
    );
  }
}

const CounterA = new Counter();
const CounterB = new Counter();
```

POJO factory:

```jsx
function createCounter() {
  const Counter = {
    count: 0,
    view() {
      return (
        <>
          <span>{Counter.count}</span>
          <button onclick={() => Counter.count++}>Increment</button>
        </>
      );
    }
  };

  return Counter;
}

const CounterA = createCounter();
const CounterB = createCounter();
```
