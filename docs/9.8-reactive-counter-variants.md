# 9.8. Reactive Counter Variants (`createPulse`, `createPulseStore`, `FluxStore`)

## 9.8.1. Shared/Global Reactive State

`createPulse` shared across all usages:

```tsx
import { createPulse } from "valyrian.js/pulses";

const [count, setCount] = createPulse(0);

function CounterWithPulse() {
  return (
    <>
      <span>{count()}</span>
      <button onclick={() => setCount((current) => current + 1)}>Increment</button>
    </>
  );
}
```

`createPulseStore` shared store:

```tsx
import { createPulseStore } from "valyrian.js/pulses";

const counterStore = createPulseStore(
  { count: 0 },
  {
    increment(state) {
      state.count += 1;
    }
  }
);

function CounterWithPulseStore() {
  return (
    <>
      <span>{counterStore.state.count}</span>
      <button onclick={() => counterStore.increment()}>Increment</button>
    </>
  );
}
```

`FluxStore` shared store:

```tsx
import { FluxStore } from "valyrian.js/flux-store";

const counterFlux = new FluxStore({
  state: { count: 0 },
  mutations: {
    INCREMENT(state) {
      state.count += 1;
    }
  }
});

function CounterWithFluxStore() {
  return (
    <>
      <span>{counterFlux.state.count}</span>
      <button onclick={() => counterFlux.commit("INCREMENT")}>Increment</button>
    </>
  );
}
```

## 9.8.2. Per-Instance Reactive State

Per-instance `createPulse`:

```tsx
import { createPulse } from "valyrian.js/pulses";

function createCounterWithPulse() {
  const [count, setCount] = createPulse(0);

  return function Counter() {
    return (
      <>
        <span>{count()}</span>
        <button onclick={() => setCount((current) => current + 1)}>Increment</button>
      </>
    );
  };
}

const CounterA = createCounterWithPulse();
const CounterB = createCounterWithPulse();
```

Per-instance `createPulseStore`:

```tsx
import { createPulseStore } from "valyrian.js/pulses";

function createCounterWithPulseStore() {
  const store = createPulseStore(
    { count: 0 },
    {
      increment(state) {
        state.count += 1;
      }
    }
  );

  return {
    store,
    view() {
      return (
        <>
          <span>{store.state.count}</span>
          <button onclick={() => store.increment()}>Increment</button>
        </>
      );
    }
  };
}

const CounterA = createCounterWithPulseStore();
const CounterB = createCounterWithPulseStore();
```

Per-instance `FluxStore`:

```tsx
import { FluxStore } from "valyrian.js/flux-store";

function createCounterWithFluxStore() {
  const store = new FluxStore({
    state: { count: 0 },
    mutations: {
      INCREMENT(state) {
        state.count += 1;
      }
    }
  });

  return {
    store,
    view() {
      return (
        <>
          <span>{store.state.count}</span>
          <button onclick={() => store.commit("INCREMENT")}>Increment</button>
        </>
      );
    }
  };
}

const CounterA = createCounterWithFluxStore();
const CounterB = createCounterWithFluxStore();
```
